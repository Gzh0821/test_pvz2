System.register("chunks:///_virtual/_1.ts",["cc","./FrontYard.ts"],(function(t){var c,r,e;return{setters:[function(t){c=t.cclegacy,r=t._decorator},function(t){e=t.FrontYard}],execute:function(){c._RF.push({},"e82e2zopPtHo4KbaMsKDbkM","_1",void 0);r.ccclass,r.property,t("q",(function(){this.fy=e}));c._RF.pop()}}}));

System.register("chunks:///_virtual/AKEE.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts","./CabbagePult.ts","./Square.ts","./NodePools.ts","./Character.ts"],(function(o){var n,t,e,r,i,a,l,u,s,c,b,d,f,p,y,P;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,r=o.assertThisInitialized,i=o.createClass},function(o){a=o.cclegacy,l=o._decorator,u=o.AudioClip},function(o){s=o.sounds},function(o){c=o.cabbagePultSound,b=o.CabbagePultPlant,d=o.CabbagePultProps,f=o.cabbagePult},function(o){p=o.Square},function(o){y=o.instantiatePooly},function(o){P=o.CharacterType}],execute:function(){var w,g,h,v,m,L,A,C,E,R,S,X;a._RF.push({},"bba56yHWrhB8KuFiiuv/Gkw","AKEE",void 0);var j=l.ccclass,z=l.property,O=function(o){function n(){for(var n,t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return(n=o.call.apply(o,[this].concat(e))||this).bounceTime=3,n}return t(n,o),n}(d),K=(w=j("AKEESound"),g=z([u]),h=z([u]),w((L=n((m=function(o){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n=o.call.apply(o,[this].concat(i))||this,e(n,"reload",L,r(n)),e(n,"foodLob",A,r(n)),n}t(n,o);var i=n.prototype;return i.playReload=function(){s.playArray(this.reload,.5,NaN,.5)},i.playFoodLob=function(){s.playArray(this.foodLob,1,NaN,.5)},n}(c)).prototype,"reload",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=n(m.prototype,"foodLob",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=m))||v);o("AKEEPlant",(C=j("AKEEPlant"),E=z(K),C((X=n((S=function(o){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n=o.call.apply(o,[this].concat(i))||this,e(n,"soundRes",X,r(n)),n._objdataOwn=new O,n.lobberLobSoundVolume=.4,n}t(n,o);var a=n.prototype;return a.onObjdataSet=function(o,n){},a.foodLob=function(){var o=this;this.soundRes.playFoodLob();for(var n=function(){var n=p.getLaneComponent(t);if(n){var e=n.zombiePool().sort((function(o,n){return o.worldPositionX-n.worldPositionX})).find((function(n){return n&&n.lobberToPos(30).x>=o.worldPositionX&&n.bodyRec.prjX().y>o.worldPositionX}));if(e){var r=y(o.cabbageMega);r&&f.lobOneCabbageOnZombie(r,o.worldPosition,o.cabbageSpawnPoint.worldPosition.y-o.worldPositionY,o.inLane.prjLayer,e,3,P.zombie,!1,30,!1)}else{var i=n.tombPool().sort((function(o,n){return o.worldPositionX-n.worldPositionX})).find((function(n){return i&&!i.hidden&&i.worldPositionX>o.worldPositionX}));if(i){var a=y(o.cabbageMega);a&&f.lobOneCabbageOnZombie(a,o.worldPosition,o.cabbageSpawnPoint.worldPosition.y-o.worldPositionY,o.inLane.prjLayer,e,3,P.zombie,!1,30,!1)}}}},t=0;t<5;t++)n()},a.specialAnimationListener=function(o){switch(o.name){case"load":this.soundRes.playReload()}},i(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(b)).prototype,"soundRes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new K}}),R=S))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/akeeShot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cactusThorn.ts","./CharacterManager.ts","./Square.ts","./CabbagePult.ts","./Character.ts"],(function(e){var t,i,n,o,s,a,r,h,c;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,o=e.Vec2},function(e){s=e.cactusThorn},function(e){a=e.Rectangle},function(e){r=e.Square},function(e){h=e.cabbagePult},function(e){c=e.CharacterType}],execute:function(){var u;i._RF.push({},"168a0dwaltPq5WozibZlwf9","akeeShot",void 0);var d=n.ccclass;n.property,e("akeeShot",d("akeeShot")(u=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).dealtEnemies=[],t}t(i,e);var n=i.prototype;return n.splat=function(e){e?(this.onZombieHit(e),this.onCactusThornHit(),this.playParticle(),this.playPopSound()):this.pop()},n.specialCactusThornOnEnable=function(){this.dealtEnemies=[]},n.onZombieHit=function(e){this.dealtEnemies.push(e)},n.onPlantHit=function(e){this.dealtEnemies.push(e)},n.onTombHit=function(e){this.dealtEnemies.push(e)},n.onCactusThornHit=function(){var e=this;if(this.inLane){var t=a.createRectangleSide(new o(this.worldPositionX,this.inLane.midY),10*r.SquareDisW,r.SquareDisH);if(this.enemyType==c.zombie){var i,n,s=null==(i=this.inLane)?void 0:i.zombiePool().find((function(i){return-1==e.dealtEnemies.indexOf(i)&&t.judgeCrossRec(i.bodyRec)}));if(s)return void h.lobOneCabbageOnZombie(this.node,this.worldPosition,this.height,this.node.parent,s,this.gravity,this.enemyType,!0,15,!1);var u=null==(n=this.inLane)?void 0:n.tombPool().find((function(i){return-1==e.dealtEnemies.indexOf(i)&&t.judgeCrossRec(i.bodyRec)}));return u?void h.lobOneCabbageOnNode(this.node,this.worldPosition,this.height,this.node.parent,u.node,this.gravity,this.enemyType,!0,15):void(this.bodyLinearVelocity*=-.5)}if(this.enemyType==c.plant){var d,l=null==(d=this.inLane)?void 0:d.plantPool().find((function(i){return-1==e.dealtEnemies.indexOf(i)&&t.judgeCrossRec(i.bodyRec)}));return l?void h.lobOneCabbageOnNode(this.node,this.worldPosition,this.height,this.node.parent,l.node,this.gravity,this.enemyType,!0,15):void(this.bodyLinearVelocity*=-.5)}this.bodyLinearVelocity*=-.5}else this.bodyLinearVelocity*=-.5},n.zombieCanbeDetected=function(e){return-1==this.dealtEnemies.indexOf(e)},n.tombCanbeDetected=function(e){return-1==this.dealtEnemies.indexOf(e)},i}(s))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/Almanac.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts","./Shovel.ts","./KeyListener.ts","./AlmanacPlantPage.ts","./SoundRescourses.ts","./AlmanacUpgradePage.ts","./AlmanacZombiePage.ts"],(function(n){var t,i,e,a,o,l,c,s,r,u,h,p,m,d,f,b,g,w;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){o=n.cclegacy,l=n._decorator,c=n.AudioClip,s=n.input,r=n.Input,u=n.KeyCode,h=n.Component},function(n){p=n.MultiLanguage},function(n){m=n.Shovel},function(n){d=n.KeyListener},function(n){f=n.AlmanacPlantPage},function(n){b=n.sounds},function(n){g=n.AlmanacUpgradePage},function(n){w=n.AlmanacZombiePage}],execute:function(){var y,P,I,A,S,v,z,E,T,Z,L,U,W,R,C,D,x;o._RF.push({},"f190b5EqrZHmqR1TvnzwsES","Almanac",void 0);var O=l.ccclass,_=l.property;n("PlantAlmanacElement",(function(){this.TYPE="",this.NAME=new p,this.SORT=new p,this.VALUE=0})),n("PlantAlmanac",(function(){this.DisplayOffset={x:0,y:0},this.BriefIntroduction=new p,this.Elements=[],this.Introduction=new p,this.Special=[],this.Chat=new p})),n("ZombieAlmanacElement",(function(){this.TYPE="",this.SORT=new p,this.PROGRESS=.5})),n("ZombieAlmanac",(function(){this.DisplayScale={x:1,y:1},this.DisplayOffset={x:0,y:0},this.Elements=[],this.Introduction=new p,this.Special=[],this.Chat=new p})),n("Almanac",(y=O("Almanac"),P=_(f),I=_(w),A=_(g),S=_(c),v=_(m),z=_(m),E=_(m),y((L=t((Z=function(n){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=n.call.apply(n,[this].concat(o))||this,e(t,"almanacPlant",L,a(t)),e(t,"almanacZombie",U,a(t)),e(t,"almanacUpgrade",W,a(t)),e(t,"switchSound",R,a(t)),e(t,"plantIcon",C,a(t)),e(t,"zombieIcon",D,a(t)),e(t,"upgradeIcon",x,a(t)),t.currentWindow=0,t}i(t,n);var o=t.prototype;return o.exit=function(){d.darken((function(){d.goToLastScene()}))},o.switchToPlants=function(){var n,t,i;0!=this.currentWindow&&(null==(n=this.zombieIcon)||n.unchoose(),null==(t=this.upgradeIcon)||t.unchoose(),null==(i=this.plantIcon)||i.choose(),this.currentWindow=0,b.play(this.switchSound,1),this.almanacZombie.close(),this.almanacUpgrade.close(),this.almanacPlant.init())},o.switchToZombies=function(){var n,t,i;1!=this.currentWindow&&(null==(n=this.zombieIcon)||n.choose(),null==(t=this.upgradeIcon)||t.unchoose(),null==(i=this.plantIcon)||i.unchoose(),this.currentWindow=1,b.play(this.switchSound,1),this.almanacZombie.init(),this.almanacUpgrade.close(),this.almanacPlant.close())},o.switchToUpgrades=function(){var n,t,i;2!=this.currentWindow&&(null==(n=this.zombieIcon)||n.unchoose(),null==(t=this.plantIcon)||t.unchoose(),null==(i=this.upgradeIcon)||i.choose(),this.currentWindow=2,b.play(this.switchSound,1),this.almanacZombie.close(),this.almanacPlant.close(),this.almanacUpgrade.init())},o.start=function(){this.currentWindow=-1,this.switchToPlants()},o.onLoad=function(){var n=this;s.on(r.EventType.KEY_DOWN,(function(t){t.keyCode==u.ESCAPE&&n.exit()}),this)},t}(h)).prototype,"almanacPlant",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(Z.prototype,"almanacZombie",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(Z.prototype,"almanacUpgrade",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(Z.prototype,"switchSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(Z.prototype,"plantIcon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(Z.prototype,"zombieIcon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(Z.prototype,"upgradeIcon",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=Z))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/AlmanacElementForPlant.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts","./Plants.ts"],(function(t){var e,a,r,i,n,l,o,s,c,g,u,p,m,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,o=t.dragonBones,s=t.Label,c=t.SpriteFrame,g=t.Sprite,u=t.Component},function(t){p=t.MultiLanguage},function(t){m=t.plants,S=t.PlantEnum}],execute:function(){var A,b,P,y,T,h,E,k,N,f,L,O,R,F,v;n._RF.push({},"6a1e3UK7zFCGbaY28CYPpN/","AlmanacElementForPlant",void 0);var I=l.ccclass,B=l.property;t("AlmanacElementForPlant",(A=I("AlmanacElementForPlant"),b=B(o.ArmatureDisplay),P=B(s),y=B(s),T=B(o.ArmatureDisplay),h=B(c),E=B(c),A((f=e((N=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,r(e,"icon",f,i(e)),r(e,"nameLabel",L,i(e)),r(e,"valueLabel",O,i(e)),r(e,"familyIcon",R,i(e)),r(e,"bg0",F,i(e)),r(e,"bg1",v,i(e)),e}return a(e,t),e.prototype.setPlantElement=function(t,e,a){void 0===a&&(a=0);var r="",i="",n="SPECIAL",l="Nope";switch(t.TYPE){case"TOUGHNESS":r=p.getStringByPropsWithoutTricks("Almanac","Toughness"),n="TOUGHNESS",i=e==S.Imitater?"???":m.getPlantProps(e).Toughness.toString();break;case"SUNCOST":r=p.getStringByPropsWithoutTricks("Almanac","SunCost"),n="SUNCOST",i=e==S.Imitater?"???":m.getPlantProps(e).SunCost.toString();break;case"RECHARGE":r=p.getStringByPropsWithoutTricks("Almanac","Recharge"),n="COOLDOWN",i=e==S.Imitater?"???":m.getPlantProps(e).Cooldown.toString();break;case"DAMAGE":var o;r=p.getStringByPropsWithoutTricks("Almanac","Damage"),n="DAMAGE",i=null==(o=t.VALUE)?void 0:o.toString();break;case"FAMILY":r=p.getStringByPropsWithoutTricks("Almanac","Family"),n="FAMILY",l=m.getPlantProps(e).Family,i=p.getStringByPropsWithoutTricks("PlantFamily",l);break;case"RANGE":r=p.getStringByPropsWithoutTricks("Almanac","Range"),n="RANGE",i=p.getString(t.SORT,!1);break;case"AREA":r=p.getStringByPropsWithoutTricks("Almanac","Area"),n="AREA",i=p.getString(t.SORT,!1);break;case"ARMINGTIME":var s;r=p.getStringByPropsWithoutTricks("Almanac","ArmingTime"),n="ARMINGTIME",i=null==(s=t.VALUE)?void 0:s.toString();break;case"PLANTFOOD":r=p.getStringByPropsWithoutTricks("Almanac","PlantFood"),n="PLANTFOOD",i=p.getString(t.SORT,!1);break;case"SUNPRODUCTION":r=p.getStringByPropsWithoutTricks("Almanac","SunProduction"),n="SUNPRODUCTION",i=isNaN(Number(t.VALUE))?p.getString(t.SORT,!1):Number(t.VALUE).toString();break;default:r=p.getStringByPropsWithoutTricks("Almanac","Special"),i=p.getString(t.SORT,!1)}t.NAME&&(r=p.getString(t.NAME,!1)),this.nameLabel.string=r,this.valueLabel.string=i,this.icon.playAnimation(n),this.familyIcon.playAnimation(l);var c=this.bg0;a&&(c=this.bg1),this.getComponent(g).spriteFrame=c},e}(u)).prototype,"icon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(N.prototype,"nameLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(N.prototype,"valueLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(N.prototype,"familyIcon",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(N.prototype,"bg0",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(N.prototype,"bg1",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=N))||k));n._RF.pop()}}}));

System.register("chunks:///_virtual/AlmanacElementForZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts","./PlayerProperties.ts"],(function(e){var r,n,i,t,a,o,l,s,c,u,b,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.dragonBones,s=e.Label,c=e.ProgressBar,u=e.Component},function(e){b=e.MultiLanguage},function(e){p=e.ZombieKillProgress}],execute:function(){var m,g,y,S,f,E,h,P,L,v,A;a._RF.push({},"661f1W6ILRHNbVoRrqI2/YV","AlmanacElementForZombie",void 0);var w=o.ccclass,R=o.property;e("AlmanacElementForZombie",(m=w("AlmanacElementForZombie"),g=R(l.ArmatureDisplay),y=R(s),S=R(s),f=R(c),m((P=r((h=function(e){function r(){for(var r,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a))||this,i(r,"icon",P,t(r)),i(r,"nameLabel",L,t(r)),i(r,"valueLabel",v,t(r)),i(r,"bar",A,t(r)),r}return n(r,e),r.prototype.setZombieElement=function(e,r,n){var i,t="",a=.5,o="SPECIAL";switch(e.TYPE){case"TOUGHNESS":t=b.getStringByPropsWithoutTricks("Almanac","Toughness"),o="TOUGHNESS_ZOMBIE";break;case"SPEED":t=b.getStringByPropsWithoutTricks("Almanac","Speed"),o="SPEED"}i=b.getString(e.SORT),isNaN(e.PROGRESS)||(a=e.PROGRESS),a<0||n<p.known?a=0:a>1&&(a=1),this.nameLabel.string=n<p.known?"???":t,this.valueLabel.string=n<p.known?"???":i,this.bar.progress=a,this.icon.playAnimation(o)},r}(u)).prototype,"icon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=r(h.prototype,"nameLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=r(h.prototype,"valueLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=r(h.prototype,"bar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=h))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/AlmanacPlantPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./MultiLanguage.ts","./PlayerProperties.ts","./SoundRescourses.ts","./NodePools.ts","./CardFeatureTotal.ts","./cardSelectAlmanac.ts","./AlmanacElementForPlant.ts"],(function(t){var e,n,l,a,i,r,o,s,c,u,p,h,f,g,m,d,P,y,b,C,v,w,D,S,F,E,L,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,l=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,o=t.Label,s=t.RichText,c=t.ScrollView,u=t.Node,p=t.Prefab,h=t.AudioClip,f=t.Sprite,g=t.Vec2,m=t.Vec3,d=t.Color,P=t.Component},function(t){y=t.plants},function(t){b=t.MultiLanguage},function(t){C=t.AllPlayerProperties},function(t){v=t.sounds},function(t){w=t.NodePools,D=t.instantiatePooly,S=t.destroyNodeArrayPooly,F=t.destroyPooly},function(t){E=t.CardFeatureTotal},function(t){L=t.cardSelectAlmanac},function(t){I=t.AlmanacElementForPlant}],execute:function(){var A,z,O,T,N,V,M,B,x,G,R,U,_,k,W,j,H,X,Y,q,J,K,Q,Z,$,tt,et,nt,lt;i._RF.push({},"94a31j3WWVOk5OITYmU6XgU","AlmanacPlantPage",void 0);var at=r.ccclass,it=r.property;t("AlmanacPlantPage",(A=at("AlmanacPlantPage"),z=it(o),O=it(s),T=it(o),N=it(o),V=it(c),M=it(u),B=it(p),x=it(h),G=it(f),R=it(u),U=it(u),_=it(u),k=it(p),A((H=e((j=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,l(e,"introductionLabel",H,a(e)),l(e,"specialLabel",X,a(e)),l(e,"chatLabel",Y,a(e)),l(e,"plantNameLabel",q,a(e)),l(e,"scrollView",J,a(e)),l(e,"elementParent",K,a(e)),l(e,"elementContainer",Q,a(e)),e.elementCPs=[],l(e,"switchSound",Z,a(e)),l(e,"displayBG",$,a(e)),l(e,"plantDisplayer",tt,a(e)),e.plantDisplayed=void 0,l(e,"costumeScroller",et,a(e)),l(e,"cardsParent",nt,a(e)),l(e,"plantCardTemp",lt,a(e)),e.plantCFs=[],e.currentPlantCF=null,e}n(e,t);var i=e.prototype;return i.getSpecial=function(t){var e="";return t.Special.length&&t.Special.forEach((function(t,n){e+="\n"+b.getString(t.NAME,!1)+": <color=#ff0000>"+b.getString(t.DESCRIPTION)+"</color>"})),e},i.getIntroduction=function(t){var e="";return e+=b.getString(t.Introduction)},i.getChat=function(t){var e="\n";return e+=b.getString(t.Chat)},i.switchPlantID=function(t){this.plantCFs.forEach((function(e){var n=e.getComponent(L);n.chosen=e.ID==t,n.index=n.chosen?1:0}));var e=y.getPlantAlmanac(t);this.plantNameLabel.string=b.getString(y.getPlantFeature(t).NAME),this.introductionLabel.string=this.getIntroduction(e);var n=this.getSpecial(e);this.specialLabel.string=n,this.specialLabel.node.active=n.length>0,this.chatLabel.string=this.getChat(e);var l=C.getPlantProgressByID(t);this.costumeScroller.active=l.costumes.length>0,this.getPlantDis(t,e,l.progress<=0),this.getPlantElements(t,e),v.play(this.switchSound,1,.1)},i.scrowL=function(){var t=this.scrollView.getScrollOffset();this.scrollView.scrollToOffset(new g(-(t.x+500),t.y),.2)},i.scrowR=function(){var t=this.scrollView.getScrollOffset();this.scrollView.scrollToOffset(new g(-(t.x-500),t.y),.2)},i.getPlantElements=function(t,e){var n=this;this.elementCPs.forEach((function(t){w.destroyPooly(t.node)})),this.elementCPs=[],e.Elements.forEach((function(e,l){var a=D(n.elementContainer);a.parent=n.elementParent;var i=a.getComponent(I);i.setPlantElement(e,t,Math.floor((l+1)/2)%2),n.elementCPs.push(i)}))},i.getPlantDis=function(t,e,n){var l;void 0===n&&(n=!1),S(this.plantDisplayer.children);var a=y.getPlantsInCard(t);y.getPlantFeature(t);this.plantDisplayed=w.instantiatePooly(a.plantDIS),this.plantDisplayed.parent=this.plantDisplayer,this.plantDisplayed.position=new m(e.DisplayOffset.x,e.DisplayOffset.y,0);var i=y.getPlantBGSprite(t);this.displayBG.spriteFrame=i;var r=n?122:255,o=new d(r,r,r,255);this.displayBG.color=o;var s=this.plantDisplayed.getComponent("AnimationController");null==s||null==(l=s.body)||null==(l=l.color)||l.set(r,r,r,255),null==s||s.readCostume(t)},i.scrollPlantCos=function(){var t=this.plantDisplayed.getComponent("AnimationController");t&&t.rollCostumeUp(y.getPlantFeature(t.ID).COSTUME)},i.start=function(){var t=this;S(this.plantDisplayer.children),this.plantCFs.forEach((function(t){F(t.node)})),this.plantCFs=[],y.defaultPlantChooserOrder.forEach((function(e){var n=w.instantiatePooly(t.plantCardTemp);n.parent=t.cardsParent;var l=n.getComponent(E);l.cardGrouper(e),t.plantCFs.push(l);var a=l.getComponent(L);a.suncostShown=!1,a.almanacModeOn=!0,l.node.on(u.EventType.TOUCH_END,(function(n){l!=t.currentPlantCF&&(t.currentPlantCF=l,t.switchPlantID(e))}))})),this.costumeScroller.on(u.EventType.MOUSE_DOWN,(function(e){t.scrollPlantCos()}),this),this.currentPlantCF=this.plantCFs[0],this.switchPlantID(this.plantCFs[0].ID),this.plantCFs.forEach((function(t){t.ca.locked=0==C.getPlantProgressByID(t.oID).progress}))},i.init=function(){this.node.active=!0},i.close=function(){this.node.active=!1},e}(P)).prototype,"introductionLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(j.prototype,"specialLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(j.prototype,"chatLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(j.prototype,"plantNameLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(j.prototype,"scrollView",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(j.prototype,"elementParent",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(j.prototype,"elementContainer",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(j.prototype,"switchSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(j.prototype,"displayBG",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(j.prototype,"plantDisplayer",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(j.prototype,"costumeScroller",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(j.prototype,"cardsParent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=e(j.prototype,"plantCardTemp",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=j))||W));i._RF.pop()}}}));

System.register("chunks:///_virtual/AlmanacUpgradeDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./MultiLanguage.ts","./PlayerProperties.ts","./Prizes.ts","./UpgradeTrophy.ts"],(function(e){var t,i,a,r,n,l,o,p,s,b,u,d,c,g,h,y,S,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,o=e.Sprite,p=e.Label,s=e.SpriteFrame,b=e.Button,u=e.Color,d=e.Component},function(e){c=e.plants},function(e){g=e.MultiLanguage},function(e){h=e.AllPlayerProperties,y=e.UpgradeProgress},function(e){S=e.prizeRes},function(e){D=e.UpgradeTrophy}],execute:function(){var f,w,B,F,L,m,U,P,v,z,A,E,I,G,R,O,_,M,T,N,C,k,x;n._RF.push({},"6ea46xGVnJA+7epLg6O0LLw","AlmanacUpgradeDisplay",void 0);var W=l.ccclass,j=l.property;e("AlmanacUpgradeDisplay",(f=W("AlmanacUpgradeDisplay"),w=j(D),B=j(o),F=j(p),L=j(p),m=j(p),U=j(s),P=j(s),v=j(s),z=j(s),A=j(b),f((G=t((I=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,a(t,"trophy",G,r(t)),a(t,"BGSprite",R,r(t)),a(t,"enableButtonLabel",O,r(t)),a(t,"titleLabel",_,r(t)),a(t,"descriptionLabel",M,r(t)),a(t,"enabledUpSF",T,r(t)),a(t,"enabledDownSF",N,r(t)),a(t,"disabledUpSF",C,r(t)),a(t,"disabledDownSF",k,r(t)),a(t,"enableButton",x,r(t)),t}i(t,e);var n=t.prototype;return n.switchUpgrade=function(e){var t=S.upgradeFeature()[e],i=c.getPlantBGSpriteByObtainWorld(t.OBTAINWORLD);this.BGSprite.spriteFrame=i,this.titleLabel.string=g.getString(t.NAME),this.descriptionLabel.string=g.getString(t.DESCRIPTION);var a=h.getUpgradeProgressByID(e),r=a.progress>y.locked;this.trophy.readID(e,r),this.readEnable(a),this.enableButtonLabel.node.parent.active=r;var n=r?255:150;this.trophy.almanacModeOn=!0,this.trophy.db.color=new u(n,n,n,255),this.BGSprite.color=new u(n,n,n,255)},n.readEnable=function(e){this.enableButton.disabledSprite=e.enabled?this.enabledUpSF:this.disabledUpSF,this.enableButton.normalSprite=e.enabled?this.enabledUpSF:this.disabledUpSF,this.enableButton.pressedSprite=e.enabled?this.enabledDownSF:this.disabledDownSF,this.enableButton.hoverSprite=e.enabled?this.enabledDownSF:this.disabledDownSF,this.enableButtonLabel.string=g.getDirectQuote(e.enabled?"[UPGRADE_ENABLED]":"[UPGRADE_DISABLED]")},n.switchEnable=function(){var e=h.getUpgradeProgressByID(this.trophy.ID);e.enabled?e.enabled=!1:e.enabled=!0,this.readEnable(e),h.savePP()},t}(d)).prototype,"trophy",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(I.prototype,"BGSprite",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(I.prototype,"enableButtonLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(I.prototype,"titleLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(I.prototype,"descriptionLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(I.prototype,"enabledUpSF",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(I.prototype,"enabledDownSF",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(I.prototype,"disabledUpSF",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(I.prototype,"disabledDownSF",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(I.prototype,"enableButton",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=I))||E));n._RF.pop()}}}));

System.register("chunks:///_virtual/AlmanacUpgradePage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./AlmanacUpgradeDisplay.ts","./Trophies.ts"],(function(e){var r,t,a,i,n,o,l,c,s,p,u,f,g,d;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,l=e.ScrollView,c=e.Prefab,s=e.Node,p=e.Vec2,u=e.Component},function(e){f=e.instantiatePooly},function(e){g=e.AlmanacUpgradeDisplay},function(e){d=e.UpgradeEnum}],execute:function(){var y,h,w,m,v,P,b,D,U;n._RF.push({},"68e6cwLGpNLtLk45a9s73DC","AlmanacUpgradePage",void 0);var V=o.ccclass,A=o.property;e("AlmanacUpgradePage",(y=V("AlmanacUpgradePage"),h=A(l),w=A(c),m=A(s),y((b=r((P=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r=e.call.apply(e,[this].concat(n))||this,a(r,"scrollView",b,i(r)),a(r,"upgradeDisplayer",D,i(r)),a(r,"upgradeParent",U,i(r)),r}t(r,e);var n=r.prototype;return n.scrowL=function(){var e=this.scrollView.getScrollOffset();this.scrollView.scrollToOffset(new p(-(e.x+500),e.y),.2)},n.scrowR=function(){var e=this.scrollView.getScrollOffset();this.scrollView.scrollToOffset(new p(-(e.x-500),e.y),.2)},n.start=function(){for(var e=0;e<d.amount;e++){var r=f(this.upgradeDisplayer);r.parent=this.upgradeParent,r.getComponent(g).switchUpgrade(e)}},n.init=function(){this.node.active=!0},n.close=function(){this.node.active=!1},r}(u)).prototype,"scrollView",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=r(P.prototype,"upgradeDisplayer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=r(P.prototype,"upgradeParent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=P))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/AlmanacZombiePage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./MultiLanguage.ts","./PlayerProperties.ts","./SoundRescourses.ts","./NodePools.ts","./Zombies.ts","./CardFeatureTotalZombie.ts","./AlmanacElementForZombie.ts","./cardSelectAlmanac.ts","./Zombie.ts"],(function(e){var t,i,n,o,r,a,l,s,c,u,b,m,p,f,g,h,y,d,w,C,v,z,D,P,S,Z,F,L,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Label,s=e.RichText,c=e.ScrollView,u=e.Node,b=e.Prefab,m=e.AudioClip,p=e.Sprite,f=e.Vec2,g=e.Vec3,h=e.Component},function(e){y=e.plants},function(e){d=e.MultiLanguage},function(e){w=e.ZombieKillProgress,C=e.AllPlayerProperties},function(e){v=e.sounds},function(e){z=e.NodePools,D=e.instantiatePooly,P=e.destroyPooly},function(e){S=e.zombies},function(e){Z=e.CardFeatureTotalZombie},function(e){F=e.AlmanacElementForZombie},function(e){L=e.cardSelectAlmanac},function(e){A=e.Zombie}],execute:function(){var E,O,I,T,N,B,V,x,k,R,M,G,_,K,H,U,W,j,X,q,J,Q,Y,$,ee,te,ie;r._RF.push({},"cb13at04XFKgbVAT2SH9lm1","AlmanacZombiePage",void 0);var ne=a.ccclass,oe=a.property;e("AlmanacZombiePage",(E=ne("AlmanacZombiePage"),O=oe(l),I=oe(s),T=oe(l),N=oe(l),B=oe(c),V=oe(u),x=oe(b),k=oe(m),R=oe(p),M=oe(u),G=oe(u),_=oe(b),E((U=t((H=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"introductionLabel",U,o(t)),n(t,"specialLabel",W,o(t)),n(t,"chatLabel",j,o(t)),n(t,"zombieNameLabel",X,o(t)),n(t,"scrollView",q,o(t)),n(t,"elementParent",J,o(t)),n(t,"elementContainer",Q,o(t)),t.elementCPs=[],n(t,"switchSound",Y,o(t)),n(t,"displayBG",$,o(t)),n(t,"zombieDisplayer",ee,o(t)),n(t,"cardsParent",te,o(t)),n(t,"zombieCardTemp",ie,o(t)),t.zombieCFs=[],t.currentZombieCF=null,t}i(t,e);var r=t.prototype;return r.getSpecial=function(e,t){if(t.progress<w.known)return"";var i="";return e.Special.length&&e.Special.forEach((function(e,t){i+="\n"+d.getString(e.NAME,!1)+": <color=#ff0000>"+d.getString(e.DESCRIPTION)+"</color>"})),i},r.getIntroduction=function(e,t){var i="";return t.progress!=w.known?d.getStringByProps("Almanac","NeverDefeated"):i+=d.getString(e.Introduction)},r.getChat=function(e,t){if(t.progress<w.known)return"";var i="\n";return i+=d.getString(e.Chat)},r.switchZombieID=function(e){this.zombieCFs.forEach((function(t){var i=t.ca;i&&(i.chosen=t.ID==e,i.index=i.chosen?1:0)}));var t=S.getZombieAlmanac(e),i=C.getZombieKilledByID(e);this.zombieNameLabel.string=i.progress<w.known?"???":d.getString(S.getZombieFeature(e).NAME),this.introductionLabel.string=this.getIntroduction(t,i);var n=this.getSpecial(t,i);this.specialLabel.string=n,this.specialLabel.node.active=n.length>0,this.chatLabel.string=this.getChat(t,i);var o=i.progress;this.getZombieDis(e,t),this.getZombieElements(e,t,o),v.play(this.switchSound,1,.1)},r.scrowL=function(){var e=this.scrollView.getScrollOffset();this.scrollView.scrollToOffset(new f(-(e.x+500),e.y),.2)},r.scrowR=function(){var e=this.scrollView.getScrollOffset();this.scrollView.scrollToOffset(new f(-(e.x-500),e.y),.2)},r.getZombieElements=function(e,t,i){var n=this;this.elementCPs.forEach((function(e){z.destroyPooly(e.node)})),this.elementCPs=[],t.Elements.forEach((function(t,o){if(!(o>1)){var r=D(n.elementContainer);r.parent=n.elementParent;var a=r.getComponent(F);a.setZombieElement(t,e,i),n.elementCPs.push(a)}}))},r.getZombieDis=function(e,t){var i=this;this.zombieDisplayer.destroyAllChildren();var n=S.getZombie(e,!0);n.parent=this.zombieDisplayer;var o=0,r=0;t.DisplayOffset&&(t.DisplayOffset.x&&(o=t.DisplayOffset.x),t.DisplayOffset.y&&(r=t.DisplayOffset.y));var a=0,l=0;t.DisplayScale&&(t.DisplayScale.x&&(a=t.DisplayScale.x),t.DisplayScale.y&&(l=t.DisplayScale.y)),n.position=new g(o,r,0),n.scale=new g(.5*a,.5*l,1);var s,c=n.getComponent(A);(s=c)&&s.almanac(i.zombieDisplayer);var u=S.getZombieFeature(e),b=y.getPlantBGSpriteByObtainWorld(u.OBTAINWORLD);this.displayBG.spriteFrame=b},r.start=function(){var e=this;this.zombieDisplayer.destroyAllChildren(),this.zombieCFs.forEach((function(e){P(e.node)})),this.zombieCFs=[],S.AlmanacList.forEach((function(t){var i=z.instantiatePooly(e.zombieCardTemp);i.parent=e.cardsParent;var n=i.getComponent(Z);n.cardGrouper(t);var o=C.getZombieKilledByID(t).progress<=0;n.isUnknown=o,e.zombieCFs.push(n);var r=n.getComponent(L);r.suncostShown=!1,r.almanacModeOn=!0,n.node.on(u.EventType.TOUCH_END,(function(i){n.isUnknown||n==e.currentZombieCF||(e.currentZombieCF=n,e.switchZombieID(t))}),e)})),this.currentZombieCF=this.zombieCFs[0],this.switchZombieID(this.zombieCFs[0].ID)},r.init=function(){this.node.active=!0},r.close=function(){this.node.active=!1},t}(h)).prototype,"introductionLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(H.prototype,"specialLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(H.prototype,"chatLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(H.prototype,"zombieNameLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(H.prototype,"scrollView",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(H.prototype,"elementParent",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(H.prototype,"elementContainer",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(H.prototype,"switchSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(H.prototype,"displayBG",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(H.prototype,"zombieDisplayer",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(H.prototype,"cardsParent",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(H.prototype,"zombieCardTemp",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=H))||K));r._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Character.ts","./PlayerProperties.ts"],(function(t){var e,i,n,o,a,r,s,l,c,h,u,d,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Prefab,l=t.dragonBones,c=t.Vec3,h=t.Component},function(t){u=t.NodePools},function(t){d=t.CharacterScale},function(t){m=t.AllPlayerProperties}],execute:function(){var p,y,f,b,P,C,v,S,g,A,w,D,R,E,F,I,M;a._RF.push({},"a97bbP1jrpAOKueZ/Uiwdhb","AnimationController",void 0);var N=r.ccclass,U=r.property;t("AnimationController",(p=N("AnimationController"),y=U({type:String}),f=U({type:[String],displayName:"Random Animations"}),b=U({type:Number}),P=U({type:s}),C=U({type:s}),v=U([String]),S=U(s),p((w=e((A=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"IdleAnim",w,o(e)),n(e,"RandomAnim",D,o(e)),n(e,"RandRate",R,o(e)),e.timeScaleDefault=1,e.timeScale=1,n(e,"Vineback",E,o(e)),e.vineback=null,n(e,"PotFront",F,o(e)),e.potFront=null,e.bodyPart=[],e.otherPart=[],n(e,"startHideSlotName",I,o(e)),n(e,"PlantUpper",M,o(e)),e.plantUpper=void 0,e.anmCompleteListenerDone=!1,e.body=null,e.willInitScaleOnEnable=!0,e.currentCos=-1,e.ID=0,e.selfFixTimeScale=!1,e}i(e,t);var a=e.prototype;return a.addVineBack=function(t){if(this.Vineback){var e=u.instantiatePooly(this.Vineback);e.parent=t,e.scale=this.node.scale,this.vineback=e.getComponent(l.ArmatureDisplay),this.bodyPart.push(this.vineback),this.otherPart.push(this.vineback),this.vineback.customMaterial=this.body.customMaterial}this.playRandom()},a.addPotFront=function(t){if(this.PotFront){var e=u.instantiatePooly(this.PotFront);e.parent=t,e.scale=this.node.scale,this.potFront=e.getComponent(l.ArmatureDisplay),this.bodyPart.push(this.potFront),this.otherPart.push(this.potFront),this.potFront.customMaterial=this.body.customMaterial}this.playRandom()},a.addPlantUpper=function(t){if(this.PlantUpper){var e=u.instantiatePooly(this.PlantUpper);e.parent=t,e.scale=this.node.scale,e.worldPosition=this.node.worldPosition,this.plantUpper=e.getComponent(l.ArmatureDisplay),this.bodyPart.push(this.plantUpper),this.plantUpper.customMaterial=this.body.customMaterial,this.playRandom()}},a.onDisable=function(){this.otherPart.concat([this.plantUpper]).forEach((function(t){u.destroyPooly(null==t?void 0:t.node)}))},a.anmCompleteListenerOn=function(){this.anmCompleteListenerDone||(this.anmCompleteListenerDone=!0,this.body.addEventListener(l.EventObject.COMPLETE,this.randomAnimate,this))},a.playAnimation=function(t,e,i,n,o){void 0===e&&(e=1),void 0===i&&(i=0),void 0===n&&(n=NaN),void 0===o&&(o=!1),isNaN(n)&&(n=this.timeScaleDefault),this.timeScale=n;var a=0;if(o){var r=this.body.armature().animation.lastAnimationState;a=r.currentTime/r.totalTime}this.bodyPart.forEach((function(r){r&&(r.timeScale=n,i>0?r.armature().animation.fadeIn(t,i,e):o?r.armature().animation.gotoAndPlayByProgress(t,a,e):r.playAnimation(t,e))}))},a.playRandom=function(t,e,i){if(void 0===t&&(t=0),void 0===e&&(e=NaN),void 0===i&&(i=!1),0==Math.round(100*Math.random()/this.RandRate)&&this.RandomAnim.length>0){var n=Math.round(Math.random()*(this.RandomAnim.length-1));this.playAnimation(this.RandomAnim[n],1,t,e,i)}else this.playAnimation(this.IdleAnim,1,t,e,i)},a.randomAnimate=function(t){t.type==l.EventObject.COMPLETE&&this.playRandom()},a.setTimeScale=function(t){this.bodyPart.forEach((function(e){e.timeScale=t}))},a.throwAllBackNFront=function(){var t=this;this.otherPart.concat().forEach((function(e){var i=t.bodyPart.indexOf(e);u.destroyPooly(e.node),-1!=i&&t.bodyPart.splice(i)}))},a.setBody=function(){this.body=this.node.getChildByName("Body").getComponent(l.ArmatureDisplay)},a.onLoad=function(){this.setBody()},a.onEnable=function(){this.willInitScaleOnEnable&&(this.node.scale=new c(d,d,d)),this.bodyPart=[],this.otherPart=[],this.timeScaleDefault=this.timeScale=.9+.2*Math.random(),this.bodyPart.push(this.body),this.willInitScaleOnEnable&&this.playRandom(),this.anmCompleteListenerOn();var t=this.body.armature();this.startHideSlotName.forEach((function(e){var i;null==(i=t.getSlot(e))||i._setDisplayIndex(-1)}))},a.rollCostumeUpFree=function(t){this.currentCos++,this.currentCos>=t&&(this.currentCos=-1),this.switchCostume(this.currentCos)},a.rollCostumeDownFree=function(t){this.currentCos--,this.currentCos<-1&&(this.currentCos=t-1),this.switchCostume(this.currentCos)},a.rollCostumeUp=function(t){var e=m.getPlantProgressByID(this.ID),i=e.costumes.indexOf(this.currentCos);++i>=e.costumes.length?this.currentCos=-1:this.currentCos=e.costumes[i],this.switchCostume(this.currentCos),e.costume=this.currentCos,m.savePP()},a.switchCostume=function(t){var e="COS"+t.toString();this.currentCos=t,[this.body,this.potFront,this.vineback,this.plantUpper].forEach((function(i){i&&i.armature().getSlots().forEach((function(i){t>=0&&i.name.includes(e)?i._setDisplayIndex(0):i.name.includes("COS")&&i._setDisplayIndex(-1)}))}))},a.readCostume=function(t){var e=m.getPlantProgressByID(t);this.switchCostume(e.costume),this.ID=t},a.start=function(){this.body.timeScale=this.timeScaleDefault},a.fixTimeScale=function(t){var e=this;this.bodyPart.forEach((function(i){i.timeScale=e.timeScale*t}))},a.update=function(t){var e=this;[this.potFront,this.vineback,this.plantUpper].forEach((function(t){t&&(t.node.worldPosition=e.body.node.worldPosition,t.node.worldRotation=e.body.node.worldRotation,t.node.worldScale=e.body.node.worldScale,t.customMaterial=e.body.customMaterial)})),this.selfFixTimeScale&&this.fixTimeScale(1)},e}(h)).prototype,"IdleAnim",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Idle"}}),D=e(A.prototype,"RandomAnim",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(A.prototype,"RandRate",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),E=e(A.prototype,"Vineback",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(A.prototype,"PotFront",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(A.prototype,"startHideSlotName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=e(A.prototype,"PlantUpper",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=A))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/AppleMortar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./CabbagePult.ts","./CharacterManager.ts","./Square.ts","./Character.ts","./SoundRescourses.ts"],(function(o){var t,n,i,e,a,r,s,l,u,d,h,c,p,b,f,S,y,g,m,P;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,i=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){a=o.cclegacy,r=o._decorator,s=o.AudioClip,l=o.Node,u=o.Prefab,d=o.Vec2},function(o){h=o.Plant,c=o.PlantProps},function(o){p=o.instantiatePooly},function(o){b=o.cabbagePult},function(o){f=o.Rectangle,S=o.ZombiePool,y=o.TombPool},function(o){g=o.Square},function(o){m=o.CharacterType},function(o){P=o.sounds}],execute:function(){var w,L,_,v,C,R,A,j,D,F,E,z,O,M,B,N,x,G,I,q,Z,U,X,Y,J,T;a._RF.push({},"37232ULxmVK/LhJc9iBJJeE","AppleMortar",void 0);var H=r.ccclass,V=r.property,k=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return(t=o.call.apply(o,[this].concat(i))||this).ShootInterval=1.75,t.ShootIntervalAdditional=.25,t.StunDuration=.75,t.StunDurationPF=1,t}return n(t,o),t}(c),K=(w=H("appleMortarSound"),L=V([s]),_=V([s]),v=V([s]),C=V([s]),R=V([s]),A=V([s]),w((F=t((D=function(){function o(){i(this,"lobSounds",F,this),i(this,"preLobSounds",E,this),i(this,"foodLobSounds",z,this),i(this,"loadSounds",O,this),i(this,"loadBGSounds",M,this),i(this,"foodStartSounds",B,this)}var t=o.prototype;return t.playLobSounds=function(){P.playArray(this.lobSounds,.5,.2)},t.playPreLobSounds=function(){P.playArray(this.preLobSounds,.5,.2)},t.playFoodLobSounds=function(){P.playArray(this.foodLobSounds,.5,.2)},t.playLoadSounds=function(){P.playArray(this.loadSounds,.5,.4)},t.playLoadBGSounds=function(){P.playArray(this.loadBGSounds,.5,.4)},t.playFoodStartSounds=function(){P.playArray(this.foodStartSounds,1,.2)},o}()).prototype,"lobSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(D.prototype,"preLobSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(D.prototype,"foodLobSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(D.prototype,"loadSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(D.prototype,"loadBGSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(D.prototype,"foodStartSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=D))||j);o("AppleMortar",(N=H("AppleMortar"),x=V(l),G=V(u),I=V(u),q=V(K),N((X=t((U=function(o){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=o.call.apply(o,[this].concat(a))||this,i(t,"cabbageSpawnPoint",X,e(t)),i(t,"prj0",Y,e(t)),i(t,"prjFood",J,e(t)),i(t,"soundRes",T,e(t)),t._objdataOwn=new k,t.detector=new f,t._shooting=!1,t.shootCD=0,t}n(t,o);var a=t.prototype;return a.specialPlantOnSquareChange=function(o,t){t&&(this.detector=f.createRectangleNodeSide(t.node,g.SquareDisW*(9-this.inLnC.cIndex),3*g.SquareDisH))},a._lobAtZ=function(o,t,n){void 0===t&&(t=this.prj0),void 0===n&&(n=!1);var i=p(t),e=b.lobOneCabbageOnZombie(i,new d(this.cabbageSpawnPoint.worldPosition.x,this.worldPositionY),this.cabbageSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,o,2,m.zombie,n,30,!0);e.setStun(this.fooding?this._objdataOwn.StunDurationPF:this._objdataOwn.StunDuration),this._dmgScale&&e.setDamage(e.damage_*this._dmgScale)},a._lobAtN=function(o,t,n){void 0===t&&(t=this.prj0),void 0===n&&(n=!1);var i=p(t);b.lobOneCabbageOnNode(i,new d(this.cabbageSpawnPoint.worldPosition.x,this.worldPositionY),this.cabbageSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,o,2,m.zombie,n,30).setStun(this.fooding?this._objdataOwn.StunDurationPF:this._objdataOwn.StunDuration)},a._shoot=function(o,t){var n=this;if(void 0===t&&(t=this.prj0),o){var i=null,e=null,a=1/0;o.zombiePool().forEach((function(o){o.worldPositionX<a&&n.detector.judgeCrossRec(o.bodyRec)&&(i=o,a=o.worldPositionX)})),i?this._lobAtZ(i,t):(a=1/0,o.tombPool().forEach((function(o){o.worldPositionX<a&&n.detector.judgeCrossRec(o.bodyRec)&&(e=o,a=o.worldPositionX)})),e?this._lobAtN(e.node,t):o.toRight&&this._lobAtN(o.toRight,t))}},a.detectEnemies=function(o){var t=this;if(!o)return!1;var n=!1;return o.zombiePool().forEach((function(o){n||t.detector.judgeCrossRec(o.bodyRec)&&(n=!0)})),!!n||(o.tombPool().forEach((function(o){n||t.detector.judgeCrossRec(o.bodyRec)&&(n=!0)})),!!n)},a.detectEnemies3=function(){return!!this.detectEnemies(this.inLane)||(!!this.detectEnemies(this.inLane.UpperLane)||!!this.detectEnemies(this.inLane.LowerLane))},a.specialPlantOnEnable=function(){this.shootCD=0,this._shooting=!1},a.waterable=function(){return!this._shooting},a.specialPlantFood=function(o){this._shooting=!1,this.anmControl.playAnimation("Food",2)},a.animationListener=function(o){"Shoot"==o.name?(this.soundRes.playLobSounds(),this._shoot(this.inLane),this._shoot(this.inLane.UpperLane),this._shoot(this.inLane.LowerLane),this._shooting=!1):"foodEnd"==o.name?this.foodEnd():"FoodShoot"==o.name?(this.foodLob(),this.soundRes.playFoodLobSounds()):"Ready"==o.name?this.soundRes.playPreLobSounds():"Load"==o.name?this.soundRes.playLoadSounds():"LoadBG"==o.name?this.soundRes.playLoadBGSounds():"FoodStart"==o.name&&this.soundRes.playFoodStartSounds()},a.foodLob=function(){var o=this;S.pool().concat().forEach((function(t){o._lobAtZ(t,o.prjFood,!0)})),y.pool().concat().forEach((function(t){o._lobAtN(t.node,o.prjFood,!0)}))},a.specialPlantFoodEnd=function(){this.anmControl.playRandom()},a.animationOnComplete=function(){this._shooting=!1},a.specialPlantUpdate=function(o,t,n){this.fooding||(this.shootCD>0&&(this.shootCD-=o),this.shootCD<=0&&n>0&&this.detectEnemies3()&&(this.shootCD=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional,this._cdScale&&(this.shootCD*=this._cdScale),this.anmControl.playAnimation("Shoot",1,.1*this._cdScale,Math.max(1,1.5/this.shootCD)),this._shooting=!0))},t}(h)).prototype,"cabbageSpawnPoint",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(U.prototype,"prj0",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(U.prototype,"prjFood",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(U.prototype,"soundRes",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=U))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/Armor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Materials.ts","./SoundRescourses.ts","./levelController.ts","./KeyListener.ts"],(function(t){var e,i,n,r,s,a,o,h,l,u,c,g,d,p,f,m,b,y,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,o=t._decorator,h=t.Enum,l=t.CCInteger,u=t.Prefab,c=t.AudioClip,g=t.dragonBones,d=t.Material,p=t.Color,f=t.Component},function(t){m=t.materialRes},function(t){b=t.sounds},function(t){y=t.LevelPlay},function(t){v=t.KeyListener}],execute:function(){var w,S,A,D,C,z,B,L,M,R,H,I,P,T,E,k,_;a._RF.push({},"b6eeddCxRlJeI4ZcFg9Q6At","Armor",void 0);var x=o.ccclass,F=o.property,U=function(t){return t[t.plastic=0]="plastic",t[t.shield=1]="shield",t[t.none=2]="none",t}(U||{});h(U);t("Armor",(w=x("Armor Features"),S=F(Number),A=F(l),D=F(Boolean),C=F(Boolean),z=F(u),B=F({type:U,visible:function(){return this.damageSounds.length<=0}}),L=F([c]),w((H=e((R=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,n(e,"toughness",H,r(e)),n(e,"BowlingLevel",I,r(e)),n(e,"isIce",P,r(e)),e.ID=0,n(e,"isMetal",T,r(e)),e.health=0,n(e,"armorDROP",E,r(e)),e.db=null,e.hurting=0,n(e,"hurtSoundType",k,r(e)),n(e,"damageSounds",_,r(e)),e.material=void 0,e.owner=void 0,e}i(e,t);var a=e.prototype;return a.isAlive=function(){return this.health>0&&this.owner},a.getDamageAccordingToBowlingLevel=function(t){if(t>0){if(this.toughness<=1||1==this.BowlingLevel)return this.health;var e=Math.round(this.BowlingLevel*this.health/this.toughness),i=Math.max(e-t,0)*Math.min(1/3,1/this.BowlingLevel)*this.toughness,n=this.health-i;return Math.max(n,0)}return 0},a.initialize=function(t,e){this.ID=t,this.owner=e,this.health=this.toughness},a.onLoad=function(){this.health=this.toughness,this.db=this.getComponent(g.ArmatureDisplay);var t=new d;t.initialize({effectAsset:m.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=t},a.onEnable=function(){this.hurting=0,this.health=this.toughness,this.setDisplay()},a.playHurtSound=function(){if(this.damageSounds.length)b.playArray(this.damageSounds);else switch(this.hurtSoundType){case U.plastic:b.playArmorHitPlastic();break;case U.shield:b.playArmorHitShield()}},a.shouldMaterial=function(){var t=new p(0,0,0,255);this.hurting>0&&(t.r+=10*this.hurting,t.g+=10*this.hurting,t.b+=10*this.hurting);var e=0;this.owner&&(this.owner.freeze>0||this.owner.chill>0||this.owner.iceblocked)&&(e=1),this.owner&&this.owner.glittering>0&&(t.r=194,t.g=0,t.b=178);var i=this.material.passes[0].getHandle("addColor");this.material.passes[0].setUniform(i,t);var n=this.material.passes[0].getHandle("chillColor");this.material.passes[0].setUniform(n,e),this.db.customMaterial=this.material},a.update=function(t){v.isInGame&&(this.hurting>0&&(this.hurting-=60*t),this.shouldMaterial(),this.shouldColor())},a.shouldColor=function(){var t=new p(255,255,255,255);this.owner&&(t=this.owner.db.color),this.db.color=t},a.dealDamage=function(t,e){var i,n;if(void 0===e&&(e=!0),t<=0)return this.health;var r=this.health;this.health-=t*y.zombieDamageReceiveScale;var s=this.health;return this.health<0&&(this.health=0),this.hurting=10,e&&this.playHurtSound(),this.setDisplay(),null==(i=this.owner)||i.onArmorDamaged(this,this.stage),null==(n=this.owner)||n.pushSunBeanHealth(r-this.health),s},a.setDisplay=function(){this.db.playAnimation("Broken"+this.stage.toString())},s(e,[{key:"stage",get:function(){var t=0;return this.health>2*this.toughness/3?t=0:this.health<=2*this.toughness/3&&this.health>this.toughness/3?t=1:this.health<=this.toughness/3&&(t=2),t}}]),e}(f)).prototype,"toughness",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 370}}),I=e(R.prototype,"BowlingLevel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),P=e(R.prototype,"isIce",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=e(R.prototype,"isMetal",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=e(R.prototype,"armorDROP",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(R.prototype,"hurtSoundType",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U.none}}),_=e(R.prototype,"damageSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=R))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/Armors.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,t,i,o,n,a,u,c;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,i=r.initializerDefineProperty,o=r.assertThisInitialized},function(r){n=r.cclegacy,a=r._decorator,u=r.Prefab,c=r.Component}],execute:function(){var l,_,b,s,m,p,f,g,k,y,h,d,w,z,v,A,B,D,L,P,x,F,I,R,j,q,C,E,H,M,O,S,T,W,X,Z,G,J,K,N,Q,U,V,Y,$,rr,er,tr,ir,or,nr,ar,ur,cr,lr,_r,br,sr,mr,pr,fr,gr,kr,yr,hr,dr,wr,zr,vr,Ar,Br,Dr,Lr,Pr,xr,Fr,Ir,Rr,jr,qr,Cr,Er,Hr,Mr,Or;n._RF.push({},"e5554r+OABBIoqkx+eyZoWX","Armors",void 0);var Sr=a.ccclass,Tr=a.property,Wr=r("armorEnum",function(r){return r[r.modern_armor1=0]="modern_armor1",r[r.modern_armor2=1]="modern_armor2",r[r.modern_armor4=2]="modern_armor4",r[r.egypt_armor1=3]="egypt_armor1",r[r.egypt_armor2=4]="egypt_armor2",r[r.egypt_armor4=5]="egypt_armor4",r[r.future_armor1=6]="future_armor1",r[r.future_armor2=7]="future_armor2",r[r.future_armor4=8]="future_armor4",r[r.pirate_armor1=9]="pirate_armor1",r[r.pirate_armor2=10]="pirate_armor2",r[r.pirate_armor4=11]="pirate_armor4",r[r.cowboy_armor1=12]="cowboy_armor1",r[r.cowboy_armor2=13]="cowboy_armor2",r[r.cowboy_armor4=14]="cowboy_armor4",r[r.kongfu_armor1=15]="kongfu_armor1",r[r.kongfu_armor2=16]="kongfu_armor2",r[r.kongfu_armor3=17]="kongfu_armor3",r[r.dark_armor1=18]="dark_armor1",r[r.dark_armor2=19]="dark_armor2",r[r.dark_armor3=20]="dark_armor3",r[r.dark_armor4=21]="dark_armor4",r[r.beach_armor1=22]="beach_armor1",r[r.beach_armor2=23]="beach_armor2",r[r.beach_armor4=24]="beach_armor4",r[r.iceage_armor1=25]="iceage_armor1",r[r.iceage_armor2=26]="iceage_armor2",r[r.iceage_armor3=27]="iceage_armor3",r[r.iceage_armor4=28]="iceage_armor4",r[r.lostcity_armor1=29]="lostcity_armor1",r[r.lostcity_armor2=30]="lostcity_armor2",r[r.sky_armor1=31]="sky_armor1",r[r.sky_armor2=32]="sky_armor2",r[r.eighties_armor1=33]="eighties_armor1",r[r.eighties_armor2=34]="eighties_armor2",r[r.eighties_8bit_armor1=35]="eighties_8bit_armor1",r[r.eighties_8bit_armor2=36]="eighties_8bit_armor2",r[r.dino_armor1=37]="dino_armor1",r[r.dino_armor2=38]="dino_armor2",r[r.dino_armor3=39]="dino_armor3",r[r.dino_armor4=40]="dino_armor4",r[r.amount=41]="amount",r}({})),Xr=r("armors",function(){function r(){}return r.getArmor=function(r){switch(r){case Wr.modern_armor2:return this.res.basic_bucket;case Wr.modern_armor4:return this.res.basic_bricks;case Wr.future_armor1:return this.res.future_cone;case Wr.future_armor2:return this.res.future_bucket;case Wr.future_armor4:return this.res.future_bricks;case Wr.egypt_armor1:return this.res.egypt_cone;case Wr.egypt_armor2:return this.res.egypt_bucket;case Wr.egypt_armor4:return this.res.egypt_bricks;case Wr.cowboy_armor1:return this.res.cowboy_cone;case Wr.cowboy_armor2:return this.res.cowboy_bucket;case Wr.cowboy_armor4:return this.res.cowboy_bricks;case Wr.pirate_armor1:return this.res.pirate_cone;case Wr.pirate_armor2:return this.res.pirate_bucket;case Wr.pirate_armor4:return this.res.pirate_bricks;case Wr.kongfu_armor1:return this.res.kongfu_cone;case Wr.kongfu_armor2:return this.res.kongfu_bucket;case Wr.kongfu_armor3:return this.res.kongfu_helmet;case Wr.dark_armor1:return this.res.dark_cone;case Wr.dark_armor2:return this.res.dark_bucket;case Wr.dark_armor3:return this.res.dark_helmet;case Wr.dark_armor4:return this.res.dark_bricks;case Wr.beach_armor1:return this.res.beach_cone;case Wr.beach_armor2:return this.res.beach_bucket;case Wr.beach_armor4:return this.res.beach_bricks;case Wr.iceage_armor1:return this.res.iceage_cone;case Wr.iceage_armor2:return this.res.iceage_bucket;case Wr.iceage_armor3:return this.res.iceage_helmet;case Wr.iceage_armor4:return this.res.iceage_bricks;case Wr.lostcity_armor1:return this.res.lostcity_cone;case Wr.lostcity_armor2:return this.res.lostcity_bucket;case Wr.sky_armor1:return this.res.sky_cone;case Wr.sky_armor2:return this.res.sky_bucket;case Wr.eighties_armor1:return this.res.eighties_cone;case Wr.eighties_armor2:return this.res.eighties_bucket;case Wr.eighties_8bit_armor1:return this.res.eighties_8bit_cone;case Wr.eighties_8bit_armor2:return this.res.eighties_8bit_bucket;case Wr.dino_armor1:return this.res.dino_cone;case Wr.dino_armor2:return this.res.dino_bucket;case Wr.dino_armor3:return this.res.dino_helmet;case Wr.dino_armor4:return this.res.dino_bricks;default:return this.res.basic_cone}},r}());Xr.res=void 0;r("Armors",(l=Sr("Armors"),_=Tr(u),b=Tr(u),s=Tr(u),m=Tr(u),p=Tr(u),f=Tr(u),g=Tr(u),k=Tr(u),y=Tr(u),h=Tr(u),d=Tr(u),w=Tr(u),z=Tr(u),v=Tr(u),A=Tr(u),B=Tr(u),D=Tr(u),L=Tr(u),P=Tr(u),x=Tr(u),F=Tr(u),I=Tr(u),R=Tr(u),j=Tr(u),q=Tr(u),C=Tr(u),E=Tr(u),H=Tr(u),M=Tr(u),O=Tr(u),S=Tr(u),T=Tr(u),W=Tr(u),X=Tr(u),Z=Tr(u),G=Tr(u),J=Tr(u),K=Tr(u),N=Tr(u),Q=Tr(u),U=Tr(u),l(($=e((Y=function(r){function e(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n))||this,i(e,"basic_cone",$,o(e)),i(e,"basic_bucket",rr,o(e)),i(e,"basic_bricks",er,o(e)),i(e,"future_cone",tr,o(e)),i(e,"future_bucket",ir,o(e)),i(e,"future_bricks",or,o(e)),i(e,"egypt_cone",nr,o(e)),i(e,"egypt_bucket",ar,o(e)),i(e,"egypt_bricks",ur,o(e)),i(e,"pirate_cone",cr,o(e)),i(e,"pirate_bucket",lr,o(e)),i(e,"pirate_bricks",_r,o(e)),i(e,"cowboy_cone",br,o(e)),i(e,"cowboy_bucket",sr,o(e)),i(e,"cowboy_bricks",mr,o(e)),i(e,"kongfu_cone",pr,o(e)),i(e,"kongfu_bucket",fr,o(e)),i(e,"kongfu_helmet",gr,o(e)),i(e,"dark_cone",kr,o(e)),i(e,"dark_bucket",yr,o(e)),i(e,"dark_helmet",hr,o(e)),i(e,"dark_bricks",dr,o(e)),i(e,"beach_cone",wr,o(e)),i(e,"beach_bucket",zr,o(e)),i(e,"beach_bricks",vr,o(e)),i(e,"iceage_cone",Ar,o(e)),i(e,"iceage_bucket",Br,o(e)),i(e,"iceage_helmet",Dr,o(e)),i(e,"iceage_bricks",Lr,o(e)),i(e,"sky_cone",Pr,o(e)),i(e,"sky_bucket",xr,o(e)),i(e,"eighties_cone",Fr,o(e)),i(e,"eighties_bucket",Ir,o(e)),i(e,"eighties_8bit_cone",Rr,o(e)),i(e,"eighties_8bit_bucket",jr,o(e)),i(e,"lostcity_cone",qr,o(e)),i(e,"lostcity_bucket",Cr,o(e)),i(e,"dino_cone",Er,o(e)),i(e,"dino_bucket",Hr,o(e)),i(e,"dino_helmet",Mr,o(e)),i(e,"dino_bricks",Or,o(e)),e}return t(e,r),e.prototype.onLoad=function(){Xr.res=this},e}(c)).prototype,"basic_cone",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rr=e(Y.prototype,"basic_bucket",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),er=e(Y.prototype,"basic_bricks",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tr=e(Y.prototype,"future_cone",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ir=e(Y.prototype,"future_bucket",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),or=e(Y.prototype,"future_bricks",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nr=e(Y.prototype,"egypt_cone",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ar=e(Y.prototype,"egypt_bucket",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ur=e(Y.prototype,"egypt_bricks",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),cr=e(Y.prototype,"pirate_cone",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lr=e(Y.prototype,"pirate_bucket",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_r=e(Y.prototype,"pirate_bricks",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),br=e(Y.prototype,"cowboy_cone",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),sr=e(Y.prototype,"cowboy_bucket",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mr=e(Y.prototype,"cowboy_bricks",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pr=e(Y.prototype,"kongfu_cone",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fr=e(Y.prototype,"kongfu_bucket",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gr=e(Y.prototype,"kongfu_helmet",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kr=e(Y.prototype,"dark_cone",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yr=e(Y.prototype,"dark_bucket",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hr=e(Y.prototype,"dark_helmet",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dr=e(Y.prototype,"dark_bricks",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wr=e(Y.prototype,"beach_cone",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zr=e(Y.prototype,"beach_bucket",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vr=e(Y.prototype,"beach_bricks",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ar=e(Y.prototype,"iceage_cone",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Br=e(Y.prototype,"iceage_bucket",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dr=e(Y.prototype,"iceage_helmet",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lr=e(Y.prototype,"iceage_bricks",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pr=e(Y.prototype,"sky_cone",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xr=e(Y.prototype,"sky_bucket",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fr=e(Y.prototype,"eighties_cone",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ir=e(Y.prototype,"eighties_bucket",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rr=e(Y.prototype,"eighties_8bit_cone",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jr=e(Y.prototype,"eighties_8bit_bucket",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qr=e(Y.prototype,"lostcity_cone",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Cr=e(Y.prototype,"lostcity_bucket",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Er=e(Y.prototype,"dino_cone",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Hr=e(Y.prototype,"dino_bucket",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mr=e(Y.prototype,"dino_helmet",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Or=e(Y.prototype,"dino_bricks",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=Y))||V));n._RF.pop()}}}));

System.register("chunks:///_virtual/BananaLauncher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SniperPlant.ts","./NodePools.ts","./Character.ts","./commonShot.ts","./ProjectileManager.ts","./Square.ts","./CharacterManager.ts","./SoundRescourses.ts","./Plant.ts"],(function(n){var t,o,i,a,e,r,s,l,u,c,d,h,p,f,m,y,S,w,b,g;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){e=n.cclegacy,r=n._decorator,s=n.AudioClip,l=n.Prefab,u=n.Vec2,c=n.KeyCode},function(n){d=n.SniperPlant},function(n){h=n.NodePools,p=n.ArrayGet},function(n){f=n.CharacterType},function(n){m=n.commonShot},function(n){y=n.projectile},function(n){S=n.Square},function(n){w=n.ZombiePool},function(n){b=n.sounds},function(n){g=n.PlantProps}],execute:function(){var P,A,C,R,L,v,O,j,z,_,k,B,F,D,T,I,N,E,K,V;e._RF.push({},"cf114hcRKJKgbd4gyuONecz","BananaLauncher",void 0);var M=r.ccclass,q=r.property,x=n("banana",function(){function n(){}return n.throwOneBananaOnPos=function(n,t,o,i,a,e){n.parent=i;var r=n.getComponent(m);return r.worldPosition=new u(t.x,t.y),r.height=o,r.gravity=0,r.linearVelocity=new u(0,0),r.bodyLinearVelocity=-a,y.registerProjectile(n,e),r},n.throwOneBananaOnNode=function(n,t,o,i,a,e){return this.throwOneBananaOnPos(n,t.worldPosition.toVec2(),o,i,a,e)},n}()),G=function(n){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=n.call.apply(n,[this].concat(i))||this).RestTime=20,t}return o(t,n),t}(g),W=(P=M("bananalauncherSound"),A=q([s]),C=q([s]),R=q([s]),L=q([s]),v=q([s]),P((z=t((j=function(){function n(){i(this,"shootSounds",z,this),i(this,"shootSaySounds",_,this),i(this,"wakeSounds",k,this),i(this,"foodSaySounds",B,this),i(this,"foodStartSounds",F,this)}var t=n.prototype;return t.playShootSound=function(n){void 0===n&&(n=!0),b.playArray(this.shootSounds,1,.1),n&&b.playArray(this.shootSaySounds,1,.1)},t.playWakeSound=function(){b.playArray(this.wakeSounds,1,.1)},t.playFoodSound=function(){b.playArray(this.foodStartSounds,1,.1),b.playArray(this.foodSaySounds,1,.1)},n}()).prototype,"shootSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(j.prototype,"shootSaySounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(j.prototype,"wakeSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(j.prototype,"foodSaySounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(j.prototype,"foodStartSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=j))||O);n("BananaLauncherPlant",(D=M("BananaLauncherPlant"),T=q(W),I=q(l),D((K=t((E=function(n){function t(){for(var t,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(t=n.call.apply(n,[this].concat(e))||this)._objdataOwn=new G,i(t,"soundRes",K,a(t)),i(t,"projectile",V,a(t)),t.coolingdown=0,t}o(t,n);var e=t.prototype;return e.LocateStartKeyCode=function(){return c.KEY_B},e.animationListener=function(n){if("drop"==n.name){var t;this.soundRes.playShootSound(!1);var o=h.instantiatePooly(this.projectile),i=w.inLawnPool(),a=null==(t=p.getRandom(i))?void 0:t.inLnC;a||(a=S.getRandomLnC()),x.throwOneBananaOnNode(o,a.plantPoint,1e3,a.inLane.prjLayer,22,f.zombie)}"foodEnd"==n.name&&this.foodEnd()},e.sniperPlantLocatable=function(){return this.coolingdown<=0},e.setAnimation=function(n){switch(void 0===n&&(n=0),n){case 1:this.anmControl.IdleAnim="Steady",this.anmControl.RandomAnim=[],this.deathAnm="Death";break;case 2:this.anmControl.IdleAnim="IdleSad",this.anmControl.RandomAnim=["RandomSad"],this.deathAnm="DeathSad";break;default:this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.deathAnm="Death"}},e.specialSniperPlantDie=function(n){},e.specialSniperFood=function(n){this.anmControl.playAnimation("Food",1),this.soundRes.playFoodSound(),this.setAnimation(2),this.coolingdown=1/0,this.anmControl.playAnimation("Food",1)},e.waterable=function(){return this.sniperPlantLocatable()},e.specialPlantFoodEnd=function(){this.coolingdown=this._objdataOwn.RestTime*this._cdScale},e.specialSniperPlantOnEnable=function(){this.coolingdown=0,this.setAnimation()},e.specialSniperPlantLocateCancel=function(){this.setAnimation(),this.anmControl.playRandom()},e.specialSniperPlantLocateStart=function(){this.setAnimation(1),this.anmControl.playAnimation("TakeAim",1)},e.specialSniperPlantTrigger=function(n){this.setAnimation(2),this.coolingdown=this._objdataOwn.RestTime*this._cdScale,this.anmControl.playAnimation("Launch",1),this.soundRes.playShootSound();var t=h.instantiatePooly(this.projectile);x.throwOneBananaOnNode(t,n.plantPoint,1e3,n.inLane.prjLayer,22,f.zombie)},e._wake=function(){this.setAnimation(0),this.anmControl.playAnimation("GetReady",1),this.soundRes.playWakeSound()},e.specialPlantUpdate=function(n,t,o){this.coolingdown>0&&(this.coolingdown-=n,this.coolingdown<=0&&this._wake())},t}(d)).prototype,"soundRes",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new W}}),V=t(E.prototype,"projectile",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=E))||N));e._RF.pop()}}}));

System.register("chunks:///_virtual/BeachBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Armors.ts"],(function(e){var a,r,o,t,c,i,n,s,l,u;return{setters:[function(e){a=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,t=e.assertThisInitialized,c=e.createClass},function(e){i=e.cclegacy,n=e._decorator,s=e.Node},function(e){l=e.Zombie},function(e){u=e.armorEnum}],execute:function(){var m,p,h,f,_;i._RF.push({},"bf435OsoLBI0IcCaMg0PoFG","BeachBasicZombie",void 0);var d=n.ccclass,b=n.property;e("BeachBasicZombie",(m=d("BeachBasicZombie"),p=b(s),m((_=a((f=function(e){function a(){for(var a,r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return a=e.call.apply(e,[this].concat(c))||this,o(a,"coneSocket",_,t(a)),a._kelpSlots=[],a._haveKelp=!1,a}r(a,e);var i=a.prototype;return i.armorParent=function(e){switch(e){case u.beach_armor4:case u.dark_armor4:case u.egypt_armor4:case u.cowboy_armor4:case u.iceage_armor4:case u.future_armor4:case u.modern_armor4:case u.dark_armor3:case u.pirate_armor4:case u.iceage_armor3:case u.dino_armor3:case u.dino_armor4:case u.kongfu_armor3:return this._armorSocket}return this.coneSocket},i.specialAlmanac=function(e){this.body.body.armature().getSlots().forEach((function(e){e.name.includes("KELP")&&e._setDisplayIndex(-1)}))},i.specialZombieOnEnable=function(){this.haveKelp=!1},i.onDirtSpawned=function(e){this.haveKelp=!0},i.specialZombieOnLoad=function(){var e=[];this.db.armature().getSlots().forEach((function(a){a.name.includes("KELP")&&e.push(a)})),this._kelpSlots=e},c(a,[{key:"haveKelp",get:function(){return this._haveKelp},set:function(e){this._kelpSlots.forEach((function(a){a._setDisplayIndex(e&&Math.random()>.4?0:-1)})),this._haveKelp=e}}]),a}(l)).prototype,"coneSocket",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/BeachFisherHook.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Zombies.ts"],(function(i){var t,n,o,e,l,r,h;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,o=i._decorator,e=i.Vec2,l=i.tween},function(i){r=i.commonShot},function(i){h=i.ZombieEnum}],execute:function(){var a;n._RF.push({},"bb65emOc/xAeJ9A4W/0GtgO","BeachFisherHook",void 0);var s=o.ccclass;o.property,i("BeachFisherHook",s("BeachFisherHook")(a=function(i){function n(){for(var t,n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];return(t=i.call.apply(i,[this].concat(o))||this).owner=void 0,t.followingCharacterOldX=0,t.returning=!1,t.followingCharacter=void 0,t.popWhenStatic=!1,t}t(n,i);var o=n.prototype;return o.hitFloor=function(i){},o.hitWater=function(){},o.splat=function(i){void 0===i&&(i=null),i&&(this.onZombieHit(i),this.pop())},o.specialUpdate=function(i){if(this.followingCharacter){var t=this.followingCharacter.worldPositionX-this.followingCharacterOldX;this.worldPositionX+=t,this.followingCharacterOldX=this.followingCharacter.worldPositionX}else if(this.returning){var n;if(null!=(n=this.owner)&&n.isAlive()){var o=this.owner.hookPointPos,l=600*i,r=150*i,h=new e(o.x-this.worldPositionX,o.y-this.worldPositionY),a=o.z-this.height;if(a/(r*=a>0?1:-1)>1?this.height+=r:this.height=o.z,h.length()>l){var s=h.clone().normalize().multiplyScalar(l);this.worldPositionX+=s.x,this.worldPositionY+=s.y}else this.owner.catch(),this.fade()}else this.fade()}},o.specialOnSquareChange=function(i,t){if(null==t||!t.isInLawn()){var n;if(null==(n=this.owner)||!n.isAlive())return void this.fade();this.owner.hookCall(null,null,null),this.returning=!0,this.followingCharacter=null,this.linearVelocity=new e,this.gravity=0,this.bodyLinearVelocity=0}},o.characterOnEnable=function(){this.initialize(),this.returning=!1,this.followingCharacter=null},o.specialOnDisable=function(){var i;null==(i=this.owner)||i.hookCall(null,null,null)},o.pop=function(){this.detectEnemyOn&&this.playPopSound(),this.detectEnemyOn=!1},o.onZombieHit=function(i){var t,n=this;null!=(t=this.owner)&&t.isAlive()||this.fade(),this.linearVelocity=new e,this.gravity=0,this.bodyLinearVelocity=0,l(this).to(this.owner.objdataOwn.DelayBeforeReeling,{height:this.height/2},{easing:"quadOut"}).call((function(){var t=n.owner.hookCall(null,i,null);n.followingCharacter=i,n.followingCharacterOldX=i.worldPositionX,n.scheduleOnce((function(){n.followingCharacter=null,n.returning=!0}),t)})).start()},o.onPlantHit=function(i){var t,n,o=this;null!=(t=this.owner)&&t.isAlive()||this.fade(),null!=(n=i.inLnC)&&n.zombieShields.some((function(i){var t=-1!=[h.future_infinut_shield,h.modern_moonflower_shield].indexOf(i.ID)&&i.hypno;return t&&o.onZombieHit(i),t}))||(this.linearVelocity=new e,this.gravity=0,this.bodyLinearVelocity=0,l(this).to(this.owner.objdataOwn.DelayBeforeReeling,{height:this.height/2},{easing:"quadOut"}).call((function(){var t=o.owner.hookCall(i,null,null);o.followingCharacter=i,o.followingCharacterOldX=i.worldPositionX,o.scheduleOnce((function(){o.followingCharacter=null,o.returning=!0}),t)})).start())},o.onTombHit=function(i){var t,n=this;null!=(t=this.owner)&&t.isAlive()||this.fade(),this.linearVelocity=new e,this.gravity=0,this.bodyLinearVelocity=0,l(this).to(this.owner.objdataOwn.DelayBeforeReeling,{height:this.height/2},{easing:"quadOut"}).call((function(){n.owner.hookCall(null,null,i);n.followingCharacter=null,n.returning=!0})).start()},n}(r))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/BeachFisherZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./Square.ts","./LnC.ts","./SoundRescourses.ts","./Plants.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./FutureMechFootballZombie.ts"],(function(t){var e,i,o,n,a,s,r,l,h,c,u,d,p,b,f,y,w,m,g,S,k,P,v,C,D,A,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,r=t._decorator,l=t.AudioClip,h=t.Node,c=t.Prefab,u=t.Vec2,d=t.HALF_PI,p=t.Vec3},function(t){b=t.ZombieDamageDetails,f=t.zombieDamageType,y=t.Zombie,w=t.ZombieProps},function(t){m=t.Rectangle},function(t){g=t.Square},function(t){S=t.TileType},function(t){k=t.sounds},function(t){P=t.plants},function(t){v=t.ArrayGet,C=t.instantiatePooly},function(t){D=t.peaShooter},function(t){A=t.CharacterType},function(t){L=t.footballmech}],execute:function(){var Z,j,O,H,R,T,_,z,B,F,I,E,x,q,N,W,M,V,X,K,U,Y,G,Q,J,$,tt,et,it;s._RF.push({},"96664zQuwlA17ss7b6XTld+","BeachFisherZombie",void 0);var ot=r.ccclass,nt=r.property,at=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).PlantablePlants=["tanglekelp","ghostpepper","guacodile"],e.DelayBeforeReeling=.3,e.DelayBetweenCasting=2.5,e.HookDamageToZombies=40,e}return i(e,t),e}(w);t("BeachFisherZombie",(Z=ot("BeachFisherZombie"),j=nt([l]),O=nt([l]),H=nt([l]),R=nt([l]),T=nt([l]),_=nt([l]),z=nt([l]),B=nt([l]),F=nt([l]),I=nt([l]),E=nt(h),x=nt(c),q=nt(h),Z((M=e((W=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new at,e.PlantablePlants=[],e.knockBackable=!1,e.attackCD=0,o(e,"tossSounds",M,n(e)),e.finalWaveVictoryCountdown=0,o(e,"deathSaySounds",V,n(e)),o(e,"headPopSounds",X,n(e)),o(e,"splashSounds",K,n(e)),o(e,"splatSounds",U,n(e)),o(e,"swingSounds",Y,n(e)),o(e,"swingSaySounds",G,n(e)),o(e,"preswingSounds",Q,n(e)),o(e,"pullSounds",J,n(e)),o(e,"hitSounds",$,n(e)),o(e,"hookPoint",tt,n(e)),o(e,"hookPrj",et,n(e)),e._hookSlots=[],e._haveHook=!0,e.hookShot=void 0,e.hookCalled=!1,o(e,"wire",it,n(e)),e}i(e,t);var s=e.prototype;return s.playWalk=function(t){void 0===t&&(t=0),this.walking=!1,this.body.currentAnimationName!=this.body.IdleAnm&&this.playIdle(t)},s.onObjdataSet=function(t){var e,i=this;this.PlantablePlants=[],null==(e=this._objdataOwn.PlantablePlants)||e.forEach((function(t){var e=P.getPlantEnumByString(t,!1);isNaN(e)||i.PlantablePlants.push(e)}))},s.playSandStorm=function(t,e){this.worldPositionX=t,this.playDirtSpawn(0)},s.specialZombieKnockbackable=function(){return!1},s.allowPlantInSquare=function(t){return-1==this.PlantablePlants.indexOf(t)},s.specialZombieUpdateForced=function(t,e,i,o){if(this.wire.active&&this.hookShot){var n=this.hookPointPos,a=new u(this.hookShot.node.worldPosition.x-n.x,this.hookShot.node.worldPosition.y-n.y-n.z),s=90*Math.atan2(a.y,a.x)/d;this.scale<0&&(s=180-s),this.wire.angle=s,this.wire.worldScale=new p(a.length()/25,1,1)}},s.specialZombieUpdate=function(t,e,i){},s.detectPlant=function(t){var e=this;if(0!=t)if(this.inLane){if(this.detectPlantOn()){var i="Attack",o=!1;if(this.attackCD>0)this.attackCD-=t;else if(!this.ignorePlants())for(var n=this.inLnC,a=function(){var t=n.rec;if(e.hypno?(e.inLane.zombiePool().forEach((function(e){o||t.judgeCrossRec(e.bodyRecForShooter)&&(o=!0)})),e.inLane.tombPool().forEach((function(e){o||t.judgeCrossRec(e.bodyRec)&&(o=!0)}))):(n.getAllPlants(!0,!1).forEach((function(t){o||!t.eaterDetectable||t.invincible||t.short||(o=!0)})),e.inLane.hypnoZombiePool().forEach((function(e){o||t.judgeCrossRec(e.bodyRecForShooter)&&(o=!0)}))),o)return 1;(n=e.reversed?n.righter:n.lefter)!=e.inLnC&&n!=(e.reversed?e.inLnC.righter:e.inLnC.lefter)&&(i="AttackStart")};null!=(s=n)&&s.isInLawn();){var s;if(a())break}o?(this.switching=!0,this.body.playAnimation(i,2),this.walking=!1,this.attackCD=this.objdataOwn.DelayBetweenCasting):this.playWalk()}}else this.playWalk()},s.setPlantDetectorRec=function(){this.plantDetectorRec=new m},s.specialZombieOnEnable=function(){this.switching=!1,this.haveHook=!0,this.depthScale=25},s.killOthers=function(){var t,e,i,o=this;null==(t=this.inLnC.gridZombiesInSquare)||t.concat().forEach((function(t){t!=o&&o.isAlive()&&t.playDie()}));var n=!0;null==(e=this.inLnC.getAllPlants())||e.forEach((function(t){t.kill(),t.isAlive()&&(n=!1)})),null==(i=this.inLnC)||null==(i=i.tombStone)||i.die(),n||this.playDie()},s.onLaneSpawnSettled=function(t,e){var i=this;this.worldPositionX=g.getSquareWorldPosition(0,this.reversed?0:8).x,this.judgeInLnC(),this.inLnC.getTileType()==S.water&&this.depth>.8*this.depthScale?(this.body.playAnimation("Spawn",1/0),this.bodyRecHiddenCD=.5,this.switching=!0):(this.playDirtSpawn(0),this.scheduleOnce((function(){i.killOthers()})))},s.beforeSpecialZombieDieForced=function(t,e,i,o,n,a,s){this.oldTT==S.water&&this.depth>.8*this.depthScale?this.body.DeathAnm=v.getRandom(["Death_Water","Death_Water2"]):this.body.DeathAnm="Death"},s.onPutDirectly=function(t){var e=this;this.judgeInLnC(),this.dirtSpawning&&this.endDirtSpawn(),this.inLnC.getTileType()==S.water&&this.depth>.8*this.depthScale?(this.body.playAnimation("Spawn",1/0),this.bodyRecHiddenCD=.5,this.switching=!0):(this.playDirtSpawn(0),this.scheduleOnce((function(){e.killOthers()})))},s.onDirtSpawned=function(t){this.playIdle(0),this.switching=!1},s.playSpecialZombieDie=function(t){this.judgeDeath(0),k.playArray(this.headPopSounds,1,.1),k.playArray(this.deathSaySounds,1,.1)},s.playSpecialZombieDieForced=function(){this.removeFromLnC(this.inLnC),this.hookShot&&(this.hookShot.fade(),this.hookShot=null),this.haveHook=!0},s.removeFromLnC=function(t){if(t){var e=t.gridZombiesInSquare.indexOf(this);-1!=e&&t.gridZombiesInSquare.splice(e,1),t.readIndex()}},s.specialZombieOnSquareChange=function(t,e){this.removeFromLnC(t),e&&this.isAlive()&&(-1==e.gridZombiesInSquare.indexOf(this)&&e.gridZombiesInSquare.push(this),e.readIndex())},s._hit=function(){var t,e=this,i=!1,o=this.reversed?this.inLnC.righter:this.inLnC.lefter;[this.inLnC,o].forEach((function(t){if(!i&&t.isInLawn()){var o=t.rec;e.hypno?(e.inLane.zombiePool().forEach((function(t){i||o.judgeCrossRec(t.bodyRecForShooter)&&(t.objdataOwn.CannotBeTossedByCitron?(t.dealDamage(new b(e.objdataOwn.HookDamageToZombies)),i=!0):(t.tossAway(),k.playArray(e.tossSounds,1,.1),i=!0))})),e.inLane.tombPool().forEach((function(t){i||o.judgeCrossRec(t.bodyRec)&&(t.dealDamage(e.objdataOwn.HookDamageToZombies),i=!0)}))):e.inLane.hypnoZombiePool().forEach((function(t){i||o.judgeCrossRec(t.bodyRecForShooter)&&(t.objdataOwn.CannotBeTossedByCitron?(t.dealDamage(new b(e.objdataOwn.HookDamageToZombies)),i=!0):(t.tossAway(),k.playArray(e.tossSounds,1,.1),i=!0))}))}})),i||null!=(t=this.inLnC)&&t.isInLawn()&&(this.inLnC.getAllPlants().forEach((function(t){t.invincible||!t.eaterDetectable||t.short||t.sheepend||(i=!0,t.objdataOwn.CannotBePushedByFootballMech?t.dealDamage(e.objdataOwn.HookDamageToZombies,0):t.throwAway(e.reversed,e))})),i||null!=o&&o.isInLawn()&&o.getAllPlants().forEach((function(t){t.invincible||!t.eaterDetectable||t.short||(i=!0,t.objdataOwn.CannotBePushedByFootballMech?t.dealDamage(e.objdataOwn.HookDamageToZombies,0):t.throwAway(e.reversed,e))})))},s.specialAnimationListener=function(t){"splat"==t.name?k.playArray(this.splatSounds,1,.1):"hit"==t.name?(this._hit(),k.playArray(this.hitSounds,1,.1)):"swing"==t.name?(k.playArray(this.swingSounds,1,.1),k.playArray(this.swingSaySounds,1,.1)):"preswing"==t.name?k.playArray(this.preswingSounds,1,.1):"pull"==t.name?k.playArray(this.pullSounds,1,.1):"splash"==t.name?(k.playArray(this.splashSounds,1,.1),this.killOthers()):"attackLP"==t.name?this.body.playAnimation("AttackLoop",1/0):"Shoot"==t.name?this._shoot():"dive"==t.name&&(this.depthScale*=2)},s.lockedTimeScale=function(){return this.haveHook?NaN:1},s.specialZombieOnLoad=function(){var t=this;this.body.body.armature().getSlots().forEach((function(e){e.name.includes("_HK")&&t._hookSlots.push(e)}))},s._shoot=function(){this.hookShot&&(this.hookShot.fade(),this.hookShot=null),this.haveHook=!1;var t=C(this.hookPrj),e=this.hookPointPos,i=D.shootOnePea(t,e.toVec2(),e.z,this.inLane.prjLayer,new u(15*(this.reversed?1:-1),0),this.hypno?A.zombie:A.plant);i.returning=!1,this.hookShot=i,i.owner=this,i.scale=-this.scale,this.hookCalled=!1},s.hookCall=function(t,e,i){if(this.isAlive()){var o=0;return t?(this.reversed?L.pushPlantLeft(t,0):L.pushPlantRight(t,0),o=.5):e?(o=.5,e.knockBackable&&e.knockBackBy(new u(this.reversed?-1:1),!1,o,!0,!0,!1),e.dealDamage(new b(this.objdataOwn.HookDamageToZombies,!0,!0,!0,null,f.physicle))):i&&(o=0,i.dealDamage(this.objdataOwn.HookDamageToZombies)),this.hookCalled||this.body.playAnimation("AttackEnd",1/0),this.hookCalled=!0,this.switching=!0,o}},s.catch=function(){this.haveHook=!0,this.hookShot=null},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"hookPointPos",get:function(){return new p(this.hookPoint.worldPosition.x,this.worldPositionY,this.hookPoint.worldPosition.y-this.worldPositionY)}},{key:"haveHook",get:function(){return this._haveHook},set:function(t){this._hookSlots.forEach((function(e){e._setDisplayIndex(t?0:-1)})),this.wire.active=!t,this._haveHook!=t&&(this.wire.scale=new p(.01,1,1)),this._haveHook=t}}]),e}(y)).prototype,"tossSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=e(W.prototype,"deathSaySounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=e(W.prototype,"headPopSounds",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=e(W.prototype,"splashSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=e(W.prototype,"splatSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=e(W.prototype,"swingSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=e(W.prototype,"swingSaySounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=e(W.prototype,"preswingSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=e(W.prototype,"pullSounds",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=e(W.prototype,"hitSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tt=e(W.prototype,"hookPoint",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(W.prototype,"hookPrj",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=e(W.prototype,"wire",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=W))||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/BeachGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./LnC.ts","./Zombies.ts"],(function(a){var e,n,t,i,r,o,u;return{setters:[function(a){e=a.inheritsLoose},function(a){n=a.cclegacy,t=a._decorator},function(a){i=a.GargantuarZombie,r=a.GargantuarProps},function(a){o=a.TileType},function(a){u=a.ZombieEnum}],execute:function(){var c;n._RF.push({},"2d5a0r9PuxDq5blstEJY+YY","BeachGargantuarZombie",void 0);var l=t.ccclass,s=(t.property,function(a){function n(){for(var e,n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return(e=a.call.apply(a,[this].concat(t))||this).SpeedScaleOnLand=.9,e.TakingDamageScaleOnLand=.9,e}return e(n,a),n}(r));a("BeachGargantuarZombie",l("BeachGargantuarZombie")(c=function(a){function n(){for(var e,n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return(e=a.call.apply(a,[this].concat(t))||this)._objdataOwn=new s,e.impEnum=u.beach_imp,e}e(n,a);var t=n.prototype;return t.shouldSpeedScale=function(){var a,e=1;return(null==(a=this.inLnC)?void 0:a.getTileType())!=o.water&&(e=this._objdataOwn.SpeedScaleOnLand),e*this.defaultShouldSpeedScale()},t.specialZombieOnSquareChangeForce=function(a,e){this.displayed&&(this.oldTileType=null==e?void 0:e.getTileType(),this.shouldMaterial())},t.additionalSatuation=function(){return this.oldTileType==o.water?0:-.4},t.specialDamageScale=function(a){var e,n=1;return(null==(e=this.inLnC)?void 0:e.getTileType())!=o.water&&(n=this._objdataOwn.TakingDamageScaleOnLand),n},n}(i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/BeachOctopusZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./CharacterManager.ts","./CabbagePult.ts","./NodePools.ts","./Character.ts","./DarkWizardZombie.ts"],(function(t){var e,i,n,a,o,r,s,l,h,u,c,d,p,b,f,w,g,P,y,m,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.AudioClip,h=t.Node,u=t.Prefab,c=t.Vec2},function(t){d=t.ZombieDamageDetails,p=t.Zombie,b=t.ZombieProps},function(t){f=t.sounds},function(t){w=t.PlantPool},function(t){g=t.cabbagePult},function(t){P=t.ArrayGet,y=t.instantiatePooly},function(t){m=t.CharacterType},function(t){v=t.wizard}],execute:function(){var S,C,j,A,L,_,O,k,T,D,B,R,F,I,z,Z,E,x,N;r._RF.push({},"cb460uuv6NA1qCmD9ySEF9c","BeachOctopusZombie",void 0);var X=s.ccclass,M=s.property,W=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).TimeBeforeFirst=7,e.TimeBeforeFirstAdditional=2,e.TimeBetween=11,e.TimeBetweenAdditional=3,e}return i(e,t),e}(b);t("BeachOctopusZombie",(S=X("BeachOctopusZombie"),C=M([l]),j=M([l]),A=M([l]),L=M([l]),_=M([l]),O=M([l]),k=M(h),T=M(u),S((R=e((B=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new W,n(e,"walkSounds",R,a(e)),n(e,"moveSounds",F,a(e)),n(e,"grabSounds",I,a(e)),n(e,"swingSounds",z,a(e)),n(e,"throwSaySounds",Z,a(e)),n(e,"reloadSounds",E,a(e)),e._targetPlant=null,e.throwing=!1,n(e,"prjFrom",x,a(e)),n(e,"octupusPrj",N,a(e)),e.throwCD=0,e}i(e,t);var r=e.prototype;return r.specialAnimationListener=function(t){switch(t.name){case"walk":f.playArray(this.walkSounds,1,NaN);break;case"move":f.playArray(this.moveSounds,1,NaN);break;case"grab":f.playArray(this.grabSounds,1,.1);break;case"swing":this.isAlive()&&(f.playArray(this.swingSounds,1,.2),f.playArray(this.throwSaySounds,1,.2));break;case"throw":this.isAlive()&&(this._throw(),this.throwCD=this._objdataOwn.TimeBetween+this._objdataOwn.TimeBetweenAdditional*Math.random());break;case"reload":f.playArray(this.reloadSounds,1,.2)}},r.getTargetPlantRight=function(){var t=this,e=null,i=-1/0,n=[],a=[];w.pool().forEach((function(e){-1==n.indexOf(e.plantInLnC)&&(v.getPlantCanbeSheepened(e,!0)?e.worldPositionX<=t.worldPositionX&&a.push(e):n.push(e.plantInLnC))}));var o=1/0;return P.randomize(a).forEach((function(n){var a=Math.abs(n.lIndex-t.lIndex);a<o&&(i=-1/0),a<=o&&n.worldPositionX>i&&(e=n,o=a,i=n.worldPositionX)})),e},r.getTargetPlantLeft=function(){var t=this,e=null,i=1/0,n=[],a=[];w.pool().forEach((function(e){-1==n.indexOf(e.plantInLnC)&&(v.getPlantCanbeSheepened(e,!0)?e.worldPositionX>=t.worldPositionX&&a.push(e):n.push(e.plantInLnC))}));var o=1/0;return P.randomize(a).forEach((function(n){var a=Math.abs(n.lIndex-t.lIndex);a<o&&(i=1/0),a<=o&&n.worldPositionX<i&&(e=n,o=a,i=n.worldPositionX)})),e},r.detectPlant=function(t){var e=this;if(this.hypno)this.defaultDetectPlant(t);else{if(0==t)return;if(!this.inLane)return void this.playWalk();if(!this.detectPlantOn())return;var i=this.plantDetectorRec,n=null,a=null;if(!this.ignorePlants()){var o,r;null==(o=this.inLane)||o.plantPool().forEach((function(t){t.eaterDetectable&&e.plantEatAllowed(t)&&i.judgeCrossRec(t.bodyRec)&&(n=t)}));var s=-1/0;null==(r=this.inLane)||r.hypnoZombiePool().forEach((function(t){var e=t.bodyRec.prjX().y;e>s&&i.judgeCrossRec(t.bodyRec)&&(s=e,a=t)}))}var l=new d(this.dps*t,!0,!1,!1,null);if(a)a.eatByZombie(l,this),this.playEat(t);else if(n){var h,u=n.plantInLnC,c=!0;null==u||null==(h=u.getAllPlants())||h.forEach((function(t){c&&(v.getPlantCanbeSheepened(t,!0)||(c=!1))})),c?(this._targetPlant=n,this.attackAnm()):(n.eat(this.dps*t,this),this.playEat(t))}else this.allowWalk()?this.playWalk():(this.walking||this.eating)&&this.playIdle()}},r.specialPotionInvisibleInvalid=function(){return this.throwing},r.attackAnm=function(){this.correctShadeWP(),this.throwing=!0,this.walking=!1,this.switching=!0,this.body.playAnimation("Throw",1/0,.2)},r._throw=function(){var t,e,i;if(null!=(t=this._targetPlant)&&t.isAlive()&&v.getPlantCanbeSheepened(this._targetPlant)||(this._targetPlant=this.reversed?this.getTargetPlantLeft():this.getTargetPlantRight()),null!=(e=this._targetPlant)&&e.isAlive()){var n=y(this.octupusPrj),a=40;this._targetPlant.lIndex==this.lIndex&&this.plantDetectorRec.judgeCrossRec(this._targetPlant.bodyRec)&&(a/=4),i=g.lobOneCabbageOnNode(n,new c(this.prjFrom.worldPosition.x,this.worldPositionY),this.prjFrom.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,this._targetPlant.node,1,m.plant,!1,a)}else if(this.inLane){var o=y(this.octupusPrj);i=g.lobOneCabbageOnNode(o,new c(this.prjFrom.worldPosition.x,this.worldPositionY),this.prjFrom.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,this.reversed?this.inLane.toRight:this.inLane.toLeft,1,m.plant,!1,40)}i&&(i.scale=this.scale)},r.specialZombieOnEnable=function(){this.throwing=!1,this.throwCD=this._objdataOwn.TimeBeforeFirst+this._objdataOwn.TimeBeforeFirstAdditional*Math.random()},r.animationOnLPComplete=function(){this.throwing=!1},r.onObjdataSet=function(t){this.throwCD=this._objdataOwn.TimeBeforeFirst+this._objdataOwn.TimeBeforeFirstAdditional*Math.random()},r.specialZombieUpdate=function(t,e,i){if(!this.switching&&this.walking&&this.enteredLawn&&!this.hypno)if(this.throwCD>0)this.throwCD-=t;else{var n=this.reversed?this.getTargetPlantLeft():this.getTargetPlantRight();n&&(this._targetPlant=n,this.attackAnm())}},o(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(p)).prototype,"walkSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=e(B.prototype,"moveSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(B.prototype,"grabSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=e(B.prototype,"swingSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=e(B.prototype,"throwSaySounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=e(B.prototype,"reloadSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=e(B.prototype,"prjFrom",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(B.prototype,"octupusPrj",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=B))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/BeachSnorkelZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./CharacterManager.ts","./LnC.ts"],(function(i){var e,t,n,r,o,s,a,c,u,l,p,h;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized,o=i.createClass},function(i){s=i.cclegacy,a=i._decorator,c=i.AudioClip},function(i){u=i.Zombie},function(i){l=i.sounds},function(i){p=i.Rectangle},function(i){h=i.TileType}],execute:function(){var d,g,f,v,y,b,S;s._RF.push({},"44854BBuYdM0KttMPmk7Cfj","BeachSnorkelZombie",void 0);var m=a.ccclass,k=a.property;i("BeachSnorkelZombie",(d=m("BeachSnorkelZombie"),g=k([c]),f=k([c]),d((b=e((y=function(i){function e(){for(var e,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return e=i.call.apply(i,[this].concat(o))||this,n(e,"stepSounds",b,r(e)),n(e,"appearSounds",S,r(e)),e._diving=!1,e}t(e,i);var s=e.prototype;return s.specialAnimationListener=function(i){"step"==i.name&&(this.diving||l.playArray(this.stepSounds,.4,NaN,.5))},s.enterWater=function(){this.diving=this.walking},s.exitWater=function(){this.diving=!1},s.specialZombieOnEnable=function(){this.diving=!1},s.specialZombieUpdate=function(i,e,t){t>0&&!this.dirtSpawning&&(this.inLnC.tileType==h.water?this.walking&&!this.diving?this.diving=!0:!this.walking&&this.diving&&(this.diving=!1):this.diving&&(this.diving=!1))},o(e,[{key:"diving",get:function(){return this._diving},set:function(i){i!=this._diving&&(i||l.playArray(this.appearSounds,1,NaN,.5),this.depthScale=i?50:25),this._diving=i}},{key:"bodyRecForShooter",get:function(){return this.depth>40?new p:this.bodyRec}}]),e}(u)).prototype,"stepSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=e(y.prototype,"appearSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=y))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/BeachSurfboardSpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./Square.ts","./Character.ts","./Tombs.ts","./SoundRescourses.ts","./NodePools.ts","./CharacterManager.ts"],(function(t){var e,r,a,n,o,i,s,l,c,u,d,h,b,f,p,S,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){i=t.cclegacy,s=t._decorator,l=t.Prefab,c=t.AudioClip,u=t.Vec3},function(t){d=t.ParticleSelfdestroy},function(t){h=t.Square},function(t){b=t.Character},function(t){f=t.TombEnum},function(t){p=t.sounds},function(t){S=t.instantiatePooly},function(t){y=t.Umbrellas}],execute:function(){var P,g,m,v,w,_,B;i._RF.push({},"9e2b7lOktFHPZ6XL4NZv+EG","BeachSurfboardSpawner",void 0);var H=s.ccclass,L=s.property;t("BeachSurfboardSpawner",(P=H("BeachSurfboardSpawner"),g=L(l),m=L([c]),P((_=e((w=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).toughness=700,e._bdSlot=void 0,e._bdHealth=700,e.character=void 0,a(e,"bdBreakPar",_,n(e)),a(e,"bdDestructionSounds",B,n(e)),e}r(e,t);var i=e.prototype;return i.specialBeforeSelfDestroy=function(){this._stab()},i.specialOnLoad=function(){this.character=this.getComponent(b),this._bdSlot=this.db.armature().getSlot("MAIN")},i._stab=function(){var t=this;if(this.character&&!(this.bdHealth<=0)){var e=this.character.worldPositionX,r=h.judgeCIndex(e),a=h.getLnC(this.character.lIndex,r),n=!0;if(null!=a&&a.isInLawn()||(n=!1),n&&a.getAllPlants().forEach((function(t){n&&t.cannotBeKilledBySurfboard()&&(n=!1)})),n&&y.umbrellas.forEach((function(e){n&&e.owner.umbrellable()&&e.detector.judgeInRec(t.character.worldPositionX,t.character.worldPositionY)&&(n=!1,e.owner.umbrella())})),n){var o;null==(o=a.tombStone)||o.die(),a.getAllPlants().forEach((function(t){var e;t.die(),null==(e=t.node)||e.setParent(a.inLane.tombLayer,!0)}));var i=a.addTomb(f.surfboard,!1,!1,!1);i?(i.health=this.bdHealth,i.onDamaged(this.bdHealth,this.bdHealth,!1)):n=!1}if(!n){p.playArray(this.bdDestructionSounds,1,.1);var s=S(this.bdBreakPar);s.parent=this.character.inLane.prjLayer,s.worldPosition=new u(e,this.character.worldPositionY,0),s.getComponent(d).db.playAnimation("Play4")}this.bdHealth=0}},o(e,[{key:"bdHealth",get:function(){return this._bdHealth},set:function(t){var e,r=-1,a=this.toughness;t>=a?r=0:t>=a/4*3?r=1:t>=a/2?r=2:t>=a/4?r=3:t>0&&(r=4),null==(e=this._bdSlot)||e._setDisplayIndex(r),this._bdHealth=t}}]),e}(d)).prototype,"bdBreakPar",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(w.prototype,"bdDestructionSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=w))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/BeachSurferZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Square.ts","./Plants.ts","./Zombies.ts","./SoundRescourses.ts","./FrontYard.ts","./Tombs.ts","./NodePools.ts","./ParticleSelfdestroy.ts","./CharacterManager.ts","./BeachSurfboardSpawner.ts"],(function(t){var i,e,n,a,o,r,l,s,u,h,d,c,b,f,p,m,y,g,S,w,P,A,_,B,k,D,v;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,l=t._decorator,s=t.Prefab,u=t.AudioClip,h=t.Node,d=t.Vec2,c=t.Vec3,b=t.tween},function(t){f=t.ZombieDamageDetails,p=t.zombieDamageType,m=t.Zombie,y=t.ZombieProps},function(t){g=t.Square},function(t){S=t.plants},function(t){w=t.zombies},function(t){P=t.sounds},function(t){A=t.FrontYard},function(t){_=t.TombEnum},function(t){B=t.instantiatePooly},function(t){k=t.ParticleSelfdestroy},function(t){D=t.Rectangle},function(t){v=t.BeachSurfboardSpawner}],execute:function(){var H,Z,z,L,R,E,I,O,j,W,C,x,T,F,X,N,Y,M,q,K,V,U,G,J,Q,$,tt,it,et;r._RF.push({},"74fccahKp5DfKfNEPaaN4eO","BeachSurferZombie",void 0);var nt=l.ccclass,at=l.property,ot=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(i=t.call.apply(t,[this].concat(n))||this).BoardToughness=700,i.SwimSpeedMultiplier=3,i.DamageOnStabbing=1500,i.PlantBlockers=["tallnut"],i.ZombieBlockers=["future_protector_shield","future_infinut_shield"],i}return e(i,t),i}(y);t("BeachSurferZombie",(H=nt("BeachSurferZombie"),Z=at(s),z=at(s),L=at([u]),R=at([u]),E=at(h),I=at([u]),O=at([u]),j=at([u]),W=at([u]),C=at([u]),x=at([u]),T=at([u]),F=at([u]),H((Y=i((N=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(i=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new ot,i.PlantBlockers=[],i.ZombieBlockers=[],n(i,"bdBreakPar",Y,a(i)),n(i,"bdSpawnerPar",M,a(i)),n(i,"bdDestructionSounds",q,a(i)),n(i,"bdSwingSounds",K,a(i)),n(i,"stabPoint",V,a(i)),i._surfing=!1,i._bdSlots=[],i._bdHealth=700,n(i,"bdHitSounds",U,a(i)),n(i,"bdBreakSounds",G,a(i)),n(i,"appearSounds",J,a(i)),n(i,"fallSounds",Q,a(i)),n(i,"fallSlideSounds",$,a(i)),n(i,"deathFallSounds",tt,a(i)),n(i,"deathSlideSounds",it,a(i)),n(i,"laughSounds",et,a(i)),i}e(i,t);var r=i.prototype;return r.onLaneSpawnSettled=function(t,i){!this.displayed&&this.worldPositionX>A.tideX()&&(this.surfing=!0,this.replayAnimation())},r.onPutDirectly=function(t){this.surfing=!this.displayed&&this.worldPositionX>A.tideX(),this.replayAnimation()},r.walkTimeScale=function(t,i,e){return this.surfing?e:t/i/Math.abs(this.scale)},r.specialZombieOnEnable=function(){this.surfing=!1},r.onDirtSpawned=function(t){this.surfing=!1,this.playIdle()},r.onObjdataSet=function(t){var i=this;this.bdHealth=t.BoardToughness,this.PlantBlockers=[],t.PlantBlockers.forEach((function(t){i.PlantBlockers.push(S.getPlantEnumByString(t))})),this.ZombieBlockers=[],t.ZombieBlockers.forEach((function(t){i.ZombieBlockers.push(w.getZombieEnumByString(t))}))},r.canPlayAshNow=function(){return!this.surfing},r.detectPlant=function(t){var i=this;if(0!=t)if(this.inLane){if(this.detectPlantOn())if(this.bdHealth>0){var e,n,a,o,r=this.plantDetectorRec,l=null,s=null,u=null;if(!this.ignorePlants())if(this.hypno)this.inLane.zombiePool().forEach((function(t){s||r.judgeCrossRec(t.bodyRec)&&(s=t)})),this.inLane.tombPool().forEach((function(t){u||t.bodyRec.judgeCrossRec(r)&&(u=t)}));else null==(e=this.inLane)||e.plantPool().forEach((function(t){l||t.eaterDetectable&&r.judgeCrossRec(t.bodyRec)&&(l=t)})),null==(n=this.inLane)||n.hypnoZombiePool().forEach((function(t){s||t!=i&&r.judgeCrossRec(t.bodyRec)&&(s=t)}));if(this.surfing)-1==this.PlantBlockers.indexOf(null==(a=l)?void 0:a.ID)&&-1==this.ZombieBlockers.indexOf(null==(o=s)?void 0:o.ID)||this.playFallIntoWater();else(l||u||s)&&(this.switching=!0,this.walking=!1,this.correctShadeWP(),this.body.playAnimation("Stab",2,.1))}else this.defaultDetectPlant(t)}else this.playWalk()},r._stab=function(){var t=this;if(!(this.bdHealth<=0)){var i=this.stabPoint.worldPosition.x,e=g.judgeCIndex(i),n=g.getLnC(this.lIndex,e),a=!0;if(null!=n&&n.isInLawn()||(a=!1),a&&n.getAllPlants().forEach((function(t){a&&t.cannotBeKilledBySurfboard()&&(a=!1)})),a){var o;null==(o=n.tombStone)||o.die(),n.getAllPlants().forEach((function(t){var i;t.die(),null==(i=t.node)||i.setParent(n.inLane.tombLayer,!0)}));var r=n.addTomb(_.surfboard,!1,!1,!1);if(r){r.health=this.bdHealth,r.onDamaged(this.bdHealth,this.bdHealth,!1);var l=D.createRectangleCenter(new d(i,this.worldPositionY+this.plantDetectorRecOffset.y),this.plantDetectorRecSize.width,this.plantDetectorRecSize.height);(this.hypno?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).forEach((function(i){l.judgeCrossRec(i.bodyRecReal)&&i.dealDamage(new f(t._objdataOwn.DamageOnStabbing,!0,!0,!0,null,p.physicle))}))}else a=!1}if(!a){P.playArray(this.bdDestructionSounds,1,.1);var s=B(this.bdBreakPar);s.parent=this.inLane.prjLayer,s.worldPosition=new c(i,this.worldPositionY,0),s.getComponent(k).db.playAnimation("Play4")}this.bdHealth=0}},r._throw=function(){P.playArray(this.bdSwingSounds,2,.1);var t=B(this.bdSpawnerPar);t.parent=this.node.parent;var i=t.getComponent(v);i.bdHealth=this.bdHealth;var e=i.character,n=this.stabPoint.worldPosition.x;e.worldPositionX=this.shadeWorldPosition.x,e.worldPositionY=this.worldPositionY,e.height_depth=this.height_depth,e.scale=this.scale;var a=g.judgeCIndex(n),o=g.getLnC(this.lIndex,a);null!=o&&o.isInLawn()&&b(e).to(.6,{worldPositionX:o.node.worldPosition.x},{easing:"quadOut"}).start(),this.bdHealth=0},r.playSpecialZombieDie=function(t){this.surfing?(this.judgeDeath(0),P.playArray(this.deathSlideSounds,2,.1)):this.bdHealth>0&&this._throw()},r.specialAnimationListener=function(t){"stab"==t.name?this._stab():"appear"==t.name?(this.surfing=!1,P.playArray(this.appearSounds,1,.1)):"fall"==t.name?P.playArray(this.fallSounds,1,.1):"death_splash"==t.name?P.playArray(this.deathFallSounds,1,.1):"laugh"==t.name&&P.playArray(this.laughSounds,1)},r.specialZombieOnLoad=function(){var t=this;this.body.body.armature().getSlots().forEach((function(i){i.name.includes("BOARD")&&t._bdSlots.push(i)}))},r.walkSpeedScaleExtra=function(){return this.surfing?this.objdataOwn.SwimSpeedMultiplier:1},r.commonShotPopOnTouch=function(t){return!(this.bdHealth>0&&!this.surfing&&t.bodyLinearVelocity<0)||(this.bdHealth-=t.damage_*t.damageScale,t.splat(this),t.dealSplashDamage(this,null),P.playArray(this.bdHitSounds,1,NaN),this._bdSlots.forEach((function(t){var i;null==t||null==(i=t.childArmature)||null==(i=i.animation)||i.play("Play",1)})),this.bdHealth<=0&&(P.playArray(this.bdBreakSounds,1,.1),this.switching||this.walking&&this.replayAnimation()),!1)},r.playFallIntoWater=function(){this.switching=!0,this.walking=!1,this.correctShadeWP(),this.body.playAnimation("Fall",2),P.playArray(this.fallSlideSounds,1,.1)},r.specialZombieUpdate=function(t,i,e){this.surfing&&this.walking&&this.worldPositionX<A.tideX()&&this.playFallIntoWater(),e<=0&&this._bdSlots.forEach((function(t){var e,n=null==(e=t.childArmature)?void 0:e.animation;if(n){var a=n.lastAnimationState.currentTime+i;a<n.lastAnimationState.totalTime&&n.gotoAndPlayByTime(n.lastAnimationState.name,a)}}))},r.setAnimation=function(t,i){t?i?(this.body.WalkAnm="Walk_Water",this.body.DeathAnm="Death_Water",this.body.IdleAnm="Walk_Water"):(this.body.WalkAnm="Walk_Board",this.body.DeathAnm="Death_Board",this.body.IdleAnm="Idle_Board"):(this.body.WalkAnm="Walk",this.body.DeathAnm="Death",this.body.IdleAnm="Idle")},o(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"surfing",get:function(){return this._surfing},set:function(t){this.bdHealth>0?this.setAnimation(!0,t):(t=!1,this.setAnimation(!1,!1)),this.shadeAlphaScale=t?0:1,this._surfing=t,this.depthScale=t?-1:25}},{key:"bdHealth",get:function(){return this._bdHealth},set:function(t){var i=-1,e=this._objdataOwn.BoardToughness;t>=e?i=0:t>=e/4*3?i=1:t>=e/2?i=2:t>=e/4?i=3:t>0&&(i=4),this._bdSlots.forEach((function(t){var e;null==t||null==(e=t.childArmature)||null==(e=e.getSlots())||e.forEach((function(t){t._setDisplayIndex(i)}))})),this.setAnimation(t>0,this.surfing),this._bdHealth=t}}]),i}(m)).prototype,"bdBreakPar",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(N.prototype,"bdSpawnerPar",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=i(N.prototype,"bdDestructionSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=i(N.prototype,"bdSwingSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=i(N.prototype,"stabPoint",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(N.prototype,"bdHitSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=i(N.prototype,"bdBreakSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=i(N.prototype,"appearSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=i(N.prototype,"fallSounds",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=i(N.prototype,"fallSlideSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tt=i(N.prototype,"deathFallSounds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),it=i(N.prototype,"deathSlideSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),et=i(N.prototype,"laughSounds",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=N))||X));r._RF.pop()}}}));

System.register("chunks:///_virtual/BeachZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./SoundRescourses.ts","./levelController.ts","./NodePools.ts","./Square.ts","./LnC.ts","./Plants.ts","./Zombie.ts","./FutureMechFootballZombie.ts","./BeachZombossShark.ts"],(function(e){var n,t,i,o,a,r,s,l,u,h,d,c,p,S,f,b,y,m,g,w,v,k,A,P,L;return{setters:[function(e){n=e.inheritsLoose,t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Prefab,l=e.AudioClip,u=e.Vec2,h=e.Vec3,d=e.assetManager,c=e.tween},function(e){p=e.ZombossStage,S=e.ZombossMechZombie},function(e){f=e.sounds},function(e){b=e.LevelPlay},function(e){y=e.instantiatePooly,m=e.NodePools,g=e.ArrayGet},function(e){w=e.Square},function(e){v=e.TileType},function(e){k=e.PlantEnum},function(e){A=e.zombieDamageType},function(e){P=e.footballmech},function(e){L=e.BeachZombossShark}],execute:function(){var D,I,x,Z,z,C,M,T,E,_,R,F,O,B,W,X,j,q,H,U,K,N,V,G,Y,J,Q,$,ee,ne,te,ie,oe,ae,re,se,le,ue,he,de,ce,pe,Se,fe,be,ye,me,ge,we,ve,ke,Ae,Pe,Le,De,Ie,xe,Ze,ze,Ce,Me,Te,Ee,_e,Re,Fe,Oe,Be,We,Xe,je,qe;a._RF.push({},"c2003Ex2clBtbcaDrS5bTAk","BeachZombossMechZombie",void 0);var He=r.ccclass,Ue=r.property,Ke=e("BeachZombossStage",He("BeachZombossStage")(D=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t}(p))||D);e("BeachZombossMechZombie",(I=He("BeachZombossMechZombie"),x=Ue(s),Z=Ue(s),z=Ue([Ke]),C=Ue([Ke]),M=Ue([l]),T=Ue(l),E=Ue([l]),_=Ue(s),R=Ue([l]),F=Ue([l]),O=Ue([l]),B=Ue(l),W=Ue([l]),X=Ue([l]),j=Ue([l]),q=Ue([l]),H=Ue([l]),U=Ue([l]),K=Ue([l]),N=Ue([l]),V=Ue([l]),G=Ue([l]),Y=Ue([l]),J=Ue(l),Q=Ue(l),$=Ue(l),ee=Ue([l]),ne=Ue([l]),te=Ue([l]),ie=Ue(l),oe=Ue(l),ae=Ue(l),re=Ue(l),se=Ue(s),I((he=t((ue=function(e){function t(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=e.call.apply(e,[this].concat(a))||this,i(n,"divingDirtPF",he,o(n)),n.divingDirt=void 0,i(n,"sharkPF",de,o(n)),n.sharks=[],i(n,"mechStages",ce,o(n)),i(n,"mech2Stages",pe,o(n)),i(n,"coughStartSounds",Se,o(n)),i(n,"coughLoopSound",fe,o(n)),i(n,"plantCutSounds",be,o(n)),i(n,"plantCutParticle",ye,o(n)),i(n,"summonSharkSaySounds",me,o(n)),i(n,"rushStartSounds",ge,o(n)),i(n,"rushStartSharkSaySounds",we,o(n)),i(n,"rushLoopSound",ve,o(n)),i(n,"rushEndSounds",ke,o(n)),i(n,"splashSounds",Ae,o(n)),i(n,"cutSounds",Pe,o(n)),i(n,"coughSounds",Le,o(n)),i(n,"deathSharkSaySounds",De,o(n)),i(n,"teethFallSounds",Ie,o(n)),i(n,"teethFallSharkSaySounds",xe,o(n)),i(n,"diveSounds",Ze,o(n)),i(n,"appearSounds",ze,o(n)),i(n,"diveSharkSaySounds",Ce,o(n)),i(n,"appearSharkSaySounds",Me,o(n)),i(n,"fanAppearSound",Te,o(n)),i(n,"igniteSound",Ee,o(n)),i(n,"fanHideSound",_e,o(n)),i(n,"hitSounds",Re,o(n)),i(n,"mouthMoveSounds",Fe,o(n)),i(n,"mouthMoveSmallSounds",Oe,o(n)),i(n,"introDiveSound",Be,o(n)),i(n,"introAppearSound",We,o(n)),i(n,"introAppearSharkSaySound",Xe,o(n)),i(n,"stunStartSharkSaySound",je,o(n)),i(n,"suctionSplash",qe,o(n)),n._followedSplashes=[],n.willLandPos=new u(6,1),n.jumpTargetPoses=[new u(6,1),new u(6,2),new u(6,3),new u(6,4)],n.walkEasing="quadInOut",n.WalksLeftOrRight=!1,n.walksWhenRushing=!1,n.rushInteruptDMG=1e3,n.currentMechStages=[],n}n(t,e);var a=t.prototype;return a.specialZombossOnDisable=function(){var e;(null==(e=this.moveTween)||e.stop(),this.moveTween=null,this.divingDirt)&&(this.divingDirt.destroy(),this.divingDirt=null)},a.specialZombossUpdateForce=function(e,n,t,i){if(this.rushTween||this._followSplashes([]),i!=v.floor&&i!=v.deck||!this.shade){if(this.divingDirt){var o,a=this.divingDirt;this.divingDirt=null,null==(o=b.component)||o.scheduleOnce((function(){m.destroyPooly(a)}))}}else this.divingDirt||(this.divingDirt=y(this.divingDirtPF)),this.divingDirt.setParent(this.node.parent,!0),this.divingDirt.setSiblingIndex(this.node.getSiblingIndex()+1),this.divingDirt.worldPosition=this.shade.node.worldPosition,this.divingDirt.scale=this.shade.node.scale},a.specialZombossDieForce=function(){this._followSplashes([]),this.sharks.concat().forEach((function(e){e.kill=!0})),this.sharks=[]},a.specialZombossUpdate=function(e,n,t){this.rushTween?this._followSplashes(this.reversed?this._pullLeft(n):this._pullRight(n)):this._followSplashes([])},a.specialZombossMechBeforeRushInteruptStun=function(){this.specialZombossMechBeforeChangeStageStun()},a.specialZombossMechBeforeChangeStageStun=function(){this.StunStartAnmName="StunStart",this.StunEndAnmName="StunEnd",this._currentStunLoopSound=this.worldZombossStunLoopSound},a.jumpStart=function(e){void 0===e&&(e=this.getJumpTarget()),this.jump(e)},a.coughStart=function(){this.rushInterupt(!1),this.StunStartAnmName="CoughStart",this.StunEndAnmName="CoughEnd",this._currentStunLoopSound=this.coughLoopSound,this.stunStart(this.currentMechStages[this.currentStage].StunTime,1,0)},a.specialZombossMechAnimationListener=function(e){var n=this;switch(e.name){case"splashSound":f.playArray(this.splashSounds,1,.1);break;case"splashSmallSound":f.playWaterSplash();break;case"hitSound":f.playArray(this.hitSounds,1,.1);break;case"mouthMoveSound":f.playArray(this.mouthMoveSounds,1,.1);break;case"mouthMoveSmallSound":f.playArray(this.mouthMoveSmallSounds,1,.1);break;case"fanAppearSound":f.play(this.fanAppearSound,1,.1);break;case"igniteSound":f.play(this.igniteSound,1,.1);break;case"rushStartSound":f.playArray(this.rushStartSounds,1,.1),f.playArray(this.rushStartSharkSaySounds,1,.1),f.playArray(this.worldZombossRushSaySounds,1,.1);break;case"fanHideSound":f.play(this.fanHideSound,1,.1);break;case"rushEndSound":f.playArray(this.rushEndSounds,1,.1);break;case"introDiveSound":this.sharks.forEach((function(e){e.idling=!0})),f.play(this.introDiveSound,1,.1);break;case"introAppearSound":f.play(this.introAppearSharkSaySound,1,.1),f.play(this.introAppearSound,1,.1),f.playArray(this.worldZombossSpawnSaySounds,1,.1);break;case"coughSound":f.playArray(this.coughSounds,1,.1);break;case"deathRoarSound":f.playArray(this.deathSharkSaySounds,1,.1);break;case"teethFallSound":f.playArray(this.teethFallSounds,1,.1),f.playArray(this.teethFallSharkSaySounds,1,.1);break;case"diveSound":f.playArray(this.diveSounds,1,.1),f.playArray(this.diveSharkSaySounds,1,.1);break;case"appearSound":f.playArray(this.appearSounds,1,.1),f.playArray(this.appearSharkSaySounds,1,.1);break;case"cutSound":f.playArray(this.cutSounds,1,.1),Math.random()>.5&&f.playArray(this.worldZombossAngrySaySounds,1,.1);break;case"summonSound":f.playArray(this.summonSharkSaySounds,1,.1);break;case"summon":var t=this.reversed?3:5;this.columeSummon(t);break;case"coughStartSound":f.playArray(this.coughStartSounds,1,.1);case"stunStartSound":f.play(this.stunStartSharkSaySound,1,.1);break;case"RushLoop":this.body.playAnimation("RushLoop",1/0),this.audioSource.clip=this.rushLoopSound,this.audioSource.loop=!0,this.audioSource.play(),this.rushFire();break;case"rushEndSound":f.playArray(this.rushEndSounds,1,.1);break;case"shoot":var i=this.getShootTargetLnCs();g.randomize(this.sharks).forEach((function(e,t){if(t<i.length){var o=i[t];e.targetLnC=o,e.kill=!0;var a=n.sharks.indexOf(e);-1!=a&&n.sharks.splice(a,1)}})),this.spawnSharks()}},a._pullPlantRight=function(e){var n=this,t=.5;t*=(Math.abs(e.cIndex-this.cIndex)+1)/7,P.pushPlantRight(e,0,t,(function(e){if(n.rushTween)if(n.cIndex==e.cIndex)if(e.ID==k.TangleKelp)n.coughStart(),e.die();else{f.playArray(n.plantCutSounds,1,.2);var t=y(n.plantCutParticle);t.parent=e.inLane.prjLayer,t.worldPosition=e.worldPosition.toVec3(),t.scale=new h(.5,.5,1),e.die()}else n._pullPlantRight(e)}),(function(e){}),!1)},a._pullPlantLeft=function(e){var n=this,t=.5;t*=(Math.abs(e.cIndex-this.cIndex)+1)/7,P.pushPlantLeft(e,0,t,(function(e){if(n.rushTween)if(n.cIndex==e.cIndex)if(e.ID==k.TangleKelp)n.coughStart(),e.die();else{f.playArray(n.plantCutSounds,1,.2);var t=y(n.plantCutParticle);t.parent=e.inLane.prjLayer,t.worldPosition=e.worldPosition.toVec3(),t.scale=new h(.5,.5,1),e.die()}else n._pullPlantLeft(e)}),(function(e){}),!1)},a._pullRight=function(e){var n=this,t=[];return this.isInLawn()&&this.inLane&&this.isAlive()?([this.lIndex,this.lIndex-1].forEach((function(i){for(var o=function(e){var o=w.getLnC(i,e),a=!0;if(o.octopus||o.sheep||o.iceblock)return 0;if(o.getAllPlants(!0,!1).forEach((function(i){e==n.cIndex&&(i.ID==k.TangleKelp?(n.coughStart(),i.die()):(f.playArray(n.plantCutSounds,1,.2),i.kill())),t.push(i),a&&(i.canBeChied()&&!i.invincible||(a=!1,i.onChiedFailed(n)))})),!a)return 0;var r=o.getAllPlants(!0,!1);if(r.length){var s=r[0];n._pullPlantRight(s)}},a=n.cIndex;a>=0&&0!==o(a);a--);var r=w.getLaneComponent(i);r.zombiePool().concat(r.hypnoZombiePool()).forEach((function(i){i.worldPositionX<n.worldPositionX&&-1==n.basicWhiteList.indexOf(i.ID)&&i.knockBackable&&i.specialZombieKnockbackable()&&(i.worldPositionX+=w.SquareDisW*e*5,t.push(i),i.worldPositionX>=n.worldPositionX&&(f.playArray(n.plantCutSounds,1,.2),i.haveHead&&i.dropHead(null),i.haveArm&&i.breakArm(null),i.playDie(!1,null,!0,A.physicle,!0,!0,!0),m.destroyPooly(i.node)))}))})),t):[]},a._pullLeft=function(e){var n=this,t=[];return this.isInLawn()&&this.inLane&&this.isAlive()?([this.lIndex,this.lIndex-1].forEach((function(i){for(var o=function(e){var o=w.getLnC(i,e);if(o.octopus||o.sheep||o.iceblock)return 0;var a=!0;if(o.getAllPlants(!0,!1).forEach((function(i){e==n.cIndex&&(i.ID==k.TangleKelp?(n.coughStart(),i.die()):(f.playArray(n.plantCutSounds,1,.2),i.kill())),t.push(i),a&&(i.canBeChied()&&!i.invincible||(a=!1,i.onChiedFailed(n)))})),!a)return 0;var r=o.getAllPlants(!0,!1);if(r.length){var s=r[0];n._pullPlantLeft(s)}},a=n.cIndex;a<=8&&0!==o(a);a++);var r=w.getLaneComponent(i);r.zombiePool().concat(r.hypnoZombiePool()).forEach((function(i){i.worldPositionX>n.worldPositionX&&-1==n.basicWhiteList.indexOf(i.ID)&&i.knockBackable&&i.specialZombieKnockbackable()&&(i.worldPositionX-=w.SquareDisW*e*5,t.push(i),i.worldPositionX<=n.worldPositionX&&(f.playArray(n.plantCutSounds,1,.2),i.haveHead&&i.dropHead(null),i.haveArm&&i.breakArm(null),i.playDie(!1,null,!0,A.physicle,!0,!0,!0),m.destroyPooly(i.node)))}))})),t):[]},a._followSplashes=function(e){for(var n=this,t=e.filter((function(e){return e.inLnC.getTileType()==v.water})),i=this._followedSplashes.length;i<t.length;i++)this._followedSplashes.push(y(this.suctionSplash));this._followedSplashes.concat().forEach((function(e,i){if(t[i]){var o,a=Math.abs(t[i].worldPositionX-n.worldPositionX),r=.5*Math.exp(-a/w.SquareDisW/3);e.setParent(null==(o=t[i].inLane)?void 0:o.prjLayer,!0),e.worldPosition=t[i].worldPosition.toVec3().add3f(0,-20,0),e.scale=new h(n.reversed?-r:r,r,1)}else{var s=n._followedSplashes.indexOf(e);-1!=s&&n._followedSplashes.splice(s,1),b.component.scheduleOnce((function(){m.destroyPooly(e)}))}}))},a.detectShootEnemy=function(){return this.getShootTargetLnCs().length>0},a.getShootTargetLnCs=function(){var e=this,n=[];return g.randomize(w.getAllLnC()).forEach((function(t){n.length<5&&t.getTileType()==v.water&&(t.getAllPlants().some((function(e){return!e.invincible}))||(e.hypno?t.inLane.zombiePool():t.inLane.hypnoZombiePool()).some((function(n){return-1==e.basicWhiteList.indexOf(n.ID)&&t.rec.judgeCrossRec(n.bodyRec)})))&&n.push(t)})),n},a.getIdleC=function(){return this.reversed?2:6},a.specialZombossOnLoad=function(){var e=this;this.coughLoopSound&&d.loadRemote(this.coughLoopSound.nativeUrl,{audioLoadMode:l.AudioType.DOM_AUDIO},(function(n,t){t&&(e.coughLoopSound=t)})),this.rushLoopSound&&d.loadRemote(this.rushLoopSound.nativeUrl,{audioLoadMode:l.AudioType.DOM_AUDIO},(function(n,t){t&&(e.rushLoopSound=t)}))},a.specialZombossOnLaneChange=function(e,n){this.spawnSharks()},a.specialZombossMechOnEnable=function(){this.worldPositionX=w.getSquareWorldPosition(0,this.reversed?1:7).x,this.sharks=[],this.spawnSharks(),this.sharks.forEach((function(e){e.idling=!1,e.db.armature().animation.gotoAndPlayByProgress("Idle_Waiting",Math.random(),1/0)}))},a.onReversedSet=function(e){this.sharks.forEach((function(n){n.worldPositionX=w.getSquareWorldPosition(0,e?2:7,0).x,n.scale=e?-1:1}))},a.walkU=function(){this.isAlive()&&this.jump(new u(this.cIndex,this.lIndex-1))},a.walkD=function(){this.isAlive()&&this.jump(new u(this.cIndex,this.lIndex-1))},a.rushFire=function(){var e=this;this.rushing=!0,this.rushDMGcount=0,this.rushTween=c(this).to(4,{}).call((function(){e.body.playAnimation("RushEnd",1/0),e.rushing=!1,e.audioSource.stop(),e.rushTween=null})).start()},a.jump=function(e){var n,t=this;void 0===e&&(e=g.getRandom(this.jumpTargetPoses)),this.body.playAnimation("LeapStart",1);var i=e.clone();this.reversed&&(i.x=8-i.x);var o=w.getSquareWorldPosition(i.y,i.x,.5,.3),a=this;null==(n=this.moveTween)||n.stop(),this.bodyRecHiddenCD=3.2,Math.random()>.5&&f.playArray(this.worldZombossLeapSaySounds,1,.1),this.moveTween=c(a).to(3,{}).call((function(){t.node.parent&&(t.worldPositionX=o.x,t.worldPositionY=o.y,t.idling=!1,t.body.playAnimation("LeapEnd",1/0),t.judgeInLnC(),t.scheduleOnce((function(){t.killInRange()}),.5)),a.moveTween=null})).start()},a.spawnSharks=function(){var e=this;if(this.isAlive()){var n=this.sharks.find((function(n){return n.lIndex==e.lIndex}));if(n){var t=this.sharks.indexOf(n);-1!=t&&this.sharks.splice(t,1),m.destroyPooly(n.node)}for(var i=function(n){var t=e.sharks.find((function(e){return e.lIndex==n}));if(t){if(t.lIndex==e.lIndex){var i=e.sharks.indexOf(t);-1!=i&&e.sharks.splice(i,1),m.destroyPooly(t.node)}return 0}if(n==e.lIndex)return 0;var o=w.getLaneComponent(n),a=y(e.sharkPF);a.parent=o.tombLayer;var r=a.getComponent(L);r.worldPositionY=o.floorY,r.worldPositionX=w.getSquareWorldPosition(n,e.reversed?2:7,0).x,r.judgeInLnC(),r.whiteList=e.basicWhiteList,r.scale=e.scale,e.sharks.push(r),r.db.playAnimation("Enter")},o=0;o<5;o++)i(o)}},a.plantRushWhiteList=function(){return[k.LilyPad]},a.rush=function(){this.rushDMGcount=0,this.body.playAnimation("RushStart",1/0),this.willRush=!1,this.willJump=!0,Math.random()>.5&&f.playArray(this.worldZombossAngrySaySounds,1,.1)},a.stabAnimation=function(){this.idling=!1,this.rush()},a.summonAnimation=function(){this.body.playAnimation("Summon",1/0),Math.random()>.5&&f.playArray(this.worldZombossShootSaySounds,1,.1),this.idling=!1},a.shouldDepth=function(){var e;return null!=(e=this.inLnC)&&e.isFloorOrDeck()?1:0},a.shootAnimation=function(){this.isAlive()&&(this.targetLocators=[],this.idling=!1,this.body.playAnimation("Shoot",1/0),Math.random()>.5&&f.playArray(this.worldZombossShootSaySounds,1,.1),this.shooting=!0)},t}(S)).prototype,"divingDirtPF",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=t(ue.prototype,"sharkPF",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(ue.prototype,"mechStages",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pe=t(ue.prototype,"mech2Stages",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Se=t(ue.prototype,"coughStartSounds",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=t(ue.prototype,"coughLoopSound",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=t(ue.prototype,"plantCutSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ye=t(ue.prototype,"plantCutParticle",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=t(ue.prototype,"summonSharkSaySounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ge=t(ue.prototype,"rushStartSounds",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),we=t(ue.prototype,"rushStartSharkSaySounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ve=t(ue.prototype,"rushLoopSound",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=t(ue.prototype,"rushEndSounds",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ae=t(ue.prototype,"splashSounds",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pe=t(ue.prototype,"cutSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Le=t(ue.prototype,"coughSounds",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),De=t(ue.prototype,"deathSharkSaySounds",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ie=t(ue.prototype,"teethFallSounds",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xe=t(ue.prototype,"teethFallSharkSaySounds",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ze=t(ue.prototype,"diveSounds",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ze=t(ue.prototype,"appearSounds",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ce=t(ue.prototype,"diveSharkSaySounds",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Me=t(ue.prototype,"appearSharkSaySounds",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Te=t(ue.prototype,"fanAppearSound",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=t(ue.prototype,"igniteSound",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=t(ue.prototype,"fanHideSound",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=t(ue.prototype,"hitSounds",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Fe=t(ue.prototype,"mouthMoveSounds",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Oe=t(ue.prototype,"mouthMoveSmallSounds",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Be=t(ue.prototype,"introDiveSound",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=t(ue.prototype,"introAppearSound",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe=t(ue.prototype,"introAppearSharkSaySound",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=t(ue.prototype,"stunStartSharkSaySound",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=t(ue.prototype,"suctionSplash",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=ue))||le));a._RF.pop()}}}));

System.register("chunks:///_virtual/BeachZombossShark.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./SoundRescourses.ts","./NodePools.ts"],(function(t){var i,e,n,o,s,a,r,l,c,h,d,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,r=t._decorator,l=t.AudioClip,c=t.dragonBones},function(t){h=t.Character},function(t){d=t.sounds},function(t){u=t.NodePools}],execute:function(){var b,p,y,g,f;a._RF.push({},"8fc79QckTNCM5U6Yyy2IHOa","BeachZombossShark",void 0);var k=r.ccclass,L=r.property;t("BeachZombossShark",(b=k("BeachZombossShark"),p=L([l]),b((f=i((g=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,n(i,"burstSounds",f,o(i)),i.whiteList=[],i.targetLnC=void 0,i.idling=!0,i._kill=!1,i}e(i,t);var a=i.prototype;return a.characterOnLoad=function(){this.db.on(c.EventObject.FRAME_EVENT,this.animationListener,this)},a.characterOnEnable=function(){this.targetLnC=null,this.idling=!0,this.kill=!1},a.animationListener=function(t){var i=this;switch(t.name){case"judgeWaiting":this.kill||this.idling?this.db.playAnimation("Enter"):this.db.playAnimation("Idle_Waiting");break;case"judgeIdle":this.kill?this.db.playAnimation("Dive"):this.db.playAnimation("Idle");break;case"burst":d.playArray(this.burstSounds,1,.1);break;case"splash":this.db.timeScale=1,d.playWaterSplash();break;case"die":u.destroyPooly(this.node);break;case"kill":this.targetLnC?(this.db.timeScale=1,this.worldPositionX=this.targetLnC.node.worldPosition.x,this.worldPositionY=this.targetLnC.plantPoint.worldPosition.y,this.node.setParent(this.targetLnC.inLane.prjLayer,!0),this.db.playAnimation("Kill",1/0),this.targetLnC.inLane.zombiePool().concat(this.targetLnC.inLane.hypnoZombiePool()).forEach((function(t){-1==i.whiteList.indexOf(t.ID)&&i.targetLnC.rec.judgeCrossRec(t.bodyRec)&&t.playDie()})),this.targetLnC.getAllPlants().forEach((function(t){t.kill()}))):u.destroyPooly(this.node)}},s(i,[{key:"kill",get:function(){return this._kill},set:function(t){this._kill=t,this.db.timeScale=t?3:1}}]),i}(h)).prototype,"burstSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=g))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/Bloomerang.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./NodePools.ts","./Character.ts","./Square.ts","./Peashooter.ts","./SoundRescourses.ts"],(function(t){var o,n,e,i,a,r,s,h,u,c,l,d,f,p,m,b,g,y,S;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.AudioClip,h=t.Prefab,u=t.Node,c=t.Vec2,l=t.dragonBones},function(t){d=t.Plant,f=t.PlantProps},function(t){p=t.Rectangle},function(t){m=t.NodePools},function(t){b=t.CharacterType},function(t){g=t.Square},function(t){y=t.peaShooter},function(t){S=t.sounds}],execute:function(){var P,w,v,C,_,j,R,A,D,E,B,O,z,L,x,M,F,I,k,q,H,N;a._RF.push({},"d3578tct9RIlYHwJbYd9E0Y","Bloomerang",void 0);var T=r.ccclass,Y=r.property,W=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(o=t.call.apply(t,[this].concat(e))||this).ShootInterval=2.7,o.ShootIntervalAdditional=.15,o.PierceCount=3,o.PlantfoodBoomerangCount=16,o}return n(o,t),o}(f),J=(P=T("bloomerangSound"),w=Y([s]),v=Y([s]),C=Y([s]),_=Y([s]),P((A=o((R=function(){function t(){e(this,"catchSound",A,this),e(this,"shootSound",D,this),e(this,"foodSound",E,this),e(this,"blockSound",B,this)}var o=t.prototype;return o.playBlockSound=function(){S.playArray(this.blockSound,1,.1)},o.playFoodSound=function(){S.playArray(this.foodSound,1,.1)},o.playShootSound=function(){S.playArray(this.shootSound,1,.1)},o.playCatchSound=function(){S.playArray(this.catchSound,1)},t}()).prototype,"catchSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=o(R.prototype,"shootSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=o(R.prototype,"foodSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=o(R.prototype,"blockSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=R))||j);t("BloomerangPlant",(O=T("BloomerangPlant"),z=Y({type:Number,min:0}),L=Y(h),x=Y(J),M=Y(u),O((k=o((I=function(t){function o(){for(var o,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new W,e(o,"foodBoomerangMaxCount",k,i(o)),e(o,"boomerang",q,i(o)),e(o,"soundRes",H,i(o)),o.detector=null,o.prjDetecter=null,o.boomerangsShot=[],o.catching=!1,e(o,"boomerangSpawnpoint",N,i(o)),o.busy=0,o.shooting=!1,o}n(o,t);var a=o.prototype;return a._shoot=function(t,o,n){void 0===t&&(t=!1),void 0===o&&(o=new c(15,0)),void 0===n&&(n=this.boomerang);var e=m.instantiatePooly(n);if(e){var i=1;t&&(i+=Math.round(4*Math.random())/10-.2);var a=y.shootOnePea(e,this.fooding?new c(this.worldPositionX,this.worldPositionY):new c(this.boomerangSpawnpoint.worldPosition.x,this.worldPositionY),this.boomerangSpawnpoint.worldPosition.y-this.shadeWorldPosition.y,this.inLane.prjLayer,new c(o.x*i,o.y*i),b.zombie);a&&(a.maxTargetNumber=this._objdataOwn.PierceCount,a.master=this,a.judgeHaveEnemy=!0,this.fooding&&(a.judgeHaveEnemy=!1,a.maxTargetNumber=1/0),this._dmgScale&&a.setDamage(a.damage_*this._dmgScale)),this.boomerangsShot.push(a)}this.shooting=!1},a.specialPlantFoodEnd=function(){this.catching=!1,this.anmControl.playRandom(),this.busy=0},a.umbrella=function(){return!this.sheepend&&(this.shooting||this.anmControl.playAnimation("Block",1),this.soundRes.playBlockSound(),!0)},a.specialPlantFood=function(){var t=this;this.soundRes.playFoodSound(),this.anmControl.playAnimation("Food",-1),this.busy=1/0;var o=this._objdataOwn.PlantfoodBoomerangCount,n=0;this.schedule((function(){t._shoot(!0,new c(15,0)),t._shoot(!0,new c(-15,0)),t._shoot(!0,new c(0,10)),t._shoot(!0,new c(0,-10)),++n>=o&&t.foodEnd()}),2/o,o,.01)},a._shootPeaAnimation=function(){this.anmControl.playAnimation("Shoot",1,.1,Math.max(1.5/this.busy,1))},a.animationListener=function(t){"Shoot"==t.name?this._shoot():"ShootSound"==t.name?this.soundRes.playShootSound():t.name},a.setDetecter=function(){this.detector=p.createRectangleNodeSide(this.inLnC.node,g.SquareDisW*(9-this.cIndex),g.SquareDisH)},a.catchPrj=function(t){var o=this.boomerangsShot.indexOf(t);t.fade(),-1!=o&&this.boomerangsShot.splice(o,1),this.soundRes.playCatchSound(),this.shooting||this.fooding||this.catching||(this.catching=!0,this.anmControl.playAnimation("Catch",1,.1))},a.detectPrj=function(){var t=this;this.boomerangsShot.concat().forEach((function(o){o.master==t&&o.returned&&t.prjDetecter.judgeInRecP(o.worldPosition)&&t.catchPrj(o)}))},a.specialPlantDie=function(t){this.boomerangsShot.forEach((function(t){t.master=null}))},a.waterable=function(){return!this.shooting},a.onCommonshotHit=function(t){return(null==t?void 0:t.master)!=this||(this.catchPrj(t),!1)},a.specialPlantOnEnable=function(){var t=this;this.catching=!1,this.boomerangsShot=[],this.busy=0,this.anmControl.body.addEventListener(l.EventObject.LOOP_COMPLETE,(function(){t.shooting=!1,t.catching=!1}),this)},a.startShooting=function(){this.shooting=!0,this.busy=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional,this._cdScale&&(this.busy*=this._cdScale),this._shootPeaAnimation()},a.detectEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.detector.judgeCrossRec(t[o].bodyRecForShooter))return!0;for(var n=this.inLane.tombPool(),e=0;e<n.length;e++)if(this.detector.judgeCrossRec(n[e].bodyRec))return!0;return!1},a.specialPlantOnSquareChange=function(t,o){this.setDetecter()},a.specialPlantUpdate=function(t,o,n){this.busy>0&&(this.busy-=t),this.busy<=0&&(this.busy=0,n>0&&this.detectEnemy()&&this.startShooting()),this.prjDetecter=p.createRectangleCenter(this.worldPosition,.6*g.SquareDisW,.6*g.SquareDisH),this.detectPrj()},o}(d)).prototype,"foodBoomerangMaxCount",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),q=o(I.prototype,"boomerang",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=o(I.prototype,"soundRes",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new J}}),N=o(I.prototype,"boomerangSpawnpoint",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=I))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/Blover.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./FrontYard.ts","./NodePools.ts","./CharacterManager.ts","./SoundRescourses.ts"],(function(n){var t,o,i,a,r,e,l,s,c,u,h,p,d;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){r=n.cclegacy,e=n._decorator,l=n.AudioClip},function(n){s=n.Plant,c=n.PlantProps},function(n){u=n.FrontYard},function(n){h=n.ArrayGet},function(n){p=n.PlantPool},function(n){d=n.sounds}],execute:function(){var f,w,b,y,m;r._RF.push({},"1f0c1xbLLRKlLjI78K3hZz+","Blover",void 0);var v=e.ccclass,P=e.property,g=function(n){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=n.call.apply(n,[this].concat(i))||this).BlowDuration=3,t}return o(t,n),t}(c);n("BloverPlant",(f=v("BloverPlant"),w=P([l]),f((m=t((y=function(n){function t(){for(var t,o=arguments.length,r=new Array(o),e=0;e<o;e++)r[e]=arguments[e];return(t=n.call.apply(n,[this].concat(r))||this)._objdataOwn=new g,i(t,"blowSound",m,a(t)),t.blowing=!1,t}o(t,n);var r=t.prototype;return r.specialPlantOnEnable=function(){this.invincible=!0,this.eaterDetectable=!1,this.smasherDetectable=!1,this.foodable=!1,this.anmControl.IdleAnim="Blowing",this.anmControl.RandomAnim=[],this.anmControl.playAnimation("BlowStart",1),this.blowing=!1},r.playBlowSound=function(){d.playArray(this.blowSound,1,.1)},r.specialPlantUpdateForce=function(n,t,o){this.blowing&&o&&(u.windy=u.windy>1?u.windy:1)},r.animationListener=function(n){var t=this;if("blowStart"==n.name){this.playBlowSound(),this.blowing=!0,this._cdScale&&this.scheduleOnce((function(){t.die(),t.anmControl.playAnimation("Death",1,0)}),this._objdataOwn.BlowDuration);var o=h.randomize(p.pool()),i=0;o.forEach((function(n,t){i>=4||n.blowStart()&&i++}))}},t}(s)).prototype,"blowSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=y))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/BodyGrouper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,o,r,i,a,l,u,s;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,a=n._decorator,l=n.dragonBones,u=n.math,s=n.Component}],execute:function(){var c,d,p,h,m,f,y,g,v,A,b;i._RF.push({},"58139gaPaBD5JtqBrmcDFyc","BodyGrouper",void 0);var D=a.ccclass,S=a.property;n("BodyGrouper",(c=D("BodyGrouper"),d=S(String),p=S(String),h=S(String),m=S(String),c((g=t((y=function(n){function t(){for(var t,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return t=n.call.apply(n,[this].concat(i))||this,o(t,"IdleAnm",g,r(t)),o(t,"WalkAnm",v,r(t)),o(t,"DeathAnm",A,r(t)),o(t,"EatAnm",b,r(t)),t.armSlots=[],t.handSlots=[],t.headSlots=[],t.body=void 0,t.currentAnimationName="",t}e(t,n);var i=t.prototype;return i.showArm=function(n){void 0===n&&(n=!0),this.handSlots.forEach((function(t){t._setDisplayIndex(n?0:-1)})),this.armSlots.forEach((function(t){t._setDisplayIndex(n?-1:0)}))},i.showHead=function(n){void 0===n&&(n=!0),this.headSlots.forEach((function(t){t._setDisplayIndex(n?0:-1)}))},i.setColor=function(n){var t=255-n.r,e=255-n.g,o=255-n.b,r=255-n.a,i=this.getComponent(l.ArmatureDisplay).color,a=i.r,s=i.g,c=i.b,d=i.a;new u.Color(a-t,s-e,c-o,d-r)},i.playAnimation=function(n,t,e,o){var r;void 0===t&&(t=1/0),void 0===e&&(e=0),void 0===o&&(o=0);var i=null==(r=this.body)||null==(r=r.armature())?void 0:r.animation;-1!=(null==i?void 0:i.animationNames.indexOf(n))&&(e>0?null==i||i.fadeIn(n,e,t):null==i||i.gotoAndPlayByProgress(n,o,t),this.currentAnimationName=n)},i.onEnable=function(){this.setColor(new u.Color(255,255,255,255))},i.hitFlash=function(){},i.onLoad=function(){var n=this;this.getComponent(l.ArmatureDisplay).armature().getSlots().forEach((function(t){t.name.includes("_HEAD")?n.headSlots.push(t):t.name.includes("_HAND")?n.handSlots.push(t):t.name.includes("_ARM")&&n.armSlots.push(t)}))},t}(s)).prototype,"IdleAnm",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Idle"}}),v=t(y.prototype,"WalkAnm",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Walk"}}),A=t(y.prototype,"DeathAnm",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Death"}}),b=t(y.prototype,"EatAnm",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Eat"}}),f=y))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/BonkChoy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Zombie.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts"],(function(t){var e,o,n,a,i,s,r,c,l,h,u,d,m,f,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,s=t._decorator,r=t.AudioClip,c=t.macro,l=t.Vec2},function(t){h=t.Plant,u=t.PlantProps},function(t){d=t.ZombieDamageDetails},function(t){m=t.Rectangle},function(t){f=t.Square},function(t){b=t.sounds}],execute:function(){var y,p,g,D,S,k,v,P,R,w,A,C,_,L;i._RF.push({},"3c6a9Ol/9RMhZdXe+1G4AxT","BonkChoy",void 0);var E=s.ccclass,j=s.property,F=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).Damage=15,e.DamageHeavy=30,e.DamagePlantfood=60,e.PlantfoodHitCount=25,e.ZombieDetectorWidth=4,e.TombDetectorWidth=3,e.AttackInterval=.3,e}return o(e,t),e}(u),O=(y=E("bonkChoySound"),p=j(r),g=j(r),D=j(r),y((v=e((k=function(){function t(){n(this,"attackAirSound",v,this),n(this,"attackGoalSound",P,this),n(this,"defeatSound",R,this)}var e=t.prototype;return e.playAttackAir=function(){b.play(this.attackAirSound,1,.01)},e.playAttackGoal=function(){b.play(this.attackGoalSound,1,.01)},e.playDefeatSound=function(){b.play(this.defeatSound,1,.01)},t}()).prototype,"attackAirSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(k.prototype,"attackGoalSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(k.prototype,"defeatSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=k))||S);t("BonkChoyPlant",(w=E("BonkChoy"),A=j(O),w((L=e((_=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this)._objdataOwn=new F,n(e,"soundRes",L,a(e)),e.foodPunch=0,e.detector=void 0,e.tombDetector=void 0,e.foodDetecter=void 0,e.busy=24,e.bonking=!1,e}o(e,t);var i=e.prototype;return i.specialPlantFood=function(){this.faceNormal(),this.anmControl.playAnimation("FoodStart",c.REPEAT_FOREVER,0,1),this.foodPunch=0,this.busy=1/0},i.waterable=function(){return!this.bonking},i.specialPlantFoodEnd=function(){this.anmControl.playRandom(),this.busy=0},i.attackAnimation=function(){var t=this._objdataOwn.DamageHeavy;this._dmgScale&&(t*=this._dmgScale);var e=Math.max(1,.3/this.busy),o=this.detectEnemy(),n=this.detectTomb();o?(o.worldPositionX<this.worldPosition.x?this.faceNormal(-1):this.faceNormal(),o.leftHealthForBonkChoy()<t?this.anmControl.playAnimation("Defeat",1,0,e):this.anmControl.playAnimation("Attack",1,0,e)):n&&(n.worldPositionX<this.worldPositionX?this.faceNormal(-1):this.faceNormal(),n.health<t?this.anmControl.playAnimation("Defeat",1,0,e):this.anmControl.playAnimation("Attack",1,0,e))},i.specialPlantOnSquareChange=function(t,e){this.setDetector()},i.animationListener=function(t){if("attackAir"==t.name&&this.soundRes.playAttackAir(),"attackGoal"==t.name){var e=this._objdataOwn.Damage;this._dmgScale&&(e*=this._dmgScale);var o=this.detectEnemy(),n=this.detectTomb(),a=new d(e,!0,!0,!0,new l(20*this.scale,0));a.bugKiller=!0,o?(o.dealDamage(a),this.soundRes.playAttackGoal()):n&&(n.dealDamage(e),this.soundRes.playAttackGoal()),this.bonking=!1}if("attackHeavy"==t.name){var i=this._objdataOwn.DamageHeavy;this._dmgScale&&(i*=this._dmgScale);var s=this.detectEnemy(),r=this.detectTomb(),c=new d(i,!0,!0,!0,new l(15*this.scale,25));c.bugKiller=!0,s?(s.dealDamage(c),this.soundRes.playDefeatSound()):r&&(r.dealDamage(i),this.soundRes.playDefeatSound()),this.bonking=!1}if("foodAttack"==t.name){var h=this._objdataOwn.DamagePlantfood;this._dmgScale&&(h*=this._dmgScale);var u=new d(h,!0,!0,!0,new l(20*this.scale,0));u.bugKiller=!0,this.soundRes.playAttackAir(),this.detectFoodEnemy().forEach((function(t){t.dealDamage(u)})),this.detectFoodTomb().forEach((function(t){t.dealDamage(h)})),++this.foodPunch>=this._objdataOwn.PlantfoodHitCount&&this.foodEnd()}},i.faceNormal=function(t){void 0===t&&(t=1),t<0?this.scale=-1:t>0&&(this.scale=1)},i.setDetector=function(){this.detector=m.createRectangleNodeCenter(this.inLnC.node,this._objdataOwn.ZombieDetectorWidth*f.SquareDisW,f.SquareDisH),this.tombDetector=m.createRectangleNodeCenter(this.inLnC.node,this._objdataOwn.TombDetectorWidth*f.SquareDisW,f.SquareDisH),this.foodDetecter=m.createRectangleNodeCenter(this.inLnC.node,3*f.SquareDisW,3*f.SquareDisH)},i.faceToNormal=function(){this.faceNormal(1)},i.specialPlantOnEnable=function(){this.busy=0},i.animationOnComplete=function(){this.faceToNormal()},i.detectFoodEnemy=function(){for(var t=[],e=this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()),o=0;o<e.length;o++)this.foodDetecter.judgeCrossRec(e[o].bodyRecForShooter)&&-1==t.indexOf(e[o])&&t.push(e[o]);return t},i.detectFoodTomb=function(){for(var t=[],e=this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()),o=0;o<e.length;o++)this.foodDetecter.judgeCrossRec(e[o].bodyRec)&&t.push(e[o]);return t},i.detectTomb=function(){var t=this,e=null,o=1/0;return this.inLane.tombPool().forEach((function(n){var a=n.node.worldPosition.x;t.tombDetector.judgeCrossRec(n.bodyRec)&&a<o&&(e=n,o=a)})),e},i.haveEnemy=function(){var t=this,e=!1;(e=this.inLane.zombiePool().some((function(e){return t.detector.judgeCrossRec(e.bodyRecForShooter)})))||(e=this.inLane.tombPool().some((function(e){return t.tombDetector.judgeCrossRec(e.bodyRec)})));return e},i.detectEnemy=function(){var t=this,e=null,o=this.inLane.zombiePool(),n=1/0;return o.forEach((function(o){var a=o.bodyRecForShooter.prjX().x;t.detector.judgeCrossRec(o.bodyRecForShooter)&&a<n&&(e=o,n=a)})),e},i.startBonking=function(){this.bonking=!0,this.busy=this._objdataOwn.AttackInterval,this._cdScale&&(this.busy*=this._cdScale),this.attackAnimation()},i.specialPlantUpdate=function(t,e,o){this.busy>0&&(this.busy-=t),this.busy<=0&&!this.fooding&&t&&(this.busy=0,this.haveEnemy()&&this.startBonking())},e}(h)).prototype,"soundRes",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new O}}),C=_))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/boomerang.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./CharacterManager.ts","./Square.ts","./Character.ts"],(function(e){var t,n,r,i,a,o,s,c,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,i=e.Vec2,a=e.tween},function(e){o=e.commonShot},function(e){s=e.LineSegment},function(e){c=e.Square},function(e){u=e.CharacterType}],execute:function(){var h;n._RF.push({},"b4ba8bZy4pFt52T8XYiyO5U","boomerang",void 0);var d=r.ccclass;r.property,e("boomerangEnemy",(function(e,t){void 0===t&&(t=!1),this.node=null,this.damageDealt=!1,this.node=e,this.damageDealt=t})),e("boomerang",d("boomerang")(h=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).contactingEnemies=[],t.targets=null,t.maxTargetNumber=3,t.returned=!1,t._returned=!1,t.master=void 0,t.returning=!1,t.judgeHaveEnemy=!0,t}t(n,e);var r=n.prototype;return r.full=function(){return this.targets.length>=this.maxTargetNumber},r.splat=function(e){if(e){this.playParticle(),this.playPopSound();var t=this.targets.indexOf(e.node);this._returned?this.targets.splice(t,1):this.targets.push(e.node)}},r.haveEnemy=function(e){var t=this,n=!1,r=s.createLineVec(e,new i(9*c.SquareDisW,0));return this.inLane.zombiePool().forEach((function(e){n||-1==t.targets.indexOf(e.node)&&r.judgeCrossRec(e.bodyRec)&&(n=!0)})),!!n||(this.inLane.tombPool().forEach((function(e){n||-1==t.targets.indexOf(e.node)&&r.judgeCrossRec(e.bodyRec)&&(n=!0)})),n)},r.returnStart=function(){var e=this;if(!this.returning&&!this.returned){var t=this.linearVelocity;this.returning=!0;a(this).to(.3,{linearVelocity:new i(.001*-t.x,.001*-t.y)}).call((function(){e.contactingEnemies.forEach((function(e){e.damageDealt=!1})),e.returned=!0,e.judgeHaveEnemy?e._returned=!0:(e.returning=!1,e.targets=[]),e.popWhenStatic=!0})).to(.3,{linearVelocity:new i(-t.x,-t.y)}).start()}},r.characterOnEnable=function(){this.initialize(),this.popWhenStatic=!1,this.contactingEnemies=[],this.targets=[],this.returned=!1,this._returned=!1,this.returning=!1},r.specialOnSquareChange=function(e,t){-1!=t.cIndex&&9!=t.cIndex&&-1!=t.lIndex&&5!=t.lIndex||this.returnStart(),!this.judgeHaveEnemy||!this.full()&&this.haveEnemy(this.realWorldPosition)||this.returnStart()},r.characterUpdate=function(e){this.dead||(this.rotate(),this.hitBorderOrGround(e),this.move(e),this.enemyType==u.zombie?this.detectEnemy(e):this.detectEnemyNormal(e))},r.detectEnemy=function(e){var t,n,r=this;this.detectEnemyOn&&(this.full()&&!this.returned||(null==(t=this.inLane)||t.zombiePool().forEach((function(e){if(!r.dead){var t=r.targets.indexOf(e.node);(!r._returned&&-1==t&&!r.full()||r._returned&&-1!=t)&&e.bodyRec.judgeCrossRec(r.bodyRec())&&e.commonShotPopOnTouch(r)&&(r.dealDamageToTarget(e),r.playParticle(),r.playPopSound(),r._returned?r.targets.splice(t,1):r.targets.push(e.node))}})),null==(n=this.inLane)||n.tombPool().forEach((function(e){if(!r.dead){var t=r.targets.indexOf(e.node);(!r._returned&&-1==t||r._returned&&-1!=t)&&e.bodyRec.judgeCrossRec(r.bodyRec())&&(e.dealDamage(r.damage),r.playParticle(),r.playPopSound(),r._returned?r.targets.splice(t,1):r.targets.push(e.node))}}))))},n}(o))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/boulderPrj.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./SoundRescourses.ts","./levelController.ts"],(function(o){var e,i,t,n,r,l,a,s,c,u;return{setters:[function(o){e=o.applyDecoratedDescriptor,i=o.inheritsLoose,t=o.initializerDefineProperty,n=o.assertThisInitialized},function(o){r=o.cclegacy,l=o._decorator,a=o.AudioClip},function(o){s=o.commonShot},function(o){c=o.sounds},function(o){u=o.LevelPlay}],execute:function(){var d,h,y,p,b,f,S,L,P;r._RF.push({},"ba299eQAN9MJZ9POES3D5qg","boulderPrj",void 0);var g=l.ccclass,m=l.property;o("boulderPrj",(d=g("boulderPrj"),h=m([a]),y=m(a),p=m(a),d((S=e((f=function(o){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return(e=o.call.apply(o,[this].concat(r))||this).hitsFloorWhenRecHitInsteadOfHeightZero=!0,t(e,"rollStartSounds",S,n(e)),t(e,"rollLoopSound",L,n(e)),t(e,"rollEndSound",P,n(e)),e.shaked=!1,e}i(e,o);var r=e.prototype;return r.detectEnemy=function(o){var e=this;if(this.inLane){var i=this.bodyRec();this.inLane.zombiePool().concat(this.inLane.hypnoZombiePool()).forEach((function(o){i.judgeCrossRec(o.bodyRec)&&o.meetMower(o.worldPositionX>e.worldPositionX)})),this.inLane.plantPool().forEach((function(o){i.judgeCrossRec(o.bodyRec)&&o.throwAway(o.worldPositionX<e.worldPositionX,null)})),this.inLane.tombPool().forEach((function(o){i.judgeCrossRec(o.bodyRec)&&o.die(!0)}))}},r.hitFloor=function(o,e){if(this.bodyLinearVelocity<0){var i=this.bodyLinearVelocity;this.bodyLinearVelocity*=-.2,this.bodyLinearVelocity<3&&(this.bodyLinearVelocity=0,this.gravity=0),this.shaked||(this.shaked=!0,u.shakeScreen()),this.playPopSound(),this.linearVelocity.y+=.05*i}else 0==this.bodyLinearVelocity&&c.play(this.rollLoopSound,1,NaN,.9)},r.onFaded=function(){c.play(this.rollEndSound,1,.1)},r.characterOnEnable=function(){this.shaked=!1,this.initialize(),c.playArray(this.rollStartSounds,1,.2)},e}(s)).prototype,"rollStartSounds",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(f.prototype,"rollLoopSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(f.prototype,"rollEndSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=f))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/BowlingBulb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./Peashooter.ts","./Character.ts"],(function(t){var o,a,e,i,n,l,s,r,d,h,u,c,b,p,f,L,y,m;return{setters:[function(t){o=t.applyDecoratedDescriptor,a=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized,n=t.createClass},function(t){l=t.cclegacy,s=t._decorator,r=t.AudioClip,d=t.Prefab,h=t.Vec2},function(t){u=t.Plant,c=t.PlantProps},function(t){b=t.sounds},function(t){p=t.Rectangle},function(t){f=t.Square},function(t){L=t.instantiatePooly},function(t){y=t.peaShooter},function(t){m=t.CharacterType}],execute:function(){var g,S,_,w,v,P,C,B,R,j,A,F,O,I,D,k,z,H,x,E,M,N,q,T,U,W;l._RF.push({},"c9395RyK+hMgrP4gFM2msJW","BowlingBulb",void 0);var J=s.ccclass,K=s.property,V=function(t){function o(){for(var o,a=arguments.length,e=new Array(a),i=0;i<a;i++)e[i]=arguments[i];return(o=t.call.apply(t,[this].concat(e))||this).AmmoRefreshTime=4,o.RollOrder="012",o.LoadOrder="012",o}return a(o,t),o}(c),X=(g=J("BowlingBulbSound"),S=K(r),_=K(r),w=K([r]),v=K([r]),P=K([r]),g((R=o((B=function(){function t(){e(this,"foodLoop",R,this),e(this,"foodStart",j,this),e(this,"foodShoot",A,this),e(this,"load",F,this),e(this,"preshoot",O,this)}var o=t.prototype;return o.playFoodLoop=function(){b.play(this.foodLoop,1,NaN,.9)},o.playFoodStart=function(){b.play(this.foodStart,1,.1)},o.playFoodShoot=function(){b.playArray(this.foodShoot,1,.1)},o.playLoad=function(){b.playArray(this.load,1,.2)},o.playPreshoot=function(){b.playArray(this.preshoot,1,NaN,.5)},t}()).prototype,"foodLoop",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=o(B.prototype,"foodStart",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=o(B.prototype,"foodShoot",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=o(B.prototype,"load",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=o(B.prototype,"preshoot",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=B))||C);t("BowlingBulbPlant",(I=J("BowlingBulbPlant"),D=K(X),k=K(d),z=K(d),H=K(d),x=K(d),I((N=o((M=function(t){function o(){for(var o,a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return o=t.call.apply(t,[this].concat(n))||this,e(o,"soundRes",N,i(o)),o._objdataOwn=new V,e(o,"prj0",q,i(o)),e(o,"prj1",T,i(o)),e(o,"prj2",U,i(o)),e(o,"prjF",W,i(o)),o.shot=!0,o.ball0Slots=[],o.ball0HeadSlots=[],o.ball1Slots=[],o.ball1HeadSlots=[],o.ball2Slots=[],o.ball2HeadSlots=[],o._ball0Loaded=!1,o._ball1Loaded=!1,o._ball2Loaded=!1,o.shooting=!1,o.reloadCD=0,o.detector=new p,o}a(o,t);var l=o.prototype;return l.onObjdataSet=function(t,o){var a=["012","021","102","120","201","210"];-1==a.indexOf(o.RollOrder)&&(o.RollOrder="012"),-1==a.indexOf(o.LoadOrder)&&(o.LoadOrder="012")},l._shoot=function(t){var o;void 0===t&&(t=0);var a=this.prj0,e=0;switch(t){case 0:a=this.prj0,e=20,this.ball0Loaded=!1;break;case 1:a=this.prj1,e=-20,this.ball1Loaded=!1;break;case 2:a=this.prj2,e=0,this.ball2Loaded=!1;break;default:a=this.prjF,e=0,this.ball0Loaded=!0,this.ball1Loaded=!0,this.ball2Loaded=!0}this.shot=!0;var i=L(a),n=y.shootOnePea(i,new h(this.worldPositionX+e,this.worldPositionY),20,this.inLane.prjLayer,new h(11,0),m.zombie);n.judgeZombieBodyRecForShooter=!0,null!=(o=this.plantInLnC)&&o.havePeaBuff&&n.addPeaBuff()},l.specialPlantOnLoad=function(){var t=this;this.db.armature().getSlots().forEach((function(o){o.name.includes("_B0_M")?t.ball0Slots.push(o):o.name.includes("_B0_H")?t.ball0HeadSlots.push(o):o.name.includes("_B1_M")?t.ball1Slots.push(o):o.name.includes("_B1_H")?t.ball1HeadSlots.push(o):o.name.includes("_B2_M")?t.ball2Slots.push(o):o.name.includes("_B2_H")&&t.ball2HeadSlots.push(o)}))},l.animationListener=function(t){switch(t.name){case"Shoot0":this._shoot(0);break;case"Shoot1":this._shoot(1);break;case"Shoot2":this._shoot(2);break;case"ShootFood":this._shoot(3);break;case"foodEnd":this.foodEnd();break;case"FSSound":this.soundRes.playFoodShoot()}},l.replantable=function(){return!this.haveAllBalls},l.replant=function(){this.health=this.toughness,this.ball0Loaded=this.ball1Loaded=this.ball2Loaded=!0,this.shot&&(this.anmControl.playRandom(),this.shooting=!1)},l.animationOnComplete=function(){this.shooting=!1},l.waterable=function(){return!this.shooting},l.specialPlantFoodEnd=function(){this.anmControl.playAnimation("Load0",1),this.anmControl.IdleAnim="Idle"},l.shootAnimation=function(){if(this.haveBall){for(var t=this.objdataOwn.RollOrder,o="0",a=0;a<t.length&&!this["ball"+(o=t[a])+"Loaded"];a++);this.shot=!1;var e="Shoot"+o;this.anmControl.playAnimation(e,1,0,1),this.shooting=!0,this.soundRes.playPreshoot()}},l.reloadAnimation=function(){if(!this.haveAllBalls){for(var t=this.objdataOwn.RollOrder,o="0",a=0;a<t.length&&this["ball"+(o=t[a])+"Loaded"];a++);this["ball"+o+"Loaded"]=!0;var e="Load"+o;this.anmControl.playAnimation(e,1,.1,1),this.shooting=!0,this.soundRes.playLoad()}},l.specialPlantOnEnable=function(){this.ball0Loaded=!0,this.ball1Loaded=!0,this.ball2Loaded=!0},l.specialPlantFood=function(t){this.ball0Loaded=!0,this.ball1Loaded=!0,this.ball2Loaded=!0,this.reloadCD=0,this.anmControl.playAnimation("FoodStart",1,0,1),this.soundRes.playFoodStart(),this.shooting=!0,this.anmControl.IdleAnim="FoodLoop"},l.specialPlantUpdateForce=function(t,o,a){this.reloadCD>0&&(this.reloadCD-=t),this.reloadCD<=0&&(this.shooting||this.dead||(this.reloadCD=this.objdataOwn.AmmoRefreshTime*this._cdScale,this.reloadAnimation())),this.fooding&&this.soundRes.playFoodLoop()},l.specialPlantOnSquareChange=function(t,o){this.detector=p.createRectangleNodeSide(o.node,f.SquareDisW*(9-o.cIndex),f.SquareDisH)},l.detectEnemies=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.detector.judgeCrossRec(t[o].bodyRecForShooter))return!0;for(var a=this.inLane.tombPool(),e=0;e<a.length;e++)if(this.detector.judgeCrossRec(a[e].bodyRec))return!0;return!1},l.specialPlantUpdate=function(t,o,a){a>0&&this.haveBall&&!this.shooting&&(this.detectEnemies()&&(this.fooding?(this.shooting=!0,this.anmControl.playAnimation("FoodShoot",3,.1,1)):this.shootAnimation()))},n(o,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"ball0Loaded",get:function(){return this._ball0Loaded},set:function(t){var o;(this.ball0Slots.forEach((function(o){o._setDisplayIndex(t?0:-1)})),this.ball0HeadSlots.forEach((function(o){o._setDisplayIndex(t?-1:0)})),t!=this._ball0Loaded)&&(this._ball0Loaded=t,null==(o=this.plantInLnC)||o.readIndex())}},{key:"ball1Loaded",get:function(){return this._ball1Loaded},set:function(t){var o;(this.ball1Slots.forEach((function(o){o._setDisplayIndex(t?0:-1)})),this.ball1HeadSlots.forEach((function(o){o._setDisplayIndex(t?-1:0)})),t!=this._ball1Loaded)&&(this._ball1Loaded=t,null==(o=this.plantInLnC)||o.readIndex())}},{key:"ball2Loaded",get:function(){return this._ball2Loaded},set:function(t){var o;(this.ball2Slots.forEach((function(o){o._setDisplayIndex(t?0:-1)})),this.ball2HeadSlots.forEach((function(o){o._setDisplayIndex(t?-1:0)})),this._ball2Loaded=t,t!=this._ball2Loaded)&&(this._ball2Loaded=t,null==(o=this.plantInLnC)||o.readIndex())}},{key:"haveBall",get:function(){return this.ball1Loaded||this.ball2Loaded||this.ball0Loaded}},{key:"haveAllBalls",get:function(){return this.ball1Loaded&&this.ball2Loaded&&this.ball0Loaded}}]),o}(u)).prototype,"soundRes",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new X}}),q=o(M.prototype,"prj0",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=o(M.prototype,"prj1",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=o(M.prototype,"prj2",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=o(M.prototype,"prjF",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=M))||E));l._RF.pop()}}}));

System.register("chunks:///_virtual/bowlingExplodeONut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bowlingWallNut.ts"],(function(t){var o,n,e,l;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){l=t.bowlingWallNut}],execute:function(){var i;n._RF.push({},"a17128yr81NPY+vBlXRqsvg","bowlingExplodeONut",void 0);var u=e.ccclass;e.property,t("bowlingExplodeONut",u("bowlingExplodeONut")(i=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.turnVelocity=function(){this.pop(),this.dealSplashDamage()},n}(l))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/bowlingInfiNut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bowlingWallNut.ts","./Zombies.ts","./LnC.ts"],(function(n){var i,t,o,e,u,l;return{setters:[function(n){i=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator},function(n){e=n.bowlingWallNut},function(n){u=n.ZombieEnum},function(n){l=n.LnCSpawnZombieStyleEnum}],execute:function(){var s;t._RF.push({},"7398cD8L+hDzKVuI4BVSCtF","bowlingInfiNut",void 0);var c=o.ccclass;o.property,n("bowlingInfiNut",c("bowlingInfiNut")(s=function(n){function t(){return n.apply(this,arguments)||this}return i(t,n),t.prototype.turnVelocity=function(){var n;null!=(n=this.inLnC)&&n.isInLawn()&&(this.inLnC.zombieShields.forEach((function(n){n.hypno&&n.ID==u.future_infinut_shield&&n.playDie()})),this.inLnC.spawnZombie(u.future_infinut_shield,l.directPut).forEach((function(n){n.coloredWhenHypnoed=!1,n.hypno=!0})));this.pop(),this.dealSplashDamage()},t}(e))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/bowlingProjectile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./grapeshotProjectile.ts","./ParticleSelfdestroy.ts","./FrontYard.ts","./Particles.ts","./NodePools.ts"],(function(t){var e,i,n,a,o,l,s,r,h,c,p;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,a=t._decorator,o=t.dragonBones,l=t.Vec3},function(t){s=t.grapeshotProjectile},function(t){r=t.ParticleSelfdestroy},function(t){h=t.FrontYard},function(t){c=t.particle},function(t){p=t.instantiatePooly}],execute:function(){var u;n._RF.push({},"4a7045QiyhN1KUQStQK0OIz","bowlingProjectile",void 0);var d=a.ccclass;a.property,t("bowlingProjectile",d("bowlingProjectile")(u=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).wave=null,e.depthScale=12,e}e(n,t);var a=n.prototype;return a.specialOnDisable=function(){this.wave&&(this.wave.getComponent(o.ArmatureDisplay).playAnimation("Fade"),this.wave.willBeKilled=!0,this.wave=null)},a.hitSea=function(){this.lIndex>=0&&this.lIndex<=4&&this.defaultHitSea()},a.hitFloor=function(t){this.height=0,this.depth=0,this.gravity=this.bodyLinearVelocity=0,this.wave&&(this.wave.getComponent(o.ArmatureDisplay).playAnimation("Fade"),this.wave.willBeKilled=!0,this.wave=null)},a.specialGrapeOnLaneChange=function(t,e){this.wave&&this.wave.node.setParent(this.node.parent)},a.onLinearVelocitySet=function(t){},a.onFaded=function(){this.wave&&(this.wave.getComponent(o.ArmatureDisplay).playAnimation("Fade"),this.wave.willBeKilled=!0,this.wave=null)},a.hitWater=function(){if(this.height<=0){var t;if(this.depth=this.depthScale*h.depth(this.worldPositionX,this.inLnC),!this.wave)this.wave=null==(t=p(c.plantWaterWave()))?void 0:t.getComponent(r),this.wave&&(this.wave.getComponent(o.ArmatureDisplay).playAnimation("Idle",1/0),this.wave.node.parent=this.node.parent);this.wave&&(this.wave.node.scale=new l(.5,.5,1),this.wave.node.worldPosition=new l(this.worldPositionX,this.worldPositionY,0))}else this.depth=0,this.wave&&(this.wave.getComponent(o.ArmatureDisplay).playAnimation("Fade"),this.wave.willBeKilled=!0,this.wave=null)},i(n,[{key:"leftHitCount",get:function(){return this._leftHitCount},set:function(t){t<this._leftHitCount&&(this.playPopSound(),this.playParticle())}}]),n}(s))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/bowlingWallNut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bowlingProjectile.ts"],(function(t){var e,i,l,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,l=t._decorator},function(t){n=t.bowlingProjectile}],execute:function(){var o;i._RF.push({},"57de0YgDbVNRbFscX+WRWwx","bowlingWallNut",void 0);var c=l.ccclass;l.property,t("bowlingWallNut",c("bowlingWallNut")(o=function(t){function i(){return t.apply(this,arguments)||this}return e(i,t),i.prototype.specialUpdate=function(t){this.db&&(this.db.timeScale=this.linearVelocity.x/10)},i}(n))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/Buttercup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./CabbagePult.ts","./Character.ts","./CharacterManager.ts","./LnC.ts","./Square.ts","./SoundRescourses.ts"],(function(t){var o,n,e,i,a,r,u,s,l,c,b,d,h,f,p,P,g,m;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,u=t.AudioClip,s=t.Prefab,l=t.Node},function(t){c=t.Plant,b=t.PlantProps},function(t){d=t.NodePools},function(t){h=t.cabbagePult},function(t){f=t.CharacterType},function(t){p=t.ZombiePool},function(t){P=t.TileLiquidEnum},function(t){g=t.Square},function(t){m=t.sounds}],execute:function(){var w,y,S,D,v,B,O,_,j,L,T,z,Z,C,A,E,R,q;a._RF.push({},"897991iB9tMG6ufv1/LzPQP","Buttercup",void 0);var F=r.ccclass,x=r.property,M=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(o=t.call.apply(t,[this].concat(e))||this).TileButterDuration=120,o.ButterDamage=100,o.TileButterDurationPlantfood=150,o.ButterDamagePlantfood=150,o.ButterDuration=8,o.ButterThrowInterval=1,o}return n(o,t),o}(b),N=(w=F("buttercupSound"),y=x([u]),S=x([u]),D=x([u]),w((O=o((B=function(){function t(){e(this,"shootSound",O,this),e(this,"foodSound",_,this),e(this,"titterSound",j,this)}var o=t.prototype;return o.playShootSound=function(){m.playArray(this.shootSound,1,.1)},o.playFoodSound=function(){m.playArray(this.foodSound,1,.1)},o.platTitterSound=function(){m.playArray(this.titterSound,.3,.1)},t}()).prototype,"shootSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=o(B.prototype,"foodSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=o(B.prototype,"titterSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=B))||v);t("ButtercupPlant",(L=F("ButtercupPlant"),T=x(N),z=x(s),Z=x(l),L((E=o((A=function(t){function o(){for(var o,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new M,e(o,"soundRes",E,i(o)),e(o,"butterPrj",R,i(o)),e(o,"butterSpawnPoint",q,i(o)),o.targetZombies=[],o.coolDown=0,o.lobbing=!1,o}n(o,t);var a=o.prototype;return a.animationListener=function(t){var o=this;if("Lob"==t.name)this.lobOnTargets(),this.lobbing=!1;else if("LobFood"==t.name){this.soundRes.playFoodSound();var n=this._objdataOwn.ButterDamagePlantfood;this._dmgScale&&(n*=this._dmgScale),p.pool().concat().forEach((function(t){var e=d.instantiatePooly(o.butterPrj);h.lobOneCabbageOnZombie(e,o.worldPosition,o.butterSpawnPoint.worldPosition.y-o.node.worldPosition.y,o.inLane.prjLayer,t,2,f.zombie,!0).setButter(o._objdataOwn.ButterDuration).setDamage(n).setTileLiquid(P.butterJuice,o._objdataOwn.TileButterDurationPlantfood)})),g.getRandomSquares(20).forEach((function(t){var e=d.instantiatePooly(o.butterPrj);h.lobOneCabbageOnNode(e,o.worldPosition,o.butterSpawnPoint.worldPosition.y-o.node.worldPosition.y,o.inLane.prjLayer,t,2,f.zombie,!0).setButter(o._objdataOwn.ButterDuration).setDamage(n).setTileLiquid(P.butterJuice,o._objdataOwn.TileButterDurationPlantfood)}))}else"foodEnd"==t.name?this.foodEnd():"titter"==t.name&&this.soundRes.platTitterSound()},a.specialPlantFood=function(t){this.anmControl.playAnimation("Food",1),this.lobbing=!1},a.waterable=function(){return!this.lobbing},a.specialPlantOnEnable=function(){this.coolDown=0,this.targetZombies=[],this.lobbing=!1},a.lobOnTargets=function(t){var o=this;void 0===t&&(t=this._objdataOwn.ButterDuration);var n=this._objdataOwn.ButterDamage;this._dmgScale&&(n*=this._dmgScale),this.targetZombies.forEach((function(e){if(e.isAlive()){var i=d.instantiatePooly(o.butterPrj);h.lobOneCabbageOnZombie(i,o.worldPosition,o.butterSpawnPoint.worldPosition.y-o.node.worldPosition.y,o.inLane.prjLayer,e,3,f.zombie,!0).setButter(t).setDamage(n).setTileLiquid(P.butterJuice,o._objdataOwn.TileButterDuration)}})),this.targetZombies=[]},a.specialPlantDie=function(t){this.lobOnTargets()},a.specialPlantUpdate=function(t,o,n){var e=this;this.coolDown>0&&(this.coolDown-=t),this.targetZombies.concat().forEach((function(t){if(!t.isAlive()){var o=e.targetZombies.indexOf(t);-1!=o&&e.targetZombies.splice(o,1)}}))},a.specialPlantOnEaten=function(t,o,n,e){if(o&&(-1==this.targetZombies.indexOf(o)&&this.targetZombies.push(o),this.coolDown<=0)){this.soundRes.playShootSound();var i=this._objdataOwn.ButterThrowInterval;this._cdScale&&(i*=this._cdScale),i=Math.max(.1,i),this.anmControl.playAnimation("Lob",1,.1,Math.max(1,.5/i)),this.coolDown=i,this.lobbing=!0}},o}(c)).prototype,"soundRes",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new N}}),R=o(A.prototype,"butterPrj",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=o(A.prototype,"butterSpawnPoint",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=A))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonWithSounds.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KeyListener.ts","./SoundRescourses.ts"],(function(n){var t,o,e,i,r,u,s,c,a,l,d,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,u=n._decorator,s=n.AudioClip,c=n.AudioSource,a=n.Node,l=n.Component},function(n){d=n.KeyListener},function(n){p=n.sounds}],execute:function(){var h,S,y,f,v,g,C;r._RF.push({},"2e673nCkwJH5Jl8XLIW8wTA","ButtonWithSounds",void 0);var T=u.ccclass,b=u.property;n("ButtonWithSounds",(h=T("ButtonWithSounds"),S=b(s),y=b(s),h((g=t((v=function(n){function t(){for(var t,o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];return(t=n.call.apply(n,[this].concat(r))||this).audioSource=void 0,e(t,"touchStartSound",g,i(t)),e(t,"touchEndSound",C,i(t)),t}o(t,n);var r=t.prototype;return r.onLoad=function(){var n=this;this.getComponent(c)||this.addComponent(c),this.audioSource=this.getComponent(c),this.node.on(a.EventType.TOUCH_START,(function(){d.screenColorTweening||n.touchStartSound&&n.playPress()})),this.node.on(a.EventType.TOUCH_END,(function(){d.screenColorTweening||n.touchEndSound&&n.playUnpress()}))},r.playPress=function(){p.play(this.touchStartSound,1,0)},r.playUnpress=function(){p.play(this.touchEndSound,1,0)},t}(l)).prototype,"touchStartSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(v.prototype,"touchEndSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=v))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/CabbagePult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./NodePools.ts","./CharacterManager.ts","./Square.ts","./ProjectileManager.ts","./Plant.ts","./Zombie.ts","./SoundRescourses.ts"],(function(t){var e,o,n,i,a,r,l,s,b,c,u,d,h,g,f,y,p,m,P,v,w,L;return{setters:[function(t){e=t.inheritsLoose,o=t.applyDecoratedDescriptor,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.AudioClip,s=t.Prefab,b=t.Node,c=t.Vec2},function(t){u=t.Character,d=t.CharacterType},function(t){h=t.NodePools},function(t){g=t.ZombiePool,f=t.TombPool,y=t.Rectangle},function(t){p=t.Square},function(t){m=t.projectile},function(t){P=t.PlantProps,v=t.Plant},function(t){w=t.Zombie},function(t){L=t.sounds}],execute:function(){var S,C,_,O,k,z,x,R,j,D,A,V,T,F,I,M,N,E,q,H,Z,B;a._RF.push({},"b8357J5RHlKf5Qf6WXXkqdh","CabbagePult",void 0);var W=r.ccclass,X=r.property,J=t("cabbagePult",function(){function t(){}return t.lobOneCabbageOnPos=function(t,e,o,n,i,a,r,l,s,b){void 0===l&&(l=30),void 0===s&&(s=0),void 0===b&&(b=!1),t.parent=n,m.registerProjectile(t,r,null);var d=t.getComponent(u);d.height=o;var h=d.gravity=a;return d.linearVelocity=new c(15,0),d.worldPosition=new c(e.x,e.y),d.linearVelocity=new c((i.x-e.x)/l,(i.y-e.y)/l),d.bodyLinearVelocity=h*l/2,d.bodyLinearVelocity+=(s-o)/l,d.flyHorizontalWhenBV0=b,d.judgeZombieBodyRecForShooter=!1,d},t.lobOneCabbageOnNode=function(t,e,o,n,i,a,r,l,s){void 0===s&&(s=30);var b=new c(i.worldPosition.x,i.worldPosition.y),u=this.lobOneCabbageOnPos(t,e,o,n,b,a,r,s,0);return u.targetLocked=l?i:null,u},t.lobOneCabbageOnZombie=function(t,e,o,n,i,a,r,l,s,b,c){void 0===s&&(s=30),void 0===b&&(b=!0),void 0===c&&(c=!1);var u=i.lobberTarget(),d=null==u?void 0:u.lobberToPos(s);b&&u.worldPosition.clone().add(e.clone().negative()).length()<=60&&(s/=3);var h=this.lobOneCabbageOnPos(t,e,o,n,d,a,r,s,0,c);return h.targetLocked=l?u.node:null,h.bodyLinearVelocity+=(u.zombieHeight+u.height_depth)/s,h},t.lobOneCabbageHorizontal=function(t,e,o,n,i,a,r){var l=t.getComponent(u);return m.registerProjectile(t,r,null),l.node.parent=n,l.worldPosition=new c(e.x,e.y),l.height=o,l.linearVelocity=new c(i.x,0),l.node.angle=0,l.bodyLinearVelocity=i.y,l.gravity=2,l},t}()),K=t("CabbagePultProps",function(t){function o(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).ThrowInterval=2.7,e.ThrowIntervalAdditional=.15,e}return e(o,t),o}(P)),Q=t("cabbagePultSound",(S=W("cabbagePultSound"),C=X([l]),_=X([l]),S((z=o((k=function(){function t(){n(this,"lobSound",z,this),n(this,"foodSound",x,this)}var e=t.prototype;return e.playFoodSound=function(){L.playArray(this.foodSound,1,.1)},e.playLobSound=function(t){void 0===t&&(t=1),L.playArray(this.lobSound,t,.1)},t}()).prototype,"lobSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=o(k.prototype,"foodSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=k))||O));t("CabbagePultPlant",(R=W("CabbagePultPlant"),j=X(Q),D=X(s),A=X(s),V=X(s),T=X(s),F=X(b),R((N=o((M=function(t){function o(){for(var e,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this).lobberLobSoundVolume=1,n(e,"soundRes",N,i(e)),e.targetLock=null,e.cabbage=null,n(e,"cabbage0",E,i(e)),n(e,"cabbage1",q,i(e)),n(e,"cabbage2",H,i(e)),n(e,"cabbageMega",Z,i(e)),n(e,"cabbageSpawnPoint",B,i(e)),e.detector=null,e._objdataOwn=new K,e.busy=0,e.lobbing=!1,e}e(o,t);var a=o.prototype;return a.zombieIsVisible=function(t){return!0},a.specialPlantFood=function(){this.anmControl.playAnimation("Food",1),this.busy=1/0,this.soundRes.playFoodSound()},a.waterable=function(){return!this.lobbing},a._lobCabbageAnimation=function(){this.anmControl.playAnimation("Lob",1,.1,Math.max(1.3/this.busy,1))},a.foodLob=function(){var t=this;g.pool().forEach((function(e){t._lob(e.node,t.cabbageMega,!0)})),this.tombDetector()&&f.pool().forEach((function(e){t._lobToNode(e.node,t.cabbageMega,!0)}))},a._lob=function(t,e,o,n){var i;void 0===t&&(t=this.targetLock),void 0===e&&(e=this.cabbage),void 0===o&&(o=!1),void 0===n&&(n=30);var a=h.instantiatePooly(e),r=null==(i=t)?void 0:i.getComponent(w);if(a)if(r){var l=J.lobOneCabbageOnZombie(a,this.worldPosition,this.cabbageSpawnPoint.worldPosition.y-this.inLnC.plantPoint.worldPosition.y,this.inLane.prjLayer,r,2,d.zombie,o,n);this._dmgScale&&l.setDamage(l.damage_*this._dmgScale),this.csFunc(l)}else this._lobToNode(t,e,o,n);this.lobbing=!1},a._lobToNode=function(t,e,o,n){void 0===t&&(t=this.targetLock),void 0===e&&(e=this.cabbage),void 0===o&&(o=!1),void 0===n&&(n=30);var i=h.instantiatePooly(e);if(i){var a=J.lobOneCabbageOnNode(i,this.worldPosition,this.cabbageSpawnPoint.worldPosition.y-this.inLnC.plantPoint.worldPosition.y,this.inLane.prjLayer,t,2,d.zombie,o,n);this._dmgScale&&a.setDamage(a.damage_*this._dmgScale),this.csFunc(a)}this.lobbing=!1},a.csFunc=function(t){},a.tombDetector=function(){return!0},a.specialAnimationListener=function(t){},a.animationListener=function(t){"Lob"==t.name?(this.detectEnemy(!0),this._lob(this.targetLock),this.targetLock=null):"LobSound"==t.name?this.soundRes.playLobSound(this.lobberLobSoundVolume):"lobFood"==t.name?this.foodLob():"foodEnd"==t.name&&(this.busy=0,this.foodEnd()),this.specialAnimationListener(t)},a.specialPlantOnSquareChange=function(t,e){this.setDetecter()},a.specialPlantOnEnable=function(){this.changeProjectile(0)},a.changeProjectile=function(t){switch(void 0===t&&(t=0),t){case 0:var e;this.cabbage=this.cabbage0,null==(e=this.anmControl.body.armature().getSlot("effect"))||e._setDisplayIndex(-1);break;case 1:var o;this.cabbage=this.cabbage1,null==(o=this.anmControl.body.armature().getSlot("effect"))||o._setDisplayIndex(1);break;case 2:var n;this.cabbage=this.cabbage2,null==(n=this.anmControl.body.armature().getSlot("effect"))||n._setDisplayIndex(0)}},a.setDetecter=function(){this.detector=y.createRectangleNodeSide(this.inLnC.node,p.SquareDisW*(9-this.cIndex),p.SquareDisH)},a.detectEnemy=function(t){void 0===t&&(t=!1);var e=[],o=[],n=!1,i=this.inLane.zombiePool(),a=this.inLane.tombPool();this.targetLock=this.inLane.toRight;for(var r=0;r<i.length;r++)this.zombieIsVisible(i[r])&&this.detector.judgeCrossRec(i[r].bodyRec)&&(e.push(i[r].node),n=!0);for(var l=0;l<a.length&&this.tombDetector();l++)this.detector.judgeCrossRec(a[l].bodyRec)&&(o.push(a[l].node),n=!0);if(t)if(e.length>0){this.targetLock=e[0];for(var s=1;s<e.length;s++)this.targetLock.worldPosition.x>e[s].worldPosition.x&&(this.targetLock=e[s])}else if(o.length>0){this.targetLock=o[0];for(var b=1;b<o.length;b++)this.targetLock.worldPosition.x>o[b].worldPosition.x&&(this.targetLock=o[b])}return n},a.startLobbing=function(){this.lobbing=!0;var t=this._objdataOwn.ThrowInterval+Math.random()*this._objdataOwn.ThrowIntervalAdditional;this._cdScale&&(t*=this._cdScale),this.busy=t,this._lobCabbageAnimation()},a.specialPlantUpdate=function(t,e,o){this.busy>0&&(this.busy-=t),this.busy<=0&&(this.busy=0,o>0&&this.detectEnemy()&&this.startLobbing())},o}(v)).prototype,"soundRes",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Q}}),E=o(M.prototype,"cabbage0",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=o(M.prototype,"cabbage1",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=o(M.prototype,"cabbage2",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=o(M.prototype,"cabbageMega",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=o(M.prototype,"cabbageSpawnPoint",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=M))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/Cactus.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./CharacterManager.ts","./Square.ts","./Spikeweed.ts","./SoundRescourses.ts"],(function(t){var o,i,n,e,a,s,r,h,l,d,u,c,p,f,S,b,m,y,g;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.AudioClip,h=t.Prefab,l=t.Node,d=t.Vec2},function(t){u=t.Plant,c=t.PlantProps},function(t){p=t.NodePools},function(t){f=t.peaShooter},function(t){S=t.CharacterType},function(t){b=t.Rectangle},function(t){m=t.Square},function(t){y=t.spikeweed},function(t){g=t.sounds}],execute:function(){var C,D,w,v,P,R,_,A,j,z,E,O,L,F,H,I,k,q,x,M,N,W,B,T,Z,U,V,Y,G,J;a._RF.push({},"d8347tqDEBHAaEpFnziRm1N","Cactus",void 0);var K=s.ccclass,Q=s.property,X=function(t){function o(){for(var o,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return(o=t.call.apply(t,[this].concat(n))||this).ShootInterval=1.35,o.ShootIntervalAdditional=.15,o.StabInterval=.5,o.StabDamage=10,o.StabDamagePlantfood=20,o.PierceCount=3,o.PierceCountAdditional=1,o}return i(o,t),o}(c),$=(C=K("cactusSound"),D=Q([r]),w=Q([r]),v=Q([r]),P=Q([r]),R=Q([r]),_=Q([r]),A=Q(r),j=Q([r]),C((O=o((E=function(){function t(){n(this,"shootSounds",O,this),n(this,"shootFoodSounds",L,this),n(this,"hideSounds",F,this),n(this,"blopSounds",H,this),n(this,"shakeSound",I,this),n(this,"stabSound",k,this),n(this,"foodShootSound",q,this),n(this,"foodShoutSound",x,this)}var o=t.prototype;return o.playShootSound=function(t){void 0===t&&(t=!1),g.playArray(t?this.shootFoodSounds:this.shootSounds)},o.playHideSound=function(){g.playArray(this.hideSounds)},o.playRecoverSound=function(){g.playArray(this.hideSounds),g.playArray(this.blopSounds)},o.playShakeSound=function(){g.playArray(this.shakeSound,1,1)},o.playStabSound=function(){g.playArray(this.stabSound)},o.playFoodSound=function(){g.play(this.foodShootSound),g.playArray(this.foodShoutSound)},t}()).prototype,"shootSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=o(E.prototype,"shootFoodSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=o(E.prototype,"hideSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=o(E.prototype,"blopSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=o(E.prototype,"shakeSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=o(E.prototype,"stabSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=o(E.prototype,"foodShootSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=o(E.prototype,"foodShoutSound",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=E))||z);t("CactusPlant",(M=K("CactusPlant"),N=Q(h),W=Q(h),B=Q(l),T=Q($),M((V=o((U=function(t){function o(){for(var o,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(o=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new X,n(o,"prj0",V,e(o)),n(o,"prjFood",Y,e(o)),n(o,"peaSpawnpoint",G,e(o)),o.stabSlots=[],o.lightSlots=[],o.shootCD=0,o.shooting=!1,o.stabCD=0,o.lit=!1,o.chidden=!1,n(o,"soundRes",J,e(o)),o.shootDetector=new b,o.hideDetector=new b,o.stabDetector=new b,o}i(o,t);var a=o.prototype;return a.specialPlantOnEnable=function(){this.showLight(!1),this.shootCD=0,this.stabCD=0},a._shoot=function(t,o,i){void 0===t&&(t=this.prj0),void 0===o&&(o=15),void 0===i&&(i=new d(1,0));var n=p.instantiatePooly(t);if(n){var e=f.shootOnePea(n,new d(this.peaSpawnpoint.worldPosition.x,this.worldPositionY),Math.max(1,this.peaSpawnpoint.worldPosition.y-this.inLnC.plantPoint.worldPosition.y),this.inLane.node,i.normalize().multiplyScalar(o),S.zombie);return e&&(e.maxPierceAmount_=this._objdataOwn.PierceCount+Math.floor(Math.random()*(1+this._objdataOwn.PierceCountAdditional))),e}},a.specialPlantOnLoad=function(){var t=this;this.anmControl.body.armature().getSlots().forEach((function(o){o.name.includes("stab")?t.stabSlots.push(o):o.name.includes("Light")&&t.lightSlots.push(o)}))},a.showLight=function(t){void 0===t&&(t=!0),this.stabSlots.forEach((function(o){o._setDisplayIndex(t?1:0)})),this.lightSlots.forEach((function(o){o._setDisplayIndex(t?0:-1)})),this.lit=t,this.foodable=!t},a.hide=function(t,o){void 0===t&&(t=!0),void 0===o&&(o=!0),t?(this.anmControl.IdleAnim="Idle_Hidden",this.anmControl.RandomAnim=[],this.deathAnm="Death_Hidden",o?this.anmControl.playAnimation("Hide",1):this.anmControl.playRandom()):(this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.deathAnm="Death",o?this.anmControl.playAnimation("Recover_Hidden",1):this.anmControl.playRandom()),this.chidden=t,this.eaterDetectable=!t,this.short_=t},a.specialPlantFood=function(t){this.anmControl.playAnimation("Food",2)},a.specialPlantFoodEnd=function(){this.anmControl.playRandom(),this.showLight(),this.shootCD=0,this.stabCD=0},a.animationListener=function(t){var o=this;if("Shoot"==t.name)this._shoot(this.lit?this.prjFood:this.prj0,20);else if("shootSound"==t.name)this.soundRes.playShootSound(this.lit);else if("hideSound"==t.name)this.soundRes.playHideSound();else if("hideEndSound"==t.name)this.soundRes.playRecoverSound();else if("foodSound"==t.name)this.soundRes.playFoodSound();else if("attackSound"==t.name)this.soundRes.playStabSound();else if("Attack"==t.name){this.soundRes.playShakeSound();var i=this.lit?this._objdataOwn.StabDamagePlantfood:this._objdataOwn.StabDamage;this._dmgScale&&(i*=this._dmgScale),this.inLane.zombiePool().concat().forEach((function(t){!t.flying&&t.bodyRec.judgeCrossRec(o.stabDetector)&&y.stabOnZombie(o,t,i)}))}else"light"==t.name?this.showLight():"foodEnd"==t.name&&this.foodEnd()},a.waterable=function(){return!this.shooting&&!this.chidden},a.specialPlantOnSquareChange=function(t,o){this.setDetecter(t,o)},a.setDetecter=function(t,o){this.shootDetector=b.createRectangleNodeSide(o.node,m.SquareDisW*(9-o.cIndex),m.SquareDisH),this.hideDetector=b.createRectangleNodeCenter(o.node,2*m.SquareDisW,m.SquareDisH),this.stabDetector=b.createRectangleNodeCenter(o.node,m.SquareDisW,m.SquareDisH)},a.detectShootEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.shootDetector.judgeCrossRec(t[o].bodyRecForShooter))return!0;for(var i=this.inLane.tombPool(),n=0;n<i.length;n++)if(this.shootDetector.judgeCrossRec(i[n].bodyRec))return!0;return!1},a.detectStabEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(!t[o].flying&&this.stabDetector.judgeCrossRec(t[o].bodyRec))return!0},a.detectHideEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.hideDetector.judgeCrossRec(t[o].bodyRecReal))return!0},a.startShooting=function(){this.shooting=!0;var t=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional;this._cdScale&&(t*=this._cdScale),this.shootCD=t,this.anmControl.playAnimation("Shoot",1,.1*t/1.35,Math.max(1/t,1))},a.animationOnComplete=function(){this.shooting=!1},a.normalSmash=function(t){var o=this.lit?this._objdataOwn.StabDamagePlantfood:this._objdataOwn.StabDamage;this._dmgScale&&(o*=this._dmgScale),y.stabOnZombie(null,t,o),this.fooding||this.invincible||this.die()},a.specialPlantUpdate=function(t,o,i){if(!this.fooding&&i>0){if(this.chidden){if(this.stabCD>0&&(this.stabCD-=t),this.stabCD<=0&&!this.dead&&(this.stabCD=0,this.detectStabEnemy())){this.shooting=!0;var n=this._objdataOwn.StabInterval;this._cdScale&&(n*=this._cdScale),n<.1&&(n=.1),this.stabCD=n,this.anmControl.playAnimation("Attack_Hidden",1,.1,Math.max(.5/n,1))}}else this.shootCD>0&&(this.shootCD-=t),this.shootCD<=0&&!this.dead&&(this.shootCD=0,this.detectShootEnemy()&&this.startShooting());var e=this.detectHideEnemy();this.chidden&&!e?this.hide(!1):!this.chidden&&e&&this.hide(!0)}},o}(u)).prototype,"prj0",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=o(U.prototype,"prjFood",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=o(U.prototype,"peaSpawnpoint",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=o(U.prototype,"soundRes",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new $}}),Z=U))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/cactusThorn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Zombie.ts","./Character.ts"],(function(t){var e,n,i,o,a,c,r,s,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,c=t._decorator,r=t.CCInteger},function(t){s=t.commonShot},function(t){u=t.Zombie},function(t){l=t.CharacterType}],execute:function(){var h,m,d,f,g;a._RF.push({},"358c6pnkANKjYft0I9QLF82","cactusThorn",void 0);var p=c.ccclass,b=c.property;t("cactusThorn",(h=p("cactusThorn"),m=b(r),h((g=e((f=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a))||this,i(e,"maxPierceAmount",g,o(e)),e.maxPierceAmount_=3,e.dealtTargetAmount=0,e.contactingEnemies=[],e}n(e,t);var a=e.prototype;return a.specialCactusThornOnEnable=function(){},a.zombieCanbeDetected=function(t){return!0},a.tombCanbeDetected=function(t){return!0},a.splat=function(t){this.playPopSound(),this.playParticle()},a.characterOnEnable=function(){this.initialize(),this.maxPierceAmount_=this.maxPierceAmount,this.dealtTargetAmount=0,this.contactingEnemies=[],this.specialCactusThornOnEnable()},a.judgeContacting=function(){var t=this,e=this.bodyRec();this.contactingEnemies.concat().forEach((function(n){var i;if(-1==[].concat(t.inLane.zombiePool(),t.inLane.plantPool(),t.inLane.tombPool()).indexOf(n)||null==(i=n.bodyRec)||!i.judgeCrossRec(e)){var o=t.contactingEnemies.indexOf(n);-1!=o&&t.contactingEnemies.splice(o,1)}}))},a.detectEnemy=function(t){var e,n=this;if(this.inLane&&this.detectEnemyOn){this.judgeContacting(),null!=(e=this.targetLocked)&&null!=(e=e.getComponent(u))&&e.isAlive()||(this.targetLocked=null);var i=!1,o=this.bodyRec();if(this.enemyType==l.zombie){var a,c,r=[];null==(a=this.inLane)||a.zombiePool().forEach((function(t){(n.zombieCanbeDetected(t)&&!n.targetLocked||n.targetLocked&&t.node==n.targetLocked)&&-1==n.contactingEnemies.indexOf(t)&&t.bodyRec.judgeCrossRec(o)&&r.push(t)}));var s=[];if(r.length){for(var h=function(){var t=1/0,e=null;if(r.forEach((function(n){var i=n.bodyRec.prjX().x;i<t&&(e=n,t=i)})),e){var o=r.indexOf(e);-1!=o&&r.splice(o,1),s.push(e)}s.forEach((function(t){i||(t.commonShotPopOnTouch(n)?(n.dealDamageToTarget(t,!0),n.onZombieHit(t),n.dealtTargetAmount++,n.onCactusThornHit()):i=!0,n.contactingEnemies.push(t))}))};r.length>0&&s.length<this.maxPierceAmount_-this.dealtTargetAmount;)h();if(!i){if(this.dealtTargetAmount>=this.maxPierceAmount_)return void this.pop();this.playPopSound(),this.playParticle()}}var m=[];null==(c=this.inLane)||c.tombPool().forEach((function(t){n.tombCanbeDetected(t)&&(!n.targetLocked||n.targetLocked&&t.node==n.targetLocked)&&-1==n.contactingEnemies.indexOf(t)&&t.bodyRec.judgeCrossRec(o)&&m.push(t)}));var d=[];if(m.length){for(var f=function(){var t=1/0,e=null;if(m.forEach((function(n){var i=n.bodyRec.prjX().x;i<t&&(e=n,t=i)})),e){var i=m.indexOf(e);-1!=i&&m.splice(i,1),d.push(e)}d.forEach((function(t){t.dealDamage(n.damage),n.onTombHit(t),n.dealSplashDamage(null,t),n.dealtTargetAmount++,n.contactingEnemies.push(t),n.onCactusThornHit()}))};m.length>0&&d.length<this.maxPierceAmount_-this.dealtTargetAmount;)f();if(this.dealtTargetAmount>=this.maxPierceAmount_)return void this.pop();this.playPopSound(),this.playParticle()}}else if(this.enemyType==l.plant){var g,p=[];null==(g=this.inLane)||g.plantPool().forEach((function(t){(!n.targetLocked||n.targetLocked&&t.node==n.targetLocked)&&-1==n.contactingEnemies.indexOf(t)&&t.bodyRec.judgeCrossRec(o)&&p.push(t)}));var b=[];if(p.length){for(var v=function(){var t=-1/0,e=null;if(p.forEach((function(n){var i=n.bodyRec.prjX().y;i>t&&(e=n,t=i)})),e){var i=p.indexOf(e);-1!=i&&p.splice(i,1),b.push(e)}b.forEach((function(t){n.dealDamageToTargetPlant(t)&&(n.onPlantHit(t),n.dealtTargetAmount++,n.contactingEnemies.push(t))}))};p.length>0&&b.length<this.maxPierceAmount_-this.dealtTargetAmount;)v();if(this.dealtTargetAmount>=this.maxPierceAmount_)return void this.pop();this.onCactusThornHit(),this.playPopSound(),this.playParticle()}}}},a.onDamageOnZombie=function(t,e){this.contactingEnemies.push(t)},a.onCactusThornHit=function(){},e}(s)).prototype,"maxPierceAmount",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),d=f))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/CardFeatureTotal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./cardSelectAlmanac.ts","./Materials.ts","./levelController.ts","./SettingWindow.ts"],(function(t){var e,a,i,n,s,r,o,c,l,u,p,h,d,m,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.createClass,n=t.initializerDefineProperty},function(t){s=t.cclegacy,r=t._decorator,o=t.Prefab,c=t.dragonBones,l=t.Component},function(t){u=t.PlantEnum,p=t.plants},function(t){h=t.cardSelectAlmanac},function(t){d=t.materialRes},function(t){m=t.LevelPlay},function(t){f=t.SettingWindow}],execute:function(){var y,g,D,S,T,C,I,P;s._RF.push({},"ad10f3V4/FHzpjqwpkiAhVr","CardFeatureTotal",void 0);var v=r.ccclass,b=r.property;t("PlantsInCard",(y=v("PlantsInCard"),g=b({type:o,visible:!0,tooltip:"Plant Model"}),D=b({type:o,visible:!0,tooltip:"Active Plant"}),y((C=e((T=function(){n(this,"plantDIS",C,this),n(this,"plantPLANT",I,this)}).prototype,"plantDIS",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(T.prototype,"plantPLANT",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=T))||S)),t("CardFeatureTotal",v("CardFeatureTotal")(P=function(t){function e(){for(var e,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).thisPlant=void 0,e.thisCard=void 0,e._SUNCOST=0,e._BOOSTED=!1,e.imitateDisallowed=!1,e._isImitator=!1,e.ca=void 0,e.pID=0,e.opID=0,e}a(e,t);var n=e.prototype;return n.onEnable=function(){this.isImitator=!1},n.onLoad=function(){this.ca=this.getComponent(h)},n.cardGrouperPlant=function(t,e){for(void 0===t&&(t=this.ID),void 0===e&&(e=!0),t>=u.amount&&(t%=u.amount);t<0;)t+=u.amount;this.opID=t,t==u.TileTurnip&&(t=p.getTileTurnipID());var a=p.getPlantProps(t);this.ID=t,this.thisPlant=p.getPlantFeature(t),this.thisCard=p.getPlantsInCard(t);var i=this.ca,n="homeless",s=!1;if(this.BOOSTED)n="boost",s=!1;else if(f.classicCardBG)n="classic",s=!1;else switch(this.thisPlant.OBTAINWORLD){case"egypt":case"pirate":case"cowboy":case"kongfu":case"future":case"dark":case"beach":case"ice":case"lostcity":case"eighties":case"sky":case"dino":case"modern":case"frontyard":s=!1,n=this.thisPlant.OBTAINWORLD;break;case"water":s=!1,n="beach";break;case"market":s=!0,n="prenium";break;case"epic":s=!0,n="epic"}i.golden=s,i._bg.playAnimation(n),i.suncostShown=e;var r=a.Family;switch(f.classicCardBG&&(r=""),r){case"Peashooter":case"Cold":case"Electricity":case"Cold":case"Fire":case"Magic":case"Shadow":case"Slow":case"Trap":case"Sun":case"Sharp":case"Poison":case"Defence":case"Explosive":case"Lobber":case"Melee":this.node.getChildByName("Family").getComponent(c.ArmatureDisplay).playAnimation(a.Family);break;default:this.node.getChildByName("Family").getComponent(c.ArmatureDisplay).playAnimation("Nope")}this.SUNCOST=this.SUNCOST,i._plant.playAnimation(this.thisPlant._CARDSPRITENAME)},n.cardGrouper=function(t,e){void 0===t&&(t=this.ID),void 0===e&&(e=!0),this.cardGrouperPlant(t,e)},i(e,[{key:"SUNCOST",get:function(){var t,e=p.getPlantProps(this.ID);if(null!=m&&null!=(t=m.component)&&null!=(t=t.node)&&t.active)switch(this.ID){case u.TileTurnipAlpha:case u.TileTurnipBeta:case u.TileTurnipGamma:case u.TileTurnipDelta:case u.TileTurnipEpsilon:var a=e.SunCostList;if(a){var i=p.registerPlant(this.ID,0).amount;return a[Math.min(i,a.length-1)]}break;case u.GoldLeaf:var n=e;if(!isNaN(n.SunCostIncrement)){var s=p.registerPlant(this.ID,0).amount;return n.SunCost+n.SunCostIncrement*s}}return e.SunCost},set:function(t){this._SUNCOST=t,this.ca&&(this.ca._price.string=t.toString())}},{key:"BOOSTED",get:function(){return this._BOOSTED},set:function(t){this.ca._bg.playAnimation("boost",1),this._BOOSTED=t}},{key:"isImitator",get:function(){return this._isImitator},set:function(t){this.ca._plant.customMaterial=t?d.greyMaterial:null,this._isImitator=t}},{key:"ID",get:function(){return this.pID},set:function(t){this.pID=t}},{key:"oID",get:function(){return this.opID}}]),e}(l))||P);s._RF.pop()}}}));

System.register("chunks:///_virtual/CardFeatureTotalZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotal.ts","./Zombies.ts","./cardSelectAlmanac.ts","./SettingWindow.ts"],(function(e){var t,i,n,o,a,s,r,c,l,m,u;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,o=e._decorator,a=e.dragonBones},function(e){s=e.CardFeatureTotal},function(e){r=e.ZombieEnum,c=e.zombies,l=e.ZombieFeature},function(e){m=e.cardSelectAlmanac},function(e){u=e.SettingWindow}],execute:function(){var p;n._RF.push({},"d7345nx6ChFwY4KZggMeaDC","CardFeatureTotalZombie",void 0);var h=o.ccclass;o.property,e("CardFeatureTotalZombie",h("CardFeatureTotalZombie")(p=function(e){function n(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).thisZombie=new l,t.zID=0,t._isUnknown=!1,t}t(n,e);var o=n.prototype;return o.cardGrouper=function(e,t){void 0===t&&(t=!0),this.cardGrouperZombie(e,t)},o.cardGrouperZombie=function(e,t){for(void 0===e&&(e=this.ID),void 0===t&&(t=!0),e>=r.zombieAmount&&(e%=r.zombieAmount);e<0;)e+=r.zombieAmount;this.ID=e,this.thisZombie=c.getZombieFeature(e);var i=this.getComponent(m);if(u.classicCardBG)i.golden=!1,i._bg.playAnimation("classic");else{var n=this.thisZombie.OBTAINWORLD;switch(n){case"egypt":case"pirate":case"cowboy":case"kongfu":case"future":case"dark":case"beach":case"ice":case"lostcity":case"eighties":case"sky":case"dino":case"modern":case"frontyard":i.golden=!1,i._bg.playAnimation(n);break;case"water":i.golden=!1,i._bg.playAnimation("beach");break;case"market":i.golden=!0,i._bg.playAnimation("prenium");break;default:i._bg.playAnimation("homeless")}}i.suncostShown=t,this.node.getChildByName("Family").getComponent(a.ArmatureDisplay).playAnimation("Nope"),i._price.string=this.thisZombie.SUNCOST.toString(),i._plant.playAnimation(this.thisZombie._CARDSPRITENAME)},i(n,[{key:"ID",get:function(){return this.zID},set:function(e){this.zID=e}},{key:"isUnknown",get:function(){return this._isUnknown},set:function(e){if(this._isUnknown=e,e){var t=this.getComponent(m);t._bg.playAnimation("homeless"),t._plant.playAnimation("unknown"),this.node.getChildByName("Family").getComponent(a.ArmatureDisplay).playAnimation("Nope")}else this.cardGrouperZombie(this.ID,!1)}}]),n}(s))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/Cards.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cardSelectAlmanac.ts","./UI.ts","./SunCount.ts","./CardUIUpper.ts","./CardFeatureTotal.ts","./Droppings.ts","./SeedChooser.ts","./SoundRescourses.ts","./levelController.ts","./Plants.ts","./NodePools.ts","./SandBoxLevelSettingWindow.ts","./CoinCollecterInGame.ts","./PlayerProperties.ts","./Mouse.ts"],(function(t){var e,n,o,s,a,i,r,d,l,c,h,u,p,C,m,g,f,S,P,k,v,w,I,B,y,b,U,D,E,x,O,T,N,A,M,L,_,j,F,G;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){a=t.cclegacy,i=t._decorator,r=t.Node,d=t.Prefab,l=t.Button,c=t.Vec3,h=t.math,u=t.dragonBones,p=t.UITransform,C=t.Widget,m=t.Layout,g=t.find,f=t.Label,S=t.Size,P=t.tween,k=t.Sprite,v=t.Color,w=t.instantiate,I=t.EventMouse,B=t.Component},function(t){y=t.cardSelectAlmanac},function(t){b=t.UIInGame},function(t){U=t.SunCount},function(t){D=t.CardUIUpper},function(t){E=t.CardFeatureTotal},function(t){x=t.droppings},function(t){O=t.SeedChooser},function(t){T=t.sounds},function(t){N=t.LevelPlay},function(t){A=t.PlantEnum,M=t.plants},function(t){L=t.NodePools},function(t){_=t.SandBoxLevelSettingWindow},function(t){j=t.CoinCollecterInGame},function(t){F=t.AllPlayerProperties},function(t){G=t.Mouse}],execute:function(){var W,z,R,J,Y,H,q,K,V,Z,Q,X;a._RF.push({},"bb6235wi4BJZIjcgfvmWiuD","Cards",void 0);var $=i.ccclass,tt=i.property;t("Cards",(W=$("Cards"),z=tt(r),R=tt(d),J=tt(l),Y=tt(r),W(((X=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).maxSlotCount=0,e.seedPackets=[],e.cardSelection=[],e.cardSlot=[],o(e,"seedBankParent",K,s(e)),e.ui=null,o(e,"seedBankPrefab",V,s(e)),e.seedBank=void 0,e.oldPos=new c(25,312,0),e.shown=!1,e.plantsCanBeChosen=null,e.overrideSeedSlotsCount=NaN,o(e,"gameStartButton",Z,s(e)),e._gsbuttonOldPos=new c,e.fromCards=[],o(e,"cardButtons",Q,s(e)),e.laid=!1,e.cardsUIUpper=[],e.gameStarted=!1,e.uitransform=void 0,e}n(e,t);var a=e.prototype;return a.JudgeSelection=function(){for(var t=0;t<this.seedPackets.length;t++){var e=new h.Color(87,174,255,0);this.cardSlot[t].getComponent(D).cooling>0&&-3==this.ui.index&&N.PlantfoodRefresh&&(e=new h.Color(87,174,255,255)),this.cardSelection[t].getComponent(u.ArmatureDisplay).color=e,this.JudgeCardsSelectable()}},a.cardSelect=function(){for(var t=0;t<this.seedPackets.length;t++)this.seedPackets[t].getComponent(y).index=this.ui.index==t?1:0,this.node.getChildByName(t.toString()).getComponent(D).chosen=this.ui.index==t},a.closeSeedbank=function(){this.seedBank&&L.destroyPooly(this.seedBank)},a.createSeedbank=function(){this.seedBank=L.instantiatePooly(this.seedBankPrefab);var t=this.seedBank.getComponent(O);this.plantsCanBeChosen&&(t.currentSeedBank=this.plantsCanBeChosen.concat()),this.seedBank.parent=this.seedBankParent,this.seedBank.position=new c(0,-1e3,0)},a.onLoad=function(){var t;this.uitransform=this.getComponent(p),this.uitransform.width=b.PocketUI?122:505;var n=this.getComponent(C);n&&(n.left=b.PocketUI?100:320);var o=this.getComponent(m);o&&(o.spacingY=b.PocketUI?-70:-64),this.seedBankParent.position=b.PocketUI?new c(-35,0,0):new c(-47,-75,0),this.node.position=b.PocketUI?new c(-400,238,0):new c(10,314,0),this.oldPos=this.node.position.clone(),this.gameStarted=!1,this.ui=this.node.parent.getComponent(b);for(var s=0;s<8;s++){g("Canvas/UIInGameUpper/CardsUpper/Key"+s.toString()).getComponent(f).color=new h.Color(0,0,0,0)}e.cardsController=this,this._gsbuttonOldPos=this.gameStartButton.node.position.clone(),this.gameStartButton.node.position.add(new c(0,-1e4,0)),null==(t=this.cardButtons.getComponent(p))||t.setContentSize(new S(b.PocketUI?225:150,150)),this.cardButtons.position=b.PocketUI?new c(55,-210,0):new c(255,355,0)},a.showSeedSlots=function(){!this.shown&&this.maxSlotCount>0&&(j.component&&(j.component.show(),j.component.hidden=!1,j.component.showCD=1/0),this.shown=!0,P(this.node).to(.4,{position:this.oldPos},{easing:"cubicOut"}).start())},a.showSeedBank=function(){var t;null!=(t=this.seedBank)&&t.active&&(T.playSeedChooserOn(),P(this.seedBank).to(.4,{position:new c(0,0,0)},{easing:"cubicOut"}).call((function(){N.component.viewLawnDisabled=!1})).start())},a.hideSeedSlots=function(){var t;this.shown&&this.maxSlotCount>0&&(this.shown=!1,P(this.node).by(.4,{position:new c(b.PocketUI?-500:0,b.PocketUI?0:500,0)},{easing:"cubicIn"}).start(),j.component&&(j.component.showCD=0),null!=(t=this.seedBank)&&t.active&&(T.playSeedChooserOff(),P(this.seedBank).by(.4,{position:new c(0,-1500,0)},{easing:"cubicIn"}).start()))},a.laySeedBank=function(){var t=this;T.playSeedChooserOn(),this.showSeedSlots(),this.gameStartButton.node.position=this._gsbuttonOldPos,this.gameStartButton.node.active=!0,b.uiingame.levelTaskShowerSlot&&(b.uiingame.levelTaskShowerSlot.active=!0),P(this.seedBank).to(.4,{position:new c(0,0,0)},{easing:"cubicOut"}).call((function(){t.cardChooseOn()})).start()},a.pullSeedBank=function(t){var e=this;T.playSeedChooserOff(),this.cardButtons&&(this.cardButtons.active=!1);var n=[];this.seedPackets.forEach((function(t){var e=t.getComponent(E);n.push(e.isImitator?A.Imitater:e.ID)})),F.currentPlayer.memorySeedChoose=n,F.savePP(),this.gameStartButton.getComponent(k).color=new v(255,255,255,0),this.gameStartButton.node.position.add(new c(0,1e4,0)),P(this.seedBank).to(.8,{position:new c(0,-2e3,0)},{easing:"cubicIn"}).call((function(){t&&e.seedBank})).start()},a.judgeAllowed=function(t){var e=t.getComponent(y);this.judgeCardCanbeChosen(t,!1)?N.UnlockAll||F.getPlantProgressByID(t.oID).progress||(e.locked=!0):e.disallowed=1},a.judgeCardCanbeChosen=function(t,e){return void 0===e&&(e=!0),(!N.component.ExcludeListSunProducers||-1==t.thisPlant.TYPE.indexOf("sunProducer"))&&(!(e&&!N.UnlockAll&&!F.getPlantProgressByID(t.oID).progress)&&(!!(N.component.haveWater||-1==t.thisPlant.TYPE.indexOf("aquatic")&&-1==t.thisPlant.TYPE.indexOf("lilypad"))&&-1==N.component.ExcludePlantList.indexOf(M.getPlantFeature(t.ID).CODENAME)))},a.addMemoryCards=function(){var t,e=this;null==(t=F.currentPlayer)||null==(t=t.memorySeedChoose)||t.forEach((function(t){e.addCardByPlantEnumFromSeedbank(t)}))},a.cardChooseOn=function(){var t=this;this.gameStartButton.getComponent(k).color=this.seedPackets.length==this.maxSlotCount?new v(255,255,255,255):new v(140,140,140,255);var e=this.seedBank.getComponent(O);N.component.presetSeedToChoose.forEach((function(e){var n=t.addCardByPlantEnumFromSeedbank(e);n&&(n.disallowed=4,n.suncostShown=!0)})),e.PlantsInCard.forEach((function(e){t.judgeAllowed(e),e.node.on(r.EventType.TOUCH_END,(function(n){t.shown&&t.addCard(e,!1,!1)}),t)})),this.judgeChoosable(),this.addMemoryCards(),this.cardButtons&&(this.cardButtons.active=!0)},a.judgeChoosable=function(){var t=this;this.seedBank.getComponent(O).PlantsInCard.forEach((function(e){var n=t.seedPackets.length;if(e.ID==A.Imitater){var o=e.getComponent(y);if(o.disallowed>=1&&o.disallowed<=3)return;0==n||t.seedPackets[n-1].getComponent(E).imitateDisallowed?o.disallowed=4:o.disallowed=0}}))},a.addCard=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n=!0);var s=this.seedPackets.length+0,a=t.getComponent(y);if(!(a.disallowed>0)&&s<this.maxSlotCount&&!a.chosen){var i=w(t.node);i.setParent(this.cardSlot[s].getComponent(D).CardUpper,!1),i.worldPosition=t.node.worldPosition,i.worldScale=this.cardSlot[s].worldScale;var d=i.getComponent(E);d.cardGrouper(t.ID),d.ID==A.Imitater&&this.seedPackets[s-1]&&(d.cardGrouper(this.seedPackets[s-1].getComponent(E).ID),d.isImitator=!0),a.chosen=!0,this.fromCards.push(a);var l=i.getComponent(y);return l.seedChooserModeOn=!1,this.seedPackets.push(i),P(i).to(.3,{position:new c(0,0,0)},{easing:"cubicOut"}).call((function(){i.setParent(o.cardSlot[s],!1),i.once(r.EventType.MOUSE_DOWN,(function(t){t.preventSwallow=!0,o.spliceCard(i)}),o)})).start(),n&&T.playCardChosen(),a.disallowed=e?1:0,this.seedPackets.length==this.maxSlotCount&&(this.gameStartButton.getComponent(k).color=new v(255,255,255,255)),this.judgeChoosable(),l}},a.addCardByPlantEnum=function(t){var e=this.seedPackets.length+0,n=t+0,o=!1;if(n==A.Imitater&&this.seedPackets[0]&&this.seedPackets[e-1].getComponent(E).ID!=A.Imitater&&(o=!0,n=this.seedPackets[e-1].getComponent(E).ID),e<this.maxSlotCount){var s=w(x.PlantSeedPacket);s.parent=this.cardSlot[e],s.worldScale=this.cardSlot[e].worldScale;var a=s.getComponent(E);a.cardGrouper(n),a.isImitator=o,this.seedPackets.push(s)}},a.addCardByPlantEnumFromSeedbank=function(t){var e=this,n=null;return this.seedBank.getComponent(O).PlantsInCard.forEach((function(o){n||o.ID==t&&(n=e.addCard(o))})),n},a.spliceAllCards=function(){for(var t=0;t<this.maxSlotCount;t++)this.seedPackets.length>0&&this.spliceCard(this.seedPackets[this.seedPackets.length-1])},a.rechooseFromMemory=function(){this.spliceAllCards(),this.addMemoryCards()},a.spliceCard=function(t){var e,n=t.getComponent(y);if(!(n.disallowed>0||N.letsRocked||n.disallowed>0)){T.playCardCancel();var o=this.seedPackets.indexOf(t),s=0;for(s=0;s<this.fromCards.length;s++){var a=this.fromCards[s].getComponent(E),i=t.getComponent(E);if(a.ID==i.ID&&a.ID!=A.Imitater&&!i.isImitator||a.ID==A.Imitater&&i.isImitator){this.fromCards[s].chosen=!1,this.fromCards.splice(s,1);break}}var r=null==(e=this.seedPackets[o+1])?void 0:e.getComponent(E);t.destroy();for(var d=o;d<this.seedPackets.length;d++){var l;(null==(l=this.seedPackets[d])?void 0:l.parent)!=this.cardSlot[d-1]&&(this.seedPackets[d].setParent(this.cardSlot[d-1],!0),P(this.seedPackets[d]).to(.3,{position:new c(0,0,0)},{easing:"cubicOut"}).start())}this.seedPackets.splice(o,1),this.seedPackets.length!=this.maxSlotCount&&(this.gameStartButton.getComponent(k).color=new v(140,140,140,255)),this.judgeChoosable(),r&&r.isImitator&&this.spliceCard(r.node)}},a.laySlots=function(){var t=this;if(!this.laid){if(this.laid=!0,this.seedBank){var e=this.seedBank.getComponent(O),n=0;e.PlantsInCard.forEach((function(e){n>=t.maxSlotCount||t.judgeCardCanbeChosen(e)&&n++})),this.maxSlotCount=n}this.maxSlotCount||(this.node.getChildByName("0").active=!1);for(var o=1;o<this.maxSlotCount;o++){var s=w(this.node.getChildByName("0"));s.name=o.toString(),s.parent=this.node,this.cardSlot.push(s),this.cardSlot[o].getComponent(D).index=o;var a=s.getChildByName("PlantFoodSelection");this.cardSelection.push(a),a.getComponent(u.ArmatureDisplay).color=new v(255,255,255,0)}this.cardSelection.forEach((function(t){t.getComponent(u.ArmatureDisplay).playAnimation("Idle",1/0)}))}},a.start=function(){var t=this;this.laid=!1,this.shown=!1,this.cardSlot.push(this.node.getChildByName("0")),this.cardSelection.push(this.node.getChildByName("0").getChildByName("PlantFoodSelection")),this.cardSelection[0].getComponent(u.ArmatureDisplay).color=new v(255,255,255,0),this.cardSlot[0].getComponent(D).index=0,this.node.position.add(new c(b.PocketUI?-500:0,b.PocketUI?0:200,0)),this.node.on(r.EventType.MOUSE_DOWN,(function(e){e.getButton()==I.BUTTON_RIGHT&&t.ui.tryChangingIndex(-1)}),this)},a.onDisable=function(){for(var t=0;t<this.seedPackets.length;t++)this.seedPackets[t].getComponent(l).enabled=!1,this.seedPackets[t].getComponent(y).enabled=!1},a.CoolStart=function(t){var e;null==(e=this.cardsUIUpper[t])||e.coolStart()},a.cardsUIUpperRestart=function(){this.cardsUIUpper.forEach((function(t){t.coolStart()}))},a.gameStart=function(){var t=this;if(!this.gameStarted){this.gameStarted=!0,this.seedPackets.forEach((function(t){t.getComponent(y).disallowed=0}));for(var e=function(e){var n=t.node.getChildByName(e.toString()).getComponent(D);n.gameStart(),t.cardsUIUpper.push(n),t.seedPackets[e].off(r.EventType.MOUSE_DOWN),t.seedPackets[e].on(r.EventType.MOUSE_DOWN,(function(n){var o;null==(o=t.cardsUIUpper[e])||o.clearCool(n),n.getButton()==I.BUTTON_RIGHT?t.ui.tryChangingIndex(-1):t.ui.tryChangingIndex(e)}),t.ui)},n=0;n<this.seedPackets.length;n++)e(n);this.cardSelection.forEach((function(t){t.setSiblingIndex(t.parent.children.length),t.getComponent(u.ArmatureDisplay).color=new v(255,255,255,0)})),this.JudgeCardsSelectable(),this.JudgeSelection()}},a.JudgeCardsSelectable=function(){for(var t=U.component.SunCount,e=0;e<this.cardsUIUpper.length;e++){var n;null==(n=this.cardsUIUpper[e])||n.setAffordable(t>=this.seedPackets[e].getComponent(E)._SUNCOST||_.freePlant)}},a.cardsUpdate=function(t){this.cardsUIUpper.forEach((function(e){e.cardUpdate(t)}))},a.judgeMouseIsIn=function(){return!!this.uitransform&&G.judgeInUITransform(this.uitransform)},a.onMouseScroll=function(t){if(N.sandBoxModeOn&&N.gameStarted&&this.seedPackets.length){var e=this.seedPackets[0].getComponent(E),n=t.getScrollY()>0?-1:1,o=(_.plantList.indexOf(e.ID)+n)%_.plantList.length;o<0&&(o=_.plantList.length-1),this.seedPackets.forEach((function(t,e){var n=t.getComponent(E),s=_.plantList[(o+e)%_.plantList.length];n.cardGrouper(s)}))}},e}(B)).cardsController=void 0,K=e((q=X).prototype,"seedBankParent",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(q.prototype,"seedBankPrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(q.prototype,"gameStartButton",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(q.prototype,"cardButtons",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=q))||H));a._RF.pop()}}}));

System.register("chunks:///_virtual/cardSelectAlmanac.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelController.ts","./Materials.ts"],(function(t){var e,i,o,n,s,h,l,a,r,c,d,u;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){o=t.cclegacy,n=t._decorator,s=t.Node,h=t.dragonBones,l=t.Label,a=t.Color,r=t.math,c=t.Component},function(t){d=t.LevelPlay},function(t){u=t.materialRes}],execute:function(){var p;o._RF.push({},"824f019C59ESqoTIS6t819E","cardSelectAlmanac",void 0);var _=n.ccclass;n.property,t("cardSelectAlmanac",_("cardSelectAlmanac")(p=function(t){function o(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).index=void 0,e.indexPoint=void 0,e.affordable=void 0,e.cooling=void 0,e.selectable=void 0,e._disallowed=0,e._bg=void 0,e._dots=void 0,e._plant=void 0,e._price=void 0,e._select=void 0,e._disallow=void 0,e.free=!1,e.seedChooserModeOn=!1,e.almanacModeOn=!1,e.chosen=!1,e._suncostShown=!1,e.defaultSunCostShown=!0,e.golden=!1,e.prizeModeOn=!1,e.Dark=new a(140,140,140,255),e.Red=new r.Color(255,100,100,255),e.White=new r.Color(255,255,255,255),e.Transparent=new r.Color(255,255,255,0),e}e(o,t);var n=o.prototype;return n.onEnable=function(){this.index=0,this.indexPoint=0,this._select.armatureName="selection",this._select.playAnimation("nope",-1),this.defaultSunCostShown=!0,this.node.on(s.EventType.MOUSE_ENTER,this.enter,this),this.node.on(s.EventType.MOUSE_LEAVE,this.leave,this)},n.onDisable=function(){this.node.off(s.EventType.MOUSE_ENTER,this.enter,this),this.node.off(s.EventType.MOUSE_LEAVE,this.leave,this)},n.onLoad=function(){this._disallow=this.node.getChildByName("Disallow").getComponent(h.ArmatureDisplay),this._bg=this.node.getChildByName("Background").getComponent(h.ArmatureDisplay),this._dots=this.node.getChildByName("Dots").getComponent(h.ArmatureDisplay),this._plant=this.node.getChildByName("Plant").getComponent(h.ArmatureDisplay),this._price=this.node.getChildByName("Dots").getChildByName("Price").getComponent(l),this._select=this.node.getChildByName("Select").getComponent(h.ArmatureDisplay),this._disallow.playAnimation("nope",1)},n.PlantDark=function(){return!this.selectable},n.BKDark=function(){return!this.selectable||1==this.index},n.Selection=function(){return 1==this.index},n.Pointed=function(){return 1==this.indexPoint&&0==this.index&&this.selectable},n.SelectionAnimationName=function(){return this.Selection()?"select":this.Pointed()?"point":"nope"},n.enter=function(t){this.indexPoint=1},n.leave=function(t){this.indexPoint=0},n.inGameColor=function(){this._bg.color=this.BKDark()?this.Dark:this.White,this._dots.color=this.BKDark()?this.Dark:this.White,this._plant.color=this.PlantDark()?this.Dark:this.White,this._price.color=this._suncostShown?this.affordable?this.White:this.Red:this.Transparent,this._select.playAnimation(this.SelectionAnimationName())},n.chooseSeedColor=function(){var t=this,e=this.chosen||this.disallowed>0;[this._bg,this._dots,this._plant].forEach((function(i){i.color=e?t.Dark:t.White})),this._price.color=this._suncostShown&&0==this.disallowed?this.chosen?this.Dark:this.White:this.Transparent,this._select.playAnimation(1==this.indexPoint?"point":this.Selection()?"select":"nope")},n.almanacColor=function(){var t=this,e=this.chosen||this.disallowed>0;[this._bg,this._dots].forEach((function(i){i.color=e?t.Dark:t.White})),this._plant.color=this.disallowed>0?this.Dark:this.White,this._price.color=this._suncostShown&&0==this.disallowed?this.chosen?this.Dark:this.White:this.Transparent,this._select.playAnimation(1==this.indexPoint?"point":this.Selection()?"select":"nope")},n.commonColor=function(){var t=this;[this._bg,this._dots,this._plant].forEach((function(e){e.color=t.disallowed>0?t.Dark:t.White})),this._price.color=this._suncostShown?this.White:this.Transparent,this._select.playAnimation(1==this.indexPoint?"point":this.Selection()?"select":"nope")},n.prizeColor=function(){[this._bg,this._dots,this._plant].forEach((function(t){t.color=u.rewardColor})),this._price.color=this._suncostShown?this.White:this.Transparent,this._select.playAnimation(1==this.indexPoint?"point":this.Selection()?"select":"nope")},n.getSelectable=function(){return!this.cooling&&(this.affordable||this.free)&&0==this.disallowed},n.update=function(t){var e;this.selectable=this.getSelectable(),this.prizeModeOn?this.prizeColor():null!=d&&d.gameStarted||null!=d&&null!=(e=d.component)&&e.lastStandPrepareStarted?this.inGameColor():this.seedChooserModeOn?this.chooseSeedColor():this.almanacModeOn?this.almanacColor():this.commonColor()},i(o,[{key:"locked",get:function(){return 2==this._disallowed||3==this._disallowed},set:function(t){t&&(this.disallowed=this.golden?3:2)}},{key:"disallowed",get:function(){return this._disallowed},set:function(t){this.suncostShown=!t&&this.defaultSunCostShown;var e="nope";switch(t){case 1:e="disallow";break;case 2:e="lock_medium";break;case 3:e="lock_golden"}this._disallow.playAnimation(e,1),this._disallowed=t}},{key:"suncostShown",get:function(){return this._suncostShown},set:function(t){t?(this.free=!1,this._dots.playAnimation(this.golden?"dotsPricePrenium":"dotPrice")):(this.free=!0,this._dots.playAnimation("dotsNoPrice")),this._suncostShown=t}}]),o}(c))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/CardUIUpper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Cards.ts","./cardSelectAlmanac.ts","./UI.ts","./PlantFoodCount.ts","./CardFeatureTotal.ts","./levelController.ts","./SandBoxLevelSettingWindow.ts","./SettingWindow.ts","./Plants.ts"],(function(o){var t,e,n,i,a,l,r,s,d,c,h,p,C,u,f,g,w,S,m,P,U,v,y,T,b,I,D,x;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){a=o.cclegacy,l=o._decorator,r=o.Node,s=o.Prefab,d=o.EventMouse,c=o.Button,h=o.Color,p=o.math,C=o.dragonBones,u=o.find,f=o.Label,g=o.instantiate,w=o.Sprite,S=o.Vec3,m=o.Component},function(o){P=o.Cards},function(o){U=o.cardSelectAlmanac},function(o){v=o.UIInGame},function(o){y=o.PlantFoodCount},function(o){T=o.CardFeatureTotal},function(o){b=o.LevelPlay},function(o){I=o.SandBoxLevelSettingWindow},function(o){D=o.SettingWindow},function(o){x=o.plants}],execute:function(){var B,L,O,k,F,N,R;a._RF.push({},"8cfcd0rpYJLVIHfHUSKviCk","CardUIUpper",void 0);var _=l.ccclass,K=l.property;o("CardUIUpper",(B=_("CardUIUpper"),L=K(r),O=K(s),B((N=t((F=function(o){function t(){for(var t,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return(t=o.call.apply(o,[this].concat(a))||this).CardUpper=null,n(t,"Mouse",N,i(t)),t.KeyTip=void 0,n(t,"COOL",R,i(t)),t.coolShadow=void 0,t.plantReady=void 0,t.chosen=void 0,t.cooling=0,t.affordable=void 0,t.coolTotalTime=5,t.index=-1,t.masked=!1,t.detecter=null,t.card=null,t}e(t,o);var a=t.prototype;return a.setAffordable=function(o){this.affordable=o,this.setUpperColor()},a.clearCool=function(o){this.cooling<=0||(o.getButton()==d.BUTTON_LEFT&&-3==v.index&&b.gaming&&(b.PlantfoodRefresh||b.sandBoxModeOn)?this._clearCool():o.getButton()!=d.BUTTON_MIDDLE||b.component.lastStandPrepareStarted||-1!=v.index||!b.PlantfoodRefresh&&!b.sandBoxModeOn||(y.plantFoodNum>0||I.freePF?this._clearCool():y.plantfoodWarn()))},a._clearCool=function(){this.coolShadow.fillRange=0,this.cooling=0,P.cardsController.JudgeSelection(),v.uiingame.tryChangingIndex(-1),y.component.plantFoodDec()},a.coolStart=function(o){void 0===o&&(o=1),isNaN(o)&&(o=1);var t=this.card.getComponent(T),e=x.getPlantProps(t.ID);I.noCDPlant?o=0:b.component.lastStandPrepareStarted&&(o=0,0!=e.SunCost&&-1==t.thisPlant.TYPE.indexOf("lastStandDisallowed")||(o=1)),P.cardsController.seedPackets.forEach((function(o){var t=null==o?void 0:o.getComponent(T);t&&(t.SUNCOST=t.SUNCOST)})),this.coolShadow.fillRange=o,this.coolTotalTime=e.Cooldown,this.cooling=o*this.coolTotalTime,this.setUpperColor()},a.coolDown=function(o){b.gameStarted&&this.cooling>0&&(this.cooling-=o),(this.cooling<=0||I.noCDPlant)&&(this.cooling=0,this.setUpperColor(),P.cardsController.JudgeSelection()),this.coolShadow.fillRange=this.cooling/this.coolTotalTime;var t=this.card.getComponent(U);t.affordable=this.affordable,t.cooling=this.cooling>0&&!I.noCDPlant,this.card.getComponent(c).enabled=t.selectable},a.keyColor=function(){return D.showKeyTips?b.gameStarted||b.component.lastStandPrepareStarted?this.chosen?new p.Color(100,255,100,255):this.cooling>0?new p.Color(150,150,255,255):this.affordable?new p.Color(245,255,0,255):new p.Color(255,100,100,255):new h(255,255,255,0):new h(0,0,0,0)},a.setUpperColor=function(){this.plantReady&&(this.plantReady.getComponent(C.ArmatureDisplay).color=this.showPlantColor())},a.showPlantColor=function(){return this.masked&&!this.affordable||this.masked&&this.cooling>0?new p.Color(155,155,155,255):this.masked?new p.Color(255,255,255,255):new p.Color(255,255,255,0)},a.onLoad=function(){this.KeyTip=u("Canvas/UIInGameUpper/CardsUpper/Key"+this.node.name).getComponent(f),this.CardUpper=u("Canvas/UIInGameUpper/CardsUpper/"+this.node.name)},a.setDetecter=function(){},a.gameStart=function(){this.coolShadow||this.coolShade(),this.CardUpper.setWorldPosition(this.node.worldPosition),this.CardUpper.setWorldScale(this.node.worldScale);var o=this.card.getComponent(T);this.coolShadow&&this.coolStart(x.getPlantProps(o.ID).CooldownFrom)},a.coolShade=function(){var o=g(this.COOL);this.coolShadow=o.getComponent(w),this.card=P.cardsController.seedPackets[this.index],this.card.getChildByName("Dots").getChildByName("CooldownShade").addChild(o)},a.start=function(){},a.update=function(o){this.CardUpper.worldPosition=this.node.worldPosition,this.CardUpper.worldScale=this.node.worldScale},a.cardUpdate=function(o){if(this.card){this.coolDown(o);var t=this.node.worldScale.x*(v.PocketUI?-1:1);this.KeyTip.node.worldPosition=new S(this.node.worldPosition.x-100*t,this.node.worldPosition.y-55*t),this.KeyTip.color=this.keyColor(),this.KeyTip.node.scale=this.chosen?new S(.7,.7):new S(.5,.5)}},t}(m)).prototype,"Mouse",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(F.prototype,"COOL",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=F))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/cart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./SoundRescourses.ts","./NodePools.ts","./Square.ts"],(function(n){var t,i,e,o,r,s,l,a,u,c,p,h;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,s=n._decorator,l=n.AudioClip,a=n.Vec2},function(n){u=n.Tile},function(n){c=n.sounds},function(n){p=n.ArrayGet},function(n){h=n.Square}],execute:function(){var f,d,v,L,m;r._RF.push({},"2c0a5vs5XdBwo47rnI22f8M","cart",void 0);var C=s.ccclass,y=s.property;n("cart",(f=C("cart"),d=y([l]),f((m=t((L=function(n){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r))||this,e(t,"moveSounds",m,o(t)),t}i(t,n);var r=t.prototype;return r.setTileParent=function(n){},r.moveUp=function(){var n;0!=(null==(n=this.inLnC)||null==(n=n.rail)?void 0:n.pos)&&this.moveTo(this.inLnC.upper)},r.moveDown=function(){var n;2!=(null==(n=this.inLnC)||null==(n=n.rail)?void 0:n.pos)&&this.moveTo(this.inLnC.lower)},r.moveTo=function(n){var t;if(!(this.inLnC==n||this.inLnC.imitaterInSquare.length||this.inLnC.tilePlantInSquare.length||this.inLnC.tombStone||n.tombStone||null!=n&&null!=(t=n.rail)&&t.haveCartInLnC(n))){var i=!0,e=this.inLnC.getAllPlants().concat();if(e.forEach((function(n){i&&n.leapTween&&(i=!1)})),i){this.node.worldPosition=n.node.worldPosition;var o=this.inLnC;if(this.inLnC=n,null!=o&&o.sheep){var r=n.plantPoint.worldPosition;o.sheep.worldPosition=new a(r.x,r.y),o.sheep.judgeInLnC()}null==e||e.forEach((function(t){t.leapTo(n,0,0,!1,!0)})),c.play(p.getRandom(this.moveSounds),.5),h.component.readIndex()}}},r.plantPushTideListener=function(n){},t}(u)).prototype,"moveSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=L))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/CeleryStalker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Square.ts","./CharacterManager.ts","./Zombie.ts","./NodePools.ts","./SoundRescourses.ts"],(function(t){var n,e,i,a,o,s,r,l,h,u,d,c,f,g,p,m;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,r=t._decorator,l=t.AudioClip},function(t){h=t.Plant,u=t.PlantProps},function(t){d=t.Square},function(t){c=t.Rectangle},function(t){f=t.ZombieDamageDetails,g=t.zombieDamageType},function(t){p=t.ArrayGet},function(t){m=t.sounds}],execute:function(){var y,S,b,C,w,R,A,D,v,_,k,P,E,L,H,z,I,j,F,O;s._RF.push({},"2aecczYCj9Fy6Es5QWJhoZb","CeleryStalker",void 0);var T=r.ccclass,q=r.property,x=(y=T("celerystalkerSound"),S=q([l]),b=q([l]),C=q([l]),w=q([l]),R=q([l]),A=q([l]),y((_=n((v=function(){function t(){i(this,"hitSounds",_,this),i(this,"attackStartSounds",k,this),i(this,"attackEndSounds",P,this),i(this,"showSounds",E,this),i(this,"hideSounds",L,this),i(this,"foodSounds",H,this)}var n=t.prototype;return n.playHitSound=function(){m.playArray(this.hitSounds,1,.1)},n.playAttackStartSound=function(){m.playArray(this.attackStartSounds,1,.1)},n.playAttackEndSound=function(){m.playArray(this.attackEndSounds,1,.1)},n.playShowSound=function(){m.playArray(this.showSounds,1,.1)},n.playHideSound=function(){m.playArray(this.hideSounds,1,.1)},n.playFoodSound=function(){m.playArray(this.foodSounds,1,.1)},t}()).prototype,"hitSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(v.prototype,"attackStartSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=n(v.prototype,"attackEndSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=n(v.prototype,"showSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=n(v.prototype,"hideSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=n(v.prototype,"foodSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=v))||D),B=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).PlantfoodChildrenCount=3,n.RetractionDelay=3,n.DamagePerHit=25,n}return e(n,t),n}(u);t("CeleryStalkerPlant",(z=T("CeleryStalkerPlant"),I=q(x),z((O=n((F=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o))||this,i(n,"soundRes",O,a(n)),n._stage=0,n._bpSlots=[],n.soonReact=!1,n.dirtsArmature=void 0,n.detector=new c,n.retreatCD=3,n.switching=!1,n.target=void 0,n._objdataOwn=new B,n.chidden=!1,n}e(n,t);var s=n.prototype;return s.specialPlantOnLoad=function(){var t,n=this;this.db.armature().getSlots().forEach((function(t){t.name.includes("_BP")&&n._bpSlots.push(t)})),this.dirtsArmature=null==(t=this.db.armature().getSlot("DIRT"))?void 0:t.childArmature},s.specialPlantOnEnable=function(){this.stage=0,this.hide(),this.anmControl.playRandom(),this.retreatCD=0,this.switching=!1,this.soonReact=!0},s.onDamaged=function(t,n,e){for(var i=0,a=2;a>=0;a--)if(e<=this.toughness*(1-a/3)){i=a;break}this.stage!=i&&(this.stage=i)},s.specialPlantFood=function(t){this.chidden&&this.show(),this.anmControl.playAnimation("Food",1),this.onDamaged(0,this.toughness,this.toughness),this.target=null,this.retreatCD=.1},s.replantable=function(){return 0!=this.stage},s.replant=function(){this.health=this.toughness,this.onDamaged(0,this.toughness,this.toughness)},s.animationListener=function(t){if("foodEnd"==t.name)this.foodEnd();else if("hit"==t.name)this.hit(),this.soundRes.playHitSound();else if("foodSummon"==t.name)this.throwChildren(),this.soundRes.playFoodSound();else if("attackLoop"==t.name){var n;this.target=this.getTarget(),this.target||null!=(n=this.inLnC)&&null!=(n=n.lefter)&&n.tombStone?(this.anmControl.playAnimation("AttackLoop",1/0,0,1),this.switching=!0):(this.anmControl.playAnimation("AttackEnd",1),this.soundRes.playAttackEndSound(),this.switching=!0)}else if("dirt"==t.name){var e;null==(e=this.dirtsArmature)||null==(e=e.animation)||e.play("Play",1)}},s.getTarget=function(){var t=this,n=null;return this.inLane.zombiePool().forEach((function(e){var i;e.bodyRecForShooter.prjX().x<Infinity&&t.detector.judgeCrossRec(e.bodyRecForShooter)&&(null==(i=t.bodyRec)||!i.judgeCrossRec(e.plantDetectorRec))&&(n=e)})),n},s.throwChildren=function(){var t=this,n=this._objdataOwn.PlantfoodChildrenCount,e=[];if(e.length<n)for(var i=p.randomize(d.getAllLnC()),a=0;e.length<n&&a<i.length;a++){var o=i[a];-1==e.indexOf(o)&&o.putPlantAvailable(!0,this.ID)&&e.push(o)}e.forEach((function(n){var e=n.spawnPlantByPlantEnum(t.ID);e&&(e.hurting=60)}))},s.specialPlantOnSquareChange=function(t,n){this.detector=c.createRectangleNodeSide(n.node,1.5*-d.SquareDisW,d.SquareDisH)},s.hit=function(){var t=this._objdataOwn.RetractionDelay;t*=this._cdScale,this.retreatCD=t;var n=this._objdataOwn.DamagePerHit;if(n*=this._dmgScale,this.target&&this.target.inLane==this.inLane&&this.detector.judgeCrossRec(this.target.bodyRecForShooter)){if(this.bodyRec.judgeCrossRec(this.target.plantDetectorRec))return void this.hide();this.target.dealDamage(new f(n,!0,!0,!0,null,g.physicle))}else{var e;if(this.target=this.getTarget(),this.target)this.target.dealDamage(new f(n,!0,!0,!0,null,g.physicle));else if(null!=(e=this.inLnC)&&null!=(e=e.lefter)&&e.tombStone){var i,a=null==(i=this.inLnC)||null==(i=i.lefter)?void 0:i.tombStone;!a||null!=a&&a.hidden||null==a||a.dealDamage(n)}else this.anmControl.playAnimation("AttackEnd",1),this.soundRes.playAttackEndSound(),this.switching=!0}},s.waterable=function(){return!this.switching&&!this.target&&!this.chidden},s.animationOnComplete=function(){this.switching=!1},s.specialPlantUpdate=function(t,n,e){if(!this.fooding&&!this.switching)if(this.chidden){var i;(this.getTarget()||null!=(i=this.inLnC)&&null!=(i=i.lefter)&&i.tombStone)&&this.show()}else{var a;if(!this.target)e>0&&((this.target=this.getTarget())||null!=(a=this.inLnC)&&null!=(a=a.lefter)&&a.tombStone)&&(this.anmControl.playAnimation("AttackStart",1),this.soundRes.playAttackStartSound(),this.switching=!0);if(this.retreatCD>0&&(this.retreatCD-=t),this.retreatCD<=0)return void this.hide()}this.soonReact=!1},s.show=function(){this.target=null,this.retreatCD=.5,this.chidden=!1,this.anmControl.playAnimation("Show",1),this.switching=!0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2","Rand3"],this.deathAnm="Death",this.soundRes.playShowSound(),this.eaterDetectable=!0,this.short_=!1},s.hide=function(){this.target=null,this.chidden=!0,this.anmControl.playAnimation("Hide",1),this.switching=!0,this.anmControl.IdleAnim="Idle_Hidden",this.anmControl.RandomAnim=["Rand1_Hidden","Rand2_Hidden","Rand3_Hidden"],this.deathAnm="Death_Hidden",this.soundRes.playHideSound(),this.eaterDetectable=!1,this.short_=!0},o(n,[{key:"stage",get:function(){return this._stage},set:function(t){var n;t>2&&(t=2),t<0&&(t=0),t!=this._stage&&(this._bpSlots.forEach((function(n){n._setDisplayIndex(t)})),this._stage=t,null==(n=this.plantInLnC)||n.readIndex())}}]),n}(h)).prototype,"soundRes",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new x}}),j=F))||j));s._RF.pop()}}}));

System.register("chunks:///_virtual/Character.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Lane.ts","./LnC.ts","./Square.ts","./shadeFloor.ts","./NodePools.ts","./FrontYard.ts","./levelController.ts","./UI.ts","./KeyListener.ts"],(function(t){var e,i,n,o,a,s,h,r,d,l,c,u,g,f,S,p,w,y,C,L,P,_,k,m,v,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,h=t._decorator,r=t.CCFloat,d=t.Size,l=t.Node,c=t.dragonBones,u=t.Vec3,g=t.Quat,f=t.Color,S=t.tween,p=t.Vec2,w=t.Component},function(t){y=t.Lane},function(t){C=t.TileType},function(t){L=t.Square},function(t){P=t.shadeFloor},function(t){_=t.NodePools},function(t){k=t.FrontYard},function(t){m=t.LevelPlay},function(t){v=t.UIInGame},function(t){I=t.KeyListener}],execute:function(){var b,x,T,F,O,Y,H,A,D,X,M,q,E;s._RF.push({},"fb6fe2CvXNDDoGQaFJYhZZy","Character",void 0);var R=h.ccclass,z=h.property,G=t("CharacterScale",.45);t("CharacterType",function(t){return t[t.zombie=0]="zombie",t[t.plant=1]="plant",t[t.droppings=2]="droppings",t[t.projectle=3]="projectle",t[t.default=4]="default",t}({})),t("Character",(b=R("Character"),x=z(r),T=z({type:Boolean,visible:function(){return this.useShade}}),F=z(Boolean),O=z({type:d,visible:function(){return this.useShade}}),Y=z({type:l,visible:function(){return this.useShade}}),b((D=e((A=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))||this).isGameLoseTriggerer=!1,e.AlmanacMode=!1,e.MagnetShroomConsumingSpeed=1,n(e,"originalScale",D,o(e)),e.disabled=!1,e.inLane=void 0,e.inLnC=void 0,e.db=null,e._worldPositionX=0,e._worldPositionY=0,e.shadeAlphaScale=1,e._height=0,e._maxShowShadeHeight=600,e._depth=0,e.depthStartingZ=0,e._scale=1,e.shadeHidden=!1,e.lIndex=-2,e.cIndex=-2,e.shadeCIndex=-2,n(e,"smartShadeHider",X,o(e)),e.shadeInLnC=void 0,e.lockLane=!1,e.fallingInSky=!1,e.flyingOnSky=!1,n(e,"useShade",M,o(e)),n(e,"originalShadeScale",q,o(e)),n(e,"shadeSocket",E,o(e)),e.shade=void 0,e.oldTT=C.floor,e.fadingAway=!1,e.fallInSkyRotateEasing="quadIn",e}i(e,t);var s=e.prototype;return s.onLoad=function(){I.isInGame&&(this.shadeSocket||(this.shadeSocket=this.node),this.db=this.getComponent(c.ArmatureDisplay),this.disabled||this.characterOnLoad(),this.characterOnLoadForced())},s.characterOnLoad=function(){},s.characterOnLoadForced=function(){},s.triggerGameLose=function(){},s.onRealPosChange=function(){},s.onEnable=function(){var t;if(I.isInGame){this.MagnetShroomConsumingSpeed=1,this.isGameLoseTriggerer=!1,this.shadeHidden=!1,this.setLockLane(null),null==(t=this.db)||null==(t=t.color)||t.set(255,255,255,255),this.fadingAway=!1,this.fallingInSky=!1,this.flyingOnSky=!1,this.cIndex=-2,this.lIndex=-2;var e=L.getLnC(-2,-2);this.inLnC=e,this.disabled||(this.characterOnEnable(),this.useShade&&this.spawnShade(),this.inLane=L.getLaneComponent(-2)),this.depth=0,this.height=0,this.scale=this.originalScale,this.node.children.forEach((function(t){t.scale=new u(1,1,1)}))}},s.onDisable=function(){I.isInGame&&(this.useShade&&this.shade&&(P.component.putShade(this.shade.node),this.shade=null),this.disabled||this.characterOnDisable())},s.characterOnEnable=function(){},s.characterOnDisable=function(){},s.setInLnC=function(t){var e=this.inLnC;this.inLnC=t,this.inLane=null==t?void 0:t.inLane,this.onLnCSet(e,t)},s.onLnCSet=function(t,e){},s.characterOnWPChange=function(){},s.readDepth=function(t,e){if(e!=t)if(t<0){this.node.rotation=new g(.3827,0,0,.9239);var i=this._scaleForCharacter;this.node.scale=new u(i,1.414*Math.abs(i),Math.abs(i))}else{this.node.rotation=new g(0,0,0,0);var n=this._scaleForCharacter;this.node.scale=new u(n,Math.abs(n),Math.abs(n))}},s.characterOnSquareChange=function(t,e){},s.onSquareChange=function(t,e){this.fallingInSky||(this.inLnC=e,this.smartShadeHider&&this.shadeSocket||(this.shadeInLnC=e),this.characterOnSquareChange(t,e))},s.characterOnLaneChange=function(t,e){},s.onLaneChange=function(t,e){this.fallingInSky||(this.inLane=e,this.characterOnLaneChange(t,e))},s.judgeInLnC=function(){var t=this.lIndex,e=this.cIndex,i=this.getLaneIndex(),n=this.getColumnIndex();this.smartShadeHider&&this.shadeSocket&&(this.shadeInLnC=L.getLnC(this.lIndex,this.shadeCIndex)),this.lockLane||t==i||this.onLaneChange(L.getLaneComponent(t),L.getLaneComponent(i)),t==i&&e==n||this.onSquareChange(L.getLnC(t,e),L.getLnC(i,n))},s.getLaneIndex=function(){var t=L.judgeLIndex(this.shadeWorldPosition.y);return this.lIndex=t,t},s.getColumnIndex=function(){var t=L.judgeCIndex(this.worldPositionX);if(this.cIndex=t,this.smartShadeHider&&this.shadeSocket){var e=this.shadeSocket.worldPosition.x,i=L.judgeCIndex(e);this.shadeCIndex=i}return t},s.setLockLane=function(t){t?(this.inLane=t,this.onLaneChange(L.getLane(-2).getComponent(y),t),this.lockLane=!0):this.lockLane=!1},s.characterOnTileTypeChange=function(t,e){},s.spawnShade=function(){var t=P.component;if(null!=t&&t.isValid){var e=t.giveShade();e.setWorldScale(this.originalShadeScale.width,this.originalShadeScale.height,0),e.parent=t.node,this.shade=e.getComponent(c.ArmatureDisplay),this.worldPosition=this._worldPosition,this.shade.color=new f(255,255,255,0)}},s.characterShadeHidden=function(){return!1},s.followShade=function(t){var e=t.getTileType();if(this.flyingOnSky=e==C.sky||e==C.sea,this.shade.node.worldPosition=new u(this.shadeSocket?this.shadeSocket.worldPosition.x:this._worldPosition.x,this._worldPosition.y),this.flyingOnSky||this.fallingInSky||this.depth>0||this.shadeHidden||this.characterShadeHidden()?this.shade.color=new f(0,0,0,0):this.shade.color=new f(255,255,255,(this.db?this.db.color.a:255)*this.shadeAlphaScale),this.useShade&&this.shade){var i=this._height;this.shadeSocket&&(i=this.shadeSocket.worldPosition.y-this._worldPosition.y);var n=this._maxShowShadeHeight>i?(this._maxShowShadeHeight-i)/this._maxShowShadeHeight*G*2*this.scale:0;this.shade.node.setScale(n*this.originalShadeScale.width,Math.abs(n*this.originalShadeScale.height),1)}},s.update=function(t){var e;if(I.isInGame&&!(m.component.gameOver&&!this.isGameLoseTriggerer||v.willDestroySceneNextTick||null!=(e=v.uiingame)&&e.paused||this.disabled)){var i,n=this.oldTT;this.judgeInLnC(),this.useShade&&this.shade&&this.followShade(this.smartShadeHider&&this.shadeSocket?this.shadeInLnC:this.inLnC),this.characterUpdate(t);var o=null==(i=this.inLnC)?void 0:i.getTileType();n!=o&&this.characterOnTileTypeChange(n,o),this.oldTT=o}},s.lateUpdate=function(t){this.characterLateUpdate(t)},s.characterUpdate=function(t){},s.characterLateUpdate=function(t){},s.fadeAway=function(){var t=this;this.fadingAway||this.fallingInSky||(this.fadingAway=!0,S(this.db?this.db.color:new f).to(.5,{a:0}).call((function(){t.onFadeEnd()})).start())},s.shrinkAway=function(){var t=this;this.fadingAway||this.fallingInSky||(this.fadingAway=!0,S(this.node).to(.5,{worldScale:new u(.01,.01,.01)},{easing:"quadIn"}).call((function(){t.onFadeEnd()})).start())},s.onFadeEnd=function(){_.destroyPooly(this.node)},s.fallInSkyTargetAngle=function(t){return 180*(2-4*t)},s.fallInSky=function(t){var e=this;if(void 0===t&&(t=!0),!this.fallingInSky&&!this.fadingAway){if(this.fallingInSky=!0,this.height=0,this.depth=0,k.currentLawn.node.getChildByName("Lower")){var i=k.currentLawn.node.getChildByName("Lower");i.setWorldScale(1,1,1),this.node.setParent(i,!0)}var n=this.node.worldPosition,o=1+Math.random(),a=Math.random(),s=this,h=[];if(t){var r=S(s.node).by(o,{angle:this.fallInSkyTargetAngle(a)},{easing:this.fallInSkyRotateEasing}).start();h.push(r)}var d=S(s.node).to(o,{scale:new u(.01,.01,1)}).start();h.push(d);var l=S(s).to(o,{worldPositionX:n.x-(40+10*a),worldPositionY:n.y+(5*a-20)}).call((function(){h.forEach((function(t){t.stop()})),e.node.active&&(e.node.angle=0,e.onSkyFallEnd())})).start();h.push(l)}},s.onSkyFallEnd=function(){_.destroyPooly(this.node)},a(e,[{key:"cIndexReal",get:function(){return Math.floor((this.worldPositionX-(L.Square00WorldPosition().x-L.SquareDisW/2))/L.SquareDisW)}},{key:"lIndexReal",get:function(){return Math.floor((L.Square00WorldPosition().y+L.SquareDisH/2-this.worldPositionY)/L.SquareDisH)}},{key:"worldPositionX",get:function(){return this._worldPositionX},set:function(t){this._worldPositionX=t,this.node.worldPosition=new u(t,this._worldPositionY+this._height-this._depth,1-this._depth+this.depthStartingZ),this.onRealPosChange()}},{key:"worldPositionY",get:function(){return this._worldPositionY},set:function(t){this._worldPositionY=t,this.node.worldPosition=new u(this._worldPositionX,t+this._height-this._depth,1-this._depth+this.depthStartingZ),this.onRealPosChange()}},{key:"worldPositionYFoot",get:function(){return this._worldPositionY-this.depthStartingZ}},{key:"_worldPosition",get:function(){return new p(this._worldPositionX,this._worldPositionY)}},{key:"worldPosition",get:function(){return new p(this._worldPositionX,this._worldPositionY)},set:function(t){this.worldPositionX=t.x,this.worldPositionY=t.y}},{key:"shadeWorldPosition",get:function(){return new p(this._worldPositionX,this._worldPositionY)}},{key:"realWorldPosition",get:function(){return new p(this._worldPositionX,this._worldPositionY+this._height-this._depth)}},{key:"height_depth",get:function(){return this._height-this._depth},set:function(t){t>=0?(this.depth=0,this.height=t):(this.height=0,this.depth=-t)}},{key:"height",get:function(){return this._height},set:function(t){this._depth;this._height=t;var e=t-this._depth;this.node.worldPosition=new u(this._worldPositionX,this._worldPositionY+e,1-this._depth+this.depthStartingZ),this.onRealPosChange()}},{key:"depth",get:function(){return this._depth},set:function(t){var e=-this._depth;this._depth=t;var i=this._height-t;this.node.worldPosition=new u(this._worldPositionX,this._worldPositionY+i,1-t+this.depthStartingZ),this.readDepth(-this._depth,e),this.onRealPosChange()}},{key:"_scaleForCharacter",get:function(){return this._scale*G}},{key:"scale",get:function(){return this._scale},set:function(t){this._scale=t;var e=this._scaleForCharacter;this.node.scale=new u(e,(this.depth<=0?1:1.414)*Math.abs(e),Math.abs(e))}}]),e}(w)).prototype,"originalScale",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),X=e(A.prototype,"smartShadeHider",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=e(A.prototype,"useShade",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),q=e(A.prototype,"originalShadeScale",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(.25,.25)}}),E=e(A.prototype,"shadeSocket",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=A))||H));s._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Zombies.ts","./Cards.ts","./SoundRescourses.ts","./levelController.ts","./GridItem.ts"],(function(t){var n,o,i,e,s,r,h,a,c,l,u,p,d,f,y,x,P,m,w,g;return{setters:[function(t){n=t.createClass,o=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){r=t.cclegacy,h=t._decorator,a=t.Vec2,c=t.find,l=t.Prefab,u=t.math,p=t.HALF_PI,d=t.Component},function(t){f=t.NodePools,y=t.ArrayGet},function(t){x=t.zombies},function(t){P=t.Cards},function(t){m=t.sounds},function(t){w=t.LevelPlay},function(t){g=t.GridItemPool}],execute:function(){var v,b,L,M,I;r._RF.push({},"99347P29tZA8pn9lmrrqr47","CharacterManager",void 0);var R=h.ccclass,j=h.property,_=(t("Rectangle",function(){var t=n.prototype;function n(t,n,o,i){void 0===t&&(t=new a(NaN,NaN)),void 0===n&&(n=new a(NaN,NaN)),void 0===o&&(o=new a(NaN,NaN)),void 0===i&&(i=new a(NaN,NaN)),this.point1=new a(0,0),this.point2=new a(0,0),this.point3=new a(0,0),this.point4=new a(0,0),this.dot1=null,this.dot2=null,this.dot3=null,this.dot4=null,this.shown=!1,this._prjX=null,this._prjY=null,this.point1=t,this.point2=n,this.point3=o,this.point4=i}return t.prjX=function(){return this._prjX?this._prjX:Math.abs(this.point1.x-this.point3.x)<Math.abs(this.point2.x-this.point4.x)?this._prjX=new a(Math.min(this.point2.x,this.point4.x),Math.max(this.point2.x,this.point4.x)):this._prjX=new a(Math.min(this.point1.x,this.point3.x),Math.max(this.point1.x,this.point3.x))},t.prjY=function(){return this._prjY?this._prjY:Math.abs(this.point1.y-this.point3.y)<Math.abs(this.point2.y-this.point4.y)?this._prjY=new a(Math.min(this.point2.y,this.point4.y),Math.max(this.point2.y,this.point4.y)):this._prjY=new a(Math.min(this.point1.y,this.point3.y),Math.max(this.point1.y,this.point3.y))},t.hidePoints=function(){this.shown&&(this.shown=!1,f.destroyNodeArrayPooly([this.dot1,this.dot2,this.dot3,this.dot4]))},t.showPoints=function(){if(!this.shown){this.shown=!0;var t=c("CharacterManager").getComponent(N).debugDot,n=c("Canvas/UIInGameUpper/Debug");this.dot1=f.instantiatePooly(t),this.dot1.parent=n,this.dot1.setWorldPosition(this.point1.x,this.point1.y,0),this.dot2=f.instantiatePooly(t),this.dot2.parent=n,this.dot2.setWorldPosition(this.point2.x,this.point2.y,0),this.dot3=f.instantiatePooly(t),this.dot3.parent=n,this.dot3.setWorldPosition(this.point3.x,this.point3.y,0),this.dot4=f.instantiatePooly(t),this.dot4.parent=n,this.dot4.setWorldPosition(this.point4.x,this.point4.y,0)}},n.createRectangleNodeSide=function(t,n,o,i){void 0===i&&(i=0);var e=t.worldPosition.clone();return this.createRectangleSide(new a(e.x,e.y),n,o,i)},n.createRectangleNodeCenter=function(t,n,o,i){void 0===i&&(i=0);var e=t.worldPosition.clone();return this.createRectangleCenter(new a(e.x,e.y),n,o,i)},n.createRectangleUITransform=function(t){if(!t)return new n;var o=t.width*t.node.worldScale.x,i=t.height*t.node.worldScale.y,e=t.node.worldPosition.x+(.5-t.anchorX)*o,s=t.node.worldPosition.y+(.5-t.anchorY)*i;return t?this.createRectangleCenter(new a(e,s),o,i):void 0},n.createRectangleNodeCorner=function(t,n,o,i){void 0===i&&(i=0);var e=t.worldPosition.clone();return this.createRectangleCorner(new a(e.x,e.y),n,o,i)},n.createRectangleSide=function(t,o,i,e){void 0===e&&(e=0);var s=new a(t.x,t.y-i/2),r=new a(s.x+o,s.y),h=new a(s.x,s.y+i),c=new a(h.x+o,h.y);return e&&(s=new a(t.x+i/2*Math.sin(e*u.HALF_PI/90),t.y-i/2*Math.cos(e*u.HALF_PI/90)),r=new a(s.x+o*Math.cos(e*u.HALF_PI/90),s.y+o*Math.sin(e*u.HALF_PI/90)),h=new a(s.x+i*Math.cos((e+90)*u.HALF_PI/90),s.y+i*Math.sin((e+90)*u.HALF_PI/90)),c=new a(h.x+o*Math.cos(e*u.HALF_PI/90),h.y+o*Math.sin(e*u.HALF_PI/90))),new n(s,r,c,h)},n.createRectangleCorner=function(t,o,i,e){void 0===e&&(e=0);var s=t,r=new a(s.x+o,s.y),h=new a(s.x,s.y+i),c=new a(h.x+o,h.y);return e&&(r=new a(s.x+o*Math.cos(e*u.HALF_PI/90),s.y+o*Math.sin(e*u.HALF_PI/90)),h=new a(s.x+i*Math.cos((e+90)*u.HALF_PI/90),s.y+i*Math.sin((e+90)*u.HALF_PI/90)),c=new a(h.x+o*Math.cos(e*u.HALF_PI/90),h.y+o*Math.sin(e*u.HALF_PI/90))),new n(s,r,c,h)},n.createRectangleCenter=function(t,o,i,e){void 0===e&&(e=0);var s=new a(t.x-o/2,t.y-i/2),r=new a(s.x+o,s.y),h=new a(s.x,s.y+i),c=new a(h.x+o,h.y);return e&&(s=new a(t.x+i/2*Math.sin(e*u.HALF_PI/90)-o/2*Math.cos(e*u.HALF_PI/90),t.y-i/2*Math.cos(e*u.HALF_PI/90)-o/2*Math.sin(e*u.HALF_PI/90)),r=new a(s.x+o*Math.cos(e*u.HALF_PI/90),s.y+o*Math.sin(e*u.HALF_PI/90)),h=new a(s.x+i*Math.cos((e+90)*u.HALF_PI/90),s.y+i*Math.sin((e+90)*u.HALF_PI/90)),c=new a(h.x+o*Math.cos(e*u.HALF_PI/90),h.y+o*Math.sin(e*u.HALF_PI/90))),new n(s,r,c,h)},t.judgeInRec=function(t,n,o){if(void 0===o&&(o=!1),!t||!n)return!1;var i=(t-this.point1.x)*(this.point4.x-this.point1.x)+(n-this.point1.y)*(this.point4.y-this.point1.y),e=(t-this.point2.x)*(this.point1.x-this.point2.x)+(n-this.point2.y)*(this.point1.y-this.point2.y),s=(t-this.point3.x)*(this.point2.x-this.point3.x)+(n-this.point3.y)*(this.point2.y-this.point3.y),r=(t-this.point4.x)*(this.point3.x-this.point4.x)+(n-this.point4.y)*(this.point3.y-this.point4.y);return o?i>=0&&e>=0&&s>=0&&r>=0:i>0&&e>0&&s>0&&r>0},t.judgeInRecP=function(t,n){return void 0===n&&(n=!1),!!t&&this.judgeInRec(t.x,t.y,n)},t.judgeInRecNode=function(t){return!!t&&this.judgeInRec(t.worldPosition.x,t.worldPosition.y)},t.judgeCrossLine=function(t){if(!t)return!1;var n=t.getP1(),o=t.getP2();return!(!this.judgeInRec(n.x,n.y)&&!this.judgeInRec(o.x,o.y))||!(!t.judgeCrossLine(new _(this.point1,this.point3))&&!t.judgeCrossLine(new _(this.point2,this.point4)))},t.judgeCrossRec=function(t){return!!t&&(!!(this.judgeInRecP(t.point1)||this.judgeInRecP(t.point2)||this.judgeInRecP(t.point3)||this.judgeInRecP(t.point4)||t.judgeInRecP(this.point1)||t.judgeInRecP(this.point2)||t.judgeInRecP(this.point3)||t.judgeInRecP(this.point4))||!(!new _(this.point1,this.point3).judgeCrossRec(t)&&!new _(t.point1,t.point3).judgeCrossRec(this)))},n}()),t("LineSegment",function(){var t=n.prototype;function n(t,n){this.point1=void 0,this.point2=void 0,this.point1=t,this.point2=n}return t.getVec=function(){return this.point2.clone().subtract(this.point1)},t.getP1=function(){return this.point1},t.getP2=function(){return this.point2},t.judgeCrossLine=function(t){var n=this.point1,o=this.point2,i=t.point1,e=t.point2;return!(Math.max(i.x,e.x)<Math.min(n.x,o.x)||Math.max(n.x,o.x)<Math.min(i.x,e.x)||Math.max(i.y,e.y)<Math.min(n.y,o.y)||Math.max(n.y,o.y)<Math.min(i.y,e.y))&&(!(a.cross(new a(n.x-e.x,n.y-e.y),new a(i.x-e.x,i.y-e.y))*a.cross(new a(o.x-e.x,o.y-e.y),new a(i.x-e.x,i.y-e.y))>=0)&&!(a.cross(new a(i.x-o.x,i.y-o.y),new a(n.x-o.x,n.y-o.y))*a.cross(new a(e.x-o.x,e.y-o.y),new a(n.x-o.x,n.y-o.y))>=0))},t.judgeCrossRec=function(t){return t.judgeCrossLine(this)},n.createLineLenRo=function(t,n,o){return void 0===o&&(o=0),this.createLineLenDir(t,n,new a(Math.cos(o/90*p),Math.sin(o/90*p)))},n.createLineLenDir=function(t,n,o){void 0===o&&(o=new a(1,0));var i=n*o.x/o.length(),e=n*o.y/o.length();return this.createLineVec(t,new a(i,e))},n.createLineVec=function(t,o){return new n(t,new a(t.x+o.x,t.y+o.y))},n}())),C=t("PlantPool",function(){function t(){}return t.waterall=function(){this.pool().forEach((function(t){t.scheduleOnce((function(){t.water()}),5*Math.random()+1)}))},t.pool=function(){return this.cm.plantPool},t.registerPlant=function(t){-1==this.cm.plantPool.indexOf(t)&&this.cm.plantPool.push(t)},t.deletePlant=function(t){var n=this.pool().indexOf(t);-1!=n&&this.pool().splice(n,1)},t.getPlantAmount=function(){var t=0;return this.cm.plantPool.forEach((function(n){t+=n.plantCount()})),t},t}());C.cm=null;var A=t("ZombiePool",function(){function t(){}return t.pool=function(){return this.cm.zombiePool},t.getLeftest=function(){var t=this.pool();return y.getMin(t,"worldPositionX")},t.getBodyRecLeftest=function(){if(!this.pool().length)return null;for(var t=this.pool().concat(),n=null,o=1/0,i=0;i<t.length;i++){var e,s=null==(e=t[i].bodyRec)?void 0:e.prjX().x;s&&s<o&&(n=t[i],o=s)}return n},t.bodyRecLeftest=function(){return this.cm.zombieRecLeftest},t.hypnoPool=function(){return this.cm.hypnoZombiePool},t.leftest=function(){var t=null,n=1/0;return this.pool().forEach((function(o){var i=o.bodyRec.prjX().x;n>i&&(t=o,n=i)})),t},t.inLawnPool=function(){return this.cm.zombieInLawnPool},t.registerZombie=function(t){t.hypno||-1!=this.cm.zombiePool.indexOf(t)?t.hypno&&-1==this.cm.hypnoZombiePool.indexOf(t)&&this.hypnoPool().push(t):this.pool().push(t)},t.deleteZombie=function(t){var n=this.pool().indexOf(t);-1!=n&&this.pool().splice(n,1);var o=this.hypnoPool().indexOf(t);-1!=o&&this.hypnoPool().splice(o,1)},t}());A.cm=null;var F=t("TombPool",function(){function t(){}return t.pool=function(){return this.cm.tombPool},t.getLeftest=function(){var t=null,n=1/0;return this.pool().forEach((function(o){var i=o.bodyRec.prjX().x;n>i&&(t=o,n=i)})),t},t.leftest=function(){return this.cm.tombLeftest},t.registerTomb=function(t){-1==this.cm.tombPool.indexOf(t)&&this.pool().push(t)},t.deleteTomb=function(t){var n=this.pool().indexOf(t);-1!=n&&this.pool().splice(n,1)},t}());F.cm=null;t("Icetiles",function(){function t(){}return t.pool=function(){return c("CharacterManager").getComponent(N).Icepool},t.registerIce=function(t){this.pool().push(t)},t.deleteIce=function(t){var n=this.pool().indexOf(t);-1!=n&&this.pool().splice(n,1)},t}());var H=t("Umbrellas",function(){function t(){}return n(t,null,[{key:"umbrellas",get:function(){return this.cm.umbrellas},set:function(t){this.cm.umbrellas=t}}]),t}());H.cm=void 0;var N=t("CharacterManager",(v=R("CharacterManager"),b=j(l),v((I=o((M=function(t){function n(){for(var n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=t.call.apply(t,[this].concat(i))||this,e(n,"debugDot",I,s(n)),n.umbrellas=[],n.zombiePool=[],n.hypnoZombiePool=[],n.zombieInLawnPool=[],n.tombPool=[],n.plantPool=[],n.Icepool=[],n.groanCoolDown=0,n.zombieRecLeftest=null,n.tombLeftest=null,n}i(n,t);var o=n.prototype;return o.playZombieGroan=function(t){if(this.zombiePool.length>0&&this.groanCoolDown<=0){var n=y.randomize(this.zombiePool).find((function(t){return!t.iceblocked}));n&&(n.groanSound.length>0?m.play(y.getRandom(n.groanSound)):x.playGroan(n.zombieGroanSoundGroup),this.groanCoolDown=2.5+5/this.zombiePool.length+3*Math.random())}this.groanCoolDown>0&&(this.groanCoolDown-=t)},o.update=function(t){this.zombieRecLeftest=A.getBodyRecLeftest(),this.tombLeftest=F.getLeftest(),this.characterManagerUpdate(t)},o.characterManagerUpdate=function(t){var n=[];this.zombiePool.forEach((function(t){t.isInLawn()&&n.push(t)})),this.zombieInLawnPool=n,w.gameStarted&&this.playZombieGroan(t),P.cardsController.cardsUpdate(t)},o.onLoad=function(){A.cm=this,C.cm=this,F.cm=this,H.cm=this,g._pool=[],this.umbrellas=[],this.zombiePool=[],this.zombieInLawnPool=[],this.tombPool=[],this.plantPool=[],this.Icepool=[]},n}(d)).prototype,"debugDot",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=M))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/ChardGuard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./ParticleSelfdestroy.ts","./SoundRescourses.ts"],(function(e){var n,t,i,o,a,s,r,l,u,c,d,h,y,f,p,S,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,r=e._decorator,l=e.AudioClip,u=e.Prefab,c=e.Vec2},function(e){d=e.Plant,h=e.PlantProps},function(e){y=e.Rectangle},function(e){f=e.Square},function(e){p=e.instantiatePooly},function(e){S=e.ParticleSelfdestroy},function(e){b=e.sounds}],execute:function(){var m,w,g,R,B,P,v,L,C,_,D,H,T,A,E,z,k,x,j,I,O,q,F,M,W,N,G,Z;s._RF.push({},"b8926IuriBBJLI4jhChWglu","ChardGuard",void 0);var U=r.ccclass,Y=r.property,J=(m=U("chardguardSound"),w=Y([l]),g=Y([l]),R=Y([l]),B=Y([l]),P=Y([l]),v=Y([l]),L=Y([l]),C=Y([l]),_=Y([l]),m((T=n((H=function(){function e(){i(this,"foodHitSounds",T,this),i(this,"foodStartSaySounds",A,this),i(this,"foodEndSaySounds",E,this),i(this,"bounceSounds",z,this),i(this,"hitSounds",k,this),i(this,"bounceSaySounds",x,this),i(this,"readySaySounds",j,this),i(this,"sleepySaySounds",I,this),i(this,"shockSaySounds",O,this)}var n=e.prototype;return n.playFoodHit=function(){b.playArray(this.foodHitSounds,1,.01)},n.playFoodStartSay=function(){b.playArray(this.foodStartSaySounds,1,.1)},n.playFoodEndSay=function(){b.playArray(this.foodEndSaySounds,1,.1)},n.playBounce=function(){b.playArray(this.bounceSounds,1,.1)},n.playHit=function(){b.playArray(this.hitSounds,1,.1)},n.playBounceSay=function(){b.playArray(this.bounceSaySounds,1,.1)},n.playReadySay=function(){b.playArray(this.readySaySounds,1,.1)},n.playSleepySay=function(){b.playArray(this.sleepySaySounds,1,.1)},n.playShockSay=function(){b.playArray(this.shockSaySounds,1,.1)},e}()).prototype,"foodHitSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=n(H.prototype,"foodStartSaySounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=n(H.prototype,"foodEndSaySounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(H.prototype,"bounceSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(H.prototype,"hitSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(H.prototype,"bounceSaySounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=n(H.prototype,"readySaySounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=n(H.prototype,"sleepySaySounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(H.prototype,"shockSaySounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=H))||D),V=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).MaxBounceTime=3,n.BounceDistance=3,n}return t(n,e),n}(h);e("ChardGuardPlant",(q=U("ChardGuardPlant"),F=Y(J),M=Y(u),q((G=n((N=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return(n=e.call.apply(e,[this].concat(a))||this).detector=new y,n.bounceDetector=new y,n.detectorLeft=new c,i(n,"soundRes",G,o(n)),n._ready=!1,n.switching=!1,n._leftBounceTime=3,n.hand0Slots=[],n.hand1Slots=[],n.hand2Slots=[],i(n,"thrownHand",Z,o(n)),n._objdataOwn=new V,n}t(n,e);var s=n.prototype;return s.specialPlantOnSquareChange=function(e,n){this.detectorLeft=new c(n.node.worldPosition.x-f.SquareDisW/2,n.node.worldPosition.y),this.detector=y.createRectangleSide(this.detectorLeft,2*f.SquareDisW,f.SquareDisH),this.bounceDetector=y.createRectangleSide(this.detectorLeft,f.SquareDisW,f.SquareDisH)},s.specialPlantOnLoad=function(){var e=this;this.hand0Slots=[],this.hand1Slots=[],this.hand2Slots=[],this.anmControl.body.armature().getSlots().forEach((function(n){n.name.includes("HAND0")?e.hand0Slots.push(n):n.name.includes("HAND1")?e.hand1Slots.push(n):n.name.includes("HAND2")&&e.hand2Slots.push(n)}))},s.specialPlantOnEnable=function(){this.ready=!1,this.anmControl.playRandom(),this.leftBounceTime=this._objdataOwn.MaxBounceTime},s.animationOnComplete=function(){this.switching=!1},s.getReady=function(){this.ready||(this.switching=!0,this.ready=!0,this.anmControl.playAnimation("Ready",1,0,1.5),this.soundRes.playReadySay())},s.recover=function(){this.ready&&(this.ready=!1,this.anmControl.playRandom())},s.detectEnemy=function(){var e=this,n=!1;return this.inLane.zombiePool().forEach((function(t){n||t.bodyRec.judgeCrossRec(e.detector)&&(n=!0)})),n},s.detectBounceEnemy=function(){var e=this,n=!1;return this.inLane.zombiePool().forEach((function(t){n||t.knockBackable&&t.leapable&&!t.changeLaneTween&&t.specialZombieLeapable()&&t.bodyRec.judgeCrossRec(e.bounceDetector)&&(n=!0)})),n},s.bounce=function(){this.soundRes.playBounce(),this.anmControl.playAnimation("Bounce",1,0,1.5),this.switching=!0},s.waterable=function(){return!this.ready&&!this.switching},s.specialPlantFood=function(e){this.anmControl.playAnimation("Food",1,0,1),this.leftBounceTime=this._objdataOwn.MaxBounceTime},s.dropHand=function(e){var n="PlayR";1==e&&(n="PlayL"),2==e&&(n="PlayM");var t=p(this.thrownHand);t.parent=this.node.parent,t.setSiblingIndex(0),t.worldPosition=this.node.worldPosition,t.getComponent(S).db.playAnimation(n)},s.animationListener=function(e){var n=this;if("bounce"==e.name){var t=y.createRectangleSide(this.detectorLeft,1.7*f.SquareDisW,f.SquareDisH),i=!1;this.inLane.zombiePool().forEach((function(e){e.knockBackable&&e.leapable&&e.specialZombieLeapable()&&e.bodyRec.judgeCrossRec(t)&&(i=!0,e.leapBy(new c(n._objdataOwn.BounceDistance,0),!0,.5,30,!0,!1))})),i&&(this.soundRes.playHit(),this.leftBounceTime--),this.soundRes.playBounceSay()}else if("sleepy"==e.name)this.soundRes.playSleepySay();else if("shock"==e.name)this.soundRes.playShockSay();else if("foodStartYell"==e.name)this.soundRes.playFoodStartSay();else if("foodEndYell"==e.name)this.soundRes.playFoodEndSay();else if("foodStart"==e.name)this.soundRes.playFoodHit();else if("foodEnd"==e.name)this.foodEnd();else if("hit"==e.name){var o=y.createRectangleNodeSide(this.inLnC.node,2*f.SquareDisW,3*f.SquareDisH);this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(e){e.knockBackable&&e.leapable&&e.specialZombieLeapable()&&e.bodyRec.judgeCrossRec(o)&&e.leapBy(new c(n._objdataOwn.BounceDistance,0),!0,.5,30,!0,!1)}))}else"readyFalse"==e.name&&(this.ready=!1)},s.heal=function(e){this.leftBounceTime=this._objdataOwn.MaxBounceTime},s.replantable=function(){return this.leftBounceTime<this._objdataOwn.MaxBounceTime},s.replant=function(){this.health=this.toughness,this.leftBounceTime=this._objdataOwn.MaxBounceTime},s.specialPlantUpdate=function(e,n,t){if(!this.switching&&!this.fooding&&!this.leapTween&&this.leftBounceTime>0&&t>0){var i=this.detectEnemy();if(t>0&&this.ready)this.detectBounceEnemy()?this.bounce():i||this.recover();else i&&this.getReady()}},a(n,[{key:"ready",get:function(){return this._ready},set:function(e){this.anmControl.IdleAnim=e?"Idle_Ready":"Idle",this.anmControl.RandomAnim=e?[]:["Rand1","Rand2"],this.short_=e,this._ready=e}},{key:"leftBounceTime",get:function(){return this._leftBounceTime},set:function(e){var n=!1,t=this._objdataOwn.MaxBounceTime;this.hand0Slots.forEach((function(i){var o=e>t/3*2?0:-1;-1==o&&-1!=i.displayIndex&&(n=!0),i._setDisplayIndex(o)})),n&&this.dropHand(0);var i=!1;this.hand1Slots.forEach((function(n){var o=e>t/3?0:-1;-1==o&&-1!=n.displayIndex&&(i=!0),n._setDisplayIndex(o)})),i&&this.dropHand(1);var o,a=!1;(this.hand2Slots.forEach((function(n){var t=e>0?0:-1;-1==t&&-1!=n.displayIndex&&(a=!0),n._setDisplayIndex(t)})),a&&this.dropHand(2),this._leftBounceTime!=e)&&(this._leftBounceTime=e,null==(o=this.plantInLnC)||o.readIndex())}}]),n}(d)).prototype,"soundRes",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new J}}),Z=n(N.prototype,"thrownHand",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=N))||W));s._RF.pop()}}}));

System.register("chunks:///_virtual/CherryBomb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts"],(function(e){var n,t,i,a,r,o,s,l,c,h;return{setters:[function(e){n=e.inheritsLoose,t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.AudioClip},function(e){l=e.PlantProps,c=e.Plant},function(e){h=e.sounds}],execute:function(){var p,u,d,b,f;r._RF.push({},"28eeb/RjZNKZ4IdgQM7o1OF","CherryBomb",void 0);var y=o.ccclass,g=o.property,m=e("CherryBombProps",function(e){function t(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).Damage=1800,n}return n(t,e),t}(l));e("CherryBombPlant",(p=y("CherryBombPlant"),u=g(s),p((f=t((b=function(e){function t(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n=e.call.apply(e,[this].concat(r))||this,i(n,"chargeSound",f,a(n)),n._objdataOwn=new m,n}n(t,e);var r=t.prototype;return r.specialOnLaneChange=function(e,n){n&&!this.sheepend&&(this.node.setParent(n.prjLayer,!0),this.node.setSiblingIndex(0))},r.specialPlantOnUnsheepend=function(){this.inLane&&(this.node.setParent(this.inLane.prjLayer,!0),this.node.setSiblingIndex(0))},r.specialPlantOnSheepend=function(){this.plantInLnC&&(this.node.setParent(this.plantInLnC.plantPoint,!0),this.node.setSiblingIndex(0))},r.specialCherryBombOnEnable=function(){},r.specialPlantOnEnable=function(){this.anmControl.playAnimation("Attack",1),this.deathAnm="",this.invincible=!0,this.foodable=!1,this.eaterDetectable=!1,this.smasherDetectable=!1,this.chargeSound&&h.play(this.chargeSound,1,.1),this.specialCherryBombOnEnable()},r.explode=function(){var e=this._objdataOwn.Damage;this._dmgScale&&(e*=this._dmgScale),this.inLnC.explodeCherry3x3(e,!0)},r.animationListener=function(e){"explode"==e.name&&(this.explode(),this.die())},t}(c)).prototype,"chargeSound",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=b))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/ChickenZombieAshParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SeagullZombieAshParticle.ts","./LnC.ts"],(function(e){var i,t,n,o,r;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator},function(e){o=e.SeagullZombieAshParticle},function(e){r=e.TileType}],execute:function(){var c;t._RF.push({},"247c6GMmBZKKJTzQFXNPP8w","ChickenZombieAshParticle",void 0);var l=n.ccclass;n.property,e("ChickenZombieAshParticle",l("ChickenZombieAshParticle")(c=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.playAsh=function(){var e,i="PlayFloor",t=null==(e=this.inLnC)?void 0:e.getTileType();this.height>5||t==r.sea||t==r.water||t==r.sky?i="PlaySky":Math.random()<.2&&(i="PlayFloorFried"),this.db.playAnimation(i)},t}(o))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/ChiliBean.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Square.ts","./CharacterManager.ts","./NodePools.ts","./SoundRescourses.ts"],(function(n){var t,o,i,a,e,l,r,u,s,d,c,p,h,f;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){e=n.cclegacy,l=n._decorator,r=n.AudioClip},function(n){u=n.PlantType,s=n.Plant,d=n.PlantProps},function(n){c=n.Square},function(n){p=n.ZombiePool},function(n){h=n.ArrayGet},function(n){f=n.sounds}],execute:function(){var y,C,b,P,g,m,L,S,v,w,A,F;e._RF.push({},"cf014IsRB1JJbt2+1GrtaDK","ChiliBean",void 0);var E=l.ccclass,R=l.property,B=function(n){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=n.call.apply(n,[this].concat(i))||this).PlantfoodChildrenCount=3,t}return o(t,n),t}(d),D=(y=E("chilibeanSound"),C=R(r),b=R(r),y((m=t((g=function(){function n(){i(this,"landSound",m,this),i(this,"foodSound",L,this)}var t=n.prototype;return t.playLandSound=function(){f.play(this.landSound,1,.1)},t.playFoodSound=function(){f.play(this.foodSound,1,.1)},n}()).prototype,"landSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(g.prototype,"foodSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=g))||P);n("ChiliBean",(S=E("ChiliBean"),v=R(D),S((F=t((A=function(n){function t(){for(var t,o=arguments.length,e=new Array(o),l=0;l<o;l++)e[l]=arguments[l];return t=n.call.apply(n,[this].concat(e))||this,i(t,"soundRes",F,a(t)),t._objdataOwn=new B,t}o(t,n);var e=t.prototype;return e.specialPlantOnEaten=function(n,t,o,i){i<=0&&t&&t.chilibeanFart()},e.onLeapEnd=function(){this.anmControl.playAnimation("FlyEnd",1),this.damagable=!0,this.soundRes.playLandSound()},e.onLeapStart=function(){this.anmControl.playAnimation("Flying",1/0)},e.specialPlantFood=function(n){this.anmControl.playAnimation("Food",1),this.soundRes.playFoodSound()},e.animationListener=function(n){"foodEnd"==n.name?this.foodEnd():"foodSpawn"==n.name&&this.throwChildren()},e.throwChildren=function(){var n=this,t=[],o=this._objdataOwn.PlantfoodChildrenCount;if(p.inLawnPool().forEach((function(i){t.length>=o||i.inLnC.isInLawn()&&-1==t.indexOf(i.inLnC)&&i.inLnC.putPlantAvailable(!0,n.ID)&&t.push(i.inLnC)})),t.length<o)for(var i=h.randomize(c.getAllLnC()),a=0;t.length<o&&a<i.length;a++){var e=i[a];-1==t.indexOf(e)&&e.putPlantAvailable(!0,this.ID)&&t.push(e)}t.forEach((function(t){var o=n.inLnC.spawnPlantByPlantEnum(n.ID);o&&(o.judgeInLnC(),o.node.setPosition(0,0,0),n.inLnC.pushPlant(o),o.plantType=u.plant,o.damagable=!1,o.leapTo(t,.8,200))}))},t}(s)).prototype,"soundRes",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new D}}),w=A))||w));e._RF.pop()}}}));

System.register("chunks:///_virtual/Chomper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./NodePools.ts","./SoundRescourses.ts"],(function(o){var t,n,i,a,e,l,s,u,r,h,c,d,p,f,m,S,w,g;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,i=o.initializerDefineProperty,a=o.assertThisInitialized,e=o.createClass},function(o){l=o.cclegacy,s=o._decorator,u=o.AudioClip,r=o.dragonBones,h=o.Vec2},function(o){c=o.Plant,d=o.PlantProps},function(o){p=o.Rectangle},function(o){f=o.Square},function(o){m=o.ZombieDamageDetails,S=o.zombieDamageType},function(o){w=o.NodePools},function(o){g=o.sounds}],execute:function(){var y,b,P,C,A,R,k,_,D,E,v,F,j,T,z,M,L,O,x,B,X,I,Z,H,N,q,Q,U,V,G,J,W;l._RF.push({},"29a38fz79JLQoGFQUXPFiV2","Chomper",void 0);var K=s.ccclass,Y=s.property,$=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=o.call.apply(o,[this].concat(i))||this).MaxContainZombieCount=2,t.ChewTimePerZombie=17,t.PlantfoodPullDuration=3,t.PlantfoodPushDuration=3,t.PlantfoodSwallowCount=4,t.ChompFailDamage=100,t.PlantfoodPushSPS=3,t.PlantfoodPullSPS=3,t}return n(t,o),t}(d),oo=(o("chomper",function(){function o(){}return o.chompZombie=function(o){o&&o.chomp()},o}()),o("chomperSound",(y=K("chomperSound"),b=Y(u),P=Y(u),C=Y([u]),A=Y([u]),R=Y([u]),k=Y([u]),_=Y([u]),D=Y([u]),E=Y([u]),v=Y(u),F=Y([u]),j=Y(u),y((M=t((z=function(){function o(){i(this,"foodPushSound",M,this),i(this,"foodSwallowSound",L,this),i(this,"chewSound",O,this),i(this,"chompSound",x,this),i(this,"swallowSound",B,this),i(this,"chewStartSound",X,this),i(this,"lickSound",I,this),i(this,"hiccupSound",Z,this),i(this,"scratchSound",H,this),i(this,"foodPullStartSound",N,this),i(this,"foodPullSkillSound",q,this),i(this,"foodPullingSound",Q,this)}var t=o.prototype;return t.playFoodPushSound=function(){g.play(this.foodPushSound,1,.1)},t.playFoodSwallowSound=function(){g.play(this.foodSwallowSound,1,.1)},t.playChewSound=function(){g.playArray(this.chewSound,1,.1)},t.playChompSound=function(){g.playArray(this.chompSound,1,.1)},t.playSwallowSound=function(){g.playArray(this.swallowSound,1,.1)},t.playChewStartSound=function(){g.playArray(this.chewStartSound,1,.1)},t.playLickSound=function(){g.playArray(this.lickSound,.4,.1)},t.playHiccupSound=function(){g.playArray(this.hiccupSound,1,.1)},t.playScratchSound=function(){g.playArray(this.scratchSound,.4,.1)},t.foodPullBegin=function(){g.play(this.foodPullStartSound,1,.1),g.playArray(this.foodPullSkillSound,1,.1)},t.foodPulling=function(){g.play(this.foodPullingSound,1,this.foodPullingSound.getDuration()-.1)},o}()).prototype,"foodPushSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(z.prototype,"foodSwallowSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(z.prototype,"chewSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(z.prototype,"chompSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(z.prototype,"swallowSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(z.prototype,"chewStartSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(z.prototype,"lickSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=t(z.prototype,"hiccupSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(z.prototype,"scratchSound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(z.prototype,"foodPullStartSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(z.prototype,"foodPullSkillSound",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=t(z.prototype,"foodPullingSound",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=z))||T)));o("ChomperPlant",(U=K("ChomperPlant"),V=Y(oo),U((W=t((J=function(o){function t(){for(var t,n=arguments.length,e=new Array(n),l=0;l<n;l++)e[l]=arguments[l];return(t=o.call.apply(o,[this].concat(e))||this)._objdataOwn=new $,i(t,"soundRes",W,a(t)),t.detector=null,t.cds=[],t.attacking=!1,t._inMouthAmount=0,t.pulling=0,t.pushing=0,t.foodSwallowTargets=[],t.foodSwallowedTargets=[],t.switching=!1,t.a1Slots=[],t.a2Slots=[],t}n(t,o);var l=t.prototype;return l.setDetector=function(o){this.detector=p.createRectangleNodeSide(o.node,2*f.SquareDisW,f.SquareDisH)},l.chompZombie=function(o){if(o.chompable_){if(!this.fooding)if(o.easyToChomp_)this.anmControl.playAnimation("AttackEmpty",1);else{this.anmControl.IdleAnim="Chewing",this.anmControl.RandomAnim=[],this.anmControl.playAnimation("AttackChewStart",1);var t=this._objdataOwn.ChewTimePerZombie;this._cdScale&&(t*=this._cdScale),t>0&&this.cds.push(t),this.inMouthAmount=this.cds.length}o.playDie(!0),w.destroyPooly(o.node)}else{var n=this._objdataOwn.ChompFailDamage;this._dmgScale&&(n*=this._dmgScale),o.dealDamage(new m(n,!1,!1,!1,null,S.physicle)),this.fooding||this.anmControl.playAnimation("AttackEmpty",1)}},l.specialPlantOnSquareChange=function(o,t){this.setDetector(t)},l.detectEnemy=function(){var o,t,n=this,i=!1;return this.inLane.zombiePool().forEach((function(o){var t;i||null!=(t=n.detector)&&t.judgeCrossRec(o.bodyRecForShooter)&&(i=!0)})),(null!=(o=this.inLnC)&&o.tombStone||null!=(t=this.inLnC.righter)&&t.tombStone)&&(i=!0),i},l.chompEnemy=function(){var o=this,t=null;if(this.inLane.zombiePool().forEach((function(n){var i;null!=(i=o.detector)&&i.judgeCrossRec(n.bodyRecForShooter)&&(!t||n.bodyRecForShooter.prjX().x<t.bodyRecForShooter.prjX().x)&&(t=n)})),t)this.chompZombie(t);else{var n=this._objdataOwn.ChompFailDamage;this._dmgScale&&(n*=this._dmgScale),this.inLnC.tombStone&&!this.inLnC.tombStone.hidden?this.inLnC.tombStone.dealDamage(n):this.inLnC.righter.tombStone&&!this.inLnC.righter.tombStone.hidden&&this.inLnC.righter.tombStone.dealDamage(n),this.anmControl.playAnimation("AttackEmpty",1)}this.attacking=!1},l.specialPlantFood=function(o){this.attacking=!1,this.anmControl.playAnimation("FoodPullStart",2),this.soundRes.foodPullBegin(),this.cds=[],this.inMouthAmount=0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2","Rand3"],this.pulling=0,this.pushing=0,this.foodSwallowTargets=[],this.foodSwallowedTargets=[]},l.specialPlantOnEnable=function(){var o=this;this.attacking=!1,this.inMouthAmount=0,this.switching=!1,this.cds=[],this.pushing=0,this.pulling=0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2","Rand3"],this.anmControl.body.on(r.EventObject.COMPLETE,(function(){o.switching=!1}),this)},l.animationListener=function(o){"chomp"==o.name?(this.chompEnemy(),this.soundRes.playChompSound()):"judgeChew"==o.name?(this.inMouthAmount=this.cds.length,0==this.inMouthAmount&&(this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2","Rand3"])):"pullBegin"==o.name?(this.pulling=this._objdataOwn.PlantfoodPullDuration,this.anmControl.playAnimation("FoodPulling",1/0)):"pushStart"==o.name?(this.foodSwallowedTargets=[],this.pushing=this._objdataOwn.PlantfoodPushDuration,this.anmControl.playAnimation("FoodPushing",1/0),this.soundRes.playFoodPushSound()):"foodEnd"==o.name?this.foodEnd():"switchEnd"==o.name?this.switching=!1:"chew"==o.name?this.soundRes.playChewSound():"scratch"==o.name?this.soundRes.playScratchSound():"chewStart"==o.name?this.soundRes.playChewStartSound():"swallow"==o.name?this.soundRes.playSwallowSound():"lick"==o.name?this.soundRes.playLickSound():"hiccup"==o.name&&this.soundRes.playHiccupSound()},l.waterable=function(){return!this.switching&&this.inMouthAmount<=0},l.attackAnimation=function(){this.switching=!0,this.anmControl.playAnimation("Attack",2,.1),this.attacking=!0},l.specialPlantOnLoad=function(){var o=this;["ARM1","ARM1_","HAND1","HAND1_"].forEach((function(t){var n=o.anmControl.body.armature().getSlot(t);n&&o.a1Slots.push(n)})),["ARM2","ARM2_","HAND2","HAND2_"].forEach((function(t){var n=o.anmControl.body.armature().getSlot(t);n&&o.a2Slots.push(n)}))},l.setSlots=function(o){this.a1Slots.forEach((function(t){t._setDisplayIndex(o>=1?0:-1)})),this.a2Slots.forEach((function(t){t._setDisplayIndex(o>=2?0:-1)}))},l.swallowAnimation=function(){this.switching=!0,this.anmControl.playAnimation("ChewEnd",1,.2,1)},l.animationOnComplete=function(){this.attacking=!1},l.specialPlantUpdate=function(o,t,n){var i=this;if(this.inMouthAmount>0&&!this.attacking){var a=[];this.cds.forEach((function(t){(t-=o)>0&&a.push(t)})),this.cds.length!=a.length&&this.swallowAnimation(),this.cds=a}if(!this.fooding&&!this.switching&&this.inMouthAmount<this._objdataOwn.MaxContainZombieCount&&n>0&&this.detectEnemy()&&this.attackAnimation(),this.fooding){if(this.pulling>0){if(this.pulling-=o,this.soundRes.foodPulling(),this.foodSwallowTargets.length<this._objdataOwn.PlantfoodSwallowCount-this.foodSwallowedTargets.length){var e=null;this.inLane.zombiePool().forEach((function(o){o.knockBackable&&-1==i.foodSwallowTargets.indexOf(o)&&(!e||e.bodyRecForShooter.prjX().x>o.bodyRecForShooter.prjX().x)&&o.bodyRecForShooter.prjX().y>i.worldPositionX&&(e=o)})),e&&this.foodSwallowTargets.push(e)}this.foodSwallowTargets.concat().forEach((function(o){var t=i.foodSwallowTargets.indexOf(o);o.isAlive()||-1==t?(o.stun(.2),o.bodyRecForShooter.prjX().x<=i.worldPositionX+15?(-1==i.foodSwallowedTargets.indexOf(o)&&(i.chompZombie(o),i.foodSwallowedTargets.push(o)),i.foodSwallowedTargets.length>=i._objdataOwn.PlantfoodSwallowCount&&(i.pulling=0)):o.knockBackBy(new h(-.13*i._objdataOwn.PlantfoodPullSPS,0),!1,.1)):i.foodSwallowTargets.splice(t,1)})),this.pulling<=0&&(this.soundRes.playFoodSwallowSound(),this.anmControl.playAnimation("FoodPullEndPushStart",2))}this.pushing>0&&(this.pushing-=o,this.inLane.zombiePool().forEach((function(o){o.knockBackable&&o.bodyRecForShooter.prjX().y>i.worldPositionX&&o.knockBackBy(new h(.13*i._objdataOwn.PlantfoodPushSPS,0),!1,.1)})),this.pushing<=0&&this.anmControl.playAnimation("FoodPushEnd",1)),this.foodSwallowedTargets.concat().forEach((function(o){null!=o&&o.isAlive()&&(null==o||o.stun(.2))}))}},e(t,[{key:"inMouthAmount",get:function(){return this._inMouthAmount},set:function(o){this.setSlots(o),this._inMouthAmount=o}}]),t}(c)).prototype,"soundRes",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new oo}}),G=J))||G));l._RF.pop()}}}));

System.register("chunks:///_virtual/Citron.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./SoundRescourses.ts"],(function(n){var t,o,i,e,a,r,s,l,h,u,c,d,p,f,y,g,b,m,P;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,s=n.AudioClip,l=n.Node,h=n.Prefab,u=n.Vec2,c=n.Vec3},function(n){d=n.Plant,p=n.PlantProps},function(n){f=n.Rectangle},function(n){y=n.Square},function(n){g=n.instantiatePooly},function(n){b=n.peaShooter},function(n){m=n.CharacterType},function(n){P=n.sounds}],execute:function(){var S,w,C,R,j,z,v,A,L,_,F,D,E,O,k,q,T,H,M,N,x,B,I;a._RF.push({},"d8bad280s1Jb7+LBrnKH0FT","Citron",void 0);var V=r.ccclass,Y=r.property,J=function(n){function t(){for(var t,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(t=n.call.apply(n,[this].concat(i))||this).ChargeTime=7,t.Damage=800,t.DamagePlantfood=2500,t}return o(t,n),t}(p),K=(S=V("citronSound"),w=Y([s]),C=Y([s]),R=Y([s]),j=Y([s]),S((A=t((v=function(){function n(){i(this,"foodSounds",A,this),i(this,"shootSounds",L,this),i(this,"chargeSounds",_,this),i(this,"landSounds",F,this)}var t=n.prototype;return t.playFood=function(){P.playArray(this.foodSounds,1,.1)},t.playShoot=function(){P.playArray(this.shootSounds,1,.1)},t.playCharge=function(){P.playArray(this.chargeSounds,1)},t.playLand=function(){P.playArray(this.landSounds,1,.1)},n}()).prototype,"foodSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(v.prototype,"shootSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(v.prototype,"chargeSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(v.prototype,"landSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=v))||z);n("CitronPlant",(D=V("CitronPlant"),E=Y(l),O=Y(h),k=Y(h),q=Y(h),D((M=t((H=function(n){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=n.call.apply(n,[this].concat(a))||this).detector=new f,i(t,"soundRes",M,e(t)),t._objdataOwn=new J,i(t,"peaSpawnPoint",N,e(t)),i(t,"prj0",x,e(t)),i(t,"prjFood",B,e(t)),i(t,"lightningPar",I,e(t)),t.ready=!1,t}o(t,n);var a=t.prototype;return a.specialPlantOnSquareChange=function(n,t){this.detector=f.createRectangleNodeSide(t.node,y.SquareDisW*(9-t.cIndex),y.SquareDisH)},a.shrink=function(){this.anmControl.playAnimation("Shrink",1/0)},a.charge=function(){this.soundRes.playCharge(),this.anmControl.playAnimation("Charge",1/0,0,Math.min(100,7/this._objdataOwn.ChargeTime))},a._shoot=function(n){var t=g(n);b.shootOnePea(t,this.worldPosition,this.peaSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,new u(12,0),m.zombie).setDamage((this.fooding?this._objdataOwn.DamagePlantfood:this._objdataOwn.Damage)*this._dmgScale)},a.animationListener=function(n){"land"==n.name?this.soundRes.playLand():"foodEnd"==n.name?(this.foodEnd(),this.shrink()):"shrink"==n.name?this.shrink():"chargeStart"==n.name?this.charge():"ready"==n.name?(this.ready=!0,this.anmControl.playAnimation("Ready",1/0)):"shoot"==n.name?this._shoot(this.prj0):"foodShoot"==n.name&&this._shoot(this.prjFood)},a.lightning=function(){var n=g(this.lightningPar);n.parent=this.inLane.zombieLayer,n.worldPosition=new c(this.worldPositionX,this.worldPositionY+this.height,10)},a.specialPlantFood=function(n){this.anmControl.playAnimation("Food",1/0,0,.7),this.soundRes.playFood(),this.lightning()},a.waterable=function(){return!1},a.specialPlantOnEnable=function(){this.ready=!1,this.charge()},a.detectEnemies=function(){var n=this,t=!1;return this.inLane.zombiePool().forEach((function(o){t||n.detector.judgeCrossRec(o.bodyRecForShooter)&&(t=!0)})),!!t||(this.inLane.tombPool().forEach((function(o){t||n.detector.judgeCrossRec(o.bodyRec)&&(t=!0)})),t)},a.specialPlantUpdate=function(n,t,o){!this.fooding&&this.ready&&o>0&&this.detectEnemies()&&(this.ready=!1,this.anmControl.playAnimation("Shoot",1/0),this.soundRes.playShoot())},t}(d)).prototype,"soundRes",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new K}}),N=t(H.prototype,"peaSpawnPoint",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(H.prototype,"prj0",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(H.prototype,"prjFood",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(H.prototype,"lightningPar",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=H))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/citronFoodPrj.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Zombie.ts","./SoundRescourses.ts","./NodePools.ts","./Character.ts"],(function(e){var o,t,n,i,r,s,a,c,l,u,d,p,y,h;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.AudioClip,c=e.Prefab,l=e.Vec3},function(e){u=e.commonShot},function(e){d=e.Zombie},function(e){p=e.sounds},function(e){y=e.instantiatePooly},function(e){h=e.CharacterType}],execute:function(){var f,m,b,P,g,L,v;r._RF.push({},"7d3abP8EK9AY7DQCel3R5gq","citronFoodPrj",void 0);var T=s.ccclass,C=s.property;e("citronFoodPrj",(f=T("citronFoodPrj"),m=C([a]),b=C(c),f((L=o((g=function(e){function o(){for(var o,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return o=e.call.apply(e,[this].concat(r))||this,n(o,"tossSounds",L,i(o)),n(o,"tossPar",v,i(o)),o}return t(o,e),o.prototype.detectEnemy=function(e){var o,t=this;if(this.inLane&&this.detectEnemyOn){null!=(o=this.targetLocked)&&null!=(o=o.getComponent(d))&&o.dead&&(this.targetLocked=null);var n,i=this.bodyRec(),r=!1;if(this.enemyType==h.zombie||this.enemyType==h.plant){var s=this.enemyType==h.zombie?this.inLane.zombiePool():this.inLane.hypnoZombiePool();null==s||s.forEach((function(e){if(!r&&i.judgeCrossRec(e.bodyRec))if(e.objdata.CannotBeTossedByCitron)r=!0,t.dealDamageToTarget(e,!0),t.pop();else{var o=y(t.tossPar);o.parent=t.node.parent,o.worldPosition=new l(e.worldPositionX,e.worldPositionY+t.height,10),e.tossAway(),p.playArray(t.tossSounds,3,.1)}}))}if(this.enemyType==h.zombie)null==(n=this.inLane)||n.tombPool().forEach((function(e){e.bodyRec.judgeCrossRec(i)&&(!t.targetLocked||t.targetLocked&&e.node==t.targetLocked)&&e.die()}));this.enemyType==h.plant&&this.detectPlant(e,i)}},o}(u)).prototype,"tossSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=o(g.prototype,"tossPar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=g))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/CoconutCannon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./SoundRescourses.ts","./levelController.ts"],(function(o){var t,n,e,i,a,s,r,l,h,u,p,c,d,f,m,S,C,w,y;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){a=o.cclegacy,s=o._decorator,r=o.AudioClip,l=o.Prefab,h=o.Node,u=o.Color,p=o.Vec2,c=o.Size},function(o){d=o.Plant,f=o.PlantProps},function(o){m=o.NodePools},function(o){S=o.peaShooter},function(o){C=o.CharacterType},function(o){w=o.sounds},function(o){y=o.LevelPlay}],execute:function(){var b,g,P,v,D,_,R,A,F,z,j,L,E,O,T,k,M,I,x,N;a._RF.push({},"50720yK6odEMocWqgdyjOTQ","CoconutCannon",void 0);var U=s.ccclass,W=s.property,q=function(o){function t(){for(var t,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(t=o.call.apply(o,[this].concat(e))||this).RestTime=15,t}return n(t,o),t}(f),B=(b=U("coconutcannonSound"),g=W(r),P=W(r),v=W(r),b((R=t((_=function(){function o(){e(this,"shootFoodSound",R,this),e(this,"shootSound",A,this),e(this,"foodStartSound",F,this)}var t=o.prototype;return t.playShootSound=function(o){void 0===o&&(o=!1),w.play(o?this.shootFoodSound:this.shootSound,1,.1)},t.playFoodStartSound=function(){w.play(this.foodStartSound,1,.1)},o}()).prototype,"shootFoodSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(_.prototype,"shootSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(_.prototype,"foodStartSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=_))||D);o("CoconutCannonPlant",(z=U("CoconutCannonPlant"),j=W(B),L=W(l),E=W(l),O=W(h),z((M=t((k=function(o){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(t=o.call.apply(o,[this].concat(a))||this)._objdataOwn=new q,t.sleepCD=0,t.shooting=!1,e(t,"soundRes",M,i(t)),e(t,"prj0",I,i(t)),e(t,"prjFood",x,i(t)),e(t,"peaSpawnpoint",N,i(t)),t}n(t,o);var a=t.prototype;return a.specialPlantOnEnable=function(){this.sleepCD=0,this.baseColor=new u(255,255,255,255)},a.teach=function(){this.sleepCD<=0?(this.defaultTeach(1),this.addArrow(1/0)):this.arrowCountdown=0},a.shootAnimation=function(o){void 0===o&&(o=!1),this.shooting=!0,this.anmControl.playAnimation(o?"Food":"Shoot",2),this.anmControl.IdleAnim="Sleep",this.anmControl.RandomAnim=[]},a.wake=function(){this.sleepCD=0,this.anmControl.playAnimation("Wake",1),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.baseColor=new u(255,255,255,255)},a.specialPlantFood=function(o){this.wake(),this.shootAnimation(!0),this.soundRes.playFoodStartSound(),this.baseColor=new u(255,255,255,255)},a.waterable=function(){return this.sleepCD<=0&&!this.shooting},a._shoot=function(o,t,n){var e=this;void 0===o&&(o=this.prj0),void 0===t&&(t=35),void 0===n&&(n=new p(1,0));var i=m.instantiatePooly(o);if(i){var a=S.shootOnePea(i,new p(this.peaSpawnpoint.worldPosition.x,this.worldPositionY),Math.max(1,this.peaSpawnpoint.worldPosition.y-this.inLnC.plantPoint.worldPosition.y),this.inLane.node,n.normalize().multiplyScalar(t),C.zombie);return this._dmgScale&&(a.setDamage(a.damage_*this._dmgScale),a.splashDamages_.forEach((function(o){o.splashDamage*=e._dmgScale}))),y.CannonMinigameProps&&(a.ignoreDifferentLane=!0,a.splashDamages_.forEach((function(o){o.splashRange=new c(2.5,1.5)}))),a}},a.animationListener=function(o){if("Shoot"==o.name)this.soundRes.playShootSound(!1),this._shoot();else if("foodShoot"==o.name)this.soundRes.playShootSound(!0),this._shoot(this.prjFood,10);else if("sleepStart"==o.name){this.anmControl.playRandom(),this.shooting=!1;var t=this._objdataOwn.RestTime;this._cdScale&&(t*=this._cdScale),this.sleepCD=t,this.clearScheduler()}else"foodEnd"==o.name&&this.foodEnd()},a.specialPlantUpdateForce=function(o,t,n){if(this.sleepCD>0){var e=200-122*this.getScheduler(this.sleepCD/8);this.baseColor=new u(e,e,e,255)}},a.specialPlantUpdate=function(o,t,n){this.sleepCD>0&&(this.sleepCD-=o,this.sleepCD<=0&&this.wake())},a.specialPlantOnMouseDown=function(){if(this.sheepend)return!1;var o=this.sleepCD<=0&&!this.shooting;return o&&(this.shootAnimation(!1),this.arrowCountdown=0),o},t}(d)).prototype,"soundRes",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new B}}),I=t(k.prototype,"prj0",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(k.prototype,"prjFood",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(k.prototype,"peaSpawnpoint",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=k))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/coconutHeavy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Zombie.ts","./Character.ts"],(function(e){var t,o,n,a,i,c;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator},function(e){a=e.commonShot},function(e){i=e.Zombie},function(e){c=e.CharacterType}],execute:function(){var l;o._RF.push({},"5e745SbVZdK75F64q70ZJjV","coconutHeavy",void 0);var r=n.ccclass;n.property,e("coconutHeavy",r("coconutHeavy")(l=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).ignited=!1,t}t(o,e);var n=o.prototype;return n.specialOnSquareChange=function(e,t){var o;t.cIndex>=8&&!this.ignited&&(this.ignited=!0,null==(o=this.db)||o.playAnimation("Explode",1))},n.explode=function(){this.dealSplashDamage(),this.pop()},n.animationListener=function(e){"pop"==e.name&&this.explode()},n.characterOnEnable=function(){var e;this.initialize(),this.ignited=!1,null==(e=this.db)||e.playAnimation("Idle",1/0)},n.detectEnemy=function(e){},n.onMoving=function(e,t){var o,n,a=this;if(this.ignited&&(this.linearVelocity.x/=1.2),this.inLane)if(null!=(o=this.targetLocked)&&null!=(o=o.getComponent(i))&&o.dead&&(this.targetLocked=null),this.enemyType==c.zombie){var l,r,s=[];if(null==(l=this.inLane)||l.zombiePool().forEach((function(e){e.knockBackable&&e.specialZombieKnockbackable()?(!a.targetLocked||a.targetLocked&&e.node==a.targetLocked)&&e.bodyRec.judgeCrossRec(a.bodyRec())&&s.push(e):e.bodyRec.judgeCrossRec(a.bodyRec())&&a.explode()})),s.length){var d=t.x-e.x;s.forEach((function(e){e.stun(.1),e.worldPositionX+=d}))}var u=null;null==(r=this.inLane)||r.tombPool().forEach((function(e){e.bodyRec.judgeCrossRec(a.bodyRec())&&(!a.targetLocked||a.targetLocked&&e.node==a.targetLocked)&&(u=e)})),u&&(u.dealDamage(this.damage_*this.damageScale*(this.havePeaBuff?1.5:1)),this.dealSplashDamage(null,u),this.pop())}else this.enemyType==c.plant&&(null==(n=this.inLane)||n.plantPool().forEach((function(e){a.dead||e.bodyRec.judgeCrossRec(a.bodyRec())&&(!a.targetLocked||a.targetLocked&&e.node==a.targetLocked)&&a.dealDamageToTargetPlant(e)&&a.pop()})))},o}(a))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/coin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dropping.ts","./CoinCount.ts","./SoundRescourses.ts","./CoinCollecterInGame.ts"],(function(n){var o,e,t,i,r,u,c,a,l,p,s,d;return{setters:[function(n){o=n.applyDecoratedDescriptor,e=n.inheritsLoose,t=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,u=n._decorator,c=n.CCInteger,a=n.AudioClip},function(n){l=n.dropping},function(n){p=n.CoinCount},function(n){s=n.sounds},function(n){d=n.CoinCollecterInGame}],execute:function(){var f,C,g,v,y,h,b;r._RF.push({},"7bbaalD+gRCfLw8Bg+Ymqwq","coin",void 0);var m=u.ccclass,I=u.property;n("coin",(f=m("coin"),C=I(c),g=I(a),f((h=o((y=function(n){function o(){for(var o,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return o=n.call.apply(n,[this].concat(r))||this,t(o,"value",h,i(o)),t(o,"dropSound",b,i(o)),o}e(o,n);var r=o.prototype;return r.specialOnGroundHit=function(){s.play(this.dropSound,1,0)},r.goToUIPath=function(){return"Canvas/UIInGameUpper/CurrencyCount/CoinSlot"},r.specialGoToUI=function(n){var o;d.component.hidden=!1,null==(o=p.component)||o.addCoinCount(this.value)},o}(l)).prototype,"value",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),b=o(y.prototype,"dropSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/coinbag.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelPrize.ts","./Sunflower.ts","./UI.ts","./SoundsController.ts","./SoundManager.ts"],(function(t){var n,e,o,i,c,r,l,a,s,u,f,p,h,y,w,d;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){c=t.cclegacy,r=t._decorator,l=t.CCInteger,a=t.tween,s=t.Vec3,u=t.Vec2,f=t.TWO_PI},function(t){p=t.levelPrize},function(t){h=t.sunflower},function(t){y=t.UIInGame},function(t){w=t.MusicController},function(t){d=t.MusicSortEnum}],execute:function(){var g,v,m,b,P;c._RF.push({},"513f5GsDYtP+7izCdr2puwc","coinbag",void 0);var _=r.ccclass,M=r.property;t("coinbag",(g=_("coinbag"),v=M(l),g((P=n((b=function(t){function n(){for(var n,e=arguments.length,c=new Array(e),r=0;r<e;r++)c[r]=arguments[r];return n=t.call.apply(t,[this].concat(c))||this,o(n,"coinAmount",P,i(n)),n}return e(n,t),n.prototype.collect=function(){var t=this;this.collectTween.forEach((function(t){t.stop()})),this.collectTween=[],this.collectTween.push(a(this.node).to(.5,{scale:new s(0,0,0)},{easing:"quadOut"}).to(.5,{}).call((function(){y.uiingame.victoryExit()})).start());for(var n=f/3,e=function(){var e=n/2-n*o/(t.coinAmount-1),i=h.dropOneCoin(new u(t._worldPositionX,t._worldPositionY+t._height),2),c=new u(Math.sin(e),Math.cos(e)).multiplyScalar(7);i.linearVelocity=new u(c.x,0),i.bodyLinearVelocity=c.y,i.mouseListen=!1,a(i).to(1,{linearVelocity:new u(0,0),bodyLinearVelocity:0}).call((function(){i.collect()})).to(1,{}).start()},o=0;o<this.coinAmount;o++)e();w.switchMusicSort(d.Leave,!1,!1,!0,!0)},n}(p)).prototype,"coinAmount",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),m=b))||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/CoinCollecterInGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI.ts"],(function(e){var o,t,n,i,s,h,r,l,a,c,d,u;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.createClass},function(e){h=e.cclegacy,r=e._decorator,l=e.Node,a=e.Vec3,c=e.tween,d=e.Component},function(e){u=e.UIInGame}],execute:function(){var w,p,f,_,C,v;h._RF.push({},"60af0DVfxFNNroqRlBr7pKs","CoinCollecterInGame",void 0);var y=r.ccclass,m=r.property;e("CoinCollecterInGame",(w=y("CoinCollecterInGame"),p=m(l),w(((v=function(e){function o(){for(var o,t=arguments.length,s=new Array(t),h=0;h<t;h++)s[h]=arguments[h];return(o=e.call.apply(e,[this].concat(s))||this).oldPos=new a,o._hidden=!1,o._showTween=void 0,n(o,"shower",C,i(o)),o.showerOldPos=new a,o.showCD=0,o}t(o,e);var h=o.prototype;return h.onLoad=function(){this.node.position=new a(u.PocketUI?390:-430,-150,0),o.component=this,this.oldPos=this.node.position.clone(),this.showerOldPos=this.shower.position.clone(),this.node.position.add(new a(0,-1e3,0))},h.show=function(){c(this.node).to(.5,{position:this.oldPos},{easing:"quadOut"}).start()},h.update=function(e){this.hidden||(this.showCD>0&&(this.showCD-=e),this.showCD<=0&&(this.hidden=!0))},s(o,[{key:"hidden",get:function(){return this._hidden},set:function(e){var o,t=this;if(this.showCD=5,!e&&this._hidden)null==(o=this._showTween)||o.stop(),this._showTween=c(this.shower).to(.5,{position:this.showerOldPos},{easing:"quadOut"}).call((function(){t._showTween=null})).start();else if(e&&!this._hidden){var n;null==(n=this._showTween)||n.stop(),this._showTween=c(this.shower).by(.5,{position:new a(0,-1e3,0)},{easing:"quadIn"}).call((function(){t._showTween=null})).start()}this._hidden=e}}]),o}(d)).component=void 0,C=o((_=v).prototype,"shower",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=_))||f));h._RF.pop()}}}));

System.register("chunks:///_virtual/CoinCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CurrencyCount.ts","./PlayerProperties.ts","./SoundRescourses.ts"],(function(n){var o,t,e,i,r,u,c,a,l,s;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,u=n._decorator,c=n.AudioClip},function(n){a=n.CurrencyCount},function(n){l=n.AllPlayerProperties},function(n){s=n.sounds}],execute:function(){var p,C,d,f,h,y;r._RF.push({},"bd9abRbdZhOt51gHOg9m9Ia","CoinCount",void 0);var v=u.ccclass,P=u.property;n("CoinCount",(p=v("CoinCount"),C=P(c),p(((y=function(n){function o(){for(var o,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return o=n.call.apply(n,[this].concat(r))||this,e(o,"coinCollectSound",h,i(o)),o}t(o,n);var r=o.prototype;return r.start=function(){this.shownValue=isNaN(l.currentPlayer.coin)?0:l.currentPlayer.coin,this.value=this._shownValue},r.addCoinCount=function(n){this.value+=n,s.play(this.coinCollectSound,1,.1)},r.decCoinCount=function(n){this.value-=n},r.buyCoin=function(){this.addCoinCount(1e4)},r.onValueSet=function(n){l.currentPlayer.coin=n,l.savePP()},r.onLoad=function(){o.component=this},o}(a)).component=void 0,h=o((f=y).prototype,"coinCollectSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/ColdSnapDragon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts","./SnapDragon.ts","./Zombie.ts","./NodePools.ts","./Square.ts","./CharacterManager.ts"],(function(n){var e,a,t,o,i,r,l,s,c,u,d,p,f,h,y,b,g,S;return{setters:[function(n){e=n.applyDecoratedDescriptor,a=n.inheritsLoose,t=n.initializerDefineProperty,o=n.assertThisInitialized,i=n.createClass},function(n){r=n.cclegacy,l=n._decorator,s=n.AudioClip,c=n.Vec3},function(n){u=n.sounds},function(n){d=n.snapdragonSound,p=n.SnapDragonPlant,f=n.SnapDragonProps},function(n){h=n.zombieDamageType,y=n.ZombieDamageDetails},function(n){b=n.NodePools},function(n){g=n.Square},function(n){S=n.Rectangle}],execute:function(){var D,m,w,L,P,z,C,v,R,A,k,O,j,I;r._RF.push({},"cb3737S8f1Mi6GYIZhNWZpO","ColdSnapDragon",void 0);var F=l.ccclass,_=l.property,H=function(n){function e(){for(var e,a=arguments.length,t=new Array(a),o=0;o<a;o++)t[o]=arguments[o];return(e=n.call.apply(n,[this].concat(t))||this).ChillDuration=10,e.FreezeDuration=0,e.DamagePlantfood=1200,e.ChillDurationPlantfood=10,e.FreezeDurationPlantfood=10,e}return a(e,n),e}(f),q=(D=F("ColdSnapDragonSound"),m=_([s]),w=_([s]),L=_([s]),D((C=e((z=function(n){function e(){for(var e,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=n.call.apply(n,[this].concat(i))||this,t(e,"attackIce",C,o(e)),t(e,"hit",v,o(e)),t(e,"sneeze",R,o(e)),e}a(e,n);var i=e.prototype;return i.playAttackIce=function(){u.playArray(this.attackIce,1,.2)},i.playAttackSound=function(){u.playArray(this.attackSound,1,.2),u.playArray(this.attackIce,.4,NaN,.5)},i.playFoodSound=function(){u.play(this.foodSound,1,.1),u.playArray(this.attackIce,1,.2)},i.playHit=function(){u.playArray(this.hit,.4,.2)},i.playSneeze=function(){u.playArray(this.sneeze,1,.2)},e}(d)).prototype,"attackIce",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(z.prototype,"hit",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(z.prototype,"sneeze",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=z))||P);n("ColdSnapDragonPlant",(A=F("ColdSnapDragonPlant"),k=_(q),A((I=e((j=function(n){function e(){for(var e,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=n.call.apply(n,[this].concat(i))||this,t(e,"soundRes",I,o(e)),e._objdataOwn=new H,e}a(e,n);var r=e.prototype;return r.onObjdataSet=function(n,e){},r.ZombieOnHit=function(n){n.setChill(this.objdataOwn.ChillDuration),n.setFreeze(this.objdataOwn.FreezeDuration)},r.foodAttack=function(){var n=this;this.soundRes.playFoodSound(),[this.inLane.UpperLane,this.inLane,this.inLane.LowerLane].forEach((function(e,a){if(!(e.LaneIndex<0||e.LaneIndex>4)){var t=-(a-1)*g.SquareDisH,o=b.instantiatePooly(n.foodPar);o.parent=e.tombLayer,o.setSiblingIndex(0),o.worldPosition=n.inLnC.node.worldPosition.clone().add3f(3.5*g.SquareDisW,t,0);var i=n.attParScale();o.worldScale=new c(i,.5,1)}}))},r.getDamageType=function(){return h.physicle},r.snapdragonAnimationListener=function(n){var e=this;switch(n.name){case"splat":this.soundRes.playHit();break;case"sneeze":this.soundRes.playSneeze();break;case"foodHit":var a=this._objdataOwn.DamagePlantfood;this._dmgScale&&(a*=this._dmgScale);var t=S.createRectangleNodeSide(this.inLnC.node,3.5*g.SquareDisW,3*g.SquareDisH),o=new y(a,!0,!1,!1,null,h.physicle),i=[];this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(n){n.bodyRecReal.judgeCrossRec(t)&&-1==i.indexOf(n)&&(n.dealDamage(o),e.ZombieOnHit(n),n.setChill(e.objdataOwn.ChillDurationPlantfood),n.setFreeze(e.objdataOwn.FreezeDurationPlantfood),i.push(n))})),this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(n){n.bodyRec.judgeCrossRec(t)&&n.dealDamage(o.damage)}))}},i(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(p)).prototype,"soundRes",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new q}}),O=j))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/commonShot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Character.ts","./Zombie.ts","./Square.ts","./CharacterManager.ts","./Particles.ts","./LnC.ts","./Lane.ts","./Plant.ts","./SoundRescourses.ts","./levelController.ts","./MultiLanguage.ts"],(function(e){var i,t,n,o,a,r,l,s,h,c,u,d,p,f,m,b,y,g,w,v,L,D,P,S,k,_,z,C,B,E,I,F,R,V,x,T,O;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,n=e.inheritsLoose,o=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,l=e._decorator,s=e.CCFloat,h=e.Size,c=e.Enum,u=e.Prefab,d=e.AudioClip,p=e.CCInteger,f=e.Vec3,m=e.Vec2,b=e.dragonBones,y=e.Color},function(e){g=e.NodePools,w=e.ArrayGet},function(e){v=e.CharacterType,L=e.Character},function(e){D=e.zombiePoison,P=e.zombieDamageType,S=e.ZombieDamageDetails,k=e.Zombie},function(e){_=e.Square},function(e){z=e.Rectangle,C=e.ZombiePool,B=e.TombPool},function(e){E=e.particle},function(e){I=e.TileLiquidEnum,F=e.TileType},function(e){R=e.Lane},function(e){V=e.PlantWarmingRadius},function(e){x=e.sounds},function(e){T=e.LevelPlay},function(e){O=e.MultiLanguage}],execute:function(){var M,H,Z,q,j,W,A,U,K,N,X,Y,G,J,Q,$,ee,ie,te,ne,oe,ae,re,le,se,he,ce,ue,de,pe,fe,me,be,ye,ge,we,ve,Le,De,Pe,Se,ke,_e,ze,Ce,Be,Ee,Ie,Fe,Re,Ve,xe,Te,Oe,Me,He,Ze,qe,je,We,Ae,Ue,Ke,Ne,Xe,Ye,Ge,Je,Qe,$e,ei,ii,ti,ni,oi,ai,ri,li,si,hi,ci,ui,di,pi,fi,mi,bi,yi,gi,wi,vi,Li,Di,Pi,Si,ki,_i,zi,Ci,Bi;r._RF.push({},"42744eKEFJOpYjpPM9vfXco","commonShot",void 0);var Ei=l.ccclass,Ii=l.property,Fi=e("ProjectileType",function(e){return e[e.pea=0]="pea",e[e.boomerang=1]="boomerang",e}({})),Ri=e("SplashDamage",(M=Ei("splashDamage"),H=Ii({type:s,visible:!0}),Z=Ii({type:h,visible:!0}),q=Ii({type:s,visible:!0}),j=Ii({type:s,visible:!0}),W=Ii({type:s,visible:!0}),A=Ii({type:D,visible:!0}),U=Ii({type:s,visible:!0}),K=Ii({type:s,visible:!0}),M((Y=i((X=function(){function e(e,i,n,o,a,r,l,s){void 0===e&&(e=0),void 0===i&&(i=new h(0,0)),void 0===n&&(n=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===r&&(r=new D(0,0)),void 0===l&&(l=0),void 0===s&&(s=0),t(this,"splashDamage",Y,this),t(this,"splashRange",G,this),t(this,"chillDuration",J,this),t(this,"freezeDuration",Q,this),t(this,"butterDuration",$,this),t(this,"poison",ee,this),t(this,"stunDuration",ie,this),t(this,"knockbackDistance",te,this),this.splashDamage=e,this.butterDuration=a,this.splashRange=i,this.chillDuration=n,this.freezeDuration=o,this.poison=r,this.stunDuration=l,this.knockbackDistance=s}return e.prototype.copy=function(){var i=new e;return i.splashDamage=this.splashDamage,i.splashRange=this.splashRange,i.chillDuration=this.chillDuration,i.freezeDuration=this.freezeDuration,i.poison=this.poison.copy(),i.stunDuration=this.stunDuration,i.knockbackDistance=this.knockbackDistance,i},e}()).prototype,"splashDamage",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=i(X.prototype,"splashRange",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h(0,0)}}),J=i(X.prototype,"chillDuration",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Q=i(X.prototype,"freezeDuration",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=i(X.prototype,"butterDuration",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ee=i(X.prototype,"poison",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new D(0,0)}}),ie=i(X.prototype,"stunDuration",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),te=i(X.prototype,"knockbackDistance",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=X))||N));c(P),c(I),c(Fi);e("commonShot",(ne=Ei("commonShot"),oe=Ii(Boolean),ae=Ii({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),re=Ii({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),le=Ii({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),se=Ii({type:u,visible:function(){return this.canBeYellowIgnited&&this.showCommonShotFeaturesInEditor}}),he=Ii({type:u,visible:function(){return this.canBeBlueIgnited&&this.showCommonShotFeaturesInEditor}}),ce=Ii({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),ue=Ii({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),de=Ii({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),pe=Ii({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),fe=Ii({type:s,visible:function(){return this.showCommonShotFeaturesInEditor}}),me=Ii({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),be=Ii(h),ye=Ii({type:[Ri],visible:function(){return this.showCommonShotFeaturesInEditor},displayName:"SplashDamage"}),ge=Ii({type:I,visible:function(){return this.showCommonShotFeaturesInEditor}}),we=Ii({type:s,visible:function(){return this.showCommonShotFeaturesInEditor}}),ve=Ii({type:P,visible:function(){return this.showCommonShotFeaturesInEditor}}),Le=Ii({type:D,visible:function(){return this.showCommonShotFeaturesInEditor}}),De=Ii({type:s,visible:function(){return this.showCommonShotFeaturesInEditor}}),Pe=Ii({type:s,visible:function(){return this.showCommonShotFeaturesInEditor}}),Se=Ii({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),ke=Ii({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),_e=Ii({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),ze=Ii({type:s,visible:function(){return this.showCommonShotFeaturesInEditor}}),Ce=Ii({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),Be=Ii({type:Fi,visible:function(){return this.showCommonShotFeaturesInEditor}}),Ee=Ii({type:[d],visible:function(){return this.showCommonShotFeaturesInEditor}}),Ie=Ii({type:[u],visible:function(){return this.showCommonShotFeaturesInEditor}}),Fe=Ii({type:s,min:0,visible:function(){return this.showCommonShotFeaturesInEditor}}),Re=Ii({type:s,min:0,visible:function(){return this.showCommonShotFeaturesInEditor}}),Ve=Ii({type:s,tooltip:"Stunning Delay",visible:function(){return this.showCommonShotFeaturesInEditor}}),xe=Ii({type:s,tooltip:"Butter Delay",visible:function(){return this.showCommonShotFeaturesInEditor}}),Te=Ii(s),Oe=Ii(s),Me=Ii(Boolean),He=Ii(p),Ze=Ii(Boolean),qe=Ii({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),je=Ii({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),ne((Ue=i((Ae=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return i=e.call.apply(e,[this].concat(a))||this,t(i,"showCommonShotFeaturesInEditor",Ue,o(i)),t(i,"particleAtFoot",Ke,o(i)),t(i,"canBeYellowIgnited",Ne,o(i)),t(i,"canBeBlueIgnited",Xe,o(i)),t(i,"yellowIgnited",Ye,o(i)),t(i,"blueIgnited",Ge,o(i)),t(i,"armorKnockSound",Je,o(i)),t(i,"bodyKnockSound",Qe,o(i)),t(i,"armorProtection",$e,o(i)),t(i,"onFire",ei,o(i)),t(i,"damageScale",ii,o(i)),t(i,"carriedSporeShroom",ti,o(i)),i.parentLock=!1,i.enemyType=v.zombie,i.maxDistance=1/0,i.maxDistance_=1/0,t(i,"size",ni,o(i)),i.size_=new h(12,12),i.canDiveUnderHeight0=!1,i._bodyRec=new z,t(i,"splashDamages",oi,o(i)),i.splashDamages_=[],t(i,"tileLiquid",ai,o(i)),i.tileLiquid_=I.none,t(i,"tileLiquidDuration",ri,o(i)),i.tileLiquidDuration_=0,t(i,"damageType",li,o(i)),t(i,"poison",si,o(i)),i.poison_=new D(0,0),t(i,"chill",hi,o(i)),i.chill_=0,t(i,"freeze",ci,o(i)),i.freeze_=0,i.killedZombiesOneHit=[],t(i,"followRotation",ui,o(i)),t(i,"screenShaker",di,o(i)),t(i,"balloonKiller",pi,o(i)),t(i,"knockbackDistance",fi,o(i)),i.knockbackDistance_=0,t(i,"knockbackFly",mi,o(i)),t(i,"projectileType",bi,o(i)),t(i,"PopSound",yi,o(i)),t(i,"PopParticle",gi,o(i)),i.originalP=new f(0,0,0),i.judgeZombieBodyRecForShooter=!1,t(i,"damage",wi,o(i)),i.damage_=0,t(i,"damageBowlingLevel",vi,o(i)),i.damageBowlingLevel_=0,t(i,"stun",Li,o(i)),i.stun_=0,t(i,"butter",Di,o(i)),i.butter_=0,t(i,"popSoundVolume",Pi,o(i)),t(i,"popSoundCDScale",Si,o(i)),t(i,"particleCorrectScale",ki,o(i)),i.havePeaBuff=!1,i.peaBuff=null,i.targetLocked=null,i.setLine=!0,t(i,"iceblockLevel",_i,o(i)),t(i,"canbeJesterReversed",zi,o(i)),i.detectEnemyOn=!0,i.ignoreDifferentLane=!1,i.acceleration=new m(0,0),i.deceleration=new m(0,0),i._linearVelocity=new m(0,0),i.bodyOmega=0,i.bodyLinearVelocity=0,i.gravity=0,i.flyHorizontalWhenBV0=!1,t(i,"plantHeatOnPop",Ci,o(i)),t(i,"detectsEaterDetectDisabledPlants",Bi,o(i)),i.switching=!1,i.popWhenStatic=!0,i.hitsFloorWhenRecHitInsteadOfHeightZero=!1,i.oldPos=new m,i.dead=!1,i}n(i,e);var r=i.prototype;return r.specialOnDisable=function(){},r.copy=function(e,i,t,n,o,a,r,l,s,h){var c=this;void 0===i&&(i=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===o&&(o=!0),void 0===a&&(a=!0),void 0===r&&(r=!0),void 0===l&&(l=!0),void 0===s&&(s=!0),void 0===h&&(h=!0),this.enemyType=e.enemyType,e.havePeaBuff&&this.addPeaBuff(),i&&(this.damage_=e.damage_),this.splashDamages_=[],e.splashDamages_.forEach((function(e){var i=new Ri;i.splashDamage=e.splashDamage,i.splashRange=e.splashRange,t&&(i.chillDuration=e.chillDuration),n&&(i.freezeDuration=e.freezeDuration),o&&(i.stunDuration=e.stunDuration),r&&(i.knockbackDistance=e.knockbackDistance),l&&(i.butterDuration=e.butterDuration),s&&(i.poison=e.poison),c.splashDamages_.push(i)})),t&&(this.chill_=e.chill_),n&&(this.freeze_=e.freeze_),h&&(this.linearVelocity=e.linearVelocity.clone(),this.acceleration=e.acceleration.clone(),this.deceleration=e.deceleration.clone(),this.gravity=e.gravity,this.bodyLinearVelocity=e.bodyLinearVelocity,this.height=e.height),o&&(this.stun_=e.stun_),a&&(this.tileLiquid_=e.tileLiquid_,this.tileLiquidDuration_=e.tileLiquidDuration_),r&&(this.knockbackDistance_=e.knockbackDistance_),l&&(this.butter_=e.butter_),s&&(this.poison_=e.poison_)},r.animationListener=function(e){},r.animationCompleteListener=function(){},r.bodyRec=function(){return this.dead?new z:this._bodyRec},r._setBodyRec=function(e,i){var t=i.clone().add(e.clone().negative()),n=e.clone().add(t.clone().multiplyScalar(.5));this._bodyRec=z.createRectangleCenter(n,Math.abs(t.x)+this.size_.width,Math.abs(t.y)+this.size_.height)},r.setSplashDamages=function(e){var i=[];e.forEach((function(e){i.push(e.copy())})),this.splashDamages_=i},r.setTileLiquid=function(e,i){this.tileLiquid_=e,this.tileLiquidDuration_=i},r.characterOnSquareChange=function(e,i){var t;if(this.maxDistance_--,this.maxDistance_<=-1&&this.fade(),this.onFire&&9!=i.cIndex&&-1!=i.cIndex&&i.iceTile)null==(t=i.iceTile)||t.die(),this.pop();else if(this.onFire&&9==i.cIndex&&this.inLane.iceTile){var n;null==(n=this.inLane.iceTile)||n.die(),this.pop()}this.specialOnSquareChange(e,i)},r.specialOnSquareChange=function(e,i){},r.splat=function(e){this.pop()},r.setPoison=function(e,i){this.poison_=new D(e,i)},r.setChill=function(e){this.chill_=e},r.setFreeze=function(e){this.freeze_=e},r.dealSplashDamage=function(e,i){var t=this;if(void 0===e&&(e=null),void 0===i&&(i=null),!(!this.inLane||this.lIndex>4||this.lIndex<0)){var n=this.enemyType==v.plant;this.splashDamages_.forEach((function(o){if(o.splashDamage>=0&&o.splashRange.width>0&&o.splashRange.height>0){var a,r,l,s,h,c,u,d,p=z.createRectangleCenter(new m(t.node.worldPosition.x,t.inLane.node.worldPosition.y),o.splashRange.width*_.SquareDisW,o.splashRange.height*_.SquareDisH),f=[],b=[];if(o.splashRange.height>9||t.ignoreDifferentLane)f=n?C.hypnoPool().concat():C.pool().concat(),b=n?[]:B.pool().concat();else if(f=n?t.inLane.hypnoZombiePool().concat():t.inLane.zombiePool().concat(),n||(b=t.inLane.tombPool().concat()),o.splashRange.height>1)if([null==(a=t.inLane)?void 0:a.UpperLane,null==(r=t.inLane)?void 0:r.LowerLane].forEach((function(e){e&&(f=f.concat(n?e.hypnoZombiePool().concat():e.zombiePool().concat()),b=b.concat(n?[]:e.tombPool().concat()))})),o.splashRange.height>3)if([null==(l=t.inLane)?void 0:l.UpperLane.UpperLane,null==(s=t.inLane)?void 0:s.LowerLane.LowerLane].forEach((function(e){e&&(f=f.concat(n?e.hypnoZombiePool().concat():e.zombiePool().concat()),b=b.concat(n?[]:e.tombPool().concat()))})),o.splashRange.height>5)if([null==(h=t.inLane)?void 0:h.UpperLane.UpperLane.UpperLane,null==(c=t.inLane)?void 0:c.LowerLane.LowerLane.LowerLane].forEach((function(e){e&&(f=f.concat(n?e.hypnoZombiePool().concat():e.zombiePool().concat()),b=b.concat(n?[]:e.tombPool().concat()))})),o.splashRange.height>7)[null==(u=t.inLane)?void 0:u.UpperLane.UpperLane.UpperLane.UpperLane,null==(d=t.inLane)?void 0:d.LowerLane.LowerLane.LowerLane.LowerLane].forEach((function(e){e&&(f=f.concat(n?e.hypnoZombiePool().concat():e.zombiePool().concat()),b=b.concat(n?[]:e.tombPool().concat()))}));var y=[];f.forEach((function(e){e&&-1==y.indexOf(e)&&p.judgeCrossRec(e.bodyRecReal)&&y.push(e)})),y.forEach((function(i){i&&i!=e&&t.dealDamageToTarget(i,!1,o)})),b.forEach((function(e){e&&e!=i&&o.splashDamage>0&&p.judgeCrossRec(e.bodyRec)&&e.dealDamage(o.splashDamage*(t.havePeaBuff?1.5:1)*t.damageScale)}))}}))}},r.rotate=function(){if(this.followRotation){var e=this.linearVelocity.clone(),i=this.node.scale.y;this.node.scale=new f(e.x>=0?i:-i,i,i);var t=Math.atan2(e.y+this.bodyLinearVelocity,e.x)/Math.PI*180;e.x<0&&(t+=180),this.node.angle=t}},r.hitFloor=function(e,i){void 0===i&&(i=!0),i&&this.dealSplashDamage(),this.specialOnGroundHit(this.inLnC)&&this.pop(),this.height=this.hitsFloorWhenRecHitInsteadOfHeightZero?this.size_.height/2:0},r.hitWater=function(){E.spawnWaterSplash(this.lIndex,new f(this._worldPositionX,this._worldPositionY,10)),this.fade()},r.hitSky=function(){this.linearVelocity=new m(0,0),this.acceleration=new m(0,0),this.deceleration=new m(0,0),this.gravity=0,this.fallInSky(!1),this.fade(!1)},r.hitSea=function(){this.defaultHitSea()},r.defaultHitSea=function(){this.linearVelocity=new m(0,0),this.acceleration=new m(0,0),this.deceleration=new m(0,0),E.spawnSeaSplash(this.inLane.LaneIndex,new f(this._worldPositionX,this._worldPositionY,10)),this.fade()},r.hitBorderOrGround=function(e){var i=this.hitsFloorWhenRecHitInsteadOfHeightZero?this.size_.height/2:0;if(!this.fallingInSky)if(this.worldPositionX<=0&&this.linearVelocity.x<=0||this.worldPositionX>=1200&&this.linearVelocity.x>=0||this.worldPositionY<=-100&&this.linearVelocity.y<=0||this.worldPositionY>=700&&this.linearVelocity.y>=0)this.fade();else if(this.height<=i){var t;this.height=i;var n=null==(t=this.inLnC)?void 0:t.getTileType();n==F.sky?this.hitSky():n==F.sea?this.hitSea():n==F.water?this.hitWater():this.hitFloor(e)}},r.specialOnGroundHit=function(e){return!0},r.setKnockBack=function(e){return this.knockbackDistance_=e,this},r.setDamage=function(e){return this.damage_=e,this},r.setDamageBowlingLevel=function(e){return this.damageBowlingLevel_=e,this},r.setStun=function(e){return this.stun_=e,this},r.setButter=function(e){return this.butter_=e,this},r.playPopSound=function(){x.playArray(this.PopSound,this.popSoundVolume,NaN,this.popSoundCDScale),this.screenShaker&&T.shakeScreen()},r.playParticle=function(){if(this.PopParticle.length){var e=g.instantiatePooly(w.getRandom(this.PopParticle));if(e.parent=this.node.parent,this.particleCorrectScale)if(this.followRotation)e.scale=new f(this.node.scale.x,Math.abs(this.node.scale.x),1);else{var i=this._scaleForCharacter,t=this.linearVelocity.x>0?1:-1;e.scale=new f(i*t,i,1)}var n=this.realWorldPosition;e.setWorldPosition(this.particleAtFoot?new f(this._worldPositionX,this._worldPositionY):new f(n.x,n.y))}},r.selfDisable=function(e){"die"==e.name&&(this.linearVelocity=new m(0,0),this.bodyLinearVelocity=0,this.gravity=0,g.destroyPooly(this.node))},r.characterOnLoad=function(){this.db.enableBatch=!0,this.db.on(b.EventObject.FRAME_EVENT,this.animationListener,this),this.db.on(b.EventObject.LOOP_COMPLETE,this.animationCompleteListener,this)},r.addPeaBuff=function(){this.havePeaBuff||this.peaBuff||(this.havePeaBuff=!0,this.peaBuff=g.instantiatePooly(E.prjPeaBuff()),this.peaBuff.parent=this.node)},r.initialize=function(){this.killedZombiesOneHit=[],this.ignoreDifferentLane=!1,this.judgeZombieBodyRecForShooter=!1,this.detectEnemyOn=!0,this.maxDistance_=this.maxDistance,this.switching=!1,this.size_=this.size,this.setKnockBack(this.knockbackDistance),this.setDamage(this.damage),this.setDamageBowlingLevel(this.damageBowlingLevel),this.setStun(this.stun),this.setButter(this.butter),this.setSplashDamages(this.splashDamages),this.poison_=this.poison,this.chill_=this.chill,this.freeze_=this.freeze,this._setBodyRec(new m,new m),this.dead=!1,this.parentLock=!1,this.tileLiquid_=this.tileLiquid,this.tileLiquidDuration_=this.tileLiquidDuration,-1!=this.db.armature().animation.animationNames.indexOf("Idle")&&this.db.playAnimation("Idle"),this.db.addEventListener(b.EventObject.FRAME_EVENT,this.selfDisable,this)},r.setLockParent=function(e){this.inLane&&this.inLane.deletePlantPrj(this),this.node.setParent(_.getLane(e).getComponent(R).prjLayer,!0);var i=_.getLane(e).getComponent(R);i.addPlantPrj(this),this.inLane=i,this.parentLock=!0},r.specialOnLaneChange=function(e,i){},r.characterOnLaneChange=function(e,i){this.parentLock||(this.node.setParent(i.prjLayer,!0),(null==e?void 0:e.LaneIndex)<(null==i?void 0:i.LaneIndex)&&this.node.setSiblingIndex(0),null==e||e.deletePlantPrj(this),null==i||i.addPlantPrj(this)),this.specialOnLaneChange(e,i)},r.characterOnEnable=function(){this.initialize()},r.characterOnDisable=function(){var e;this.targetLocked=null,null==(e=this.inLane)||e.deletePlantPrj(this),this.specialOnDisable()},r.fade=function(e){void 0===e&&(e=!0),this.dead=e,this._setBodyRec(new m,new m),this.targetLocked=null,this.linearVelocity=new m(0,0),this.bodyLinearVelocity=0,this.gravity=0,this.acceleration=new m,this.deceleration=new m,this.onFaded(),this.havePeaBuff&&this.peaBuff&&(this.havePeaBuff=!1,g.destroyPooly(this.peaBuff),this.peaBuff=null)},r.onFaded=function(){},r.dealZombiesPoint=function(){if(T.CannonMinigameProps){var e=this.killedZombiesOneHit.length,i=T.CannonMinigameProps.BaseZombieKillScore,t=NaN;T.CannonMinigameProps.ComboBrackets.forEach((function(i,n){e>=i.ZombiesKilled&&(t=n)}));var n=T.CannonMinigameProps.ComboBrackets[t];if(n){i*=n.ScoreMultiplier;var o=new y(n.MessageColor.mRed,n.MessageColor.mGreen,n.MessageColor.mBlue,n.MessageColor.mAlpha),a=e.toString()+O.getDirectQuote("[CANNON_COMBO_TAIL]"),r=O.getDirectQuote(w.getRandom(n.Exclamations));E.playPointShower(r,new m(this.worldPositionX,this.worldPositionY-20*Math.random()),new m(0,20*-Math.random()),new m(.4,1),new m(o.a,0),new m(.5+.5*Math.random(),1),o,!0),E.playPointShower(a,new m(this.worldPositionX,this.worldPositionY+50+30*Math.random()),new m(0,20*Math.random()),new m(.7,1.8),new m(o.a,0),new m(.5+.5*Math.random(),1),o,!0)}var l=(this.enemyType==v.plant?C.hypnoPool():C.pool()).concat(),s=T.CannonMinigameProps.SlowdownMovementRate*Math.random()/60;this.killedZombiesOneHit.forEach((function(e){var t,n,o=e.dropPoint(i);null==o||null==(t=o.node)||t.setSiblingIndex(0),null==(n=T.component)||n.addCannonPoint(i),l.forEach((function(i){i.spawnLane==e.spawnLane&&i.spawnedWave==e.spawnedWave&&i.stun(s)}))}))}},r.onPop=function(){},r.pop=function(){var e;this.plantHeatOnPop&&(null==(e=this.inLnC)||e.plantHeat(new V)),this.tileLiquid_>0&&this.tileLiquidDuration_>0&&this.inLnC.addTileLiquid(this.tileLiquid_,this.tileLiquidDuration_),this.playParticle(),this.playPopSound(),this.onPop(),this.dealZombiesPoint(),this.fade()},r.onDamageOnZombie=function(e,i){},r.dealDamageToTarget=function(e,i,t){void 0===i&&(i=!0),void 0===t&&(t=null);var n=null;if(this.particleAtFoot&&this.damage>=40?n=new m(e._worldPositionX-this._worldPositionX,e.zombieHeight).normalize().multiplyScalar(35):this.gravity>0&&this.damage>=40&&(n=new m(this.linearVelocity.x,this.bodyLinearVelocity)),t||(t=new Ri(this.damage_,new h,this.chill_,this.freeze_,this.butter_,this.poison_,this.stun_,this.knockbackDistance_)),i&&this.dealSplashDamage(e),e.knockBackable&&t.knockbackDistance&&e.knockBackBy(new m(t.knockbackDistance*(this.linearVelocity.x>0?1:-1),0),this.knockbackFly,.1,!1,!1),t.stunDuration&&e.stun(t.stunDuration),t.butterDuration>0&&e.setButter(t.butterDuration),this.carriedSporeShroom&&!e.ImmuneToSporeShroom&&(e.CarriedSporeShroom=!0),t.poison.isValid()&&e.setPoison(t.poison.DPS,t.poison.duration),t.chillDuration>0&&e.setChill(t.chillDuration),t.freezeDuration>0&&e.setFreeze(t.freezeDuration),t.splashDamage>0){var o=new S(t.splashDamage*this.damageScale*(this.havePeaBuff?1.5:1),this.armorProtection,this.armorKnockSound,this.bodyKnockSound,n,this.damageType,!0,!0);this.balloonKiller&&(o.balloonKiller=!0),this.damageBowlingLevel_>0?(e.dealDamageAccordingToBowlingLevel(this.damageBowlingLevel_,o),e.isAlive()||this.killedZombiesOneHit.push(e)):(e.dealDamage(o),e.isAlive()||this.killedZombiesOneHit.push(e))}this.onDamageOnZombie(e,i)},r.dealDamageToTargetPlant=function(e){var i=e.onCommonshotHit(this);return i&&(this.onPlantHit(e),e.dealDamage(this.damage_*this.damageScale,this.damageType==P.fire?3:this.bodyLinearVelocity<0?1:2,this.iceblockLevel)),i},r.onPlantHit=function(e){},r.onZombieHit=function(e){},r.onTombHit=function(e){},r.detectEnemyNormal=function(e){var i,t=this;if(this.inLane&&this.detectEnemyOn){null!=(i=this.targetLocked)&&null!=(i=i.getComponent(k))&&i.dead&&(this.targetLocked=null);var n=this.bodyRec();if(this.enemyType==v.zombie||this.enemyType==v.plant){var o,a,r,l=null,s=1/0,h=-1/0,c=this.enemyType==v.zombie?null==(o=this.inLane)?void 0:o.zombiePool():null==(a=this.inLane)?void 0:a.hypnoZombiePool();if(this.ignoreDifferentLane&&(c=this.enemyType==v.zombie?C.pool().concat():C.hypnoPool().concat()),null==(r=c)||r.forEach((function(e){var i;if(!t.targetLocked||(null==(i=l)?void 0:i.node)!=t.targetLocked){var o=t.judgeZombieBodyRecForShooter?e.bodyRecForShooter:e.bodyRec,a=o.prjX();t.targetLocked&&e.node!=t.targetLocked||null==o||!o.judgeCrossRec(n)||(!l||t.linearVelocity.x>=0&&a.x<s||t.linearVelocity.x<0&&a.y>h)&&(l=e,s=a.x,h=a.y)}})),l)l.commonShotPopOnTouch(this)&&(this.dealDamageToTarget(l),this.onZombieHit(l),this.pop());else if(this.enemyType==v.zombie){var u,d=null;null==(u=this.inLane)||u.tombPool().forEach((function(e){e.bodyRec.judgeCrossRec(n)&&(!t.targetLocked||t.targetLocked&&e.node==t.targetLocked)&&(d=e)})),d&&(d.dealDamage(this.damage_*this.damageScale*(this.havePeaBuff?1.5:1)),this.onTombHit(d),this.dealSplashDamage(null,d),this.pop())}}this.enemyType==v.plant&&this.detectPlant(e,n)}},r.detectPlant=function(e,i){var t,n=this;null==(t=this.inLane)||t.plantPool().forEach((function(e){if(!n.dead){var t=n.iceblockLevel>0?e.bodyRecForSnowball:e.realBodyRec;if((e.eaterDetectable||n.detectsEaterDetectDisabledPlants)&&i.judgeCrossRec(t)&&(!n.targetLocked||n.targetLocked&&e.node==n.targetLocked))n.dealDamageToTargetPlant(e)&&n.pop()}}))},r.detectEnemy=function(e){this.detectEnemyNormal(e)},r.onLinearVelocitySet=function(e){},r.specialPopWhenStatic=function(){return!1},r.move=function(e){if(!this.popWhenStatic&&!this.specialPopWhenStatic()||0!=this.linearVelocity.x||0!=this.linearVelocity.y||0!=this.gravity||0!=this.bodyLinearVelocity){var i=this.realWorldPosition.clone(),t=.55*e*60,n=.55*e*60,o=this.shadeWorldPosition,a=this.height,r=this.linearVelocity;this.worldPosition=new m(o.x+r.x*t,o.y+r.y*t);var l=a+this.bodyLinearVelocity*t;this.height=this.canDiveUnderHeight0?l:Math.max(l,this.hitsFloorWhenRecHitInsteadOfHeightZero?this.size_.height/2:0);var s=this.bodyLinearVelocity;if(this.bodyLinearVelocity-=this.gravity*n,this.bodyLinearVelocity*s<=0&&this.flyHorizontalWhenBV0&&(this.bodyLinearVelocity=0,this.gravity=0),0!=this.acceleration.x||0!=this.acceleration.y){var h=this.linearVelocity.clone().add(this.acceleration.clone().multiplyScalar(60*e));Math.abs(h.x)<Math.abs(this.linearVelocity.x)&&(h.x=this.linearVelocity.x),Math.abs(h.y)<Math.abs(this.linearVelocity.y)&&(h.y=this.linearVelocity.y),this.linearVelocity=h}if(0!=this.deceleration.x||0!=this.deceleration.y){var c=this.linearVelocity.clone().add(this.deceleration.clone().multiplyScalar(60*e));c.x*this.linearVelocity.x<=0?c.x=0:Math.abs(c.x)>Math.abs(this.linearVelocity.x)&&(c.x=this.linearVelocity.x),c.y*this.linearVelocity.y<=0?c.y=0:Math.abs(c.y)>Math.abs(this.linearVelocity.y)&&(c.y=this.linearVelocity.y),this.linearVelocity=c}var u=this.realWorldPosition.clone();this._setBodyRec(i,u),this.onMoving(i,u),this.oldPos=u}else this.pop()},r.onMoving=function(e,i){},r.specialUpdate=function(e){},r.characterUpdate=function(e){this.dead||this.fallingInSky||(this.rotate(),this.switching||this.move(e),this.detectEnemy(e),this.hitBorderOrGround(e),this.specialUpdate(e)),this.dealOmega(e)},r.dealOmega=function(e){this.bodyOmega&&(this.node.angle+=60*this.bodyOmega*e)},r.characterLateUpdate=function(){var e;this.dead&&(null==(e=this.inLane)||e.deletePlantPrj(this),g.destroyPooly(this.node))},a(i,[{key:"linearVelocity",get:function(){return this._linearVelocity},set:function(e){this._linearVelocity=e,this.onLinearVelocitySet(e)}}]),i}(L)).prototype,"showCommonShotFeaturesInEditor",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ke=i(Ae.prototype,"particleAtFoot",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ne=i(Ae.prototype,"canBeYellowIgnited",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xe=i(Ae.prototype,"canBeBlueIgnited",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ye=i(Ae.prototype,"yellowIgnited",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=i(Ae.prototype,"blueIgnited",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=i(Ae.prototype,"armorKnockSound",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qe=i(Ae.prototype,"bodyKnockSound",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$e=i(Ae.prototype,"armorProtection",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ei=i(Ae.prototype,"onFire",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ii=i(Ae.prototype,"damageScale",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ti=i(Ae.prototype,"carriedSporeShroom",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ni=i(Ae.prototype,"size",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h(12,12)}}),oi=i(Ae.prototype,"splashDamages",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ai=i(Ae.prototype,"tileLiquid",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.none}}),ri=i(Ae.prototype,"tileLiquidDuration",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),li=i(Ae.prototype,"damageType",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.physicle}}),si=i(Ae.prototype,"poison",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new D(0,0)}}),hi=i(Ae.prototype,"chill",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ci=i(Ae.prototype,"freeze",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ui=i(Ae.prototype,"followRotation",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),di=i(Ae.prototype,"screenShaker",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pi=i(Ae.prototype,"balloonKiller",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fi=i(Ae.prototype,"knockbackDistance",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),mi=i(Ae.prototype,"knockbackFly",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),bi=i(Ae.prototype,"projectileType",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fi.pea}}),yi=i(Ae.prototype,"PopSound",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gi=i(Ae.prototype,"PopParticle",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wi=i(Ae.prototype,"damage",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),vi=i(Ae.prototype,"damageBowlingLevel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Li=i(Ae.prototype,"stun",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Di=i(Ae.prototype,"butter",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Pi=i(Ae.prototype,"popSoundVolume",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Si=i(Ae.prototype,"popSoundCDScale",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.4}}),ki=i(Ae.prototype,"particleCorrectScale",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_i=i(Ae.prototype,"iceblockLevel",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zi=i(Ae.prototype,"canbeJesterReversed",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ci=i(Ae.prototype,"plantHeatOnPop",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bi=i(Ae.prototype,"detectsEaterDetectDisabledPlants",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),We=Ae))||We));r._RF.pop()}}}));

System.register("chunks:///_virtual/Conveyor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts","./SoundsController.ts","./Plants.ts","./CharacterManager.ts","./CardFeatureTotal.ts","./NodePools.ts","./Droppings.ts","./cardSelectAlmanac.ts","./UI.ts","./levelController.ts"],(function(t){var e,n,o,i,a,r,s,l,c,d,u,h,p,f,y,v,C,g,w,m,P,S,M,V,b,D,E,x,_,O,T,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty,o=t.inheritsLoose,i=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.Node,c=t.dragonBones,d=t.Vec3,u=t.AudioClip,h=t.assetManager,p=t.tween,f=t.input,y=t.Input,v=t.AudioSource,C=t.EventMouse,g=t.KeyCode,w=t.Vec2,m=t.Component},function(t){P=t.sounds},function(t){S=t.SoundFXController},function(t){M=t.PlantEnum,V=t.plants},function(t){b=t.PlantPool},function(t){D=t.CardFeatureTotal},function(t){E=t.destroyPooly,x=t.NodePools},function(t){_=t.droppings},function(t){O=t.cardSelectAlmanac},function(t){T=t.UIInGame},function(t){L=t.LevelPlay}],execute:function(){var k,I,F,K,W,z,A,U,B,N,R,Y,X,G,Z,q,H,j,Q,J,$,tt,et,nt,ot,it,at,rt,st,lt,ct;r._RF.push({},"0294doUe4ZF+59/PPrQglV6","Conveyor",void 0);var dt=s.ccclass,ut=s.property,ht=(t("ConveyorDropDelayCondition",(function(){this.Delay=0,this.MaxPackets=100})),t("ConveyorPlant",(function(){this.MaxCount=1/0,this.MaxWeightFactor=1,this.MinCount=-1,this.MinWeightFactor=1,this.PlantType=M.Peashooter,this.Weight=15,this.ForceBoosted=!1,this.MaxCountCooldownSeconds=0,this._MaxCountCooldownLeftSeconds=0,this.MinCountCooldownSeconds=0,this._MinCountCooldownLeftSeconds=0})),t("ConveyorSpeedCondition",(function(){this.MaxPackets=0,this.Speed=100})),k=dt("Slot In Conveyor"),I=ut(l),k((W=e((K=function(){this.card=null,n(this,"slot",W,this)}).prototype,"slot",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=K))||F);t("Conveyor",(z=dt("Conveyor"),A=ut(c.ArmatureDisplay),U=ut(c.ArmatureDisplay),B=ut(c.ArmatureDisplay),N=ut(ht),R=ut(ht),Y=ut(ht),X=ut(l),G=ut(l),Z=ut(l),q=ut(l),H=ut(l),z(((ct=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this).dropDelayConditions=[],e.dropCountdown=0,e.plantList=[],e.speedConditions=[],n(e,"conveyor1",J,i(e)),n(e,"conveyor2",$,i(e)),n(e,"conveyorVert",tt,i(e)),n(e,"lane1slots",et,i(e)),n(e,"lane2slots",nt,i(e)),n(e,"laneVertslots",ot,i(e)),n(e,"lane1",it,i(e)),n(e,"lane2",at,i(e)),n(e,"laneVert",rt,i(e)),n(e,"cards",st,i(e)),n(e,"cardsVert",lt,i(e)),e.shown=!1,e.audioSource=null,e.oldPos=new d,e.willKeychooseCard=void 0,e}o(e,t),e.createConveyor=function(){};var r=e.prototype;return r.show=function(){var t,e=this;this.shown||(P.playConveyorArrive(),null!=(t=this.audioSource)&&t.clip&&this.audioSource.clip.loadMode!=u.AudioType.DOM_AUDIO&&h.loadRemote(this.audioSource.clip.nativeUrl,{audioLoadMode:u.AudioType.DOM_AUDIO},(function(t,n){n&&(e.audioSource.clip=n,e.audioSource.play())})),this.shown=!0,p(this.node).to(.4,{position:this.oldPos},{easing:"quadOut"}).start())},r.hide=function(){this.shown&&(this.audioSource.stop(),this.shown=!1,p(this.node).by(.4,{position:new d(this.isVertical?-1e3:0,this.isVertical?0:1e3,0)},{easing:"quadIn"}).start())},r.start=function(){f.on(y.EventType.KEY_DOWN,this.onKeyDown,this)},r.addCard=function(t){this.plantList.push(t)},r.removeCard=function(t){var e=this;this.plantList.concat().forEach((function(n){if(n.PlantType==t){var o=e.plantList.indexOf(n);-1!=o&&e.plantList.splice(o,1)}}))},r.onLoad=function(){this.dropCountdown=0,this.audioSource=this.getComponent(v),this.shown=!1,e.component=this,this.node.position=this.isVertical?new d(-237,-315,0):new d(0,0,0),this.oldPos=this.node.position.clone(),this.isVertical?(this.conveyor1.node.active=this.conveyor2.node.active=!1,this.conveyorVert.node.active=!0,this.lane1.parent.active=this.lane2.parent.active=!1,this.laneVert.parent.active=!0,this.cards.active=!1,this.cardsVert.active=!0):(this.conveyor1.node.active=this.conveyor2.node.active=!0,this.conveyorVert.node.active=!1,this.lane1.parent.active=this.lane2.parent.active=!0,this.laneVert.parent.active=!1,this.cards.active=!0,this.cardsVert.active=!1),this.node.position.add3f(this.isVertical?-1e3:0,this.isVertical?0:1e3,0)},r.spliceCard=function(t){var e=this;if(null!=t){var n=!1;if(this.lane1slots.forEach((function(o){n||t==o.card&&(o.card.node.off(l.EventType.MOUSE_DOWN,e.cardMouseDown,e),E(o.card.node),o.card=null,n=!0)})),this.lane2slots.forEach((function(o){n||t==o.card&&(o.card.node.off(l.EventType.MOUSE_DOWN,e.cardMouseDown,e),E(o.card.node),o.card=null,n=!0)})),this.laneVertslots.forEach((function(o){n||t==o.card&&(o.card.node.off(l.EventType.MOUSE_DOWN,e.cardMouseDown,e),E(o.card.node),o.card=null,n=!0)})),n){L.component.conveyorOnPlantSpliced(this,t.ID);for(var o=0;o<this.lane1slots.length-1;o++)!this.lane1slots[o].card&&this.lane1slots[o+1].card&&(this.lane1slots[o].card=this.lane1slots[o+1].card,this.lane1slots[o+1].card=null);for(var i=0;i<this.lane2slots.length-1;i++)!this.lane2slots[i].card&&this.lane2slots[i+1].card&&(this.lane2slots[i].card=this.lane2slots[i+1].card,this.lane2slots[i+1].card=null);for(var a=0;a<this.laneVertslots.length-1;a++)!this.laneVertslots[a].card&&this.laneVertslots[a+1].card&&(this.laneVertslots[a].card=this.laneVertslots[a+1].card,this.laneVertslots[a+1].card=null);this.dropCountdown=Math.min(this.dropCountdown,this.getDelay()),this.willKeychooseCard=null}}},r.getCards=function(){var t=[];return this.isVertical?this.laneVertslots.forEach((function(e){e.card&&t.push(e.card)})):this.lane1slots.concat(this.lane2slots).forEach((function(e){e.card&&t.push(e.card)})),t},r.chooseCard=function(t,e){T.uiingame.currentFreeSeedPacket!=t?(T.uiingame.currentFreeSeedPacket&&(T.uiingame.currentFreeSeedPacket.getComponent(O).index=0),T.uiingame.index=-1,T.uiingame.tryChangingIndex(-1),T.uiingame.currentFreeSeedPacket=t,e.index=1,T.uiingame.tryChangingIndex(8),this.willKeychooseCard=t):(T.uiingame.index=-1,T.uiingame.tryChangingIndex(-1))},r.sendPlant=function(t,e,n){if(null!=t){var o=this.lane2slots,i=this.lane2;this.isVertical?(o=this.laneVertslots,i=this.laneVert):1==e&&(o=this.lane1slots,i=this.lane1);for(var a=null,r=0;r<o.length;r++)if(null==o[r].card){a=o[r];break}if(!a)return;var s=x.instantiatePooly(_.PlantSeedPacket);s.parent=this.isVertical?this.cardsVert:this.cards,s.worldPosition=i.worldPosition;var c=s.getComponent(D);c.BOOSTED=n,c.cardGrouper(t);var d=c.getComponent(O);d.free=!0,d.suncostShown=!1,a.card=c,s.on(l.EventType.MOUSE_DOWN,this.cardMouseDown,this)}},r.cardMouseDown=function(t){if(t.getButton()==C.BUTTON_LEFT){var e=t.currentTarget.getComponent(O),n=e.getComponent(D);this.chooseCard(n,e)}else t.getButton()==C.BUTTON_RIGHT&&T.uiingame.tryChangingIndex(-1)},r.getRandomPlantByWeight=function(t,e){var n=this,o=null,i=[],a=0,r=b.pool().concat(),s=this.plantList.concat();this.plantList.forEach((function(t){var e=n.getPlantWeight(t,r);a+=e,i.push(a)}));for(var l=Math.random()*a,c=0;c<i.length;c++)if(l<i[c]){var d,u;o=null==(d=s[c])?void 0:d.PlantType,s[c]._MaxCountCooldownLeftSeconds=s[c].MaxCountCooldownSeconds,s[c]._MinCountCooldownLeftSeconds=s[c].MinCountCooldownSeconds,this.sendPlant(o,t<=e?1:2,null==(u=s[c])?void 0:u.ForceBoosted),this.dropCountdown=this.getDelay();break}null==o&&(this.dropCountdown=0)},r.getPlantWeight=function(t,e){if(t){var n=V.registerPlant(t.PlantType,0).amount;n<t.MaxCount&&this.lane1slots.concat(this.lane2slots,this.laneVertslots).forEach((function(e){var o;(null==e||null==(o=e.card)?void 0:o.ID)==t.PlantType&&n++}));var o=t.Weight+0;return n>=t.MaxCount&&(t._MaxCountCooldownLeftSeconds>0?o=0:o*=t.MaxWeightFactor),n<=t.MinCount&&(t._MinCountCooldownLeftSeconds>0?o=0:o*=t.MinWeightFactor),o}},r.getDelay=function(){var t,e=0;this.lane1slots.concat(this.lane2slots,this.laneVertslots).forEach((function(t){t.card&&e++}));var n=1/0,o=1/0,i=null==(t=this.dropDelayConditions)?void 0:t.concat();i||(i=[]);for(var a=0;a<i.length;a++)e<=i[a].MaxPackets&&n>i[a].MaxPackets&&(o=i[a].Delay,n=i[a].MaxPackets);return o},r.getSpeed=function(){if(!L.gameStarted||L.component.gameWon)return 0;var t=0;this.lane1slots.concat(this.lane2slots,this.laneVertslots).forEach((function(e){e.card&&t++}));var e=100;return this.speedConditions.forEach((function(n){t>n.MaxPackets&&0<=n.MaxPackets&&(e=n.Speed)})),e},r.onKeyDown=function(t){if(this.shown&&(t.keyCode==g.KEY_Z||t.keyCode==g.KEY_X)){var e=this.getCards();if(0==e.length)return;if(8!=T.index)this.willKeychooseCard?this.chooseCard(this.willKeychooseCard,this.willKeychooseCard.getComponent(O)):this.chooseCard(e[0],e[0].getComponent(O));else if(this.willKeychooseCard){var n=e.indexOf(this.willKeychooseCard);t.keyCode==g.KEY_Z?n--:t.keyCode==g.KEY_X&&n++,n<0?n=e.length-1:n%=e.length,this.chooseCard(e[n],e[n].getComponent(O))}}},r.sendOnePlantImmediately=function(){var t=0;this.lane1slots.forEach((function(e){e.card&&t++}));var e=0;this.lane2slots.forEach((function(t){t.card&&e++})),this.dropCountdown=1/0,this.getRandomPlantByWeight(t,e)},r.update=function(t){var e=this.getSpeed();if(this.audioSource.volume=.05*S.SoundFXVolume*e/100,!this.shown)return this.conveyor1.timeScale=0,this.conveyor2.timeScale=0,void(this.conveyorVert.timeScale=0);e>0&&!L.component.isCowboyMinigame&&(this.dropCountdown>0&&(this.dropCountdown-=t),this.shown&&this.dropCountdown<=0&&this.sendOnePlantImmediately()),this.conveyor1.timeScale=e/110,this.conveyor2.timeScale=e/110,this.conveyorVert.timeScale=e/110,e>0&&this.lane1slots.concat(this.lane2slots,this.laneVertslots).forEach((function(n){if(null!=n.card){var o=n.card.node.worldPosition.clone(),i=new w(n.slot.worldPosition.x-o.x,n.slot.worldPosition.y-o.y),a=t*e/1.85;i.length()>a?n.card.node.worldPosition=o.add(i.toVec3().normalize().multiplyScalar(a)):n.card.node.worldPosition=n.slot.worldPosition.clone()}})),this.plantList.forEach((function(e){e._MaxCountCooldownLeftSeconds-=t,e._MinCountCooldownLeftSeconds-=t}))},a(e,[{key:"isVertical",get:function(){return T.PocketUI}}]),e}(m)).component=void 0,J=e((Q=ct).prototype,"conveyor1",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(Q.prototype,"conveyor2",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(Q.prototype,"conveyorVert",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(Q.prototype,"lane1slots",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nt=e(Q.prototype,"lane2slots",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ot=e(Q.prototype,"laneVertslots",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),it=e(Q.prototype,"lane1",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(Q.prototype,"lane2",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(Q.prototype,"laneVert",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(Q.prototype,"cards",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(Q.prototype,"cardsVert",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=Q))||j));r._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundManager.ts","./NodePools.ts"],(function(n){var t,i,e,a,o,r,s,h,c,l,p,u,d,g,b;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,a=n.assertThisInitialized,o=n.createClass},function(n){r=n.cclegacy,s=n._decorator,h=n.Prefab,c=n.CCFloat,l=n.Vec3,p=n.dragonBones},function(n){u=n.Zombie,d=n.ZombieProps},function(n){g=n.SoundManager},function(n){b=n.ArrayGet}],execute:function(){var w,f,y,m,H,v,D;r._RF.push({},"05629xIOKpOB4rSKMfv4RIu","CowboyBasicZombie",void 0);var L=s.ccclass,C=s.property,S=function(n){function t(){for(var t,i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return(t=n.call.apply(n,[this].concat(e))||this).DanceSPSScale=1.2,t}return i(t,n),t}(d);n("CowboyBasicZombie",(w=L("CowboyBasicZombie"),f=C(h),y=C(c),w((v=t((H=function(n){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(t=n.call.apply(n,[this].concat(o))||this)._objdataOwn=new S,t._objdataOwnOrg=new S,e(t,"zombieHat",v,a(t)),e(t,"dropHatHitPoint",D,a(t)),t._dancing=!1,t._haveHat=!0,t.oldPianoCountUp=0,t.laneChangeCD=7,t}i(t,n);var r=t.prototype;return r.walkSpeedScaleExtra=function(){return this._dancing?this._objdataOwnOrg.DanceSPSScale:1},r.specialZombieOnLoad=function(){},r.onArmorAdded=function(n){this.haveHat=!1},r.playSpecialZombieDieForced=function(){this.haveHat&&this.dropHat()},r.specialAlmanac=function(n){this.armors.length<=0?this.haveHat=!0:this.haveHat=!1},r.specialZombieOnEnable=function(){this.walking=!1,this.cowboyDancing=!1,this.detectPlant(.01),this.armors.length<=0?this.haveHat=!0:this.haveHat=!1},r.dropHat=function(){var n;null==(n=this.drop(this.zombieHat,this.zombieHeight,new l(this.shadeSocket.worldPosition.x,this._worldPositionY,0),null,this.inLane.zombieLayer).node)||n.setSiblingIndex(this.node.getSiblingIndex()-1),this.haveHat=!1},r.onDamaged=function(n,t,i){this.haveHat&&n>this.dropHatHitPoint&&t<=this.dropHatHitPoint&&this.dropHat()},r.switchUpperOrLower=function(){var n=this.inLane,t=[];(!n.UpperLane.isSea||this.cIndex<5)&&n.UpperLane.LaneIndex>=0&&t.push(n.UpperLane.LaneIndex),(!n.LowerLane.isSea||this.cIndex<5)&&n.LowerLane.LaneIndex<=4&&t.push(n.LowerLane.LaneIndex),t.length&&this.changeLaneTo(b.getRandom(t),.75)},r.specialZombieUpdate=function(n,t,i){if(this.cowboyDancing&&(g.component.pianoCountDown<=0||!this.enteredLawn||this.hypno)?this.cowboyDancing=!1:!this.cowboyDancing&&g.component.pianoCountDown>0&&this.enteredLawn&&!this.hypno&&(this.cowboyDancing=!0),this.cowboyDancing&&n>0){var e=g.component.pianoCountUp,a=Math.floor(this.oldPianoCountUp/this.laneChangeCD);Math.floor(e/this.laneChangeCD)!=a&&this.switchUpperOrLower(),this.oldPianoCountUp=g.component.pianoCountUp}},o(t,[{key:"haveHat",get:function(){return this._haveHat},set:function(n){var t;this.db||(this.db=this.getComponentInChildren(p.ArmatureDisplay)),null==this||null==(t=this.db)||null==(t=t._armature)||null==(t=t.getSlot("hat_HEAD"))||t._setDisplayIndex(n?0:-1),this._haveHat=n}},{key:"anmSpeed",get:function(){return.32*(this._dancing?.9:1)}},{key:"cowboyDancing",get:function(){return this._dancing},set:function(n){this.body.WalkAnm=n?"Dance":"Walk",this.walking&&(this.switching=!0,n&&!this._dancing?(this.walking=!1,this.body.playAnimation("DanceStart",1)):!n&&this._dancing&&(this.walking=!1,this.body.playAnimation("DanceEnd",1))),this._dancing=n}}]),t}(u)).prototype,"zombieHat",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(H.prototype,"dropHatHitPoint",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 150}}),m=H))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyBullZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./GargantuarZombie.ts","./Zombies.ts","./SoundRescourses.ts","./Square.ts","./levelController.ts","./MechZombie.ts"],(function(t){var e,i,n,o,s,a,h,r,l,u,c,p,d,m,b,y,f,g,S,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,h=t._decorator,r=t.Node,l=t.AudioClip,u=t.Vec2},function(t){c=t.zombieDamageType,p=t.ZombieDamageDetails},function(t){d=t.ArrayGet},function(t){m=t.gargantuar},function(t){b=t.ZombieEnum},function(t){y=t.sounds},function(t){f=t.Square},function(t){g=t.LevelPlay},function(t){S=t.MechZombie,w=t.MechZombieProps}],execute:function(){var R,k,D,v,P,B,O,I,L,j,C,A,T,_,z,E,Z,x,M,W,X,q,F,N,Y,G,H,J,U;a._RF.push({},"fea8fAFgvNJ1Y47qh0sh1fb","CowboyBullZombie",void 0);var V=h.ccclass,K=h.property,Q=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).BullRammingDamage=2e3,e.BullRunAgainDelay=1/0,e.RushSPS=1,e.ImpThrowDistance=4,e}return i(e,t),e}(w);t("CowboyBullZombie",(R=V("CowboyBullZombie"),k=K(r),D=K([l]),v=K([l]),P=K([l]),B=K([l]),O=K([l]),I=K([l]),L=K([l]),j=K([l]),C=K([l]),A=K([l]),T=K([l]),_=K(Boolean),R((Z=e((E=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))||this).blocked=!1,e.rushing=!1,e.impSlots=[],e.bp1Slots=[],e.bp2Slots=[],e._haveImp=!1,e.retreating=!1,e._objdataOwnOrg=new Q,e._objdataOwn=new Q,e.rushLeftTime=2,n(e,"impThrowPoint",Z,o(e)),n(e,"stepSounds",x,o(e)),n(e,"deathSounds",M,o(e)),n(e,"bullBrakeSounds",W,o(e)),n(e,"brakeSounds",X,o(e)),n(e,"impBrakeSounds",q,o(e)),n(e,"bullThrowSounds",F,o(e)),n(e,"impThrowSounds",N,o(e)),n(e,"impSteadySounds",Y,o(e)),n(e,"angrySounds",G,o(e)),n(e,"impCheerSounds",H,o(e)),n(e,"smashSounds",J,o(e)),n(e,"isBlackBull",U,o(e)),e.potatoMineDisappear=!1,e}i(e,t);var a=e.prototype;return a.detectPlant=function(t){var e=this;void 0===t&&(t=.01),this.detectPlantOn()&&(this.inLane?this.rushing?this.hypno?(this.inLane.zombiePool().forEach((function(t){e.blocked||t.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(e.blocked=!0,e.switching=!0)})),this.inLane.tombPool().forEach((function(t){e.blocked||t.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(e.blocked=!0,e.switching=!0)}))):(this.inLane.plantPool().forEach((function(t){e.blocked||t.eaterDetectable&&t.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(e.blocked=!0,e.switching=!0)})),this.inLane.hypnoZombiePool().forEach((function(t){e.blocked||t.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(e.blocked=!0,e.switching=!0)}))):this.defaultDetectPlant(t):this.playWalk())},a.willTrampleFlower=function(){return!this.blocked},a.onDamaged=function(t,e,i){e<=0&&i.damageType==c.electricity&&(this.body.DeathAnm="Shock",y.playZombieShock(),this.haveImp=!1),e<=this.toughness/3?(this.bp1Slots.forEach((function(t){t._setDisplayIndex(-1)})),this.bp2Slots.forEach((function(t){t._setDisplayIndex(0)}))):e<=2*this.toughness/3&&e>this.toughness/3?(this.bp1Slots.forEach((function(t){t._setDisplayIndex(0)})),this.bp2Slots.forEach((function(t){t._setDisplayIndex(-1)}))):(this.bp1Slots.forEach((function(t){t._setDisplayIndex(-1)})),this.bp2Slots.forEach((function(t){t._setDisplayIndex(-1)})))},a.animationOnLPComplete=function(){this.isAlive()&&(this.blocked?this.rushing?(this.switching=!0,this.rushing=!1,this.body.playAnimation("RushEnd"),this.body.WalkAnm="Walk",this.retreating=!0):(this.blocked=!1,this.switching=!1,this.isAlive()&&(this.walking=!1,this.detectPlant(.01),this.isBlackBull&&(this.rushLeftTime=this.objdataOwn.BullRunAgainDelay))):this.rushing&&this.isAlive()&&"Rush"!=this.body.currentAnimationName&&!g.component.gameOver&&(this.walking=!1,this.playWalk(),this.detectPlant(.01)))},a.specialMechZombieOnLoad=function(){var t=this;this.schedule((function(){t.rushing&&t.walking&&t.haveImp&&t.playOneShot(d.getRandom(t.impCheerSounds),1,!1)}),3,1/0,3),this.body.body.armature().getSlots().forEach((function(e){e.name.includes("_bp1")?t.bp1Slots.push(e):e.name.includes("_bp2")?t.bp2Slots.push(e):e.name.includes("_IMP")&&t.impSlots.push(e)}))},a.bullInitialize=function(){this.blocked=!1,this.rushing=!1,this.body.WalkAnm="Walk",this.walking=!1,this.body.DeathAnm="Death"},a.specialMechOnEnable=function(){this.haveImp=!0,this.rushLeftTime=this.objdataOwn.BullRunAgainDelay,this.onDamaged(this.toughness,this.toughness,new p),this.bullInitialize(),this.detectPlant(.01),this.retreating=!1},a.rushStart=function(){this.walking=!1,this.switching=!0,this.rushing=!0,this.body.playAnimation("RushStart",1,.1),this.body.WalkAnm="Rush",this.playOneShot(d.getRandom(this.angrySounds),1,!0),this.haveImp&&this.playOneShot(d.getRandom(this.impSteadySounds),1,!0)},a.specialMechUpdate=function(t){this.enteredLawn&&this.walking&&this.rushLeftTime>0&&(this.rushLeftTime-=t,this.rushLeftTime<=0&&this.rushStart())},a.throwImp=function(){if(this.haveImp){this.haveImp=!1;var t=m.throwOneImpByLnC(b.cowboy_imp,this.inLane,new u(this.impThrowPoint.worldPosition.x,this._worldPositionY),new u(this.objdataOwn.ImpThrowDistance*(this.reversed?1:-1),0),this.impThrowPoint.worldPosition.y-this._worldPositionY,100,.7);t.body.playAnimation("FlyHorizontal"),t.tallNutBlock=!0,t.reversed=this.reversed,t.hypno=this.hypno}},a.empStun=function(t){void 0===t&&(t=10),this.empCD<=0&&t>0&&(this.walking=!1,this.switching=!0,this.body.playAnimation("StunStart",1/0,.2),(this.haveImp||this.isBlackBull)&&(this.rushLeftTime=this.objdataOwn.BullRunAgainDelay),this.bullInitialize()),this.empCD=this.empCD<t?t:this.empCD},a.onTeleportStart=function(t){void 0===t&&(t=this.worldPositionX),this.worldPositionX=this.reversed?f.getLnC(0,0).node.worldPosition.x-2*f.SquareDisW:f.getLnC(0,8).node.worldPosition.x+2*f.SquareDisW},a.specialMechAnimationListener=function(t){var e=this;if("step"==t.name)this.playOneShot(d.getRandom(this.stepSounds),this.rushing?1.5:1,!1,.1);else if("deathSound"==t.name)this.playOneShot(d.getRandom(this.deathSounds),1.5,!0);else if("rushStart"==t.name)this.walking=!0,this.switching=!1;else if("rushEnd"==t.name)this.walking=!1,this.retreating=!1,this.playOneShot(d.getRandom(this.bullBrakeSounds),1,!0),this.haveImp&&this.playOneShot(d.getRandom(this.impBrakeSounds),1,!0);else if("throw"==t.name)this.haveImp&&this.playOneShot(d.getRandom(this.impThrowSounds),1,!0),this.throwImp(),this.playOneShot(d.getRandom(this.bullThrowSounds),1,!0);else if("impSteady"==t.name)this.haveImp&&this.playOneShot(d.getRandom(this.impSteadySounds),1,!0);else if("brakeSound"==t.name)this.playOneShot(d.getRandom(this.brakeSounds),1,!0);else if("smash"==t.name){if(!this.isBlackBull)return;var i=-1/0,n=null,o=null,s=null;if(this.hypno){var a=1/0;this.inLane.zombiePool().forEach((function(t){var i=t.bodyRec.prjX().x;i<a&&t.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(o=t,a=i)})),a=1/0,this.inLane.tombPool().forEach((function(t){var i=t.bodyRec.prjX().x;i<a&&t.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(s=t,a=i)}))}else this.inLane.plantPool().forEach((function(t){t.eaterDetectable&&t.bodyRec.judgeCrossRec(e.plantDetectorRec)&&t.bodyRec.prjX().y>i&&(n=t,i=t.bodyRec.prjX().y)})),i=-1/0,this.inLane.hypnoZombiePool().forEach((function(t){var n=t.bodyRec.prjX().y;n>i&&t.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(o=t,i=n)}));o?(o.dealDamage(new p(this.objdataOwn.BullRammingDamage,!0,!0,!0,new u(15*(this.reversed?1:-1),0))),this.playOneShot(d.getRandom(this.smashSounds),1,!0)):s?(s.dealDamage(1200),this.playOneShot(d.getRandom(this.smashSounds),1,!0)):n&&(n.smash(this,!1),this.playOneShot(d.getRandom(this.smashSounds),1,!0))}else"playDeath"==t.name&&(this.body.DeathAnm="Death",this.body.playAnimation("Death",1))},a.playSpecialMechDie=function(t){this.judgeDeath(.2)},s(e,[{key:"haveImp",get:function(){return this._haveImp},set:function(t){this.impSlots.forEach((function(e){e._setDisplayIndex(t?0:-1)})),this._haveImp=t}},{key:"squarePerSec",get:function(){return this.rushing?this.objdataOwn.RushSPS:this.retreating?-1.25:this.objdataOwn.WalkSPS}},{key:"anmSpeed",get:function(){return this.rushing?this.isBlackBull?2.2:1.6:this.retreating?.8*-(this.isBlackBull?2.2:1.6):.22}},{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(S)).prototype,"impThrowPoint",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(E.prototype,"stepSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=e(E.prototype,"deathSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=e(E.prototype,"bullBrakeSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=e(E.prototype,"brakeSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=e(E.prototype,"impBrakeSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=e(E.prototype,"bullThrowSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=e(E.prototype,"impThrowSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=e(E.prototype,"impSteadySounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=e(E.prototype,"angrySounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=e(E.prototype,"impCheerSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=e(E.prototype,"smashSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=e(E.prototype,"isBlackBull",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=E))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyChickenFarmerZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Zombies.ts","./SoundRescourses.ts","./levelController.ts","./NodePools.ts","./Square.ts","./ZombieAshParticle.ts"],(function(i){var n,e,t,h,c,o,a,s,r,l,u,k,d,p,b,C,m,f,g,v;return{setters:[function(i){n=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,h=i.assertThisInitialized,c=i.createClass},function(i){o=i.cclegacy,a=i._decorator,s=i.AudioClip,r=i.Prefab,l=i.Vec3},function(i){u=i.Zombie,k=i.ZombieProps},function(i){d=i.ZombieEnum,p=i.zombies},function(i){b=i.sounds},function(i){C=i.LevelPlay},function(i){m=i.ArrayGet,f=i.instantiatePooly},function(i){g=i.Square},function(i){v=i.ZombieAshParticle}],execute:function(){var y,w,_,P,A,D,Z;o._RF.push({},"07616Qi3RtJuZypEQbqdFdj","CowboyChickenFarmerZombie",void 0);var I=a.ccclass,S=a.property,O=i("ChickenThrower",function(){function i(i,n,e,t,h,c,o){this.chickeningInterval=.2,this.chickeningIntervalVariance=.1,this.chickeningCD=0,this.chickeningLeftTime=2,this.reversed=!1,this.hypno=!1,this.x=500,this.lanes=[],this.zombie=d.cowboy_chicken,this.chickeningLeftTime=n+(1-2*Math.random())*e,this.chickeningInterval=t,this.chickeningIntervalVariance=h,this.zombie=i,this.x=o,c>=0&&c<=4&&this.lanes.push(c),c+1>=0&&c+1<=4&&this.lanes.push(c+1),c-1>=0&&c-1<=4&&this.lanes.push(c-1)}var n=i.prototype;return n.dealChickening=function(i){this.chickeningLeftTime<0||(this.chickeningLeftTime-=i,this.chickeningCD-=i,this.chickeningCD<0&&(this.chickeningCD=this.chickeningInterval+(1-2*Math.random())*this.chickeningIntervalVariance,this.spawnOneChicken()))},n.spawnOneChicken=function(){if(this.lanes.length>0){var i=this.zombie;i==d.cowboy_chicken&&Math.random()<.01&&(i=d.cowboy_chicken_pumpkin);var n=p.createZombie(m.getRandom(this.lanes),i);n.worldPositionX=this.x+(1-2*Math.random())*g.SquareDisW,n.reversed=this.reversed,n.hypno=this.hypno,n.bodyRecHiddenCD=0}},i}()),L=function(i){function n(){for(var n,e=arguments.length,t=new Array(e),h=0;h<e;h++)t[h]=arguments[h];return(n=i.call.apply(i,[this].concat(t))||this).ChickeningDuration=2,n.ChickeningDurationVariance=1,n.ChickeningHealthPercentage=.8,n.ChickeningInterval=.2,n.ChickeningIntervalVariance=.1,n}return e(n,i),n}(k);i("CowboyChickenFarmerZombie",(y=I("CowboyChickenFarmerZombie"),w=S(s),_=S(r),y((D=n((A=function(i){function n(){for(var n,e=arguments.length,c=new Array(e),o=0;o<e;o++)c[o]=arguments[o];return(n=i.call.apply(i,[this].concat(c))||this)._objdataOwn=new L,n._haveChicken=!0,n.chickenSlots=[],n.chicken=d.cowboy_chicken,t(n,"chickenActionSound",D,h(n)),t(n,"chickenAsh",Z,h(n)),n}e(n,i);var o=n.prototype;return o.specialZombieOnEnable=function(){this.haveChicken=!0},o.specialZombieOnLoad=function(){var i=this;this.body.body.armature().getSlots().forEach((function(n){n.name.includes("_CHICK")&&i.chickenSlots.push(n)}))},o.throwChickens=function(){if(this.haveChicken){this.haveChicken=!1,b.play(this.chickenActionSound);var i=new O(this.chicken,this.objdataOwn.ChickeningDuration,this.objdataOwn.ChickeningDurationVariance,this.objdataOwn.ChickeningInterval,this.objdataOwn.ChickeningIntervalVariance,this.lIndex,this.worldPositionX);i.reversed=this.reversed,i.hypno=this.hypno,C.component.chickenThrowers.push(i)}},o.killChickens=function(){if(this.haveChicken){this.haveChicken=!1,b.playBirdExpl();var i=f(this.chickenAsh);i.parent=this.inLane.zombieLayer,i.worldPosition=new l(this._worldPositionX,this._worldPositionY,10),i.scale=this.node.scale,i.getComponent(v).sky=!0}},o.specialAnimationListener=function(i){"chickenKill"==i.name&&this.killChickens()},o.onDamaged=function(i,n,e){this.haveChicken&&n<=this.toughness*this.objdataOwn.ChickeningHealthPercentage&&this.shouldSpeedScale()>0&&this.throwChickens()},c(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"haveChicken",get:function(){return this._haveChicken},set:function(i){this.chickenSlots.forEach((function(n){n._setDisplayIndex(i?0:-1)}));var n="Walk";i&&(n="WalkWithChicken"),this.body.WalkAnm=n,!this.dead&&this.walking&&this.replayAnimation(),this._haveChicken=i}}]),n}(u)).prototype,"chickenActionSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=n(A.prototype,"chickenAsh",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=A))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyChickenZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./Plants.ts"],(function(e){var o,n,t,i,c,s;return{setters:[function(e){o=e.inheritsLoose},function(e){n=e.cclegacy,t=e._decorator},function(e){i=e.Zombie},function(e){c=e.sounds},function(e){s=e.PlantEnum}],execute:function(){var a;n._RF.push({},"401b5vPomZOgZO+KfsDroGM","CowboyChickenZombie",void 0);var r=t.ccclass;t.property,e("CowboyChickenZombie",r("CowboyChickenZombie")(a=function(e){function n(){return e.apply(this,arguments)||this}o(n,e);var t=n.prototype;return t.specialZombieOnEnable=function(){this.shadeAlphaScale=1},t.walkTimeScale=function(e,o,n){return n},t.playSpecialZombieDie=function(e){this.playWalk(0),this.judgeDeath(0),c.playBirdExpl(),this.shadeAlphaScale=0},t.specialPlantEatAllowed=function(e){return!e.bodyRec.judgeCrossRec(this.plantDetectorRec)||e.ID!=s.HypnoShroom||(this.hypno=!0,!1)},n}(i))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./Zombies.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts"],(function(a){var e,o,n,t,i,r,s,c,u,l,m,b,h,g,p,f;return{setters:[function(a){e=a.applyDecoratedDescriptor,o=a.inheritsLoose,n=a.initializerDefineProperty,t=a.assertThisInitialized,i=a.createClass},function(a){r=a.cclegacy,s=a._decorator,c=a.Node,u=a.Vec2},function(a){l=a.GargantuarZombie,m=a.GargantuarProps},function(a){b=a.ZombieEnum},function(a){h=a.Rectangle},function(a){g=a.Square},function(a){p=a.ZombieDamageDetails,f=a.zombieDamageType}],execute:function(){var d,y,w,D,Z;r._RF.push({},"3a6ba24zw9L3pITfKvBHcid","CowboyGargantuarZombie",void 0);var P=s.ccclass,R=s.property,C=function(a){function e(){for(var e,o=arguments.length,n=new Array(o),t=0;t<o;t++)n[t]=arguments[t];return(e=a.call.apply(a,[this].concat(n))||this).SplashDamageToZombies=100,e.SplashDamageToPlants=40,e}return o(e,a),e}(m);a("CowboyGargantuarZombie",(d=P("CowboyGargantuarZombie"),y=R(c),d((Z=e((D=function(a){function e(){for(var e,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return e=a.call.apply(a,[this].concat(i))||this,n(e,"smashPoint",Z,t(e)),e._objdataOwn=new C,e.impEnum=b.cowboy_imp,e}return o(e,a),e.prototype.onSmashing=function(a){var e=h.createRectangleCenter(new u(this.smashPoint.worldPosition.x,this._worldPositionY),2*g.SquareDisW,g.SquareDisH),o=new p(this.objdataOwn.SplashDamageToZombies,!1,!1,!1,null,f.fire,!0,!0),n=new p(this.objdataOwn.SplashDamageToZombies,!1,!1,!1,null,f.fire,!0,!0);this.hypno?(this.inLane.zombiePool().forEach((function(a){a.bodyRec.judgeCrossRec(e)&&a.dealDamage(o)})),this.inLane.tombPool().forEach((function(a){a.bodyRec.judgeCrossRec(e)&&a.dealDamage(o.damage)}))):(this.inLane.plantPool().forEach((function(a){a.bodyRec.judgeCrossRec(e)&&a.dealDamage(n.damage,3)})),this.inLane.hypnoZombiePool().forEach((function(a){a.bodyRec.judgeCrossRec(e)&&a.dealDamage(o)})))},i(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(l)).prototype,"smashPoint",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=D))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyImpZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ImpZombie.ts","./NodePools.ts"],(function(i){var t,n,o,e,r,a,l,s,c,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,o=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){r=i.cclegacy,a=i._decorator,l=i.AudioClip,s=i.dragonBones},function(i){c=i.ImpZombie},function(i){u=i.ArrayGet}],execute:function(){var d,h,p,b,m,y,f;r._RF.push({},"2ae07h5GHNKXbVqhGkOO/C8","CowboyImpZombie",void 0);var g=a.ccclass,v=a.property;i("CowboyImpZombie",(d=g("CowboyImpZombie"),h=v([l]),p=v([l]),d((y=t((m=function(i){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=i.call.apply(i,[this].concat(r))||this,o(t,"landSounds",y,e(t)),o(t,"blockSound",f,e(t)),t}n(t,i);var r=t.prototype;return r.onTallNutBlocked=function(){this.playOneShot(u.getRandom(this.landSounds),1,!1),this.body.playAnimation("Block",1)},r.specialZombieOnLanding=function(){var i=this;if(this.isAlive()){var t="Land",n="Fly"==this.body.currentAnimationName;"FlyHorizontal"!=this.body.currentAnimationName&&"FlyVerticle"!=this.body.currentAnimationName&&"Block"!=this.body.currentAnimationName||(n=!0,t="LandVerticle",this.playOneShot(u.getRandom(this.landSounds),1,!1)),n&&(this.body.playAnimation(t,1),this.switching=!0,this.walking=!1,this.db.once(s.EventObject.COMPLETE,(function(){i.switching=!1,i.isAlive()&&i.detectPlant(.001)}),this))}else this.judgeDeath(0)},t}(c)).prototype,"landSounds",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=t(m.prototype,"blockSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=m))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyPianoZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./ZombieAshParticle.ts","./SoundRescourses.ts","./SoundManager.ts"],(function(i){var t,e,n,o,a,l,r,s,h,c,u,p,d,m;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,l=i._decorator,r=i.Node,s=i.Vec2},function(i){h=i.zombieDamageType,c=i.Zombie},function(i){u=i.NodePools},function(i){p=i.ZombieAshParticle},function(i){d=i.sounds},function(i){m=i.SoundManager}],execute:function(){var b,y,f,g,A;a._RF.push({},"f6a88HXmKhKrI0YJeSxyjhX","CowboyPianoZombie",void 0);var w=l.ccclass,P=l.property;i("CowboyPianoZombie",(b=w("CowboyPianoZombie"),y=P(r),b((A=t((g=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return t=i.call.apply(i,[this].concat(a))||this,n(t,"bodyPoint",A,o(t)),t.pianoSlot=void 0,t._useToHaveArm=!0,t.chewSoundWhenEat=!1,t}e(t,i);var a=t.prototype;return a.playSpecialZombieDie=function(i){this.judgeDeath(0)},a.chilibeanFart=function(){},a.onWalkStart=function(){var i;null==(i=this.pianoSlot)||null==(i=i.childArmature)||null==(i=i.animation)||i.play("walk")},a.plantEatExtraAllowed=function(i){return i.smasherDetectable},a.walkSpeedScaleEnteringLawn=function(){return 3},a.specialZombieOnEnable=function(){var i;(this.body.DeathAnm="Death",this._useToHaveArm=!0,this.walking)&&(null==(i=this.pianoSlot)||null==(i=i.childArmature)||null==(i=i.animation)||i.play("walk"))},a.specialZombieOnLoad=function(){this.pianoSlot=this.body.body.armature().getSlot("piano")},a.specialAnimationListener=function(i){if("walk"==i.name){var t,e="play0";this.haveArm||(this._useToHaveArm?(e="play_break",this._useToHaveArm=!1):e="play1"),null==(t=this.pianoSlot)||null==(t=t.childArmature)||null==(t=t.animation)||t.play(e)}},a.specialZombieUpdate=function(i,t,e){i>0&&this.enteredLawn&&(m.component.pianoCountDown=1)},a.playAsh=function(i){if(!this.zombieAshParticle_)return null;var t=u.instantiatePooly(this.zombieAshParticle_);if(null!=t&&t.isValid){t.parent=this.node.parent,t.setSiblingIndex(this.node.getSiblingIndex()+1),this.body.DeathAnm="Death_Ash",this.playDie(!1,null,!0,h.fire,!1);var e=t.getComponent(p);return this.smartShadeHider?e.inLnC=this.shadeInLnC:e.inLnC=this.inLnC,e.characterComponent.worldPosition=new s(this.bodyPoint.worldPosition.x,this.worldPositionY),e.characterComponent.height=this.height,e.characterComponent.depth=this.depth,e.characterComponent.scale=this.scale,e.height=this.height,e.playAsh(),this.isGargantuar&&d.playGargantuarAsh(),this.playSpecialZombieDieForced(),this.specialAshPlayed(e),e.db}},t}(c)).prototype,"bodyPoint",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyPonchoZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./levelController.ts"],(function(t){var e,a,o,i,n,h,l,s,r,c,u,p,d,g,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,n=t.createClass},function(t){h=t.cclegacy,l=t._decorator,s=t.Prefab,r=t.Vec3},function(t){c=t.zombieDamageType,u=t.ZombieDamageDetails,p=t.Zombie,d=t.ZombieProps},function(t){g=t.instantiatePooly},function(t){b=t.LevelPlay}],execute:function(){var m,P,f,v,y,w,H;h._RF.push({},"7a325jDWMVL3oYSU9abOjC3","CowboyPonchoZombie",void 0);var S=l.ccclass,D=l.property,_=function(t){function e(){for(var e,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).ShieldToughness=1100,e.PonchoToughness=60,e.ChanceToPlate=.5,e}return a(e,t),e}(d);t("CowboyPonchoZombie",(m=S("CowboyPonchoZombie"),P=D(s),f=D(s),m((w=e((y=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),h=0;h<a;h++)n[h]=arguments[h];return(e=t.call.apply(t,[this].concat(n))||this)._objdataOwn=new _,e._objdataOwnOrg=new _,o(e,"ponchoBreakPar",w,i(e)),e.ponchoSlot=void 0,e._ponchoHealth=60,e._havePoncho=!1,e._havePlate=void 0,e.plateSlot=void 0,e._plateHealth=1100,o(e,"plateDrop",H,i(e)),e}a(e,t);var h=e.prototype;return h.specialZombieOnEnable=function(){this.wearPoncho()},h.wearPoncho=function(){Math.random()<this.objdataOwnOrg.ChanceToPlate?(this.havePlate=3,this.plateHealth=this.objdataOwn.ShieldToughness):(this.havePlate=0,this.plateHealth=0),this.ponchoHealth=this.objdataOwn.PonchoToughness},h.onObjdataSet=function(t){this.wearPoncho()},h.extraHealth=function(){return(this.havePoncho?this.ponchoHealth:0)+(0!=this.havePlate?this.plateHealth:0)},h.breakPoncho=function(){if(this.havePoncho){this.havePoncho=!1;var t=g(this.ponchoBreakPar);t.parent=this.node.parent,t.worldPosition=this.node.worldPosition,t.setSiblingIndex(this.node.getSiblingIndex()+1)}},h.specialZombieOnLoad=function(){this.plateSlot=this.body.body.armature().getSlot("SHIELD"),this.ponchoSlot=this.body.body.armature().getSlot("PONCHO")},h.throwPlate=function(t,e){void 0===e&&(e=!0);var a=this.drop(this.plateDrop,this.height+this.zombieHeight/2,new r(this._worldPositionX,this._worldPositionY),t,this.inLane.prjLayer),o=a.db,i="Broken2";if(!e)switch(this.havePlate){case 3:i="Broken0";break;case 2:i="Broken1"}return o.playAnimation(i),this.plateHealth=0,a},h.specialMagnetedObject=function(){if(this.plateHealth>0){var t=this.throwPlate(null,!1);return this.plateHealth=0,t}return null},h.specialDealDamageAccordingToBowlingLevel=function(t,e){if(this.plateHealth>0&&e.armorProtection){var a=Math.round(2*this.plateHealth/this.objdataOwn.ShieldToughness),o=Math.max(a-t,0)/3*this.objdataOwn.ShieldToughness,i=this.plateHealth-o;this.ponchoHealth=0,this.dealDamage(e.replaceDamage(i))}else this.dealDamage(e)},h.dealDamage=function(t){if(this.invincible)return this.health;var e=t.damage;if(t.damageType==c.fire&&(this.freeze=0,this.chill=0),this.ponchoHealth>0&&t.armorProtection)e-=this.ponchoHealth,this.pushSunBeanHealth(Math.min(t.damage,this.ponchoHealth)),this.ponchoHealth-=t.damage*b.zombieDamageReceiveScale,t.armorKnockSound&&this.playHurtSound(),t.flash&&(this.hurting=10);else{if(!(this.plateHealth>0&&t.armorProtection))return this.dealNormalDamage(new u(t.damage,t.armorProtection,t.armorKnockSound,!1,t.damageDirection,t.damageType,t.flash));e-=this.plateHealth,this.pushSunBeanHealth(Math.min(t.damage,this.plateHealth)),this.plateHealth-=t.damage*b.zombieDamageReceiveScale,t.armorKnockSound&&this.playHurtSound(),t.flash&&(this.hurting=10),this.plateHealth<=0&&this.throwPlate(t.damageDirection)}return e>0&&this.dealDamage(new u(e,t.armorProtection,t.armorKnockSound,t.bodyKnockSound,t.damageDirection,t.damageType,t.flash)),this.health},n(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"ponchoHealth",get:function(){return this._ponchoHealth},set:function(t){t<=0?this.breakPoncho():this.havePoncho=!0,this._ponchoHealth=t}},{key:"havePoncho",get:function(){return this._havePoncho},set:function(t){var e;null==(e=this.ponchoSlot)||e._setDisplayIndex(t?0:-1),this._havePoncho=t}},{key:"havePlate",get:function(){return this._havePlate},set:function(t){var e,a,o,i;switch(this._havePlate=t,t){case 3:null==(e=this.plateSlot)||e._setDisplayIndex(0);break;case 2:null==(a=this.plateSlot)||a._setDisplayIndex(1);break;case 1:null==(o=this.plateSlot)||o._setDisplayIndex(2);break;default:null==(i=this.plateSlot)||i._setDisplayIndex(-1),this._havePlate=0}}},{key:"plateHealth",get:function(){return this._plateHealth},set:function(t){t<=0?this.havePlate=0:t<=this.objdataOwn.ShieldToughness/3?this.havePlate=1:t<=2*this.objdataOwn.ShieldToughness/3?this.havePlate=2:this.havePlate=3,this._plateHealth=t}}]),e}(p)).prototype,"ponchoBreakPar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(y.prototype,"plateDrop",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));h._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyProspectorZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Square.ts","./NodePools.ts"],(function(i){var e,t,n,o,l,a,s,r,d,u,h,p,c,b,y;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized,l=i.createClass},function(i){a=i.cclegacy,s=i._decorator,r=i.AudioClip,d=i.Prefab,u=i.Vec3,h=i.Vec2},function(i){p=i.Zombie,c=i.ZombieProps},function(i){b=i.Square},function(i){y=i.instantiatePooly}],execute:function(){var f,m,w,S,g,x,v,P,_,L,O,T,k,C,Z;a._RF.push({},"cb135QainNMWrbBPNRCFOSs","CowboyProspectorZombie",void 0);var j=s.ccclass,E=s.property,R=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=i.call.apply(i,[this].concat(n))||this).LandingStunnTime=2.5,e.ExplodeCountdown=10,e}return t(e,i),e}(c);i("CowboyProspectorZombie",(f=j("CowboyProspectorZombie"),m=E(r),w=E(r),S=E(r),g=E(r),x=E(d),v=E(d),f((L=e((_=function(i){function e(){for(var e,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return e=i.call.apply(i,[this].concat(l))||this,n(e,"landSound",L,o(e)),n(e,"explodeSound",O,o(e)),n(e,"explodeSaySound",T,o(e)),n(e,"igniteSound",k,o(e)),e._explodeLeftTime=10,e.tnt=void 0,e.ashSlots=[],e._dirty=!1,e.willReverse=!1,e._objdataOwn=new R,e._ignited=!0,n(e,"explSmokePar",C,o(e)),n(e,"smokeTailPar",Z,o(e)),e}t(e,i);var a=e.prototype;return a.specialZombieOnLoad=function(){var i,e,t=this;this.tnt=null==(i=this.body)||null==(i=i.body)||null==(i=i.armature())||null==(i=i.getSlot("TNT"))?void 0:i.childArmature,this.ashSlots=[],null==(e=this.body)||null==(e=e.body)||null==(e=e.armature())||e.getSlots().forEach((function(i){i.name.includes("_ASH")&&t.ashSlots.push(i)})),this.schedule((function(){if(t.willReverse){var i=y(t.smokeTailPar);i.parent=t.node.parent,i.setSiblingIndex(0),i.worldPosition=new u(t._worldPositionX,t.body.node.worldPosition.y+20)}}),.05,1/0,.05)},a.specialZombieKnockbackable=function(){return!this.willReverse},a.specialZombieLeapable=function(){return!this.willReverse},a.specialZombieOnEnable=function(){this.dirty=!1,this.explodeLeftTime=this.objdataOwn.ExplodeCountdown,this.willReverse=!1,this.ignited=!0},a.specialAnimationListener=function(i){if("explode"==i.name){var e=b.getLnC(0,this.reversed?8:0).node.worldPosition.x;this.leapTo(new h(e,this._worldPositionY),!0,1,300,!0,!1,!1),this.playOneShot(this.explodeSound,1,!0),this.playOneShot(this.explodeSaySound,1,!1),this.willReverse=!0,this.tnt.animation.play("Nothing"),this.dirty=!0;var t=y(this.explSmokePar);t.parent=this.node.parent,t.setSiblingIndex(0),t.worldPosition=new u(this._worldPositionX,this._worldPositionY)}},a.specialOnLeapEnd=function(){var i=this;this.willReverse&&(this.willReverse=!1,this.reversed=!this.reversed,this.body.playAnimation("FlyEnd",1),this.playOneShot(this.landSound,1,!0),this.scheduleOnce((function(){i.switching=!1,i.isAlive()&&i.playWalk()}),this.objdataOwn.LandingStunnTime))},a.onChill=function(i){this.ignited=!1},a.onFrozen=function(i){this.ignited=!1},a.onObjdataSet=function(i){this.explodeLeftTime=this.objdataOwn.ExplodeCountdown},a.specialZombieUpdate=function(i,e,t){this.isInLawn()&&this.explodeLeftTime>0&&this.ignited&&(this.explodeLeftTime-=i,this.explodeLeftTime<=0&&(this.switching=!0,this.walking=!1,this.body.playAnimation("FlyStart",1)))},l(e,[{key:"dirty",get:function(){return this._dirty},set:function(i){this.ashSlots.forEach((function(e){null==e||e._setDisplayIndex(i?0:-1)})),this._dirty=i}},{key:"explodeLeftTime",get:function(){return this._explodeLeftTime},set:function(i){var e=i/this.objdataOwn.ExplodeCountdown,t=this._explodeLeftTime/this.objdataOwn.ExplodeCountdown;e>2/3&&t<=2/3?this.tnt.animation.play("Small"):e>1/3&&t<=1/3||e<=2/3&&t>2/3?(this.playOneShot(this.igniteSound,.5,!0),this.tnt.animation.play("Mid")):(e>0&&t<=0||e<=1/3&&t>1/3)&&this.tnt.animation.play("Big"),this._explodeLeftTime=i}},{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"ignited",get:function(){return this._ignited},set:function(i){this.dirty||(i?(this.explodeLeftTime=this.objdataOwn.ExplodeCountdown,this.tnt.animation.play("Small")):this.tnt.animation.play("Out")),this._ignited=i}}]),e}(p)).prototype,"landSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(_.prototype,"explodeSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(_.prototype,"explodeSaySound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(_.prototype,"igniteSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(_.prototype,"explSmokePar",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(_.prototype,"smokeTailPar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=_))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./Square.ts","./NodePools.ts"],(function(o){var e,i,t,n,r,l,a,s,u,h,c;return{setters:[function(o){e=o.applyDecoratedDescriptor,i=o.initializerDefineProperty,t=o.inheritsLoose,n=o.assertThisInitialized},function(o){r=o.cclegacy,l=o._decorator,a=o.CCInteger,s=o.AudioClip},function(o){u=o.ZombossMechZombie},function(o){h=o.Square},function(o){c=o.ArrayGet}],execute:function(){var b,p,d,m,g,f,y,S,C,M,w,z,Z,L,v,R,P,x,O,W,F,A,B,T,E,I,N,_,j,q,D,G;r._RF.push({},"257b4qjQ/JJHbQt0IFcjFmI","CowboyZombossMechZombie",void 0);var H=l.ccclass,J=l.property,Q=o("CowboyZombossFireProps",(b=H("CowboyZombossFireProps"),p=J(Number),d=J(Number),m=J(Number),g=J(a),f=J(a),b((C=e((S=function(){i(this,"shootPlantWeight",C,this),i(this,"shootPlantEmptyRate",M,this),i(this,"shootRailWeight",w,this),i(this,"shootRailCount",z,this),i(this,"missileCount",Z,this)}).prototype,"shootPlantWeight",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),M=e(S.prototype,"shootPlantEmptyRate",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),w=e(S.prototype,"shootRailWeight",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),z=e(S.prototype,"shootRailCount",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Z=e(S.prototype,"missileCount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),y=S))||y));o("CowboyZombossMechZombie",(L=H("CowboyZombossMechZombie"),v=J(s),R=J(s),P=J(s),x=J(s),O=J(s),W=J(s),F=J([Q]),A=J([Q]),L((E=e((T=function(o){function e(){for(var e,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e=o.call.apply(o,[this].concat(r))||this,i(e,"rollingSound",E,n(e)),i(e,"expandSound",I,n(e)),i(e,"expand2Sound",N,n(e)),i(e,"introBodyCallSound",_,n(e)),i(e,"loadMissileSound",j,n(e)),i(e,"loadMissile2Sound",q,n(e)),i(e,"MissileLocator",D,n(e)),i(e,"MissileLocator2",G,n(e)),e}t(e,o);var r=e.prototype;return r.specialZombossMechAnimationListener=function(o){"rollingSound"==o.name?this.playOneShot(this.rollingSound,1,!0,.1):"expandSound"==o.name?(this.playOneShot(this.expandSound,1,!0,.1),this.playOneShot(this.expand2Sound,1,!0,.1)):"introBodyCallSound"==o.name?this.playOneShot(this.introBodyCallSound,1,!0,.1):"loadMissileSound"==o.name&&(this.playOneShot(this.loadMissileSound,1,!0,.1),this.playOneShot(this.loadMissile2Sound,1,!0,.1))},r.getShootTargetLnCs=function(){var o=1==this.mechToChoose?this.MissileLocator2:this.MissileLocator,e=o[this.currentStage]?o[this.currentStage]:new Q,i=e.shootPlantEmptyRate,t=e.shootRailWeight/(e.shootRailWeight+e.shootPlantWeight);if(Math.random()>t)return this.defaultGetShootTargetLnCs(i);for(var n=c.randomize(h.getAllLnC()),r=[],l=[],a=0;a<n.length&&r.length<e.shootRailCount;a++){var s,u;null!=(s=n[a])&&null!=(s=s.rail)&&s.group&&-1==r.indexOf(null==(u=n[a])||null==(u=u.rail)?void 0:u.group)&&r.push(n[a].rail.group)}return r.forEach((function(o){for(var e=c.randomize(o),i=0;i<e.length-1;i++)l.push(e[i].inLnC)})),l.length?l:this.defaultGetShootTargetLnCs(i)},e}(u)).prototype,"rollingSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(T.prototype,"expandSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(T.prototype,"expand2Sound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(T.prototype,"introBodyCallSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(T.prototype,"loadMissileSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(T.prototype,"loadMissile2Sound",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(T.prototype,"MissileLocator",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=e(T.prototype,"MissileLocator2",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=T))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/CranJelly.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./NodePools.ts","./Square.ts","./Character.ts","./Plant.ts"],(function(e){var t,n,a,r,i,o,l,s,c,u,h,f,p,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.Prefab,s=e.Vec2},function(e){c=e.peaShooter},function(e){u=e.NodePools},function(e){h=e.Square},function(e){f=e.CharacterType},function(e){p=e.Plant,y=e.PlantProps}],execute:function(){var P,d,b,v,m;i._RF.push({},"779f1NAnaNMAr0lVYwAL9er","CranJelly",void 0);var w=o.ccclass,S=o.property,g=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).DPS=3e3,t.Velocity=15,t}return n(t,e),t}(y);e("CranJellyPlant",(P=w("CranJellyPlant"),d=S(l),P((m=t((v=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,a(t,"CranJellyPrj",m,r(t)),t._objdataOwn=new g,t}n(t,e);var i=t.prototype;return i.animationListener=function(e){if("summon"==e.name){var t=u.instantiatePooly(this.CranJellyPrj),n=c.shootOnePea(t,new s(h.getSquareWorldPosition(0,0).x,this.inLane.floorY),-5,this.inLane.prjLayer,new s(this._objdataOwn.Velocity,0),f.zombie),a=this._objdataOwn.DPS;this._dmgScale&&(a*=this._dmgScale),n.DPS=a}},i.specialPlantOnEnable=function(){var e=this;this.scheduleOnce((function(){e.die()}),0),this.foodable=!1,this.invincible=!0,this.eaterDetectable=!1,this.smasherDetectable=!1},t}(p)).prototype,"CranJellyPrj",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/cranjellyProjectile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./LnC.ts","./Zombie.ts","./Character.ts"],(function(e){var t,n,i,o,a,l,r,c,d,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,r=e.CCFloat},function(e){c=e.commonShot},function(e){d=e.TileLiquidEnum},function(e){u=e.ZombieDamageDetails},function(e){s=e.CharacterType}],execute:function(){var h,p,y,m,f;a._RF.push({},"11147O0PlhImq2C02SJplO+","cranjellyProjectile",void 0);var g=l.ccclass,b=l.property;e("cranjellyPrj",(h=g("cranjellyPrj"),p=b(r),h((f=t((m=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"DPS",f,o(t)),t.defeatedCount=0,t}n(t,e);var a=t.prototype;return a.animationListener=function(e){var t;"playIdle"==e.name&&(this.switching=!1,null==(t=this.db)||t.playAnimation("Idle0",1/0))},a.animationCompleteListener=function(){var e;this.switching&&(this.switching=!1,null==(e=this.db)||e.playAnimation("Idle0",1/0))},a.detectEnemy=function(e){var t,n,i,o=this;this.detectEnemyOn&&(this.enemyType==s.zombie?(null==(n=this.inLane)||n.zombiePool().concat().forEach((function(t){if((!o.targetLocked||(null==t?void 0:t.node)!=o.targetLocked)&&t.bodyRec.judgeCrossRec(o.bodyRec())){var n,i;t.dealDamage(new u(o.DPS*e,o.armorProtection,o.armorKnockSound,o.bodyKnockSound,null,o.damageType,!0));var a=o.defeatedCount;t.isAlive()||(o.inLnC.addTileLiquid(d.cranJellyJuice,30),a++),o.defeatedCount<4&&a>=4&&(null==(n=o.db)||n.playAnimation("Idle1",1/0)),o.defeatedCount<8&&a>=8&&(null==(i=o.db)||i.playAnimation("Idle2",1/0)),o.defeatedCount=a}})),null==(i=this.inLane)||i.tombPool().concat().forEach((function(t){o.targetLocked&&(null==t?void 0:t.node)==o.targetLocked||t.bodyRec.judgeCrossRec(o.bodyRec())&&t.dealDamage(o.DPS*e)}))):this.enemyType==s.plant&&(null==(t=this.inLane)||t.plantPool().forEach((function(e){o.dead||e.bodyRec.judgeCrossRec(o.bodyRec())&&(!o.targetLocked||o.targetLocked&&e.node==o.targetLocked)&&o.dealDamageToTargetPlant(e)&&o.pop()}))))},a.pop=function(){},a.characterOnEnable=function(){var e;this.defeatedCount=0,this.initialize(),this.switching=!0,null==(e=this.db)||e.playAnimation("Start",1)},t}(c)).prototype,"DPS",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3e3}}),y=m))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/CurrencyCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts"],(function(e){var t,n,r,o,a,i,u,s,l,h,c,p,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){i=e.cclegacy,u=e._decorator,s=e.Label,l=e.CCInteger,h=e.UITransform,c=e.Vec3,p=e.tween,f=e.Component},function(e){m=e.MultiLanguage}],execute:function(){var w,b,g,y,C,d,v,L,_;i._RF.push({},"e6e50mmoUtIBoehQwOpMZPz","CurrencyCount",void 0);var V=u.ccclass,M=u.property;e("CurrencyCount",(w=V("CurrencyCount"),b=M(s),g=M(Boolean),y=M(l),w((v=t((d=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"showerLabel",v,o(t)),r(t,"thousandComma",L,o(t)),t._shownValue=0,r(t,"maxWidth",_,o(t)),t._value=0,t}return n(t,e),t.prototype.onValueSet=function(e){},a(t,[{key:"shownValue",get:function(){return this._shownValue},set:function(e){if(this._shownValue=e,this.showerLabel){if(this.thousandComma){var t=m.getNumberWithThousandComma(e);this.showerLabel.string=t}else this.showerLabel.string=Math.round(e).toString();var n=Math.min(1,this.maxWidth/this.showerLabel.getComponent(h).width);this.showerLabel.node.scale=new c(n,n,n)}}},{key:"value",get:function(){return this._value},set:function(e){this.onValueSet(e),e<0&&(e=0),Math.abs(e-this._value)<2?this.shownValue=e:p(this).to(.5,{shownValue:e}).start(),this._value=e}}]),t}(f)).prototype,"showerLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(d.prototype,"thousandComma",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=t(d.prototype,"maxWidth",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 170}}),C=d))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/Dandelion.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./CabbagePult.ts","./SoundRescourses.ts"],(function(o){var t,n,i,e,a,r,l,s,u,d,h,c,S,f,p,w,y,b,m,P,g,C,v;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,i=o.initializerDefineProperty,e=o.assertThisInitialized,a=o.createClass},function(o){r=o.cclegacy,l=o._decorator,s=o.AudioClip,u=o.Prefab,d=o.Node,h=o.Vec2,c=o.tween},function(o){S=o.Plant,f=o.PlantProps},function(o){p=o.Rectangle,w=o.ZombiePool},function(o){y=o.Square},function(o){b=o.ArrayGet,m=o.instantiatePooly},function(o){P=o.peaShooter},function(o){g=o.CharacterType},function(o){C=o.cabbagePult},function(o){v=o.sounds}],execute:function(){var L,A,j,R,_,D,z,x,F,O,I,B,M,E,q,X,Z,N,T,W,Y,k,V,H,J,U,G,K,Q,$,oo,to,no,io,eo,ao;r._RF.push({},"26b5ed92T9I8JJ8+hjxNWAR","Dandelion",void 0);var ro=l.ccclass,lo=l.property,so=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return(t=o.call.apply(o,[this].concat(i))||this).ShootInterval=2,t.ShootIntervalAdditional=.15,t.BlowRecoverTime=12,t.BlowProjectileCount=12,t}return n(t,o),t}(f),uo=o("dandelionSound",(L=ro("dandelionSound"),A=lo([s]),j=lo([s]),R=lo([s]),_=lo([s]),D=lo([s]),z=lo([s]),x=lo([s]),F=lo([s]),O=lo([s]),L((M=t((B=function(){function o(){i(this,"shootSounds",M,this),i(this,"shootSaySounds",E,this),i(this,"foodSaySounds",q,this),i(this,"foodStartSaySounds",X,this),i(this,"foodStartSounds",Z,this),i(this,"foodShootSounds",N,this),i(this,"foodShootSaySounds",T,this),i(this,"blowSounds",W,this),i(this,"blowSaySounds",Y,this)}var t=o.prototype;return t.playShootSound=function(){v.playArray(this.shootSounds,.5,.5)},t.playShootSaySound=function(){v.playArray(this.shootSaySounds,.5,.5)},t.playFoodSaySound=function(){v.playArray(this.foodSaySounds,1,.5)},t.playFoodStartSaySound=function(){v.playArray(this.foodStartSaySounds,1,.1)},t.playFoodStartSound=function(){v.playArray(this.foodStartSounds,1,.1)},t.playFoodShootSound=function(){v.playArray(this.foodShootSounds,1,.1)},t.playFoodShootSaySound=function(){v.playArray(this.foodShootSaySounds,1,.1)},t.playBlowSound=function(){v.playArray(this.blowSounds,1,.1)},t.playBlowSaySound=function(){v.playArray(this.blowSaySounds,1,.1)},o}()).prototype,"shootSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(B.prototype,"shootSaySounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(B.prototype,"foodSaySounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(B.prototype,"foodStartSaySounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=t(B.prototype,"foodStartSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(B.prototype,"foodShootSounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(B.prototype,"foodShootSaySounds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(B.prototype,"blowSounds",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(B.prototype,"blowSaySounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=B))||I));o("DandelionPlant",(k=ro("DandelionPlant"),V=lo(uo),H=lo(u),J=lo(d),U=lo(u),G=lo(u),K=lo(u),k((oo=t(($=function(o){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=o.call.apply(o,[this].concat(a))||this).detectors=[],t._objdataOwn=new so,i(t,"soundRes",oo,e(t)),t.foodDropArea=0,t._blew=!1,t.blewCD=0,t._blowPrjLeftCount=0,i(t,"throwParticle",to,e(t)),t.shooting=!1,t.willShootLane=0,i(t,"peaSpawnPoint",no,e(t)),i(t,"PrjSmall",io,e(t)),i(t,"Prj0",eo,e(t)),i(t,"PrjFood",ao,e(t)),t.shootCD=0,t}n(t,o);var r=t.prototype;return r.specialPlantOnSquareChange=function(o,t){var n,i,e=this;this.detectors=[],[null==t?void 0:t.inLane,null==t||null==(n=t.inLane)?void 0:n.UpperLane,null==t||null==(i=t.inLane)?void 0:i.LowerLane].forEach((function(o){o&&e.detectors.push({inLane:o,rec:p.createRectangleSide(new h(t.node.worldPosition.x,o.midY),y.SquareDisW*(9-t.cIndex),y.SquareDisH)})}))},r.specialPlantOnEnable=function(){this.shootCD=0,this.shooting=!1,this.willShootLane=0,this.blew=!1,this.anmControl.playRandom()},r.dropOnZombies=function(o){var t=this,n=y.getSquareWorldPosition(0,2,1,1).x,i=y.getSquareWorldPosition(0,5,1,1).x,e=7;w.pool().forEach((function(a){(1==o&&a.worldPositionX<n||2==o&&a.worldPositionX>=n&&a.worldPositionX<i||0==o&&a.worldPositionX>=i)&&(t._dropOnZombie(t.PrjFood,a),e--)})),e>0&&b.randomize(y.getAllLnC()).forEach((function(a){if(!(e<=0)){var r=null;(1==o&&a.node.worldPosition.x<n||2==o&&a.node.worldPosition.x>=n&&a.node.worldPosition.x<i||0==o&&a.node.worldPosition.x>=i)&&(r=t._dropOnNode(t.PrjFood,a.node),e--),r&&(r.worldPositionX+=(.5-Math.random())*y.SquareDisW)}}))},r.blowStart=function(){return!this.blew&&!this.fooding&&(this.blewCD=this._objdataOwn.BlowRecoverTime*this._cdScale,this.blew=!0,this.anmControl.playAnimation("Blow"),this.soundRes.playBlowSaySound(),this.soundRes.playBlowSound(),!0)},r._dropOnZombie=function(o,t){var n=m(o);return C.lobOneCabbageOnZombie(n,new h(t.worldPositionX+300,t.worldPositionY),1e3+200*Math.random(),t.inLane.prjLayer,t,.1*Math.random()-.4,g.zombie,!1,50+20*Math.random(),!1,!0)},r._dropOnNode=function(o,t){var n=m(o);return C.lobOneCabbageOnPos(n,new h(t.worldPosition.x+300,t.worldPosition.y),1e3+200*Math.random(),this.inLane.prjLayer,new h(t.worldPosition.x,t.worldPosition.y),.1*Math.random()-.4,g.zombie,50+20*Math.random(),0,!0)},r.playParticle=function(){var o=m(this.throwParticle);o.parent=this.inLane.prjLayer,o.worldPosition=this.peaSpawnPoint.worldPosition},r.detectEnemies=function(){var o=this,t=b.randomize(this.detectors);if(this.blew)return-2;for(var n,i=function(n){var i,e=null==(i=t[n].inLane)?void 0:i.zombiePool(),a=-2;if(null==e||e.forEach((function(i){-2==a&&i.bodyRecForShooter.judgeCrossRec(t[n].rec)&&(a=t[n].inLane.LaneIndex-o.lIndex)})),-2!=a)return{v:a};var r=t[n].inLane.tombPool();return null==r||r.forEach((function(i){-2==a&&i.bodyRec.judgeCrossRec(t[n].rec)&&(a=t[n].inLane.LaneIndex-o.lIndex)})),{v:a}},e=0;e<t.length;e++)if(n=i(e))return n.v;return-2},r.animationOnComplete=function(){this.shooting=!1},r.waterable=function(){return!this.shooting&&!this.blew},r.shootAnimation=function(){this.shooting=!0,this.shootCD=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional,this._cdScale&&(this.shootCD*=this._cdScale),this.anmControl.playAnimation("Shoot",1,.1,Math.max(1,2.2/this.shootCD))},r.recoverAnimation=function(){this.shooting=!0,this.anmControl.playAnimation("Recover",1),this.soundRes.playShootSaySound(),this.soundRes.playShootSound()},r.animationListener=function(o){"Shoot"==o.name?(this.soundRes.playShootSound(),this._shoot(this.Prj0,this.willShootLane)):"shootSay"==o.name?this.soundRes.playShootSaySound():"foodShoot"==o.name?(this.dropOnZombies(this.foodDropArea++),this.soundRes.playFoodShootSaySound(),this.soundRes.playFoodShootSound()):"foodEnd"==o.name?this.foodEnd():"foodCharge"==o.name?(this.soundRes.playFoodStartSound(),this.soundRes.playFoodStartSaySound()):"Blow"==o.name?(this.blowPrjLeftCount=this._objdataOwn.BlowProjectileCount,c(this).to(1.1,{blowPrjLeftCount:0}).start()):"recover"==o.name?this.blew=!1:"playPar"==o.name&&this.playParticle()},r.specialPlantFood=function(o){this.anmControl.playAnimation("Food"),this.foodDropArea=0,this.blew=!1},r.specialPlantFoodEnd=function(){this.anmControl.playRandom()},r._shoot=function(o,t){var n=m(o),i=P.shootOnePea(n,new h(this.peaSpawnPoint.worldPosition.x,this.worldPositionY),this.peaSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,new h(5,0),g.zombie);this.inLnC.havePeaBuff&&i.addPeaBuff(),-1!=t&&1!=t||(i.linearVelocity=new h(5,-17*t/2),i.deceleration=new h(0,t/4))},r.specialPlantUpdate=function(o,t,n){if(!this.fooding){if(this.shootCD>0)this.shootCD-=o;else if(n>0&&!this.blew){var i=this.detectEnemies();switch(i){case 1:case-1:case 0:this.shootAnimation(),this.willShootLane=i}}this.shooting||this.blew&&(this.blewCD-=o,this.blewCD<=0&&this.recoverAnimation())}},a(t,[{key:"blew",get:function(){return this._blew},set:function(o){o?(this.anmControl.IdleAnim="Idle_Blew",this.anmControl.RandomAnim=[],this.deathAnm="Death_Blew"):(this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.deathAnm="Death"),this._blew=o}},{key:"blowPrjLeftCount",get:function(){return this._blowPrjLeftCount},set:function(o){if(!this.dead&&this.node.active&&this.node.isValid){var t=[0];this.lIndex>0&&t.push(-1),this.lIndex<4&&t.push(1);for(var n=0;n<Math.floor(this._blowPrjLeftCount)-Math.floor(o);n++)this._shoot(this.PrjSmall,b.getRandom(t));this._blowPrjLeftCount=o}}}]),t}(S)).prototype,"soundRes",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new uo}}),to=t($.prototype,"throwParticle",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),no=t($.prototype,"peaSpawnPoint",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),io=t($.prototype,"PrjSmall",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eo=t($.prototype,"Prj0",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ao=t($.prototype,"PrjFood",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=$))||Q));r._RF.pop()}}}));

System.register("chunks:///_virtual/DangerroomCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./NodePools.ts","./Droppings.ts","./AnimationController.ts"],(function(e){var t,n,i,o,r,a,l,s,c,u,p,d,f,h,b,m,y,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,l=e._decorator,s=e.Node,c=e.Label,u=e.Sprite,p=e.Vec3,d=e.Color,f=e.Component},function(e){h=e.PlantEnum,b=e.plants},function(e){m=e.instantiatePooly},function(e){y=e.droppings},function(e){g=e.AnimationController}],execute:function(){var v,C,w,D,P,k,z,I,S,_,L,A,R;a._RF.push({},"9a272r2LjxLH6zOoW1CyroR","DangerroomCard",void 0);var F=l.ccclass,j=l.property;e("DangerroomCard",(v=F("DangerroomCard"),C=j(s),w=j([c]),D=j(u),P=j(u),k=j(s),v((S=t((I=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"displayer",S,o(t)),i(t,"suncost",_,o(t)),t.ID=0,i(t,"face",L,o(t)),i(t,"back",A,o(t)),t._selected=!1,i(t,"selection",R,o(t)),t}n(t,e);var a=t.prototype;return a.switchPlant=function(e){void 0===e&&(e=this.ID);var t="";if(this.displayer.destroyAllChildren(),e<h.amount){var n=m(b.getPlantsInCard(e).plantDIS);n.parent=this.displayer,n.position=new p(0,-20,0);var i=n.getComponent(g);i.playRandom(),null==i||i.readCostume(e),this.scheduleOnce((function(){i.setTimeScale(0)}),0);var o=b.getPlantProps(e);t=o.SunCost.toString()}else switch(e){case h.amount:m(y.SunMid);break;case h.amount+1:m(y.CoinGold);break;case h.amount+2:m(y.Gem)}this.ID=e,this.suncost.forEach((function(e){e.string=t}))},a.turnFace=function(){this.face.node.active=!0,this.back.node.active=!1,this.switchPlant()},a.turnBack=function(){this.back.node.active=!0,this.face.node.active=!1},a.onLoad=function(){this.ID=-1},r(t,[{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e,this.face.color=e?new d(122,122,122,255):new d(255,255,255,255),this.back.color=e?new d(122,122,122,255):new d(255,255,255,255),this.selection.active=e}}]),t}(f)).prototype,"displayer",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(I.prototype,"suncost",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(I.prototype,"face",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(I.prototype,"back",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(I.prototype,"selection",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=I))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/DangerroomCardChooser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DangerroomCard.ts","./NodePools.ts","./SoundRescourses.ts","./Plants.ts","./CardFeatureTotal.ts","./levelController.ts","./PlayerProperties.ts","./Cards.ts","./MultiLanguage.ts"],(function(t){var e,n,o,r,i,a,l,c,s,u,d,p,h,g,f,b,m,v,C,y,w,P,S,A,z,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,i=t.createClass},function(t){a=t.cclegacy,l=t._decorator,c=t.Label,s=t.Node,u=t.Button,d=t.AudioClip,p=t.tween,h=t.Vec3,g=t.UIOpacity,f=t.instantiate,b=t.Component},function(t){m=t.DangerroomCard},function(t){v=t.ArrayGet},function(t){C=t.sounds},function(t){y=t.PlantEnum,w=t.plants},function(t){P=t.CardFeatureTotal},function(t){S=t.LevelPlay},function(t){A=t.AllPlayerProperties},function(t){z=t.Cards},function(t){D=t.MultiLanguage}],execute:function(){var B,L,I,T,F,E,_,O,q,R,G,M,W,k,N,U,x,j,H,V,J,K,Q,X,Y,Z,$,tt,et,nt,ot,rt;a._RF.push({},"9bb67CbxB5FirIUCbI5LrwM","DangerroomCardChooser",void 0);var it=l.ccclass,at=l.property,lt=function(){function t(){this.oldWP=new h,this.oldAngle=0,this.card=null,this._selected=!1}return i(t,[{key:"selected",get:function(){return this._selected},set:function(t){this.card.selected=t,this._selected=t}}]),t}(),ct=(B=it("dangerroomPrepareTooltips"),L=at(c),I=at(c),B((E=e((F=function(){function t(){o(this,"Chooser",E,this),o(this,"Accept",_,this)}return t.prototype.setString=function(){this.Chooser&&(this.Chooser.string=D.getStringByProps("Dangerroom","Chooser")),this.Accept&&(this.Accept.string=D.getStringByProps("Dangerroom","Accept"))},t}()).prototype,"Chooser",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(F.prototype,"Accept",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=F))||T);t("DangerroomCardChooser",(O=it("DangerroomCardChooser"),q=at(ct),R=at([m]),G=at([s]),M=at(c),W=at(u),k=at(d),N=at(d),U=at(d),x=at(d),j=at(d),H=at(P),O((K=e((J=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,o(e,"tooltips",K,r(e)),o(e,"cardsAtTop",Q,r(e)),o(e,"cardSlots",X,r(e)),e.givenCards=[],e.done=!1,o(e,"introduction",Y,r(e)),o(e,"acceptButton",Z,r(e)),o(e,"cardGiveSound",$,r(e)),o(e,"cardReturnSound",tt,r(e)),o(e,"cardSelectSound",et,r(e)),o(e,"cardAcceptSound",nt,r(e)),o(e,"cardFlipSound",ot,r(e)),o(e,"card0",rt,r(e)),e.obtainedPlants=[0],e.cards=[],e}n(e,t);var i=e.prototype;return i.giveCards=function(t){var e=this,n=v.randomize(this.cardsAtTop);this.givenCards=[];for(var o=function(o){var r=new lt;r.oldWP=n[o].node.worldPosition.clone(),r.oldAngle=n[o].node.angle+0,r.card=n[o],e.givenCards.push(r);var i=e.cardSlots[o].worldPosition.clone();p(n[o].node).to(1.5,{}).call((function(){C.play(e.cardGiveSound,1,.1)})).to(.5,{worldPosition:i,angle:0},{easing:"quadInOut"}).call((function(){C.play(e.cardFlipSound,1,.1)})).to(.2,{scale:new h(0,1,1)},{easing:"quadIn"}).call((function(){n[o].ID=t[o],n[o].turnFace()})).to(.2,{scale:new h(1,1,1)},{easing:"quadOut"}).call((function(){n[o].node.on(s.EventType.MOUSE_DOWN,(function(t){e.switchCard(r)}),e)})).start()},r=0;r<4&&r<n.length&&r<this.cardSlots.length&&r<t.length;r++)o(r);S.component.dangerroomLevel.plantsToChoose=t.concat(),A.savePP()},i.returnCards=function(){var t=this;this.done||(this.done=!0,S.component.dangerroomLevel.plantsToChoose=null,S.component.dangerroomLevel.plantChosen=!0,C.play(this.cardFlipSound,1,.1),this.introduction.node.parent.active=!1,this.acceptButton.node.active=!1,this.givenCards.forEach((function(e){if(e.selected){var n=e.card.ID;n>=0&&n<y.amount&&A.pushPlantToEndlessProperty(n,S.component.dangerroomLevel)}else p(e.card.node).to(.2,{scale:new h(0,1,1)},{easing:"quadIn"}).call((function(){e.card.turnBack()})).to(.2,{scale:new h(1,1,1)},{easing:"quadOut"}).to(.5,{}).call((function(){C.play(t.cardReturnSound,1,.1)})).to(.7,{worldPosition:e.oldWP,angle:e.oldAngle},{easing:"quadInOut"}).start()})),p(this.getComponent(g)).to(2,{}).call((function(){z.cardsController.plantsCanBeChosen=S.component.dangerroomLevel.obtainedPlants.concat(),S.component.moveCamera()})).to(1,{opacity:0}).call((function(){t.node.active=!1})).start())},i.switchCard=function(t){if(!this.done){this.givenCards.forEach((function(t){t.selected=!1})),C.play(this.cardSelectSound,1,.1),t.selected=!0;var e=t.card.ID,n=e>=0&&e<y.amount;this.introduction.node.parent.active=n,this.acceptButton.node.active=n,n&&(this.introduction.string=D.getString(w.getPlantAlmanac(e).BriefIntroduction),this.acceptButton.node.worldPosition=t.card.node.worldPosition.clone().add(new h(0,-170,0)))}},i.onLoad=function(){},i.onEnable=function(){var t=this;this.cards=[],this.cards.push(this.card0);for(var e=1;e<this.obtainedPlants.length;e++){var n=f(this.card0.node);n.parent=this.card0.node.parent,this.cards.push(n.getComponent(P))}this.obtainedPlants.forEach((function(e,n){var o;null==(o=t.cards[n])||o.cardGrouper(e)})),this.introduction.node.parent.active=!1,this.acceptButton.node.active=!1,this.done=!1,this.tooltips.setString()},e}(b)).prototype,"tooltips",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ct}}),Q=e(J.prototype,"cardsAtTop",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=e(J.prototype,"cardSlots",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=e(J.prototype,"introduction",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(J.prototype,"acceptButton",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(J.prototype,"cardGiveSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(J.prototype,"cardReturnSound",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(J.prototype,"cardSelectSound",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(J.prototype,"cardAcceptSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e(J.prototype,"cardFlipSound",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(J.prototype,"card0",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=J))||V));a._RF.pop()}}}));

System.register("chunks:///_virtual/DarkBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Armors.ts"],(function(e){var r,o,i,t,n,a,u,s,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,u=e.dragonBones},function(e){s=e.Zombie},function(e){c=e.armorEnum}],execute:function(){var l,d,h,f,m;n._RF.push({},"a2fdf+IiPJOcbW0gNMdABzB","DarkBasicZombie",void 0);var p=a.ccclass,g=a.property;e("DarkBasicZombie",(l=p("DarkBasicZombie"),d=g(u.ArmatureDisplay),l((m=r((f=function(e){function r(){for(var r,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,i(r,"shoulder",m,t(r)),r}o(r,e);var n=r.prototype;return n.judgeShoulder=function(){var e=!1,r=2;this.armors.forEach((function(o){e||o.ID==c.dark_armor3&&(e=!0,r=o.stage<r?o.stage:r)})),this.shoulder.node.active=e,e&&this.shoulder.playAnimation(r.toString())},n.playSpecialZombieDieForced=function(){this.judgeShoulder()},n.onDamaged=function(e,r,o){this.judgeShoulder()},n.onArmorDamaged=function(e,r){this.judgeShoulder()},n.onArmorThrown=function(e){this.judgeShoulder()},n.onArmorAdded=function(e){this.judgeShoulder()},n.specialZombieOnEnable=function(){this.judgeShoulder()},r}(s)).prototype,"shoulder",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/DarkGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./SoundRescourses.ts","./Zombies.ts","./levelController.ts"],(function(n){var r,t,e,i,a,o,u,c,s,l,p;return{setters:[function(n){r=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,o=n._decorator,u=n.AudioClip},function(n){c=n.GargantuarZombie},function(n){s=n.sounds},function(n){l=n.ZombieEnum},function(n){p=n.LevelPlay}],execute:function(){var f,m,h,b,d;a._RF.push({},"46db1BvNoZPlofkCGJJY+ut","DarkGargantuarZombie",void 0);var g=o.ccclass,k=o.property;n("DarkGargantuarZombie",(f=g("DarkGargantuarZombie"),m=k(u),f((d=r((b=function(n){function r(){for(var r,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return r=n.call.apply(n,[this].concat(a))||this,e(r,"hitSound",d,i(r)),r.impEnum=l.dark_imp,r}t(r,n);var a=r.prototype;return a.specialGargantuarAnimationListener=function(n){"hit"==n.name&&s.play(this.hitSound,1,.1)},a.onSmashing=function(n){p.shakeScreen()},a.knockBackDistanceScale=function(){return.5},r}(c)).prototype,"hitSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=b))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/DarkJesterZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./Character.ts"],(function(t){var e,i,n,o,r,a,s,l,c,u,h,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.AudioClip,l=t.Vec2,c=t.tween},function(t){u=t.Zombie},function(t){h=t.sounds},function(t){d=t.CharacterType}],execute:function(){var p,y,g,b,m,f,w,S,v,P,k,D,L,E,j;r._RF.push({},"b94a35XGStGxr/hrzHbrazc","DarkJesterZombie",void 0);var A=a.ccclass,z=a.property,x=function(t,e,i,n,o,r,a){var s=this;this.cs=void 0,this.moveTween=[],this.cs=t,t.gravity=0,t.bodyLinearVelocity=-1,t.linearVelocity=new l(0,0),t.detectEnemyOn=!1,t.targetLocked=null,t.parentLock=!1,t.maxDistance_=1/0;var u=a.inLane;u&&(t.node.setParent(a.node.parent),t.node.setSiblingIndex(a.node.getSiblingIndex())),a&&a.caughtPrjs.push(this),this.moveTween=[c(t).to(e/2,{worldPosition:r},{easing:"quadOut"}).call((function(){u&&(t.node.setParent(u.prjLayer),t.node.setSiblingIndex(0))})).to(e/2,{worldPosition:o},{easing:"quadIn"}).start(),c(t).to(e,{height:i},{easing:"backOut"}).call((function(){a&&a.splicePrj(s),t.linearVelocity=n,t.enemyType=null!=a&&a.hypno?d.zombie:d.plant,t.detectEnemyOn=!0,t.targetLocked=null,t.bodyLinearVelocity=0})).start()]};t("DarkJesterZombie",(p=A("DarkJesterZombie"),y=z(Number),g=z([s]),b=z(s),m=z(s),f=z(s),w=z(s),p((P=e((v=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).rotating=!1,n(e,"rotateDuration",P,o(e)),e.rotateCD=1,e.caughtPrjs=[],n(e,"ringSounds",k,o(e)),n(e,"rotateStartSound",D,o(e)),n(e,"rotateEndSound",L,o(e)),n(e,"rotateLoopSound",E,o(e)),n(e,"throwSound",j,o(e)),e}i(e,t);var r=e.prototype;return r.playSpecialZombieDieForced=function(){this.throwAllPrjs()},r.playSpecialZombieDie=function(t){this.rotating&&this.judgeDeath(.1)},r.commonShotPopOnTouch=function(t){if(this.shouldSpeedScale()<=0)return!0;var e=t.linearVelocity.x*(this.reversed?-1:1)>0;if(t.canbeJesterReversed&&e){new x(t,1,.667*this.zombieHeight,new l(this.reversed?15:-15,0),this.worldPosition.clone().add(new l(this.reversed?30:-30,0)),this.worldPosition.clone().add(new l(this.reversed?-30:30,0)),this);return this.rotateStart(),!1}return!0},r.splicePrj=function(t){var e=this.caughtPrjs.indexOf(t);-1!=e&&this.caughtPrjs.splice(e,1),this.caughtPrjs.length<=0&&(this.rotateCD=this.rotateDuration)},r.specialZombieOnEnable=function(){this.rotating=!1,this.body.WalkAnm="Walk",this.body.EatAnm="Eat",this.replayAnimation()},r.rotateStart=function(){this.rotating||(this.rotating=!0,this.body.WalkAnm="RotateLoop",this.body.EatAnm="RotateLoop",this.body.playAnimation("RotateStart",1,.1),this.switching=!0,this.walking=!1,h.play(this.rotateStartSound,1,.1))},r.rotateEnd=function(){this.rotating&&(this.rotating=!1,this.body.WalkAnm="Walk",this.body.EatAnm="Eat",this.body.playAnimation("RotateEnd"),this.switching=!0,this.walking=!1,h.play(this.rotateEndSound,1,.1))},r.throwAllPrjs=function(){var t=this;this.caughtPrjs.forEach((function(e){var i;null==(i=e.moveTween)||i.forEach((function(t){t.stop()}));var n=t.defaultDirection().multiply2f(1,2);e.cs.gravity=2,e.cs.linearVelocity=new l(n.x,0),e.cs.detectEnemyOn=!0,e.cs.bodyLinearVelocity=n.y,e.cs.enemyType=d.zombie,t.inLane&&e.cs.node.setParent(t.inLane.prjLayer)})),this.caughtPrjs=[]},r.walkTimeScale=function(t,e,i){return this.rotating?i:t/e},r.walkSpeedScaleExtra=function(){return this.rotating?2:1},r.specialAnimationListener=function(t){this.walking||"throw"!=t.name||h.play(this.throwSound,.3,.1)},r.specialZombieUpdate=function(t,e,i){this.caughtPrjs.length<=0&&this.rotating&&(this.rotateCD>0&&(this.rotateCD-=t),this.rotateCD<=0&&this.rotateEnd()),this.walking&&t>0&&(this.rotating?h.play(this.rotateLoopSound,1,NaN,.95):h.playArray(this.ringSounds,1,NaN,.8))},e}(u)).prototype,"rotateDuration",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),k=e(v.prototype,"ringSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(v.prototype,"rotateStartSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(v.prototype,"rotateEndSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(v.prototype,"rotateLoopSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(v.prototype,"throwSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=v))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/DarkKingZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./Plants.ts","./NodePools.ts","./ParticleSelfdestroy.ts","./Zombies.ts","./Armors.ts"],(function(i){var n,e,t,a,o,r,s,l,u,c,h,d,f,p,g,m,b,y,S,w;return{setters:[function(i){n=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){o=i.cclegacy,r=i._decorator,s=i.AudioClip,l=i.Prefab,u=i.Vec2},function(i){c=i.Zombie,h=i.ZombieProps},function(i){d=i.Rectangle},function(i){f=i.Square},function(i){p=i.sounds},function(i){g=i.plants},function(i){m=i.ArrayGet,b=i.instantiatePooly},function(i){y=i.ParticleSelfdestroy},function(i){S=i.zombies},function(i){w=i.armorEnum}],execute:function(){var k,v,P,A,D,C,L,E,z,Z,K,_,I,O,q,j,B,x,R,T,M,V,F,W,N,X,H;o._RF.push({},"9a8c2Eb8BdEipMSk4CFKii0","DarkKingZombie",void 0);var U=r.ccclass,G=r.property,Y=function(i){function n(){for(var n,e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(n=i.call.apply(i,[this].concat(t))||this).PlantablePlants=["cherry_bomb","jalapeno","powerlily","iceburg","empea","powerplant","goldleaf","grapeshot"],n.KnightingAreaW=4,n.DelayBetweenKnightings=2.5,n.ValidKnightTargets=["dark","dark_armor1","dark_armor2","dark_armor3"],n.TargetListBecomesBlackList=!1,n}return e(n,i),n}(h);i("DarkKingZombie",(k=U("DarkKingZombie"),v=G([s]),P=G([s]),A=G([s]),D=G([s]),C=G([s]),L=G([s]),E=G([s]),z=G([s]),Z=G([s]),K=G([s]),_=G([s]),I=G(l),k((j=n((q=function(i){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=i.call.apply(i,[this].concat(o))||this)._objdataOwn=new Y,n.ValidKnightTargets=[],n.PlantablePlants=[],n.knockBackable=!1,n.knightDetector=new d,n.finalWaveVictoryCountdown=0,t(n,"deathSaySounds",j,a(n)),t(n,"headPopSounds",B,a(n)),t(n,"attackSaySounds",x,a(n)),t(n,"giveSounds",R,a(n)),t(n,"musicSounds",T,a(n)),t(n,"smashSounds",M,a(n)),t(n,"pukeSounds",V,a(n)),t(n,"swallowSounds",F,a(n)),t(n,"dropSaySounds",W,a(n)),t(n,"dropMusicSounds",N,a(n)),t(n,"knightEffectSounds",X,a(n)),t(n,"knightEffectPar",H,a(n)),n.knightEffectCD=0,n.knightingCD=0,n.givenArmor=null,n}e(n,i);var o=n.prototype;return o.playWalk=function(i){void 0===i&&(i=0),this.walking=!1,this.playIdle(i)},o.playSandStorm=function(i,n){this.worldPositionX=i,this.playDirtSpawn(0)},o.onObjdataSet=function(i){var n,e,t=this;this.PlantablePlants=[],null==(n=this._objdataOwn.PlantablePlants)||n.forEach((function(i){var n=g.getPlantEnumByString(i,!1);isNaN(n)||t.PlantablePlants.push(n)})),this.ValidKnightTargets=[],null==(e=this._objdataOwn.ValidKnightTargets)||e.forEach((function(i){var n=S.getZombieEnumByString(i);isNaN(n)||t.ValidKnightTargets.push(n)}))},o.specialZombieKnockbackable=function(){return!1},o.allowPlantInSquare=function(i){return-1==this.PlantablePlants.indexOf(i)},o.specialZombieUpdate=function(i,n,e){this.detectKnight(i)},o.detectPlant=function(i){},o.setPlantDetectorRec=function(){this.plantDetectorRec=new d},o.specialZombieOnEnable=function(){this.switching=!1,this.givenArmor=null,this.knightingCD=0},o.onLaneSpawnSettled=function(i,n){this.worldPositionX=f.getSquareWorldPosition(0,this.reversed?0:8).x,this.body.playAnimation("Spawn",1/0),this.bodyRecHiddenCD=2,this.switching=!0},o.onPutDirectly=function(i){this.worldPositionX=i.node.worldPosition.x},o.onDirtSpawned=function(i){this.playIdle(0),this.switching=!1},o.animationOnLPComplete=function(){this.switching=!1},o.playSpecialZombieDie=function(i){this.judgeDeath(0)},o.playSpecialZombieDieForced=function(){this.removeFromLnC(this.inLnC)},o.removeFromLnC=function(i){if(i){var n=i.gridZombiesInSquare.indexOf(this);-1!=n&&i.gridZombiesInSquare.splice(n,1),i.readIndex()}},o.specialZombieOnSquareChange=function(i,n){this.removeFromLnC(i),n&&this.isAlive()&&(-1==n.gridZombiesInSquare.indexOf(this)&&n.gridZombiesInSquare.push(this),n.readIndex(),this.knightDetector=d.createRectangleSide(new u(n.node.worldPosition.x+.5*f.SquareDisW*(this.reversed?-1:1),n.node.worldPosition.y),this._objdataOwn.KnightingAreaW*(this.reversed?1:-1)*f.SquareDisW,3*f.SquareDisH))},o.specialAnimationListener=function(i){var n=this;if("deathSay"==i.name)p.playArray(this.deathSaySounds,1,.1);else if("headPop"==i.name)p.playArray(this.headPopSounds,1,.1);else if("puke"==i.name)p.playArray(this.pukeSounds,1,.1);else if("swallow"==i.name)p.playArray(this.swallowSounds,1,.1);else if("attackSay"==i.name)p.playArray(this.attackSaySounds,1,.1);else if("give"==i.name)p.playArray(this.giveSounds,1,.1),this._give();else if("music"==i.name)p.playArray(this.musicSounds,1,.1);else if("smash"==i.name){var e,t,a;p.playArray(this.smashSounds,1,.1),p.playArray(this.dropSaySounds,1,.1),p.playArray(this.dropMusicSounds,1,.1),null==(e=this.inLnC.gridZombiesInSquare)||e.concat().forEach((function(i){i!=n&&n.isAlive()&&i.playDie()}));var o=!0;null==(t=this.inLnC.getAllPlants())||t.forEach((function(i){i.kill(),i.isAlive()&&(o=!1)})),null==(a=this.inLnC)||null==(a=a.tombStone)||a.die(),o||this.playDie()}else"Idle"==i.name&&(this.isIdle=!1,this.playIdle(0),this.switching=!1)},o._give=function(){var i,n,e=this,t=null;m.randomize([null==(i=this.inLane)?void 0:i.UpperLane,this.inLane,null==(n=this.inLane)?void 0:n.LowerLane]).forEach((function(i){i&&!t&&m.randomize(e.hypno?i.hypnoZombiePool():i.zombiePool()).forEach((function(i){t||e.zombieCanAddArmor(i)&&(i.throwAllArmors(),(t=i.addArmor(w.dark_armor3))&&(t.hurting=25,e.givenArmor=t,e.knightingCD=e._objdataOwn.DelayBetweenKnightings,e.knightEffectCD=0))}))}))},o.zombieCanAddArmor=function(i){if(i.haveArmor(w.dark_armor3)||!i.isRealZombie)return!1;var n=-1!=this.ValidKnightTargets.indexOf(i.OID);return this._objdataOwn.TargetListBecomesBlackList&&(n=!n),n&&this.knightDetector.judgeInRec(i.worldPositionX,i.worldPositionY)},o.detectKnight=function(i){var n,e=this;if(!(i<=0))if(this.switching||(this.knightingCD-=i),this.knightingCD>0){if(this.knightEffectCD>0)this.knightEffectCD-=i;else if(null!=(n=this.givenArmor)&&n.isAlive()){this.knightEffectCD=.5,p.playArray(this.knightEffectSounds,1,.2);var t=b(this.knightEffectPar).getComponent(y);t.node.parent=this.givenArmor.owner.node.parent,t.node.worldPosition=this.givenArmor.node.worldPosition,t.db.playAnimation("Play"+Math.floor(4*Math.random()).toString())}}else if(!this.switching){var a,o;this.knightingCD=0,this.givenArmor=null;var r=!1;m.randomize([null==(a=this.inLane)?void 0:a.UpperLane,this.inLane,null==(o=this.inLane)?void 0:o.LowerLane]).forEach((function(i){i&&!r&&m.randomize(e.hypno?i.hypnoZombiePool():i.zombiePool()).forEach((function(i){r||e.zombieCanAddArmor(i)&&(r=!0)}))})),r&&(this.switching=!0,this.body.playAnimation("Attack"))}},n}(c)).prototype,"deathSaySounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=n(q.prototype,"headPopSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(q.prototype,"attackSaySounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=n(q.prototype,"giveSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=n(q.prototype,"musicSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=n(q.prototype,"smashSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=n(q.prototype,"pukeSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(q.prototype,"swallowSounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=n(q.prototype,"dropSaySounds",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=n(q.prototype,"dropMusicSounds",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=n(q.prototype,"knightEffectSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=n(q.prototype,"knightEffectPar",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=q))||O));o._RF.pop()}}}));

System.register("chunks:///_virtual/DarkWizardSheep.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./SoundRescourses.ts","./ParticleSelfdestroy.ts"],(function(e){var n,i,a,t,r,s,o,l,u,c,h;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,o=e.AudioClip,l=e.dragonBones},function(e){u=e.Character},function(e){c=e.sounds},function(e){h=e.ParticleSelfdestroy}],execute:function(){var p,d,y,f,S,b,g,m,A,v,w,z,L;r._RF.push({},"fb2fbui2JZAiqtxkZOQhX5M","DarkWizardSheep",void 0);var D=s.ccclass,C=s.property;e("DarkWizardSheep",(p=D("DarkWizardSheep"),d=C([o]),y=C([o]),f=C([o]),S=C([o]),b=C(h),p((A=n((m=function(e){function n(){for(var n,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(n=e.call.apply(e,[this].concat(r))||this).dead=!1,a(n,"chargeSounds",A,t(n)),a(n,"saySounds",v,t(n)),a(n,"explSaySounds",w,t(n)),a(n,"spawnSounds",z,t(n)),a(n,"psd",L,t(n)),n}i(n,e);var r=n.prototype;return r.characterUpdate=function(e){},r.characterOnLoadForced=function(){this.db.on(l.EventObject.FRAME_EVENT,this.animationListener,this)},r.animationListener=function(e){"bla"==e.name?c.playArray(this.saySounds,1,.7):"charge"==e.name?c.playArray(this.chargeSounds,1,.1):"expl"==e.name&&(c.playArray(this.explSaySounds,1,.1),this.shadeAlphaScale=0)},r.characterOnSquareChange=function(e,n){var i;this.dead||(e&&e.sheep==this&&(e.sheep=null),n?(null==(i=n.sheep)||i.die(),n.sheep=this):this.die())},r.die=function(){var e;this.dead=!0,this.db.playAnimation("Die"),this.psd&&(this.psd.willBeKilled=!0),(null==(e=this.inLnC)?void 0:e.sheep)==this&&this.inLnC.unsheepen()},r.characterOnEnable=function(){this.db.playAnimation("Spawn",1),this.dead=!1,this.shadeAlphaScale=1,c.playArray(this.spawnSounds,1,.1)},r.characterOnLaneChange=function(e,n){n&&this.node.setParent(n.prjLayer,!0)},n}(u)).prototype,"chargeSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(m.prototype,"saySounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=n(m.prototype,"explSaySounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(m.prototype,"spawnSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=n(m.prototype,"psd",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=m))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/DarkWizardZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./CharacterManager.ts","./LightningReed.ts","./Plants.ts"],(function(i){var t,e,n,a,o,r,l,s,h,c,u,d,f,p,g,m,b,P;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,a=i.assertThisInitialized,o=i.createClass},function(i){r=i.cclegacy,l=i._decorator,s=i.AudioClip,h=i.Node,c=i.Prefab,u=i.Vec2},function(i){d=i.ZombieDamageDetails,f=i.Zombie,p=i.ZombieProps},function(i){g=i.sounds},function(i){m=i.PlantPool},function(i){b=i.lightningreed},function(i){P=i.PlantEnum}],execute:function(){var w,y,v,S,C,A,_,T,k,L,D,j,E,I,O,z,B;r._RF.push({},"2d9cedBb0RE7orZSdYjXW4C","DarkWizardZombie",void 0);var R=l.ccclass,Z=l.property,F=function(i){function t(){for(var t,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(t=i.call.apply(i,[this].concat(n))||this).TimeBeforeFirst=7,t.TimeBeforeFirstAdditional=2,t.TimeBetween=11,t.TimeBetweenAdditional=3,t}return e(t,i),t}(p),X=i("wizard",function(){function i(){}return i.getPlantCanbeSheepened=function(i,t){return void 0===t&&(t=!1),i&&(!i.objdataOwn.CannotBeSheepenedByWizard||t&&i.ID==P.LilyPad)&&!i.invincible&&!i.fooding},i}());i("DarkWizardZombie",(w=R("DarkWizardZombie"),y=Z([s]),v=Z([s]),S=Z([s]),C=Z(h),A=Z(c),_=Z(c),T=Z(c),w((D=t((L=function(i){function t(){for(var t,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(t=i.call.apply(i,[this].concat(o))||this)._objdataOwn=new F,n(t,"chargeSounds",D,a(t)),n(t,"chargeSaySounds",j,a(t)),n(t,"magicSounds",E,a(t)),t.magicing=!1,t._firstTime=!1,t._targetPlant=null,t.magicCD=0,n(t,"magicFrom",I,a(t)),n(t,"linkPar",O,a(t)),n(t,"hitPar",z,a(t)),n(t,"sheep",B,a(t)),t.sheeps=[],t}e(t,i);var r=t.prototype;return r.specialAnimationListener=function(i){"charge"==i.name?g.playArray(this.chargeSounds,1,.1):"chargeSay"==i.name?g.playArray(this.chargeSaySounds,1,.1):"magic"==i.name&&(g.playArray(this.magicSounds,1,.1),this.isAlive()&&!this.hypno&&this._magic(),this._firstTime=!1)},r.animationOnLPComplete=function(){this.magicing=!1},r.specialPotionInvisibleInvalid=function(){return this.magicing},r.detectPlant=function(i){var t=this;if(this.hypno)this.defaultDetectPlant(i);else{if(0==i)return;if(!this.inLane)return void this.playWalk();if(!this.detectPlantOn())return;var e=this.plantDetectorRec,n=null,a=null;if(!this.ignorePlants()){var o,r;null==(o=this.inLane)||o.plantPool().forEach((function(i){i.eaterDetectable&&t.plantEatAllowed(i)&&e.judgeCrossRec(i.bodyRec)&&(n=i)}));var l=-1/0;null==(r=this.inLane)||r.hypnoZombiePool().forEach((function(i){var t=i.bodyRec.prjX().y;t>l&&e.judgeCrossRec(i.bodyRec)&&(l=t,a=i)}))}var s=new d(this.dps*i,!0,!1,!1,null);if(a)a.eatByZombie(s,this),this.playEat(i);else if(n){var h,c=n.plantInLnC,u=!0;null==c||null==(h=c.getAllPlants())||h.forEach((function(i){u&&(X.getPlantCanbeSheepened(i)||(u=!1))})),u?(this._targetPlant=n,this.attackAnm()):(n.eat(s.damage,this),this.playEat(i))}else this.allowWalk()?this.playWalk():(this.walking||this.eating)&&this.playIdle()}},r.specialZombieOnEnable=function(){this.sheeps=[],this._firstTime=!0,this.magicing=!1,this.magicCD=this._objdataOwn.TimeBeforeFirst+this._objdataOwn.TimeBeforeFirstAdditional*Math.random()},r.onObjdataSet=function(i){this.magicCD=this._objdataOwn.TimeBeforeFirst+this._objdataOwn.TimeBeforeFirstAdditional*Math.random()},r.getTargetPlantRight=function(){var i=this,t=null,e=-1/0,n=[],a=[],o=[];m.pool().forEach((function(t){-1==n.indexOf(t.plantInLnC)&&(X.getPlantCanbeSheepened(t)?t.worldPositionX>i.worldPositionX?a.push(t):o.push(t):n.push(t.plantInLnC))}));var r=1/0;return[o,a].forEach((function(n){t||n.forEach((function(n){var a=Math.abs(n.lIndex-i.lIndex);i._firstTime&&a<r&&(e=-1/0),(i._firstTime?a<=r&&n.worldPositionX>e:n.worldPositionX>e)&&(t=n,r=a,e=n.worldPositionX)}))})),t},r.getTargetPlantLeft=function(){var i=this,t=null,e=1/0,n=[],a=[],o=[];m.pool().forEach((function(t){-1==n.indexOf(t.plantInLnC)&&(X.getPlantCanbeSheepened(t)?t.worldPositionX<i.worldPositionX?a.push(t):o.push(t):n.push(t.plantInLnC))}));var r=1/0;return[o,a].forEach((function(n){t||n.forEach((function(n){var a=Math.abs(n.lIndex-i.lIndex);i._firstTime&&a<r&&(e=1/0),(i._firstTime?a<=r&&n.worldPositionX<e:n.worldPositionX<e)&&(t=n,r=a,e=n.worldPositionX)}))})),t},r._magic=function(){var i=this._targetPlant;if(i){var t,e,n=!0;if(null!=(t=i)&&t.isAlive()||(n=!1),n)null==(e=i)||null==(e=e.plantInLnC)||e.getAllPlants().forEach((function(i){n&&(X.getPlantCanbeSheepened(i)||(n=!1))}));n||(i=null)}if(i||(i=this.reversed?this.getTargetPlantLeft():this.getTargetPlantRight()),i){this.magicCD=this._objdataOwn.TimeBetween+this._objdataOwn.TimeBetweenAdditional*Math.random();var a=i.plantInLnC;b.spawnParticleLink(new u(this.magicFrom.worldPosition.x,this.magicFrom.worldPosition.y),new u(a.node.worldPosition.x,a.node.worldPosition.y),this.linkPar,this.hitPar,a.inLane.prjLayer);var o=a.sheepen(this.sheep);o&&this.sheeps.push(o)}},r.playSpecialZombieDieForced=function(){this.killAllSheeps()},r.killAllSheeps=function(){this.sheeps.forEach((function(i){i.die()})),this.sheeps=[]},r.attackAnm=function(){this.correctShadeWP(),this.magicing=!0,this.walking=!1,this.switching=!0,this.body.playAnimation("Attack",1/0,.2)},r.onHypnoed=function(){this.killAllSheeps()},r.specialZombieUpdate=function(i,t,e){if(!this.switching&&this.walking&&this.enteredLawn&&!this.hypno)if(this.magicCD>0)this.magicCD-=i;else{var n=this.reversed?this.getTargetPlantLeft():this.getTargetPlantRight();n&&(this._targetPlant=n,this.attackAnm())}},o(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),t}(f)).prototype,"chargeSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(L.prototype,"chargeSaySounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(L.prototype,"magicSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(L.prototype,"magicFrom",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(L.prototype,"linkPar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(L.prototype,"hitPar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(L.prototype,"sheep",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=L))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/DarkZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./SoundRescourses.ts","./levelController.ts","./NodePools.ts","./Square.ts","./Jalapeno.ts","./GroundFire.ts"],(function(e){var t,n,o,r,i,a,s,u,l,d,h,c,S,p,b,m,f,y,g,w,A,v,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createClass},function(e){a=e.cclegacy,s=e._decorator,u=e.CCInteger,l=e.AudioClip,d=e.Prefab,h=e.Vec2,c=e.assetManager,S=e.tween},function(e){p=e.ZombossStage,b=e.ZombossMechZombie},function(e){m=e.sounds},function(e){f=e.LevelPlay},function(e){y=e.instantiatePooly,g=e.ArrayGet},function(e){w=e.Square},function(e){A=e.jalapeno},function(e){v=e.GroundFireColorEnum,k=e.GroundFireSpreadStyleEnum}],execute:function(){var C,L,F,M,R,P,z,E,D,I,Z,T,O,q,_,x,j,W,B,G,N,U,Y,H,J,V,X,K,Q,$,ee,te,ne,oe,re,ie,ae,se,ue,le,de,he,ce,Se,pe,be,me,fe,ye,ge,we,Ae,ve,ke,Ce,Le,Fe,Me,Re,Pe,ze,Ee,De,Ie;a._RF.push({},"29b40YPfVBE258ttbtl/EIJ","DarkZombossMechZombie",void 0);var Ze=s.ccclass,Te=s.property,Oe=e("DarkZombossStage",(C=Ze("DarkZombossStage"),L=Te(u),F=Te(u),M=Te(u),R=Te(u),C((E=t((z=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"FireballCount",E,r(t)),o(t,"FireballCountAdditional",D,r(t)),o(t,"DragonImpCount",I,r(t)),o(t,"DragonImpCountAdditional",Z,r(t)),t}return n(t,e),t}(p)).prototype,"FireballCount",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),D=t(z.prototype,"FireballCountAdditional",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),I=t(z.prototype,"DragonImpCount",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Z=t(z.prototype,"DragonImpCountAdditional",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),P=z))||P));e("DarkZombossMechZombie",(T=Ze("DarkZombossMechZombie"),O=Te([Oe]),q=Te([Oe]),_=Te(l),x=Te([l]),j=Te([l]),W=Te([l]),B=Te([l]),G=Te([l]),N=Te([l]),U=Te([l]),Y=Te([l]),H=Te([l]),J=Te([l]),V=Te([l]),X=Te([l]),K=Te([l]),Q=Te(l),$=Te([l]),ee=Te([l]),te=Te([l]),ne=Te(l),oe=Te([l]),re=Te(d),ie=Te(d),ae=Te(d),T((le=t((ue=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).FSCD=0,o(t,"mechStages",le,r(t)),o(t,"mech2Stages",de,r(t)),o(t,"eyeblopSound",he,r(t)),o(t,"roarSounds",ce,r(t)),o(t,"introSkySounds",Se,r(t)),o(t,"introFlyShadeSounds",pe,r(t)),o(t,"introSkyRoarSounds",be,r(t)),o(t,"introRoarSounds",me,r(t)),o(t,"introFireSounds",fe,r(t)),o(t,"deathRoarSounds",ye,r(t)),o(t,"fireSteadySounds",ge,r(t)),o(t,"fireShootSounds",we,r(t)),o(t,"fireEndSounds",Ae,r(t)),o(t,"fireEndRoarSounds",ve,r(t)),o(t,"magnetStartSounds",ke,r(t)),o(t,"magnetStartRoarSounds",Ce,r(t)),o(t,"magnetLoopSound",Le,r(t)),o(t,"magnetEndSounds",Fe,r(t)),o(t,"magnetEndRoarSounds",Me,r(t)),o(t,"rushStartSounds",Re,r(t)),o(t,"rushLoopSound",Pe,r(t)),o(t,"rushEndSounds",ze,r(t)),o(t,"introShadePar",Ee,r(t)),o(t,"introFirePar",De,r(t)),t.willLandPos=new h(6,1),t.jumpTargetPoses=[new h(6,1),new h(6,2),new h(6,3),new h(6,4)],t.walkEasing="quadInOut",t.WalksLeftOrRight=!1,t.walksWhenRushing=!1,o(t,"fireSquarePar",Ie,r(t)),t._rushColume=0,t.leftFireTime=0,t.leftImpCount=0,t.currentMechStages=[],t}n(t,e);var a=t.prototype;return a.specialZombossOnLoad=function(){var e=this;this.rushLoopSound&&c.loadRemote(this.rushLoopSound.nativeUrl,{audioLoadMode:l.AudioType.DOM_AUDIO},(function(t,n){n&&(e.rushLoopSound=n)})),this.magnetLoopSound&&c.loadRemote(this.magnetLoopSound.nativeUrl,{audioLoadMode:l.AudioType.DOM_AUDIO},(function(t,n){n&&(e.magnetLoopSound=n)}))},a.specialZombossUpdateForce=function(e,t,n,o){this.moveTween&&(this.FSCD-=e,this.FSCD<=0&&(this.FSCD=1,m.playArray(this.worldZombossMechStepSounds,1,.1),f.shakeScreen()))},a.getFoodMagnetedObject=function(){if(!(this.mechStunningCD>0))return this.rushInterupt(!1),this.StunStartAnmName="MagnetStart",this.StunEndAnmName="MagnetEnd",this._currentStunLoopSound=this.magnetLoopSound,this.stunStart(),this.getMagnetedObject();this.mechStunningCD=this.currentMechStages[this.currentStage].StunTime},a.specialZombossMechBeforeRushInteruptStun=function(){this.specialZombossMechBeforeChangeStageStun()},a.specialZombossMechBeforeChangeStageStun=function(){this.StunStartAnmName="StunStart",this.StunEndAnmName="StunEnd",this._currentStunLoopSound=this.worldZombossStunLoopSound},a.jumpStart=function(e){void 0===e&&(e=this.getJumpTarget()),this.jump(e)},a.specialZombossMechAnimationListener=function(e){var t=this;switch(e.name){case"eyeBlopSound":m.play(this.eyeblopSound,1,.1);break;case"roarSound":m.playArray(this.roarSounds,1,.1);break;case"introRoarSound":m.playArray(this.introRoarSounds,1,.1);break;case"introFireSound":m.playArray(this.introFireSounds,1,.1);break;case"introLand":m.playArray(this.worldZombossMechStabSounds,1,.1);break;case"fireShootSound":m.playArray(this.fireShootSounds,1,.1);break;case"shake":f.shakeScreen(1);break;case"Fire":var n=this.dropMissileOnLnC(w.getRandomLnC(0,4,2,6));n.zombieWhiteList=this.basicWhiteList,this.leftImpCount>0&&(this.leftImpCount--,n.haveImp=!0,n.hypno=this.hypno,n.reversed=this.reversed);break;case"introSkySound":m.playArray(this.introSkySounds,1,.1),m.playArray(this.introSkyRoarSounds,1,.1);break;case"summon":var o=this.reversed?3:5;this.columeSummon(o);break;case"stunStartSound":m.playArray(this.magnetStartSounds,1,.1),m.playArray(this.magnetStartRoarSounds,1,.1);break;case"stunEndSound":m.playArray(this.magnetEndSounds,1,.1),m.playArray(this.magnetEndRoarSounds,1,.1),m.playArray(this.worldZombossAngrySaySounds,1,.1);break;case"rushStart":m.playArray(this.rushStartSounds,1,.1),m.playArray(this.worldZombossRushSaySounds,1,.1);break;case"rushLoop":this.body.playAnimation("RushLoop",1/0),this.audioSource.clip=this.rushLoopSound,this.audioSource.play(),this.rushFire();break;case"rushEndSound":m.playArray(this.rushEndSounds,1,.1);break;case"fireSteadySound":m.playArray(this.fireSteadySounds,1,.1),m.playArray(this.worldZombossShootSaySounds,1,.1);break;case"fireLoop":this.leftFireTime>0?(this.leftFireTime--,this.body.playAnimation("FireLoop",1/0)):this.body.playAnimation("FireEnd",1/0);break;case"fireEndSound":m.playArray(this.fireEndRoarSounds,1,.1),m.playArray(this.fireEndSounds,1,.1);break;case"deathRoarSound":m.playArray(this.deathRoarSounds,1,.1);break;case"shade":if(this.shade){var r=y(this.introShadePar);r.parent=this.shade.node.parent,r.scale=this.node.scale;var i=w.getLnC(2,4);r.worldPosition=i.node.worldPosition}m.playArray(this.worldZombossSpawnSaySounds,1,.1),m.playArray(this.introFlyShadeSounds,1,.1);break;case"introFire":var a=y(this.introFirePar);a.parent=w.getLaneComponent(0).tombLayer,a.setSiblingIndex(0),a.scale=this.node.scale;var s=w.getSquareWorldPosition(2,this.reversed?1:8,0);a.worldPosition=s.toVec3();break;case"bossCrack":if(this.isBoss)for(var u=function(e){(t.reversed?[0,1]:[7,8]).forEach((function(t,n){var o=w.getLnC(e,t);o.crackleCountdown=1/0,o.crackedTile&&o.crackedTile.playAnimation("ZombossOcc"+(0==n?"L":""),1/0)}))},l=0;l<5;l++)u(l)}},a.getIdleC=function(){return this.reversed?2:6},a.specialZombossMechOnEnable=function(){this.worldPositionX=w.getSquareWorldPosition(0,this.reversed?1:7).x},a.onReversedSet=function(e){this.worldPositionX=w.getSquareWorldPosition(0,e?1:7).x},a.walkU=function(){if(this.isAlive()){var e=this;this.moveTween=S(e).by(140/30/this.lockedTimeScale(),{worldPositionY:w.SquareDisH},{easing:"quadInOut"}).call((function(){e.moveTween=null})).start()}},a.walkD=function(){if(this.isAlive()){var e=this;this.moveTween=S(e).by(140/30/this.lockedTimeScale(),{worldPositionY:-w.SquareDisH},{easing:"quadInOut"}).call((function(){e.moveTween=null})).start()}},a.rushFire=function(){var e=this,t=this.reversed?1:0;this._rushColume=this.cIndex+t,this.rushing=!0,this.rushDMGcount=0,this.rushTween=S(this).to(3,{rushColume:this.reversed?8+t:0}).call((function(){e.body.playAnimation("RushEnd",1/0),e.rushing=!1,e.audioSource.stop(),e.rushTween=null})).start()},a.jump=function(e){var t;void 0===e&&(e=g.getRandom(this.jumpTargetPoses)),"Idle"!=this.body.body.armature().animation.lastAnimationName&&this.body.playAnimation("Idle");var n=e.clone();this.reversed&&(n.x=8-n.x);var o=w.getLnC(n.y,n.x),r=this;null==(t=this.moveTween)||t.stop(),this.moveTween=S(r).to(3,{worldPositionX:o.node.worldPosition.x,worldPositionY:o.node.worldPosition.y},{easing:"quadInOut"}).call((function(){r.moveTween=null})).start()},a.rush=function(){this.rushDMGcount=0,this.body.playAnimation("RushStart",1/0),this.willRush=!1},a.stabAnimation=function(){this.idling=!1,this.rush()},a.summonAnimation=function(){this.body.playAnimation("Summon",1/0),this.idling=!1},a.shootAnimation=function(){if(this.isAlive()){this.targetLocators=[],this.idling=!1,this.body.playAnimation("FireStart",1/0);var e=this.currentMechStages[this.currentStage];this.leftFireTime=Math.floor(Math.random()*(e.FireballCountAdditional+1))+e.FireballCount,this.leftImpCount=Math.floor(Math.random()*(e.DragonImpCountAdditional+1))+e.DragonImpCount,this.shooting=!0}},i(t,[{key:"rushColume",get:function(){return this._rushColume},set:function(e){for(var t=this,n=Math.floor(this._rushColume),o=Math.floor(e),r=Math.min(n,o),i=Math.max(n,o),a=r;a<i;a++){[w.getLnC(this.lIndex,a),w.getLnC(this.lIndex-1,a)].forEach((function(e){if(e.isInLawn()){A.burnFromLnC(e,3600,!1,4,10,v.yellow,k.split,1,0,t.basicWhiteList,2);var n=y(t.fireSquarePar);n.parent=e.inLane.prjLayer,n.worldPosition=e.node.worldPosition,e.crackleCountdown=4}}))}this._rushColume=e}}]),t}(b)).prototype,"mechStages",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),de=t(ue.prototype,"mech2Stages",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),he=t(ue.prototype,"eyeblopSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(ue.prototype,"roarSounds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Se=t(ue.prototype,"introSkySounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pe=t(ue.prototype,"introFlyShadeSounds",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),be=t(ue.prototype,"introSkyRoarSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),me=t(ue.prototype,"introRoarSounds",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=t(ue.prototype,"introFireSounds",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ye=t(ue.prototype,"deathRoarSounds",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ge=t(ue.prototype,"fireSteadySounds",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),we=t(ue.prototype,"fireShootSounds",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ae=t(ue.prototype,"fireEndSounds",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ve=t(ue.prototype,"fireEndRoarSounds",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ke=t(ue.prototype,"magnetStartSounds",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ce=t(ue.prototype,"magnetStartRoarSounds",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Le=t(ue.prototype,"magnetLoopSound",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=t(ue.prototype,"magnetEndSounds",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Me=t(ue.prototype,"magnetEndRoarSounds",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Re=t(ue.prototype,"rushStartSounds",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pe=t(ue.prototype,"rushLoopSound",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=t(ue.prototype,"rushEndSounds",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ee=t(ue.prototype,"introShadePar",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=t(ue.prototype,"introFirePar",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=t(ue.prototype,"fireSquarePar",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=ue))||se));a._RF.pop()}}}));

System.register("chunks:///_virtual/darkZombossMissile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./zombossMissile.ts","./LnC.ts","./Zombies.ts","./Jalapeno.ts","./GroundFire.ts"],(function(n){var s,i,e,o,t,r,a,l,u;return{setters:[function(n){s=n.inheritsLoose},function(n){i=n.cclegacy,e=n._decorator},function(n){o=n.zombossMissile},function(n){t=n.LnCSpawnZombieStyleEnum},function(n){r=n.ZombieEnum},function(n){a=n.jalapeno},function(n){l=n.GroundFireColorEnum,u=n.GroundFireSpreadStyleEnum}],execute:function(){var c;i._RF.push({},"9f967zyhsFK1b2hBzuTg3+T","darkZombossMissile",void 0);var p=e.ccclass;e.property,n("darkZombossMissile",p("darkZombossMissile")(c=function(n){function i(){for(var s,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(s=n.call.apply(n,[this].concat(e))||this).haveImp=!1,s.zombieWhiteList=[],s.hypno=!1,s.reversed=!1,s}s(i,n);var e=i.prototype;return e.detectEnemy=function(n){},e.specialMissileOnPop=function(){var n,s=this;if(this.haveImp&&null!=(n=this.inLnC)&&n.isInLawn()){var i=this.inLnC.spawnZombie(r.dark_imp_dragon,t.dirtSpawn,!1,.5,0,null,!1);this.haveImp=!1,null!=i&&i.length&&i.forEach((function(n){n.hypno=s.hypno,n.reversed=s.reversed})),this.hypno=!1,this.reversed=!1}},e.specialZombossMissileOnGroundHit=function(n){null!=n&&n.isInLawn()&&(a.burnFromLnC(n,3600,!1,4,10,l.yellow,u.split,1,0,this.zombieWhiteList,2),n.crackleCountdown=Math.max(n.crackleCountdown,4))},i}(o))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/deepwaterTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./GridItem.ts","./Tiles.ts","./FrontYard.ts"],(function(l){var e,t,n,i,a,r,o,s;return{setters:[function(l){e=l.inheritsLoose},function(l){t=l.cclegacy,n=l._decorator,i=l.Color},function(l){a=l.Tile},function(l){r=l.GridItemEnum},function(l){o=l.TileEnum},function(l){s=l.FrontYard}],execute:function(){var u;t._RF.push({},"41630cGmxZGFp5Ady9aUxko","deepwaterTile",void 0);var d=n.ccclass;n.property,l("deepwaterTile",d("deepwaterTile")(u=function(l){function t(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=l.call.apply(l,[this].concat(n))||this)._slotN=void 0,e._slotE=void 0,e._slotW=void 0,e._slotS=void 0,e._slotNE=void 0,e._slotNW=void 0,e._slotSE=void 0,e._slotSW=void 0,e}e(t,l);var n=t.prototype;return n.afterLnCChange=function(l,e){var t,n,i,a,r=this;null==l||null==(t=l.get3x3())||t.forEach((function(l){var e,t;r.tileID==o.deepwater?null==l||null==(e=l.deepwater)||e.judgeSide():r.tileID==o.shallowwater&&(null==l||null==(t=l.shallowwater)||t.judgeSide())})),null==e||null==(n=e.get3x3())||n.forEach((function(l){var e,t;r.tileID==o.deepwater?null==l||null==(e=l.deepwater)||e.judgeSide():r.tileID==o.shallowwater&&(null==l||null==(t=l.shallowwater)||t.judgeSide())})),null==l||null==(i=l.inLane)||i.readHaveDeepWater(),null==e||null==(a=e.inLane)||a.readHaveDeepWater()},n.tileOnEnable=function(){this.db&&(this.db.timeScale=.8+.4*Math.random())},n.specialTileOnLoad=function(){var l=this;this.db.armature().getSlots().forEach((function(e){switch(e.name){case"N":l._slotN=e;break;case"E":l._slotE=e;break;case"W":l._slotW=e;break;case"S":l._slotS=e;break;case"NE":l._slotNE=e;break;case"NW":l._slotNW=e;break;case"SE":l._slotSE=e;break;case"SW":l._slotSW=e}}))},n.judgeSide=function(){var l,e,t,n,i,a,r,s,u,d,h,c,p,w,m,g,f=!1,_=!1,v=!1,y=!1,S=!1,E=!1,L=!1,b=!1,C=this.tileID==o.deepwater?"deepwater":"shallowwater";null!=(l=this.inLnC)&&null!=(l=l.upper)&&l.lefter[C]&&(E=!0),null!=(e=this.inLnC)&&null!=(e=e.upper)&&e.righter[C]&&(S=!0),null!=(t=this.inLnC)&&null!=(t=t.lower)&&t.lefter[C]&&(b=!0),null!=(n=this.inLnC)&&null!=(n=n.lower)&&n.righter[C]&&(L=!0),null!=(i=this.inLnC)&&i.upper[C]&&(f=!0),null!=(a=this.inLnC)&&a.lower[C]&&(y=!0),null!=(r=this.inLnC)&&r.lefter[C]&&(v=!0),null!=(s=this.inLnC)&&s.righter[C]&&(_=!0),null==(u=this._slotN)||null==(u=u.childArmature)||null==(u=u.animation)||u.play(f?"hidden":"shown",1/0),null==(d=this._slotE)||null==(d=d.childArmature)||null==(d=d.animation)||d.play(_?"hidden":"shown",1/0),null==(h=this._slotW)||null==(h=h.childArmature)||null==(h=h.animation)||h.play(v?"hidden":"shown",1/0),null==(c=this._slotS)||null==(c=c.childArmature)||null==(c=c.animation)||c.play(y?"hidden":"shown",1/0);var A="idle",N="idle",W="idle",T="idle";f?(A+="1",N+="1"):(A+="0",N+="0"),A+=S&&f&&_?"1":"0",N+=E&&f&&v?"1":"0",y?(W+="1",T+="1"):(W+="0",T+="0"),W+=L&&y&&_?"1":"0",T+=b&&y&&v?"1":"0",_?(A+="1",W+="1"):(A+="0",W+="0"),v?(N+="1",T+="1"):(N+="0",T+="0"),null==(p=this._slotNE)||null==(p=p.childArmature)||null==(p=p.animation)||p.gotoAndPlayByProgress(A,Math.random(),1/0),null==(w=this._slotNW)||null==(w=w.childArmature)||null==(w=w.animation)||w.gotoAndPlayByProgress(N,Math.random(),1/0),null==(m=this._slotSE)||null==(m=m.childArmature)||null==(m=m.animation)||m.gotoAndPlayByProgress(W,Math.random(),1/0),null==(g=this._slotSW)||null==(g=g.childArmature)||null==(g=g.animation)||g.gotoAndPlayByProgress(T,Math.random(),1/0)},n.onLnCChange=function(l,e){var t;null==(t=this.gridItemCP)||t.setGridItemType([this.tileID==o.deepwater?r.deepwater:r.shallowwater])},n.specialTileUpdate=function(l){this.db.color;var e,t=this.db.customMaterial,n=t.passes[0].getHandle("chillColor");t.passes[0].setUniform(n,null!=(e=s.currentLawn)&&e.atNight?1:0);var a=s.currentLawn.atNight?177:255;this.db.color=new i(a,a,255,255)},t}(a))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/DinoBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts"],(function(n){var t,o,e,i,r,a;return{setters:[function(n){t=n.inheritsLoose,o=n.createClass},function(n){e=n.cclegacy,i=n._decorator},function(n){r=n.Zombie,a=n.ZombieProps}],execute:function(){var c;e._RF.push({},"c3485CIBdZDa5kN7JHdvR3S","DinoBasicZombie",void 0);var s=i.ccclass,u=(i.property,function(n){function o(){return n.apply(this,arguments)||this}return t(o,n),o}(a));n("DinoBasicZombieZombie",s("DinoBasicZombie")(c=function(n){function e(){for(var t,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(t=n.call.apply(n,[this].concat(e))||this)._objdataOwn=new u,t._objdataOwnOrg=new u,t}t(e,n);var i=e.prototype;return i.onObjdataSet=function(n){},i.specialAnimationListener=function(n){n.name},o(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),e}(r))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/DinoGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./Zombies.ts"],(function(n){var t,r,a,o,e,i,u;return{setters:[function(n){t=n.inheritsLoose,r=n.createClass},function(n){a=n.cclegacy,o=n._decorator},function(n){e=n.GargantuarZombie,i=n.GargantuarProps},function(n){u=n.ZombieEnum}],execute:function(){var c;a._RF.push({},"8f6baHkp1tNS7sko/EDBwmI","DinoGargantuarZombie",void 0);var s=o.ccclass,b=(o.property,function(n){function r(){return n.apply(this,arguments)||this}return t(r,n),r}(i));n("DinoGargantuarZombieZombie",s("DinoGargantuarZombie")(c=function(n){function a(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=n.call.apply(n,[this].concat(a))||this)._objdataOwn=new b,t._objdataOwnOrg=new b,t.impEnum=u.dino_imp,t}return t(a,n),r(a,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),a}(e))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/DoomShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./NodePools.ts","./levelController.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./SoundRescourses.ts"],(function(e){var o,n,t,i,r,a,l,s,c,u,p,L,h,m,d,f,b,P,w;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Color,s=e.Prefab,c=e.AudioClip,u=e.Vec3},function(e){p=e.CherryBombPlant,L=e.CherryBombProps},function(e){h=e.NodePools},function(e){m=e.LevelPlay},function(e){d=e.Rectangle},function(e){f=e.Square},function(e){b=e.ZombieDamageDetails,P=e.zombieDamageType},function(e){w=e.sounds}],execute:function(){var y,g,C,D,S,z,U,v,R,j,q;r._RF.push({},"c950ccw81lBlqi8LDZMzMjh","DoomShroom",void 0);var _=a.ccclass,k=a.property,E=function(e){function o(){for(var o,n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return(o=e.call.apply(e,[this].concat(t))||this).TileCrackleDuration=180,o}return n(o,e),o}(L);e("DoomShroomPlant",(y=_("DoomShroomPlant"),g=k(l),C=k(s),D=k(s),S=k(c),y((v=o((U=function(e){function o(){for(var o,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(o=e.call.apply(e,[this].concat(r))||this)._objdataOwn=new E,t(o,"doomColor",v,i(o)),t(o,"doomParticle",R,i(o)),t(o,"doomParticleUp",j,i(o)),t(o,"doomSound",q,i(o)),o}return n(o,e),o.prototype.explode=function(){var e=h.instantiatePooly(this.doomParticle);e.parent=this.inLane.prjLayer,e.worldPosition=new u(this.worldPositionX,this.worldPositionY,0);var o=h.instantiatePooly(this.doomParticleUp),n=f.getLaneComponent(4);o.parent=n.prjLayer,o.worldPosition=new u(this.worldPositionX,n.floorY,0),m.shakeScreen(3),w.play(this.doomSound,1,.1),m.screenFlashLeftColor=this.doomColor;var t=this.inLane.zombiePool().concat(this.inLane.UpperLane.UpperLane.UpperLane.zombiePool(),this.inLane.UpperLane.UpperLane.zombiePool(),this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool(),this.inLane.LowerLane.LowerLane.zombiePool(),this.inLane.LowerLane.LowerLane.LowerLane.zombiePool()),i=this.inLane.tombPool().concat(this.inLane.UpperLane.UpperLane.UpperLane.tombPool(),this.inLane.UpperLane.UpperLane.tombPool(),this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool(),this.inLane.LowerLane.LowerLane.tombPool(),this.inLane.LowerLane.LowerLane.LowerLane.tombPool()),r=[d.createRectangleNodeCenter(this.inLnC.node,7*f.SquareDisW,3*f.SquareDisH),d.createRectangleNodeCenter(this.inLnC.node,3*f.SquareDisW,7*f.SquareDisH),d.createRectangleNodeCenter(this.inLnC.node,5*f.SquareDisW,5*f.SquareDisH)],a=[],l=[];r.forEach((function(e){t.forEach((function(o){-1==a.indexOf(o)&&e.judgeCrossRec(o.bodyRecReal)&&a.push(o)})),i.forEach((function(o){-1==l.indexOf(o)&&e.judgeCrossRec(o.bodyRec)&&l.push(o)}))}));var s=this._objdataOwn.Damage;this._dmgScale&&(s*=this._dmgScale),a.forEach((function(e){e.dealDamage(new b(s,!1,!1,!1,null,P.ray,!0,!0))})),l.forEach((function(e){e.dealDamage(1800)})),this.inLnC.getAllPlants().forEach((function(e){e.kill()})),this.die(),this.inLnC.crackleCountdown=this._objdataOwn.TileCrackleDuration},o}(p)).prototype,"doomColor",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),R=o(U.prototype,"doomParticle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=o(U.prototype,"doomParticleUp",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=o(U.prototype,"doomSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=U))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/Dragonbruit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Character.ts","./Square.ts","./Zombie.ts","./NodePools.ts","./CabbagePult.ts","./commonShot.ts","./Plants.ts","./SoundRescourses.ts"],(function(o){var n,t,e,i,a,r,s,l,u,c,h,d,b,p,y,f,g,S,m,P,w,R,j,v,L,C;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){a=o.cclegacy,r=o._decorator,s=o.AudioClip,l=o.Prefab,u=o.Node,c=o.Size},function(o){h=o.PlantType,d=o.Plant,b=o.PlantProps},function(o){p=o.ZombiePool,y=o.TombPool,f=o.Rectangle},function(o){g=o.CharacterType},function(o){S=o.Square},function(o){m=o.zombiePoison},function(o){P=o.NodePools,w=o.ArrayGet},function(o){R=o.cabbagePult},function(o){j=o.SplashDamage,v=o.commonShot},function(o){L=o.PlantEnum},function(o){C=o.sounds}],execute:function(){var A,z,D,E,O,_,x,I,M,X,F,k,T,N,B,q,U,W,Z,G,H,K,V,Y,J,Q,$,oo,no,to,eo,io;a._RF.push({},"0b3b6C/ecFEMpYuW0VuFKGA","Dragonbruit",void 0);var ao=r.ccclass,ro=r.property,so=(A=ao("dragonbruitSound"),z=ro([s]),D=ro([s]),E=ro([s]),O=ro([s]),_=ro([s]),x=ro([s]),I=ro([s]),A((F=n((X=function(){function o(){e(this,"chewSounds",F,this),e(this,"shootSounds",k,this),e(this,"foodShootSounds",T,this),e(this,"foodSounds",N,this),e(this,"deathSounds",B,this),e(this,"deadShootSounds",q,this),e(this,"dropSounds",U,this)}var n=o.prototype;return n.playChewSound=function(){C.playArray(this.chewSounds,1,.1)},n.playShootSound=function(){C.playArray(this.shootSounds,1,.1)},n.playFoodShootSound=function(){C.playArray(this.foodShootSounds,1,.1)},n.playFoodSound=function(){C.playArray(this.foodSounds,1,.1)},n.playDeathSound=function(){C.playArray(this.deathSounds,1,.1)},n.playDeadShootSound=function(){C.playArray(this.deadShootSounds,1,.1)},n.playDropSound=function(){C.playArray(this.dropSounds,1,.1)},o}()).prototype,"chewSounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(X.prototype,"shootSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=n(X.prototype,"foodShootSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=n(X.prototype,"foodSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=n(X.prototype,"deathSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=n(X.prototype,"deadShootSounds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=n(X.prototype,"dropSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=X))||M),lo=function(o){function n(){for(var n,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(n=o.call.apply(o,[this].concat(e))||this).ThrowInterval=7,n.PoisonDPS=40,n.PoisonDuration=3,n}return t(n,o),n}(b);o("DragonbruitPlant",(W=ao("Dragonbruit"),Z=ro(l),G=ro(l),H=ro(l),K=ro(l),V=ro(u),Y=ro(so),W(($=n((Q=function(o){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=o.call.apply(o,[this].concat(a))||this)._objdataOwn=new lo,e(n,"projectile0",$,i(n)),e(n,"projectile1",oo,i(n)),e(n,"projectile2",no,i(n)),e(n,"projectileMega",to,i(n)),n.currentPrj=null,n.busy=0,n.ready=!1,n.readying=!0,e(n,"cabbageSpawnPoint",eo,i(n)),n.shooting=!1,e(n,"soundRes",io,i(n)),n.dropping=!1,n.detecter=null,n}t(n,o);var a=n.prototype;return a._shoot=function(o,n,t){var e=P.instantiatePooly(n),i=R.lobOneCabbageOnZombie(e,this.worldPosition,this.cabbageSpawnPoint.getWorldPosition().y-this.inLnC.plantPoint.worldPosition.y,this.inLane.prjLayer,o,2,g.zombie,t);if(this._dmgScale&&i.setDamage(i.damage_*this._dmgScale),this.darkModeOn){var a=this._objdataOwn.PoisonDPS;this._dmgScale&&(a*=this._dmgScale);var r=this._objdataOwn.PoisonDuration;i.setPoison(a,r),i.setSplashDamages([new j(50,new c(2,1),0,0,0,new m(a,r),0,0)])}return this.shooting=!1,i},a._shootOnNode=function(o,n,t){var e=P.instantiatePooly(n);R.lobOneCabbageOnNode(e,this.worldPosition,this.cabbageSpawnPoint.getWorldPosition().y-this.inLnC.plantPoint.worldPosition.y,this.inLane.prjLayer,o,2,g.zombie,t);var i=e.getComponent(v);return this.darkModeOn&&(i.setPoison(40,3),i.setSplashDamages([new j(50,new c(2,1),0,0,0,new m(40,3),0,0)])),this.shooting=!1,i},a.specialPlantFood=function(o){this.ready=!1,this.readying=!1,this.busy=1/0,this.soundRes.playFoodSound();var n=this.anmControl;n.playAnimation("Food",1),n.IdleAnim="Idle"},a.specialPlantFoodEnd=function(){this.busy=0},a.shootOnTarget=function(){var o,n,t,e=this,i=null,a=1/0;null==(o=this.inLane)||o.zombiePool().concat().forEach((function(o){o.bodyRec.prjX().x<a&&o.bodyRec.judgeCrossRec(e.detecter)&&(i=o,a=o.bodyRec.prjX().x)}));var r=null,s=1/0;null==(n=this.inLane)||null==(n=n.UpperLane)||n.zombiePool().concat().forEach((function(o){o.bodyRec.prjX().x<s&&o.bodyRec.judgeCrossRec(e.detecter)&&(r=o,s=o.bodyRec.prjX().x)}));var l=null,u=1/0;null==(t=this.inLane)||null==(t=t.LowerLane)||t.zombiePool().concat().forEach((function(o){o.bodyRec.prjX().x<u&&o.bodyRec.judgeCrossRec(e.detecter)&&(l=o,u=o.bodyRec.prjX().x)})),[l,i,r].forEach((function(o){o&&e._shoot(o,e.currentPrj,!1)}));var c=null;if(!r){var h,d=1/0;null==(h=this.inLane)||null==(h=h.UpperLane)||h.tombPool().concat().forEach((function(o){o.bodyRec.prjX().x<d&&o.bodyRec.judgeCrossRec(e.detecter)&&(c=o,d=o.bodyRec.prjX().x)}))}var b=null;if(!i){var p,y=1/0;null==(p=this.inLane)||p.tombPool().concat().forEach((function(o){o.bodyRec.prjX().x<y&&o.bodyRec.judgeCrossRec(e.detecter)&&(b=o,y=o.bodyRec.prjX().x)}))}var f=null;if(!l){var g,S=1/0;null==(g=this.inLane)||null==(g=g.LowerLane)||g.tombPool().concat().forEach((function(o){o.bodyRec.prjX().x<S&&o.bodyRec.judgeCrossRec(e.detecter)&&(f=o,S=o.bodyRec.prjX().x)}))}[f,b,c].forEach((function(o){o&&e._shootOnNode(o.node,e.currentPrj,!1)}))},a.shootOnAll=function(){var o=this;p.pool().concat().forEach((function(n){o._shoot(n,o.projectileMega,!0)})),y.pool().concat().forEach((function(n){o._shootOnNode(n.node,o.projectileMega,!0)}))},a.waterable=function(){return!(this.shooting||this.readying||this.ready||this.dropping)},a.babyAnimationListner=function(o){},a.spawnBabies=function(){var o=[];if(o.length<3)for(var n=w.randomize(S.getAllLnC()),t=0;o.length<3&&t<n.length;t++){var e=n[t];-1==o.indexOf(e)&&e.putPlantAvailable(!0,L.BabyDragonbruit)&&o.push(e)}o.forEach((function(o){if(o.putPlantAvailable(!0,L.BabyDragonbruit)){var n=o.spawnPlantByPlantEnum(L.BabyDragonbruit);n&&(o.pushPlant(n),n.plantType=h.plant,n.anmControl.playAnimation("Spawn",1)),o.selection()}}))},a.animationListener=function(o){switch(o.name){case"Shoot":this.anmControl.IdleAnim="Idle",this.shootOnTarget(),this.shooting=!1;break;case"getReady":this.ready=!0;break;case"foodShoot":this.shootOnAll(),this.soundRes.playFoodShootSound();break;case"foodEnd":this.foodEnd();break;case"chew":this.soundRes.playChewSound();break;case"deadShoot":this.spawnBabies();break;case"boom":this.soundRes.playDeadShootSound()}this.babyAnimationListner(o)},a.babyOnEnable=function(){},a.specialPlantOnEnable=function(){this.shooting=!1,this.currentPrj=this.projectile0,this.ready=!1,this.readying=!1,this.busy=0,this.anmControl.IdleAnim="Idle",this.babyOnEnable()},a.playReady=function(){this.readying=!0;var o=Math.max(.1,this._objdataOwn.ThrowInterval);this._cdScale>0&&(o*=this._cdScale),this.busy=Math.max(.1,o-4.5);var n=this.anmControl;n.playAnimation("Ready",1,4.5/o*.1,o>4.5?1:4.5/o),n.IdleAnim="Idle_Ready"},a.setDetecters=function(){this.detecter=f.createRectangleNodeSide(this.inLnC.node,S.SquareDisW*(9-this.inLnC.cIndex),3*S.SquareDisH)},a.detectEnemies=function(){for(var o=this.inLane.UpperLane.zombiePool(),n=this.inLane.zombiePool(),t=this.inLane.LowerLane.zombiePool(),e=o.concat(n,t),i=0;i<e.length;i++){var a;if(null!=(a=this.detecter)&&a.judgeCrossRec(e[i].bodyRec))return!0}for(var r=this.inLane.UpperLane.tombPool(),s=this.inLane.tombPool(),l=this.inLane.LowerLane.tombPool(),u=r.concat(s,l),c=0;c<u.length;c++){var h;if(null!=(h=this.detecter)&&h.judgeCrossRec(u[c].bodyRec))return!0}return!1},a.shootAnimation=function(){this.soundRes.playShootSound(),this.anmControl.playAnimation("Shoot",1,.1,Math.max(1,1/this.busy)),this.ready=!1,this.readying=!1,this.shooting=!0},a.specialPlantOnSquareChange=function(o,n){this.setDetecters()},a.specialPlantUpdate=function(o,n,t){this.busy>0&&!this.readying&&(this.busy-=o),this.busy<=0&&(this.busy=0,this.playReady()),this.ready&&t>0&&this.detectEnemies()&&this.shootAnimation()},n}(d)).prototype,"projectile0",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oo=n(Q.prototype,"projectile1",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),no=n(Q.prototype,"projectile2",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),to=n(Q.prototype,"projectileMega",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),eo=n(Q.prototype,"cabbageSpawnPoint",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),io=n(Q.prototype,"soundRes",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new so}}),J=Q))||J));a._RF.pop()}}}));

System.register("chunks:///_virtual/DragonbruitBaby.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dragonbruit.ts","./CharacterManager.ts","./Square.ts","./Plants.ts"],(function(e){var t,n,o,r,i,a,s,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.Vec2},function(e){i=e.DragonbruitPlant},function(e){a=e.Rectangle},function(e){s=e.Square},function(e){c=e.PlantEnum}],execute:function(){var u;n._RF.push({},"fc55cjG2QlDlqEHOc4y+Mqz","DragonbruitBaby",void 0);var l=o.ccclass;o.property,e("DragonbruitBabyPlant",l("DragonbruitBaby")(u=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.babyAnimationListner=function(e){if("busy=0"==e.name)this.busy=0,this.dropping=!1;else if("drop"==e.name){var t;this.soundRes.playDropSound(),this.soundRes.playFoodSound();var n=a.createRectangleNodeCenter(this.inLnC.node,s.SquareDisW,s.SquareDisH);null==(t=this.inLane)||t.zombiePool().forEach((function(e){e.knockBackable&&e.bodyRec.judgeCrossRec(n)&&e.knockBackBy(new r(1,0))})),this.eaterDetectable=!0,this.smasherDetectable=!0}else if("Grow"==e.name){if(this.inLnC.putPlantAvailable(!1,c.BabyDragonbruit))this.inLnC.spawnPlantByPlantEnum(c.Dragonbruit).endangered=this.endangered;this.die(!0,!1),this.node.destroy()}},o.shootOnTarget=function(){var e,t=this,n=null,o=1/0;if(null==(e=this.inLane)||e.zombiePool().concat().forEach((function(e){e.bodyRec.prjX().x<o&&e.bodyRec.judgeCrossRec(t.detecter)&&(n=e,o=e.bodyRec.prjX().x)})),n)this._shoot(n,this.currentPrj,!1);else{var r=null,i=1/0;this.inLane.tombPool().concat().forEach((function(e){i>e.bodyRec.prjX().x&&e.bodyRec.judgeCrossRec(t.detecter)&&(r=e,i=e.bodyRec.prjX().x)})),r&&this._shootOnNode(r.node,this.currentPrj,!1)}},o.detectEnemies=function(){for(var e=this.inLane.zombiePool(),t=0;t<e.length;t++){var n;if(null!=(n=this.detecter)&&n.judgeCrossRec(e[t].bodyRec))return!0}for(var o=this.inLane.tombPool(),r=0;r<o.length;r++){var i;if(null!=(i=this.detecter)&&i.judgeCrossRec(o[r].bodyRec))return!0}return!1},o.setDetecters=function(){this.detecter=a.createRectangleNodeSide(this.inLnC.node,s.SquareDisW*(9-this.inLnC.cIndex),s.SquareDisH)},o.babyOnEnable=function(){this.anmControl.playAnimation("Spawn",1),this.busy=1/0,this.eaterDetectable=!1,this.smasherDetectable=!1,this.dropping=!0},n}(i))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/DragonImpZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ImpZombie.ts","./Zombie.ts"],(function(i){var t,e,n,o,r;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i._decorator},function(i){o=i.ImpZombie},function(i){r=i.zombieDamageType}],execute:function(){var a;e._RF.push({},"d3df8Ebk+BJSLgRxqSCU4Mf","DragonImpZombie",void 0);var p=n.ccclass;n.property,i("DragonImpZombie",p("DragonImpZombie")(a=function(i){function e(){return i.apply(this,arguments)||this}t(e,i);var n=e.prototype;return n.specialDamageScale=function(i){return i.damageType==r.fire?0:1},n.playDirtSpawn=function(i){this.playDirtSpawnParticle(),this.walking=!1,this.switching=!0,this.body.playAnimation("Spawn",1)},e}(o))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/dropping.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterManager.ts","./Character.ts","./Square.ts","./Mouse.ts","./levelController.ts","./UI.ts"],(function(i){var t,e,n,o,a,l,s,r,c,h,d,u,p,f,g,y,w,m,b,v;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,l=i._decorator,s=i.CCFloat,r=i.Vec2,c=i.KeyCode,h=i.tween,d=i.find,u=i.input,p=i.Input,f=i.UITransform},function(i){g=i.Rectangle},function(i){y=i.Character},function(i){w=i.Square},function(i){m=i.Mouse},function(i){b=i.LevelPlay},function(i){v=i.UIInGame}],execute:function(){var C,I,P,S,U,x,V,L,T;a._RF.push({},"7a0e0GwYE1IcZ6i5htuJ5IJ","dropping",void 0);var D=l.ccclass,F=l.property;i("dropping",(C=D("dropping"),I=F(Boolean),P=F(Number),S=F(s),C((V=t((x=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return(t=i.call.apply(i,[this].concat(a))||this).collected=!1,t.linearVelocity=new r(0,0),t.bodyLinearVelocity=0,t.gravity=0,t.ui=void 0,n(t,"willFade",V,o(t)),n(t,"existTime",L,o(t)),t.fadingCountdown=0,t.fadingStarted=!1,n(t,"dpScale",T,o(t)),t.mouseListen=!0,t}e(t,i);var a=t.prototype;return a.goToUIPath=function(){return""},a.onKeyDown=function(i){(null==i?void 0:i.keyCode)==c.KEY_A&&this.goToUI(this.ui)},a.specialOnGroundHit=function(){},a.onGroundHit=function(){this.linearVelocity=new r(0,0),this.bodyLinearVelocity=0,this.gravity=0,this.specialOnGroundHit(),this.fadingOn()},a.move=function(i){if(!this.collected){var t=.5*i*60,e=.55*i*60,n=this.shadeWorldPosition,o=this.height,a=this.linearVelocity;this.worldPosition=new r(n.x+a.x*t,n.y+a.y*t),this.height=Math.max(0,o+this.bodyLinearVelocity*t),this.bodyLinearVelocity-=this.gravity*e,this.height<=0&&o>0&&this.onGroundHit(),w.lawnRec.judgeInRecNode(this.node)||((this.linearVelocity.x<0&&this.node.worldPosition.x<w.lawnRec.prjX().x||this.linearVelocity.x>0&&this.node.worldPosition.x>w.lawnRec.prjX().y)&&(this.linearVelocity.x*=-1),(this.linearVelocity.y<0&&this.node.worldPosition.y<w.lawnRec.prjY().x||this.linearVelocity.y>0&&this.node.worldPosition.y>w.lawnRec.prjY().y)&&(this.linearVelocity.y*=-1))}},a.fadingOn=function(){!this.fadingStarted&&this.willFade&&(this.fadingCountdown=this.existTime,this.fadingStarted=!0)},a.specialGoToUI=function(i){},a.specialUICall=function(i){},a.collect=function(){this.goToUI(this.ui)},a.specialCollectable=function(){return!0},a.collectable=function(){return!this.collected&&this.specialCollectable()},a.goToUI=function(i){var t=this;if(this.collectable()){var e;this.collected=!0,this.specialGoToUI(i),this.linearVelocity=new r(0,0),this.bodyLinearVelocity=0,this.gravity=0;i&&null!=v&&null!=(e=v.uiingame)&&e.uiHidden?(this.shrinkAway(),this.specialUICall(i)):h(this).to(1,{height:0,worldPositionX:i.worldPosition.x,worldPositionY:i.worldPosition.y},{easing:"quadOut"}).call((function(){t.fade(),t.specialUICall(i)})).start()}},a.fade=function(){this.fadingStarted=!1,this.fadeAway(),this.collected=!0,this.onFadeAwayStart()},a.onFadeAwayStart=function(){},a.characterOnLoad=function(){this.ui=d(this.goToUIPath())},a.characterOnEnable=function(){this.fadingStarted=this.willFade,this.fadingCountdown=this.existTime,this.collected=!1,this.mouseListen=!0,u.on(p.EventType.KEY_DOWN,this.onKeyDown,this),u.on(p.EventType.KEY_UP,this.onKeyDown,this),this.specialDroppingOnEnable()},a.specialDroppingOnEnable=function(){},a.specialDroppingUpdate=function(i,t){},a.specialDroppingFadable=function(){return!0},a.characterUpdate=function(i){this.move(i);var t,e,n=g.createRectangleNodeCenter(this.node,this.node.getComponent(f).width*this.originalScale*this.dpScale,this.node.getComponent(f).width*this.originalScale*this.dpScale);this.collected||((null==(t=b.component)||!t.gaming||null!=(e=b.component)&&e.rhythmGameProps)&&this.mouseListen&&this.collect(),this.fadingStarted&&(this.height<=0&&this.fadingCountdown>=0&&this.specialDroppingFadable()&&(this.fadingCountdown-=i),this.fadingCountdown<=0&&this.fade()),this.mouseListen&&(n.judgeInRecP(m.position)||n.judgeCrossLine(m.moveLine))&&this.collect());this.specialDroppingUpdate(i,n)},t}(y)).prototype,"willFade",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),L=t(x.prototype,"existTime",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),T=t(x.prototype,"dpScale",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.33}}),U=x))||U));a._RF.pop()}}}));

System.register("chunks:///_virtual/Droppings.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,i,r,o,t,l,u,a,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){t=e.cclegacy,l=e._decorator,u=e.Prefab,a=e.find,p=e.Component}],execute:function(){var c,s,d,b,f,m,g,y,h,S,v,P,z,T,w,D,L,k,B,G,F,U,C,M,_,x,I;t._RF.push({},"bd3806Rl7pDnKBi2ulhB2Lf","Droppings",void 0);var R=l.ccclass,O=l.property,j=e("droppings",function(){function e(){}return e.registerSun=function(e){-1==this.controller.sunPool.indexOf(e)&&this.controller.sunPool.push(e)},e.deleteSun=function(e){var n=this.controller.sunPool.indexOf(e);-1!=n&&this.controller.sunPool.splice(n,1)},e}());j.controller=null,j.SunTiny=void 0,j.SunSmall=void 0,j.SunMid=void 0,j.SunLarge=void 0,j.SunBomb=void 0,j.CoinSilver=void 0,j.CoinGold=void 0,j.Gem=void 0,j.plantFood=void 0,j.PlantSeedPacket=void 0,j.UpgradeTrophy=void 0,j.layer=void 0;e("Droppings",(c=R("Droppings"),s=O(u),d=O(u),b=O(u),f=O(u),m=O(u),g=O(u),y=O(u),h=O(u),S=O(u),v=O(u),P=O(u),z=O(u),c((D=n((w=function(e){function n(){for(var n,i=arguments.length,t=new Array(i),l=0;l<i;l++)t[l]=arguments[l];return n=e.call.apply(e,[this].concat(t))||this,r(n,"sunTiny",D,o(n)),r(n,"sunSmall",L,o(n)),r(n,"sunMid",k,o(n)),r(n,"sunLarge",B,o(n)),r(n,"sunBomb",G,o(n)),r(n,"coinSilver",F,o(n)),r(n,"coinGold",U,o(n)),r(n,"gem",C,o(n)),r(n,"plantFood",M,o(n)),r(n,"plantSeedPacketTemplate",_,o(n)),r(n,"zombieSeedPacketTemplate",x,o(n)),r(n,"UpgradeTrophy",I,o(n)),n.sunPool=[],n}i(n,e);var t=n.prototype;return t.onLoad=function(){j.controller=this,j.SunTiny=this.sunTiny,j.SunSmall=this.sunSmall,j.SunMid=this.sunMid,j.SunLarge=this.sunLarge,j.SunBomb=this.sunBomb,j.Gem=this.gem,j.CoinGold=this.coinGold,j.CoinSilver=this.coinSilver,j.plantFood=this.plantFood,j.PlantSeedPacket=this.plantSeedPacketTemplate,j.UpgradeTrophy=this.UpgradeTrophy,j.layer=a("Canvas/UIInGameUpper/Dropping")},t.update=function(e){},n}(p)).prototype,"sunTiny",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(w.prototype,"sunSmall",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(w.prototype,"sunMid",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(w.prototype,"sunLarge",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(w.prototype,"sunBomb",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(w.prototype,"coinSilver",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(w.prototype,"coinGold",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(w.prototype,"gem",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(w.prototype,"plantFood",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(w.prototype,"plantSeedPacketTemplate",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(w.prototype,"zombieSeedPacketTemplate",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(w.prototype,"UpgradeTrophy",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=w))||T));t._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptCamelTouchZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EgyptCamelZombie.ts","./levelController.ts","./Zombies.ts","./SoundRescourses.ts","./UI.ts"],(function(e){var t,i,a,n,l,o,s,u,r,c,p,m,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,l=e.createClass},function(e){o=e.cclegacy,s=e._decorator,u=e.AudioClip,r=e.dragonBones},function(e){c=e.EgyptCamelZombie},function(e){p=e.LevelPlay},function(e){m=e.ZombieEnum},function(e){h=e.sounds},function(e){f=e.UIInGame}],execute:function(){var d,y,T,g,C,b,v,D,S;o._RF.push({},"07a454uI/xLcLiBYDx7lNF2","EgyptCamelTouchZombie",void 0);var k=s.ccclass,I=s.property;e("EgyptCamelTouchZombie",(d=k("EgyptCamelTouchZombie"),y=I(u),T=I(u),g=I(r.ArmatureDisplay),d((v=t((b=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return(t=e.call.apply(e,[this].concat(l))||this).camelTouchType=NaN,t.presetCamelIDs=[],t._flipped=!1,a(t,"flipSound",v,n(t)),a(t,"matchSound",D,n(t)),t.additionPartnerID=m.egypt_camel_touch,a(t,"plankDB",S,n(t)),t.plankArmature=void 0,t.iconSlot=void 0,t.posSlot=void 0,t.teamXMin=0,t.teamXMax=0,t}i(t,e);var o=t.prototype;return o.setCamelSlot=function(e){var t;this.camelTouchType=e,null==(t=this.iconSlot)||t._setDisplayIndex(e)},o.specialCamelOnEnable=function(){var e;isNaN(this.camelTouchType)&&(this.camelTouchType=Math.floor(p.component.maxCamelTouchType*Math.random())),this._flipped=!1,this.plankArmature.animation.play("IdleBack"),this.setCamelSlot(this.camelTouchType),null==(e=this.posSlot)||e._setDisplayIndex(this.defaultShowSlot/3)},o.spawnTeamMemberCount=function(){var e;return null!=(e=this.presetCamelIDs)&&e.length?this.presetCamelIDs.length:this.teamAmount},o.specialOnMouseClicked=function(){return!this.flipped&&!f.uiingame.MouseListenOffThisTick&&f.uiingame.matchedCamelTouch.length<=0&&f.uiingame.mainCamelTouch!=this&&(f.uiingame.MouseListenOffThisTick=!0,f.uiingame.judgeMatchedCamelTouch(this),this.flipped=!0,!0)},o.teamMemberOnSpawned=function(e,t){var i=e;t<this.presetCamelIDs.length&&(i.setCamelSlot(this.presetCamelIDs[t]),console.log(t,this.presetCamelIDs[t]))},o.flipToFace=function(){this.plankArmature.animation.play("FlipFace"),h.play(this.flipSound,1,.1)},o.flipToBack=function(){this.plankArmature.animation.play("FlipBack")},o.match=function(){this.plankArmature.animation.play("Match"),h.play(this.matchSound,1,.1)},o.camelOnDamaged=function(e,t,i){},o.specialCamelOnLoad=function(){var e,t;this.plankArmature=this.plankDB.armature(),this.iconSlot=null==(e=this.plankArmature)?void 0:e.getSlot("icon"),this.posSlot=null==(t=this.plankArmature)?void 0:t.getSlot("type")},o.camelTouchCanWalk=function(e){var t=this;if(0!=e)return!0;var i=this.bodyRec.prjX().x,a=this.team[this.team.length-1].bodyRec.prjX().y;this.team.forEach((function(e){var t=e;t.teamXMin=i,t.teamXMax=a}));var n=!0;return this.inLane.zombiePool().forEach((function(e){if(n&&e.ID==t.ID){var a=e;a.team!=t.team&&i>a.teamXMin&&i<=a.teamXMax&&(n=!1)}})),n},o.onPutDirectly=function(e){},o.specialCamelDieForced=function(){this.camelTouchType=NaN,f.uiingame.mainCamelTouch==this&&(f.uiingame.mainCamelTouch=null)},l(t,[{key:"flipped",get:function(){return this._flipped},set:function(e){this._flipped&&!e?this.flipToBack():e&&!this._flipped&&this.flipToFace(),this._flipped=e}}]),t}(c)).prototype,"flipSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(b.prototype,"matchSound",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(b.prototype,"plankDB",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=b))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptCamelZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Zombies.ts","./levelController.ts","./NodePools.ts"],(function(e){var t,i,n,a,o,s,r,h,l,m,d,c,u,p;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,a=e._decorator,o=e.Vec3,s=e.dragonBones},function(e){r=e.ZombieDamageDetails,h=e.Zombie,l=e.zombieDamageType,m=e.ZombieProps},function(e){d=e.zombies,c=e.ZombieEnum},function(e){u=e.LevelPlay},function(e){p=e.ArrayGet}],execute:function(){var f;n._RF.push({},"903d7QmPIBIXqjTmEkaYa1s","EgyptCamelZombie",void 0);var g=a.ccclass,b=(a.property,function(e){function i(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).ZombieInside="mummy",t.TeamMemberCount=[0],t.ProtectsInside=!1,t}return t(i,e),i}(m));e("EgyptCamelZombie",g("EgyptCamelZombie")(f=function(e){function n(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).teamAmount=0,t.team=[],t._objdataOwnOrg=new b,t._objdataOwn=new b,t.innerZombieEnum=c.egypt_basic,t.defaultShowSlot=0,t.plankSlot=void 0,t.innerZombie=void 0,t.innerHealth=void 0,t.additionPartnerID=c.egypt_camel,t.idling=!1,t.busy=0,t}t(n,e);var a=n.prototype;return a.onObjdataSet=function(e){this.innerZombieEnum=d.getZombieEnumByString(this.objdataOwnOrg.ZombieInside),this.teamAmount=p.getRandom(this.objdataOwnOrg.TeamMemberCount)},a.readSlot=function(){this.plankSlot||(this.plankSlot=this.body.body.armature().getSlot("PLANK"))},a.specialAlmanac=function(e){this.readSlot();for(var t=2;t<=this.spawnTeamMemberCount();t++){var i=d.getZombie(this.additionPartnerID);i.parent=e;var a=i.getComponent(n);a.almanac(e),a.teamAmount=0,a.defaultShowSlot=t==this.teamAmount?6:3,a.onDamaged(a.toughness,a.toughness,new r),a.node.setSiblingIndex(0),a.node.scale=this.node.scale,a.node.position=this.node.position.clone().add(new o(60*(t-1),0,0))}},a.onDamaged=function(e,t,i){this.camelOnDamaged(e,t,i)},a.walkSpeedScaleEnteringLawn=function(){return 4},a.specialCamelOnLoad=function(){},a.specialZombieOnLoad=function(){this.plankSlot=this.body.body.armature().getSlot("PLANK"),this.specialCamelOnLoad()},a.camelOnDamaged=function(e,t,i){var n,a,o;t<this.toughness/2?null==(n=this.plankSlot)||n._setDisplayIndex(this.defaultShowSlot+2):t<this.toughness?null==(a=this.plankSlot)||a._setDisplayIndex(this.defaultShowSlot+1):null==(o=this.plankSlot)||o._setDisplayIndex(this.defaultShowSlot)},a.teamMemberOnSpawned=function(e,t){},a.spawnTeamMemberCount=function(){return this.teamAmount},a.spawnTeam=function(){for(var e=this,t=[],i=2;i<=this.spawnTeamMemberCount();i++){var a=d.getZombie(this.additionPartnerID),o=a.getComponent(n);o.teamAmount=0,o.defaultShowSlot=i==this.teamAmount?6:3,a.parent=this.node.parent,o.onDamaged(o.toughness,o.toughness,new r),o.worldPosition=this.shadeWorldPosition.add2f(60*(i-1),0),o.hypno=this.hypno,o.reversed=this.reversed,this.team.push(o),this.teamMemberOnSpawned(o,i-1),t.push(o)}return this.scheduleOnce((function(){e.team.forEach((function(t){t.team=e.team.concat(),t.setRandomSpeed(0)}))}),0),t},a.onChill=function(e){this.dead||this.team.forEach((function(t){t.chill=e}))},a.onFrozen=function(e){this.dead||this.team.forEach((function(t){t.freeze=e}))},a.spawnZombie=function(){var e=this.innerZombie;return e?(this.innerZombie=null,e.havePlantfood=this.havePlantfood,this.havePlantfood=!1,e.CarriedSporeShroom=this.CarriedSporeShroom,this.CarriedSporeShroom=!1,e.node.parent=this.node.parent,e.worldPosition=this.shadeWorldPosition,e.judgeInLnC(),e.node.setSiblingIndex(0),e.height_depth=this.height_depth,e.playIdle(),e.switching=!0,e.body.getComponent(s.ArmatureDisplay).once(s.EventObject.LOOP_COMPLETE,(function(){e.switching=!1,e.isAlive()&&e.playWalk()}),e),e.reversed=this.reversed,e.hypno=this.hypno,e):null},a.damageExtend=function(){return!this.objdataOwn.ProtectsInside},a.dealDamage=function(e){if(this.invincible)return this.health;if(e.armorProtection){var t=this.totalHealth()-e.damage*u.zombieDamageReceiveScale;if(t<=0){var i=this.spawnZombie();if(!i)return 0;this.damageExtend()&&i.dealDamage(new r(-t+(i.toughness-this.innerHealth),!0,e.armorKnockSound,e.bodyKnockSound,e.damageDirection,e.damageType)),i.isAlive()?i.copyBuff(this):i.clearBuff(),this.playDie()}return this.dealNormalDamage(e)}if(e.damage>=this.innerHealth&&!this.damageExtend()){var n=this.spawnZombie();return n?(n.dealDamage(new r(n.health-this.innerHealth,!1,e.armorKnockSound,e.bodyKnockSound,e.damageDirection,e.damageType)),n.isAlive()?n.copyBuff(this):n.clearBuff(),this.playDie(),0):0}if(this.innerHealth-=e.damage*u.zombieDamageReceiveScale,this.innerHealth<=0){var a=this.spawnZombie();if(!a)return 0;a.dealDamage(new r(a.totalToughness(),!1,e.armorKnockSound,e.bodyKnockSound,e.damageDirection,e.damageType)),a.isAlive()?a.copyBuff(this):a.clearBuff(),this.playDie()}return this.dealNormalDamage(e)},a.additionalZombies=function(){return this.spawnTeam()},a.specialZombieOnEnable=function(){this.idling=!1,this.busy=3*Math.random(),this.onDamaged(this.toughness,this.toughness,new r),this.innerZombie=d.getZombie(this.innerZombieEnum).getComponent(h),this.innerHealth=this.innerZombie.toughness,this.team=[],this.team.push(this),this.teamMemberOnSpawned(this,0),this.specialCamelOnEnable()},a.specialCamelOnEnable=function(){},a.onDirtSpawned=function(e){var t=this;0==e&&this.team.concat().forEach((function(e,i){e!=t&&e.isAlive()&&e.playDirtSpawn(.1*i)}))},a.allowWalk=function(){return!this.idling},a.camelTouchCanWalk=function(e){return!0},a.specialZombieUpdate=function(e,t,i){var n=this;if(this.specialCamelUpdate(e),this.team.concat().forEach((function(e){if(!e.isAlive()||e.hypno!=n.hypno){var t=n.team.indexOf(e);-1!=t&&n.team.splice(t,1)}})),e>0)if(this.busy<=0&&!this.eating){var a=this.team.indexOf(this),o=!0;a+1<this.team.length&&this.team[a+1].shadeSocket.worldPosition.x-80*(this.reversed?-1:1)>this.shadeSocket.worldPosition.x&&(o=this.reversed),a>=1&&this.team[a-1].shadeSocket.worldPosition.x+50*(this.reversed?-1:1)>this.shadeSocket.worldPosition.x&&(o=this.reversed),o&&this.camelTouchCanWalk(a)?(this.playWalk(.3),this.busy=.7,this.idling=!1):(this.idling||this.playIdle(.3),this.busy=1,this.idling=!0)}else this.busy-=e},a.specialCamelUpdate=function(e){},a.playSpecialZombieDieForced=function(){this.specialCamelDieForced()},a.specialCamelDieForced=function(){},a.playSpecialZombieDie=function(e){if(this.innerZombie){var t=this.spawnZombie();if(!t)return;t.playDie(!1,e,!0,l.physicle,!0,!0,!1)}this.onDamaged(-1,-1,new r),this.judgeDeath(0)},i(n,[{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(h))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptExplorerZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Zombies.ts"],(function(e){var t,i,n,o,a,r,c,s,l;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,o=e._decorator},function(e){a=e.ZombieDamageDetails,r=e.zombieDamageType,c=e.Zombie,s=e.ZombieProps},function(e){l=e.ZombieEnum}],execute:function(){var h;n._RF.push({},"b2f1aUCacBJN7aRLMnfdbLh","EgyptExplorerZombie",void 0);var u=o.ccclass,f=(o.property,function(e){function i(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).FireDPS=1e3,t}return t(i,e),i}(s));e("EgyptExplorerZombie",u("EgyptExplorerZombie")(h=function(e){function n(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this)._objdataOwn=new f,t.fireSlots=[],t.ignited=void 0,t}t(n,e);var o=n.prototype;return o.judgePlantCanBeBurnt=function(e){return!e.dead&&e.eaterDetectable&&!e.short_},o.specialZombieOnLoad=function(){var e=this;this.fireSlots=[],this.body.body.armature().getSlots().forEach((function(t){t.name.includes("FIRE")&&e.fireSlots.push(t)}))},o.specialTorchZombieOnLoad=function(){},o.detectPlant=function(e){var t=this;if(this.inLane)if(this.ignited){var i=!1;e>0&&this.detectPlantOn()&&!this.ignorePlants()&&(this.hypno?(this.inLane.zombiePool().concat().forEach((function(n){if(t.plantDetectorRec.judgeCrossRec(n.bodyRec)){i=!0;var o=1e3;n.ID!=l.future_infinut_shield&&n.ID!=l.modern_moonflower_shield||(o=t.dps);var c=new a(o*e,!0,!1,!1,null,r.fire);n.eatByZombie(c,t)}})),this.inLane.tombPool().concat().forEach((function(n){t.plantDetectorRec.judgeCrossRec(n.bodyRec)&&(i=!0,n.dealDamage(t.objdataOwn.FireDPS*e))}))):(this.inLane.plantPool().concat().forEach((function(e){t.judgePlantCanBeBurnt(e)&&t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&e.burn()})),this.inLane.hypnoZombiePool().concat().forEach((function(n){if(t.plantDetectorRec.judgeCrossRec(n.bodyRec)){i=!0;var o=t.objdataOwn.FireDPS;n.ID!=l.future_infinut_shield&&n.ID!=l.modern_moonflower_shield||(o=t.dps);var c=new a(o*e,!0,!1,!1,null,r.fire);n.eatByZombie(c,t)}})))),i?this.playEat(e):this.walking||this.playWalk()}else this.defaultDetectPlant(e);else this.playWalk()},o.onDamaged=function(e,t,i){i.damageType==r.fire&&this.ignite()},o.setTorchIgniteRecs=function(e){this.plantDetectorRecOffset.x=e?-72:0,this.bodyRecOffset.x=e?-32:0,this.bodyRecSize.width=e?72:48},o.ignite=function(e){void 0===e&&(e=!0);var t=e?0:-1;this.ignited=e,this.setTorchIgniteRecs(e),e&&this.specialTorchZombieOnIgnited(),this.fireSlots.forEach((function(e){e._setDisplayIndex(t)}))},o.specialTorchZombieOnIgnited=function(){},o.onChill=function(e){this.ignite(!1)},o.specialZombieOnEnable=function(){this.ignite()},o.playSpecialZombieDieForced=function(){this.ignite(!1)},o.playTorchIdleSound=function(e){},o.specialZombieUpdate=function(e,t,i){this.walking&&e>0&&this.ignited&&this.playTorchIdleSound(e),this.ignited&&this.fireSlots.forEach((function(e){if(e.childArmature){var i=e.childArmature.animation,n=i.lastAnimationState.currentTime;i.gotoAndPlayByTime(i.lastAnimationState.name,n+t,1/0)}}))},i(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./Zombies.ts","./NodePools.ts","./SoundRescourses.ts","./Zombie.ts"],(function(t){var a,n,e,o,r,i,s,c,u,l,p,h,d,y,b;return{setters:[function(t){a=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,i=t._decorator,s=t.Prefab,c=t.Vec3},function(t){u=t.GargantuarZombie,l=t.GargantuarProps},function(t){p=t.ZombieEnum,h=t.zombies},function(t){d=t.NodePools},function(t){y=t.sounds},function(t){b=t.Zombie}],execute:function(){var m,g,f,P,w;r._RF.push({},"2be45+TaeFJzZEWyDltsHWd","EgyptGargantuarZombie",void 0);var v=i.ccclass,Z=i.property,_=function(t){function a(){for(var a,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(a=t.call.apply(t,[this].concat(e))||this).ChanceToPharaoh=.75,a}return n(a,t),a}(l);t("EgyptGargantuarZombie",(m=v("EgyptGargantuarZombie"),g=Z(s),m((w=a((P=function(t){function a(){for(var a,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=t.call.apply(t,[this].concat(r))||this,e(a,"pharaohBreakParticle",w,o(a)),a.impEnum=p.egypt_imp,a._objdataOwn=new _,a}n(a,t);var r=a.prototype;return r.specialGargantuarOnEnable=function(){this.body.body.armature().getSlots().forEach((function(t){t.name.includes("PHARAOH")&&t._setDisplayIndex(0)}))},r.specialGargantuarAnimationListener=function(t){if("pharaoh"==t.name&&this.isInLawn()&&Math.random()<this._objdataOwn.ChanceToPharaoh){var a=h.getZombie(p.egypt_basic);a.parent=this.node.parent;var n=d.instantiatePooly(this.pharaohBreakParticle);n.parent=this.inLane.prjLayer,n.worldPosition=new c(this.worldPositionX,this.worldPositionY,0),y.playTombBreak(),this.body.body.armature().getSlots().forEach((function(t){t.name.includes("PHARAOH")&&t._setDisplayIndex(-1)}));var e=a.getComponent(b);e.switching=!0,e.body.playAnimation("Spawn",1),e.hypno=this._usedToBeHypno,e.reversed=!this.reversed,e.worldPosition=this._worldPosition,e.walking=!1}},a}(u)).prototype,"pharaohBreakParticle",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=P))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptPharaohZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EgyptCamelZombie.ts","./SoundRescourses.ts"],(function(t){var e,n,o,r,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator},function(t){r=t.EgyptCamelZombie},function(t){u=t.sounds}],execute:function(){var s;n._RF.push({},"d54e7UpaztKypU+27g30c8H","EgyptPharaohZombie",void 0);var i=o.ccclass;o.property,t("EgyptPharaohZombie",i("EgyptPharaohZombie")(s=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.onDamaged=function(t,e,n){var o,r,u,s;e<=0?null==(o=this.body.body.armature().getSlot("armor"))||o._setDisplayIndex(-1):e<this.toughness/3?null==(r=this.body.body.armature().getSlot("armor"))||r._setDisplayIndex(2):e<2*this.toughness/3?null==(u=this.body.body.armature().getSlot("armor"))||u._setDisplayIndex(1):null==(s=this.body.body.armature().getSlot("armor"))||s._setDisplayIndex(0)},o.specialAlmanac=function(t){},o.setButter=function(t,e){return!!this.damageExtend()&&(e&&this.butterStun<=0&&t>0&&u.playButterOn(),this.butterStun=this.butterStun>t?this.butterStun:t,this.butterStun>0&&(this.onButtered(this.butterStun),this._onStunned(this.butterStun)),!0)},o.additionalZombies=function(){return[]},o.spawnTeam=function(){return[]},o.specialZombieUpdate=function(t,e,n){},n}(r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptRaZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Droppings.ts","./Sunflower.ts","./SoundRescourses.ts"],(function(o){var n,i,t,r,s,e,a,b,l,u,c,h,f,p,d,w,A;return{setters:[function(o){n=o.inheritsLoose,i=o.applyDecoratedDescriptor,t=o.initializerDefineProperty,r=o.assertThisInitialized,s=o.createClass},function(o){e=o.cclegacy,a=o._decorator,b=o.Node,l=o.AudioClip,u=o.Vec2,c=o.TWO_PI,h=o.tween},function(o){f=o.ZombieProps,p=o.Zombie},function(o){d=o.droppings},function(o){w=o.sunflower},function(o){A=o.sounds}],execute:function(){var y,g,S,E,m,v,V,R,M;e._RF.push({},"a86047FcJdMKYD0NmnuSYGN","EgyptRaZombie",void 0);var O=a.ccclass,Z=a.property,j=o("EgyptRaProps",function(o){function i(){for(var n,i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];return(n=o.call.apply(o,[this].concat(t))||this).MaxAbsorbValue=250,n}return n(i,o),i}(f));o("EgyptRaZombie",(y=O("EgyptRaZombie"),g=Z(b),S=Z([l]),E=Z([l]),y((V=i((v=function(o){function i(){for(var n,i=arguments.length,s=new Array(i),e=0;e<i;e++)s[e]=arguments[e];return(n=o.call.apply(o,[this].concat(s))||this)._objdataOwn=new j,n.absorbing=!1,t(n,"absorber",V,r(n)),t(n,"absorbSounds",R,r(n)),t(n,"absorbBG",M,r(n)),n.sunMode="Red",n.absorbedValue=[],n.willAbsorbSun=[],n}n(i,o);var e=i.prototype;return e.throwAll=function(){var o=this;this.willAbsorbSun.forEach((function(o){o.switchMode("Normal"),o.absorber=null}));var n=0;this.absorbedValue.length>=2&&(n=-c/6),this.absorbedValue.forEach((function(i){w.produceSun(i,o.worldPosition,o.zombieHeight/2,!1).forEach((function(i){i.linearVelocity=new u(10*Math.sin(n),0),i.bodyLinearVelocity=10*Math.cos(n),i.gravity=0,o.absorbedValue.length>=2&&(n+=c/3/(o.absorbedValue.length-1)),h(i).to(.6,{bodyLinearVelocity:0}).start(),h(i).to(.6,{linearVelocity:new u(0,0)}).start()}))})),this.willAbsorbSun.forEach((function(o){o.switchMode("Normal"),o.absorber=null})),this.willAbsorbSun=[],this.absorbedValue=[]},e.playSpecialZombieDieForced=function(){this.throwAll()},e.specialAnimationListener=function(o){this.specialRaAnimationListener(o)},e.specialRaAnimationListener=function(o){},e.absorbStart=function(){this.switching||(this.willAbsorbSun=[],this.walking=!1,this.switching=!0,this.absorbing=!0,this.body.playAnimation("AbsorbStart",1/0,.2),A.playArray(this.absorbBG,1,.1),A.playArray(this.absorbSounds,1,.1),this.onAbsorbStart())},e.onAbsorbStart=function(){},e.absorbEnd=function(){this.absorbing&&(this.absorbing=!1,this.body.playAnimation("AbsorbEnd",1/0),this.willAbsorbSun.forEach((function(o){o.absorber=null})),this.onAbsorbEnd())},e.onAbsorbEnd=function(){},e.specialZombieOnEnable=function(){this.willAbsorbSun=[],this.absorbedValue=[],this.absorbing=!1,this.specialRaOnEnable()},e.specialRaOnEnable=function(){},e.baseAbsorbs=function(){return!this.hypno},e.judgeAbsorb=function(o,n){var i=this;this.absorbedValue.forEach((function(n){o+=n})),this.willAbsorbSun.forEach((function(n){o+=n.value}));var t=1e3,r=!1;return d.controller.sunPool.concat().forEach((function(o){o.absorber&&o.absorber!=i||(r=!0),r&&t>o.value&&(t=o.value)})),r&&o+t<=this.objdataOwn.MaxAbsorbValue&&d.controller.sunPool.length>0||this.willAbsorbSun.length>0},e.whetherAbsorbThisSun=function(o,n){return n+o.value<=this.objdataOwn.MaxAbsorbValue},e.specialZombieUpdate=function(o,n,i){var t=this;if(this.hypno&&this.throwAll(),this.isInLawn()&&o>0&&this.baseAbsorbs()){var r,s=0;if(isFinite(this.objdataOwn.MaxAbsorbValue)&&(this.absorbedValue.forEach((function(o){s+=o})),this.willAbsorbSun.forEach((function(o){s+=o.value}))),this.judgeAbsorb(s,i)?this.absorbStart():this.absorbEnd(),this.absorbing)null==(r=d.controller)||r.sunPool.concat().forEach((function(o){!o.absorber&&t.whetherAbsorbThisSun(o,s)&&-1==t.willAbsorbSun.indexOf(o)&&(t.willAbsorbSun.push(o),s+=o.value,o.absorber=t)})),this.willAbsorbSun.concat().forEach((function(o){var n=t.willAbsorbSun.indexOf(o);o.collected&&-1!=n?t.willAbsorbSun.splice(n,1):o.switchMode(t.sunMode)}))}this.specialRaUpdate(o,n,i)},e.onSunArrives=function(o){},e.specialRaUpdate=function(o,n,i){},s(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),i}(p)).prototype,"absorber",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(v.prototype,"absorbSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=i(v.prototype,"absorbBG",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=v))||m));e._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptSandStormParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./NodePools.ts","./SoundRescourses.ts"],(function(e){var t,n,i,o,r,a,l,s,d,u,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.AudioClip,s=e.Prefab},function(e){d=e.ParticleSelfdestroy},function(e){u=e.ArrayGet,p=e.instantiatePooly},function(e){c=e.sounds}],execute:function(){var h,S,f,y,b,g,m,P,D,v,w,T,z;r._RF.push({},"5dcd14Ew+VGl46/gjHvvHhB","EgyptSandStormParticle",void 0);var A=a.ccclass,R=a.property;e("EgyptSandStormParticle",(h=A("EgyptSandStormParticle"),S=R([l]),f=R([l]),y=R([l]),b=R([l]),g=R(s),h((D=t((P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"endSounds",D,o(t)),i(t,"startSounds",v,o(t)),i(t,"startOffSounds",w,o(t)),i(t,"loopSounds",T,o(t)),t.loopSound=void 0,i(t,"parThere",z,o(t)),t.particleSDThere=void 0,t.ended=!1,t}n(t,e);var r=t.prototype;return r.end=function(){var e;this.ended=!0,this.db.playAnimation("Die",1/0),null==(e=this.particleSDThere)||null==(e=e.db)||e.playAnimation("Die",1/0),this.particleSDThere=null,c.play(u.getRandom(this.endSounds))},r.onSettled=function(){var e=p(this.parThere);e.parent=this.node.parent,e.scale=this.node.scale,e.worldPosition=this.node.worldPosition,e.setSiblingIndex(0),this.particleSDThere=e.getComponent(d),this.particleSDThere.db.playAnimation("Idle",1/0)},r.specialOnEnable=function(){this.particleSDThere=null,this.ended=!1,this.db.playAnimation("Idle",1/0),this.loopSound=u.getRandom(this.loopSounds),c.play(u.getRandom(this.startSounds)),c.play(u.getRandom(this.startOffSounds))},r.update=function(e){this.particleSDThere&&(this.particleSDThere.node.worldPosition=this.node.worldPosition,this.particleSDThere.node.worldScale=this.node.worldScale),this.ended||c.play(this.loopSound)},t}(d)).prototype,"endSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=t(P.prototype,"startSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=t(P.prototype,"startOffSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(P.prototype,"loopSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(P.prototype,"parThere",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=P))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptTombRaiserZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./CabbagePult.ts","./Square.ts","./LnC.ts","./Character.ts","./SoundRescourses.ts"],(function(t){var n,i,e,o,r,a,s,u,h,l,c,b,p,d,w,m,f,y,g,C,T;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,s=t._decorator,u=t.AudioClip,h=t.Prefab,l=t.Node,c=t.CCInteger,b=t.Vec2,p=t.dragonBones},function(t){d=t.Zombie,w=t.ZombieProps},function(t){m=t.NodePools},function(t){f=t.cabbagePult},function(t){y=t.Square},function(t){g=t.LnC},function(t){C=t.CharacterType},function(t){T=t.sounds}],execute:function(){var P,v,L,j,A,O,x,S,B,I,Z,D,E;a._RF.push({},"b4e80QiamVIgZWmcAophNZ9","EgyptTombRaiserZombie",void 0);var k=s.ccclass,G=s.property,R=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).ThrowTimePerGroup=2,n.TimeBetweenGroups=6,n.TimeBetweenGroupsAdditional=1,n}return i(n,t),n}(w);t("EgyptTombRaiserZombie",(P=k("EgyptTombRaiserZombie"),v=G(u),L=G(u),j=G(h),A=G(l),O=G(c),P((B=n((S=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,e(n,"pukeSound",B,o(n)),e(n,"throwSound",I,o(n)),n._objdataOwn=new R,e(n,"boneProjectile",Z,o(n)),e(n,"throwPoint",D,o(n)),e(n,"maxThrowTime",E,o(n)),n.throwCD=6,n}i(n,t);var a=n.prototype;return a.onObjdataSet=function(t){this.throwCD=this.objdataOwn.TimeBetweenGroups+Math.random()*this.objdataOwn.TimeBetweenGroupsAdditional},a.specialAnimationListener=function(t){if(!this.hypno&&"throw"==t.name&&this.isAlive()){T.play(this.throwSound,1,.1);for(var n=null,i=Math.max(this.inLnC.cIndex-2,1),e=0;e<40&&!n;e++){var o=y.getRandomLnC(0,4,i,this.inLnC.cIndex+1);o.tombable()&&(n=o)}n||(n=y.getRandomLnC(0,4,i,this.inLnC.cIndex+1));var r=m.instantiatePooly(this.boneProjectile);f.lobOneCabbageOnNode(r,new b(this.throwPoint.worldPosition.x,this.worldPositionY),this.throwPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,n.plantPoint,1,C.default,!0,40)}"puke"==t.name&&this.isAlive()&&T.play(this.pukeSound,1,.1)},a.specialZombieOnEnable=function(){this.throwCD=this.objdataOwn.TimeBetweenGroups+Math.random()*this.objdataOwn.TimeBetweenGroupsAdditional},a.throwBoneAnimation=function(){var t=this;this.correctShadeWP(),this.throwCD=this.objdataOwn.TimeBetweenGroups+Math.random()*this.objdataOwn.TimeBetweenGroupsAdditional,this.switching=!0,this.walking=!1,this.body.playAnimation("Throw",this.maxThrowTime),this.db.on(p.EventObject.COMPLETE,(function(){t.isAlive()&&t.playWalk(),t.switching=!1}),this)},a.areaThrowable=function(){var t=this,n=!1;return[0,1,2,3,4].forEach((function(i){[t.inLnC.cIndex-2,t.inLnC.cIndex-1,t.inLnC.cIndex,t.inLnC.cIndex+1].forEach((function(t){n||t<=0||t>8||(n=y.getSquare(i,t).getComponent(g).tombable())}))})),n},a.specialZombieUpdate=function(t,n,i){var e;!this.hypno&&this.isInLawn()&&this.walking&&(null==(e=this.inLnC)?void 0:e.cIndex)>2&&this.areaThrowable()&&(this.throwCD>0&&(this.throwCD-=t),this.throwCD<=0&&this.throwBoneAnimation())},r(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(d)).prototype,"pukeSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(S.prototype,"throwSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=n(S.prototype,"boneProjectile",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(S.prototype,"throwPoint",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(S.prototype,"maxThrowTime",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),x=S))||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./NodePools.ts"],(function(o){var n,t,e,i,r,s,a,u,l;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,s=o._decorator,a=o.AudioClip},function(o){u=o.ZombossMechZombie},function(o){l=o.ArrayGet}],execute:function(){var c,p,h,m,d,b,S,y,f;r._RF.push({},"8c98c4PoY9Ofr3nxX6osbLK","EgyptZombossMechZombie",void 0);var Z=s.ccclass,g=s.property;o("EgyptZombossMechZombie",(c=Z("EgyptZombossMechZombie"),p=g(a),h=g(a),m=g(a),c((S=n((b=function(o){function n(){for(var n,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return n=o.call.apply(o,[this].concat(r))||this,e(n,"introSound",S,i(n)),e(n,"introStormSound",y,i(n)),e(n,"introLandSound",f,i(n)),n}t(n,o);var r=n.prototype;return r.specialZombossMechAnimationListener=function(o){"spawnLandSound"==o.name?(this.playOneShot(this.introLandSound,1,!0),this.playOneShot(l.getRandom(this.worldZombossSpawnSaySounds),1,!0)):"introSound"==o.name&&(this.playOneShot(this.introSound,1,!0),this.playOneShot(this.introStormSound,1,!0))},r.missileMeasure=function(o){o&&(o.maxBoneCount=2*this.mechToChoose*(Math.random()<.2?0:1)+2)},n}(u)).prototype,"introSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=n(b.prototype,"introStormSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=n(b.prototype,"introLandSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/egyptZombossMissile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./zombossMissile.ts","./NodePools.ts","./CabbagePult.ts","./Character.ts"],(function(e){var t,i,o,n,s,a,r,l,c,p,u,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,r=e.Prefab},function(e){l=e.zombossMissile},function(e){c=e.ArrayGet,p=e.NodePools},function(e){u=e.cabbagePult},function(e){b=e.CharacterType}],execute:function(){var f,y,h,g,d;s._RF.push({},"14caai/dpxF25qY4mZeEWCD","egyptZombossMissile",void 0);var m=a.ccclass,P=a.property;e("egyptZombossMissile",(f=m("egyptZombossMissile"),y=P(r),f((d=t((g=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this).maxBoneCount=2,o(t,"bone",d,n(t)),t}return i(t,e),t.prototype.specialMissileOnPop=function(){for(var e=this.maxBoneCount,t=this.inLnC.get3x3();e>0&&t.length;){var i=c.getRandom(t);if(i.isInLawn()&&i!=this.inLnC&&i.tombable(!0)){e--;var o=p.instantiatePooly(this.bone);u.lobOneCabbageOnNode(o,this.worldPosition,1,this.inLane.prjLayer,i.plantPoint,1,b.default,!1,40)}t.splice(t.indexOf(i),1)}},t}(l)).prototype,"bone",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=g))||h));s._RF.pop()}}}));

System.register("chunks:///_virtual/EightiesArcadeCabinet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tomb.ts","./SoundRescourses.ts","./FrontYard.ts","./NodePools.ts","./Zombies.ts","./LnC.ts","./ParticleSelfdestroy.ts","./Particles.ts","./levelController.ts"],(function(t){var i,e,n,s,o,a,r,l,c,u,p,h,m,d,b,f,y,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,r=t.AudioClip},function(t){l=t.Tomb},function(t){c=t.sounds},function(t){u=t.FrontYard,p=t.JamStyle},function(t){h=t.ArrayGet,m=t.instantiatePooly},function(t){d=t.ZombieEnum},function(t){b=t.LnCSpawnZombieStyleEnum},function(t){f=t.ParticleSelfdestroy},function(t){y=t.particle},function(t){g=t.LevelPlay}],execute:function(){var C,_,P,D,S,v,L;o._RF.push({},"51575twVtdLO6zn/GsiuQkG","EightiesArcadeCabinet",void 0);var w=a.ccclass,A=a.property;t("EightiesArcadeCabinet",(C=w("EightiesArcadeCabinet"),_=A([r]),P=A([r]),C((v=i((S=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,n(i,"destructSounds",v,s(i)),i.lightSlot=void 0,n(i,"spawnSounds",L,s(i)),i.summonCD=11,i.hypno=!1,i.empPar=void 0,i.empCD=0,i}e(i,t);var o=i.prototype;return o.playDestruction=function(){c.playArray(this.destructSounds,1,.2)},o.specialTombOnLoad=function(){this.lightSlot=this.body.armature().getSlot("LIGHT")},o.specialTombOnEnable=function(){this.summonCD=2*Math.random()+1,this.hypno=!1,this.empCD=0},o.specialTombDie=function(t,i){var e;this.empCD=0,null==(e=this.empPar)||null==(e=e.db)||e.playAnimation("Die",1/0),this.empPar=null},o.specialTombOnLaneChange=function(t,i){this.empPar&&this.empPar.node.setParent(null==i?void 0:i.prjLayer,!0)},o.specialTombUpdate=function(t){var i,e,n,s;if(null!=(i=g.component)&&i.gameWon)this.die();else{var o=this.empCD<=0&&u.getStageEffect()==p.jam_8bit;if(this.empCD>0){var a;if(c.playEmpSpark(),this.empCD-=t,this.empPar)this.empPar.node.worldPosition=this.worldPosition.toVec3();if(this.empCD<=0)null==(a=this.empPar)||null==(a=a.db)||a.playAnimation("Die",1/0),this.empPar=null}null==(e=this.lightSlot)||e._setDisplayIndex(o?null==(n=this.mainSlot)?void 0:n.displayIndex:-1),o&&null!=(s=this.inLnC)&&s.isInLawn()&&(this.summonCD-=t,this.summonCD<=0&&(this.summonCD=2*Math.random()+10,c.playArray(this.spawnSounds,1,.3),this.inLnC.spawnZombie(h.getRandom([d.eighties_8bit_basic,d.eighties_8bit_basic,d.eighties_8bit_basic,d.eighties_8bit_basic,d.eighties_8bit_basic,d.eighties_8bit_basic,d.eighties_8bit_cone,d.eighties_8bit_cone,d.eighties_8bit_cone,d.eighties_8bit_bucket]),b.directPut,!0,.5-.2*this.scale,0,{},!1,this.scale<0,this.hypno)))}},o.empStun=function(t){if(t>this.empCD&&(this.empCD=t),this.empCD>0&&!this.empPar){var i=m(y.empEffect());i.parent=this.inLane.prjLayer,i.worldPosition=this.worldPosition.toVec3();var e=i.getComponent(f);this.empPar=e}},i}(l)).prototype,"destructSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=i(S.prototype,"spawnSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=S))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/EightiesArcadeZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Square.ts","./Tombs.ts","./SoundRescourses.ts","./levelController.ts","./CharacterManager.ts"],(function(e){var t,i,n,r,a,s,o,c,u,h,d,l,p,b,f,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,o=e._decorator,c=e.AudioClip,u=e.Vec2},function(e){h=e.Zombie,d=e.ZombieProps},function(e){l=e.Square},function(e){p=e.TombEnum},function(e){b=e.sounds},function(e){f=e.LevelPlay},function(e){w=e.Rectangle}],execute:function(){var S,y,g,m,v,A,R,P,C;s._RF.push({},"133c4LVj4VPvLr55jzgJPb5","EightiesArcadeZombie",void 0);var D=o.ccclass,I=o.property,O=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).NumberOfArcadeCabinetsToSpawnWith=1,t}return i(t,e),t}(d);e("EightiesArcadeZombie",(S=D("EightiesArcadeZombie"),y=I([c]),g=I([c]),m=I([c]),S((R=t((A=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new O,n(t,"pushSounds",R,r(t)),n(t,"pushChargeSounds",P,r(t)),n(t,"pushSaySounds",C,r(t)),t.icecubeDetector=new w,t}i(t,e);var s=t.prototype;return s.icecubeToPush=function(){var e=this;return this.inLane.tombPool().find((function(t){return t.ID==p.eighties_arcade_cabinet&&(e.reversed?t.canBePushedRight():t.canBePushedLeft())&&e.icecubeDetector.judgeCrossRec(t.bodyRec)}))},s.shouldSpeedScale=function(){return this.defaultShouldSpeedScale()*(this.displayed||this.enteredLawn?1:2)},s.onDirtSpawned=function(e){if(this.objdataOwn.NumberOfArcadeCabinetsToSpawnWith>0){var t=this.inLane,i=this.cIndexReal+(this.reversed?1:-1),n=t.tombPool().find((function(e){return e.cIndexReal==i}));n||(n=this.spawnAnIcecube(t,i))}},s.specialAnimationListener=function(e){switch(e.name){case"pushSound":b.playArray(this.pushSaySounds,1,.5);break;case"push":if(this.isAlive()){var t=this.icecubeToPush();t&&(this.reversed?t.pushRight():t.pushLeft(),b.playArray(this.pushSounds,1,.2),b.playArray(this.pushChargeSounds,1,.2))}}},s.setIceCubeDetectorRec=function(){f.gameStarted&&this.bodyRecHiddenCD<=0&&this.isAlive()?this.icecubeDetector=w.createRectangleCenter(new u(this.shadeSocket.worldPosition.x+(this.plantDetectorRecOffset.x-40)*(this.reversed?-1:1),this._worldPosition.y+this.height_depth+this.plantDetectorRecOffset.y),this.plantDetectorRecSize.width,this.plantDetectorRecSize.height):this.icecubeDetector=w.createRectangleCenter(new u(1e4,1e4),1,1)},s.specialZombieUpdateBeforePlantDetect=function(e,t,i){this.setIceCubeDetectorRec(),this.icecubeToPush()&&this.walking&&(this.switching=!0,this.walking=!1,this.correctShadeWP(),this.body.playAnimation("Push",1/0,.5))},s.spawnAnIcecube=function(e,t){var i=l.addTomb(e.LaneIndex,t,p.eighties_arcade_cabinet,!1,!1,!1,!1);return i&&(i.scale=this.reversed?-1:1,i.hypno=this.hypno),i},s.onLaneSpawnSettled=function(e,t){var i=this;if(t&&e.isInLawn()){var n=this.cIndexReal;if(this.reversed){this.worldPositionX-=l.SquareDisW*this.objdataOwn.NumberOfArcadeCabinetsToSpawnWith;for(var r=this.cIndexReal,a=function(t){var n=e.tombPool().find((function(e){return e.cIndexReal==t}));n||(n=i.spawnAnIcecube(e,t))},s=n;s>r&&n-s<this.objdataOwn.NumberOfArcadeCabinetsToSpawnWith;s--)a(s)}else{this.worldPositionX+=l.SquareDisW*this.objdataOwn.NumberOfArcadeCabinetsToSpawnWith;for(var o=this.cIndexReal,c=function(t){var n=e.tombPool().find((function(e){return e.cIndexReal==t}));n||(n=i.spawnAnIcecube(e,t))},u=n;u<o&&u-n<this.objdataOwn.NumberOfArcadeCabinetsToSpawnWith;u++)c(u)}}},a(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),t}(h)).prototype,"pushSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(A.prototype,"pushChargeSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(A.prototype,"pushSaySounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=A))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/EightiesBoomBoxZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./NodePools.ts","./CharacterManager.ts","./Square.ts","./FrontYard.ts"],(function(o){var t,i,n,e,r,a,s,l,c,u,b,h,m,d,p,f;return{setters:[function(o){t=o.applyDecoratedDescriptor,i=o.inheritsLoose,n=o.initializerDefineProperty,e=o.assertThisInitialized,r=o.createClass},function(o){a=o.cclegacy,s=o._decorator,l=o.AudioClip,c=o.Prefab},function(o){u=o.Zombie,b=o.ZombieProps},function(o){h=o.sounds},function(o){m=o.instantiatePooly},function(o){d=o.PlantPool},function(o){p=o.Square},function(o){f=o.FrontYard}],execute:function(){var w,P,g,y,v,D,B,x,O;a._RF.push({},"9b086wYgAlPDY9H51s7c/QD","EightiesBoomBoxZombie",void 0);var S=s.ccclass,C=s.property,j=function(o){function t(){for(var t,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return(t=o.call.apply(o,[this].concat(n))||this).BoomBoxColumn=5,t.BoomBoxDuration=8,t.PlantFreezeRadius=15,t}return i(t,o),t}(b);o("EightiesBoomBoxZombieZombie",(w=S("EightiesBoomBoxZombie"),P=C([l]),g=C([l]),y=C(c),w((B=t((D=function(o){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=o.call.apply(o,[this].concat(r))||this)._objdataOwn=new j,t._objdataOwnOrg=new j,n(t,"powerUpSounds",B,e(t)),n(t,"powerDownSounds",x,e(t)),t.boomed=!1,t.boomCD=0,n(t,"lovePar",O,e(t)),t.lovePs=[],t.singing=!1,t}i(t,o);var a=t.prototype;return a.onObjdataSet=function(o){},a.specialAnimationListener=function(o){switch(o.name){case"ballad":if(h.playArray(this.powerUpSounds,1,.5),!this.isAlive())return;this.heartOnPlants(),this.singing=!0,this.boomCD=this.objdataOwn.BoomBoxDuration}},a.specialZombieOnEnable=function(){this.boomed=!1},a.boomStart=function(){this.walking=!1,this.switching=!0,this.correctShadeWP(),this.body.playAnimation("SingStart",1/0),this.boomCD=1/0,this.boomed=!0},a.killAllHearts=function(){this.lovePs=[]},a.heartOnPlants=function(){var o=this;d.pool().filter((function(t){return!t.objdataOwn.ImmuneToBoomBox&&t.worldPosition.subtract(o.worldPosition).length()<o.objdataOwn.PlantFreezeRadius*p.SquareDisW})).forEach((function(t){if(!t.boomboxPar){var i=m(o.lovePar);i.parent=t.inLane.prjLayer,i.worldPosition=t.worldPosition.toVec3(),t.boomboxPar=i}t.boomboxCD=.5,o.lovePs.push(t)}))},a.readHearts=function(){var o=this;f.component&&(f.component.boomboxCD=.5),this.lovePs.concat().forEach((function(t){if(t&&!t.isAlive()||t.invincible){t.boomboxCD=0;var i=o.lovePs.indexOf(t);-1!=i&&o.lovePs.splice(i,1)}else t.boomboxCD=.5}))},a.playSpecialZombieDieForced=function(){this.boomEnd()},a.boomEnd=function(){this.boomCD=0,this.killAllHearts()},a.specialZombieUpdate=function(o,t,i){!this.boomed&&!this.hypno&&(this.cIndex-(this.reversed?8-this.objdataOwn.BoomBoxColumn:this.objdataOwn.BoomBoxColumn))*(this.reversed?-1:1)<=0&&this.boomStart(),isFinite(this.boomCD)&&this.boomCD>0&&(this.readHearts(),this.boomCD-=o,(this.boomCD<=0||o<=0||this.hypno)&&(this.boomEnd(),h.playArray(this.powerDownSounds,1,.5),this.body.playAnimation("SingEnd",1/0)))},r(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),t}(u)).prototype,"powerUpSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(D.prototype,"powerDownSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(D.prototype,"lovePar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=D))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/EightiesBreakDancerZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./FrontYard.ts","./CharacterManager.ts","./Square.ts"],(function(t){var e,i,n,a,o,r,s,c,u,l,d,h,b,p,y,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,c=t.AudioClip,u=t.Vec2},function(t){l=t.Zombie,d=t.ZombieProps},function(t){h=t.sounds},function(t){b=t.FrontYard,p=t.JamStyle},function(t){y=t.Rectangle},function(t){S=t.Square}],execute:function(){var k,m,g,f,w,j,_,A,D,Z,O,C,L;r._RF.push({},"bf37d7NgLJFSIZYgtkPZAuG","EightiesBreakDancerZombie",void 0);var v=s.ccclass,P=s.property,z=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).JamWalkSpeedMult=1.5,e.KickDistance=1.5625,e.KickingTime=.5,e}return i(e,t),e}(d);t("EightiesBreakDancerZombieZombie",(k=v("EightiesBreakDancerZombie"),m=P([c]),g=P([c]),f=P([c]),w=P([c]),j=P([c]),k((D=e((A=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new z,e._objdataOwnOrg=new z,e._dancing=!1,n(e,"jamSaySounds",D,a(e)),n(e,"rotateStartSaySounds",Z,a(e)),n(e,"rotateStartSounds",O,a(e)),n(e,"rotateEndSaySounds",C,a(e)),n(e,"jamStepSounds",L,a(e)),e.kickCountdown=0,e}i(e,t);var r=e.prototype;return r.onObjdataSet=function(t){},r.walkSpeedScaleExtra=function(){return this.dancing?this.objdataOwn.JamWalkSpeedMult:1},r.specialZombieOnEnable=function(){this.dancing=!1,this.kickCountdown=0},r.zombieKickable=function(t,e){return t!=this&&t.cIndex>=0&&t.knockBackable&&t.specialZombieKnockbackable()&&t.leapable&&t.specialZombieLeapable()&&e.judgeCrossRec(t.bodyRec)},r.playSpecialZombieDie=function(t){this.switching&&this.judgeDeath()},r.specialZombieUpdateForced=function(t,e,i){this.isAlive()&&(this.dancing=b.getStageEffect()==p[this.objdataOwn.JamStyle])},r.specialZombieUpdateBeforePlantDetect=function(t,e,i){var n=this;if(t>0&&!this.switching&&this.enteredLawn&&this.dancing&&this.inLane){var a=y.createRectangleCenter(new u(this.worldPositionX,this.inLane.floorY),S.SquareDisW,S.SquareDisH);(this.hypno?this.inLane.hypnoZombiePool():this.inLane.zombiePool()).some((function(t){return n.zombieKickable(t,a)}))&&(this.walking=!1,this.correctShadeWP(),this.switching=!0,this.kickCountdown=1/0,this.body.playAnimation("RotateStart",1/0))}this.switching&&this.kickCountdown>0&&(this.kickCountdown-=t,this.kickCountdown<=0&&(this.kickCountdown=1/0,this.body.playAnimation("RotateEnd",1/0)))},r.specialAnimationListener=function(t){switch(t.name){case"jam_say":Math.random()<.5&&h.playArray(this.jamSaySounds,.4);break;case"jam_step":h.playArray(this.jamStepSounds,.5);break;case"rotate_start_say":h.playArray(this.rotateStartSaySounds,1);break;case"rotate_start_sound":h.playArray(this.rotateStartSounds,1,.2);break;case"rotate_end_say":h.playArray(this.rotateEndSaySounds,1);break;case"rotateStart":this.body.playAnimation("RotateLoop",1/0),this.kickCountdown=this.objdataOwn.KickingTime,this.kick()}},r.kick=function(){var t=this,e=y.createRectangleCenter(new u(this.worldPositionX,this.inLane.midY),1.5*S.SquareDisW,S.SquareDisH);(this.hypno?this.inLane.hypnoZombiePool():this.inLane.zombiePool()).forEach((function(i){t.zombieKickable(i,e)&&i.leapBy(new u(t.objdataOwn.KickDistance*(t.reversed?1:-1),0),!0,.5,40,!0)}))},o(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"dancing",get:function(){return this._dancing},set:function(t){t!=this._dancing&&(this.body.IdleAnm=t?"Idle_Dancing":"Idle",this.body.WalkAnm=t?"Walk_Dancing":"Walk",this.walking?(this.correctShadeWP(),this.replayAnimation()):this.isIdle&&this.replayAnimation()),this._dancing=t}}]),e}(l)).prototype,"jamSaySounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=e(A.prototype,"rotateStartSaySounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(A.prototype,"rotateStartSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(A.prototype,"rotateEndSaySounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(A.prototype,"jamStepSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=A))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/EightiesGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./FrontYard.ts","./SoundRescourses.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./Zombies.ts"],(function(t){var a,r,i,e,n,o,s,u,h,l,c,g,b,y,m,p,d,f,S,w;return{setters:[function(t){a=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized,n=t.createClass},function(t){o=t.cclegacy,s=t._decorator,u=t.Prefab,h=t.AudioClip,l=t.Node,c=t.Vec2},function(t){g=t.GargantuarZombie,b=t.GargantuarProps},function(t){y=t.FrontYard,m=t.JamStyle},function(t){p=t.sounds},function(t){d=t.instantiatePooly},function(t){f=t.peaShooter},function(t){S=t.CharacterType},function(t){w=t.ZombieEnum}],execute:function(){var A,j,D,P,C,v,O,E,G,L,Z;o._RF.push({},"5122dhHcfJCc7W+TQ4wytgo","EightiesGargantuarZombie",void 0);var z=s.ccclass,_=s.property,N=function(t){function a(){for(var a,r=arguments.length,i=new Array(r),e=0;e<r;e++)i[e]=arguments[e];return(a=t.call.apply(t,[this].concat(i))||this).ArbitrarySmashDelay=4,a.ArbitrarySmashDelayAdditional=1.5,a}return r(a,t),a}(b);t("EightiesGargantuarZombie",(A=z("EightiesGargantuarZombie"),j=_(u),D=_([h]),P=_([h]),C=_(l),A((E=a((O=function(t){function a(){for(var a,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=t.call.apply(t,[this].concat(n))||this)._objdataOwn=new N,a.ArbitrarySmashCD=0,a.impEnum=w.eighties_imp,i(a,"wavePrj",E,e(a)),i(a,"guitarSwingSounds",G,e(a)),i(a,"guitarSmashSounds",L,e(a)),i(a,"prjPoint",Z,e(a)),a}r(a,t);var o=a.prototype;return o.onObjdataSet=function(t){this.getArbitrarySmashCD()},o.specialGargantuarOnEnable=function(){this.getArbitrarySmashCD()},o.getArbitrarySmashCD=function(){this.ArbitrarySmashCD=this.objdataOwn.ArbitrarySmashDelay+this.objdataOwn.ArbitrarySmashDelayAdditional*Math.random()},o.specialGargantuarUpdate=function(t,a,r){this.enteredLawn&&y.getStageEffect()==m[this.objdataOwn.JamStyle]&&this.walking&&(this.ArbitrarySmashCD-=t,this.ArbitrarySmashCD<=0&&(this.getArbitrarySmashCD(),this.playSmashAnm()))},o.specialGargantuarAnimationListener=function(t){"guitar"==t.name&&this.enteredLawn&&y.getStageEffect()==m[this.objdataOwn.JamStyle]&&p.playArray(this.guitarSwingSounds,1,NaN,.3)},o.onSmashing=function(t){if(this.getArbitrarySmashCD(),this.enteredLawn&&y.getStageEffect()==m[this.objdataOwn.JamStyle]){p.playArray(this.guitarSmashSounds,1,NaN,.3);var a=d(this.wavePrj);f.shootOnePea(a,new c(this.prjPoint.worldPosition.x,this.worldPositionY),2,this.inLane.prjLayer,new c(-10*(this.reversed?-1:1),0),this.hypno?S.zombie:S.plant)}},n(a,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),a}(g)).prototype,"wavePrj",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=a(O.prototype,"guitarSwingSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=a(O.prototype,"guitarSmashSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=a(O.prototype,"prjPoint",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=O))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/EightiesGlitterZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./FrontYard.ts","./Character.ts","./NodePools.ts","./CharacterManager.ts","./Square.ts","./Zombies.ts"],(function(t){var e,i,a,n,r,o,s,l,h,c,d,u,g,p,b,f,m,w,P,y,v,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,s=t._decorator,l=t.Prefab,h=t.AudioClip,c=t.Vec3,d=t.Vec2},function(t){u=t.ZombieDamageDetails,g=t.Zombie,p=t.ZombieProps},function(t){b=t.sounds},function(t){f=t.FrontYard,m=t.JamStyle},function(t){w=t.Character},function(t){P=t.instantiatePooly},function(t){y=t.Rectangle},function(t){v=t.Square},function(t){D=t.zombies}],execute:function(){var S,Z,O,L,j,C,k,W,_;o._RF.push({},"f4da3vvEFhF9bFRMgPR53D8","EightiesGlitterZombie",void 0);var R=s.ccclass,E=s.property,F=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).RainbowTrailLength=3.125,e.WheelLeapDistanceToZombie=1,e.WheelDamageToZombie=200,e.JamWalkSpeedMult=1,e}return i(e,t),e}(p);t("EightiesGlitterZombieZombie",(S=R("EightiesGlitterZombie"),Z=E(l),O=E(l),L=E(h),S((k=e((C=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this)._objdataOwn=new F,e._objdataOwnOrg=new F,a(e,"plantHitPar",k,n(e)),a(e,"glitterPar",W,n(e)),e.glitterCharacter=void 0,a(e,"glitterSound",_,n(e)),e}i(e,t);var o=e.prototype;return o.onObjdataSet=function(t){},o.walkSpeedScaleExtra=function(){return this.dancing?this.objdataOwn.JamWalkSpeedMult:1},o.specialZombieOnEnable=function(){this.dancing=!1},o.whenPlantDetected=function(t,e,i){this.dancing?(null==t||t.kill(),t&&(t.isAlive()?this.defaultWhenPlantDetected(t,e,i):this.spawnHitPar())):this.defaultWhenPlantDetected(t,e,i)},o.spawnHitPar=function(){var t=P(this.plantHitPar);t.parent=this.inLane.prjLayer,t.worldPosition=this.worldPosition.toVec3(),t.scale=new c(.7*this.scale,.7,1)},o.whenZombieDetected=function(t,e,i){if(this.dancing&&t.leapable&&t.knockBackable){if(t.knockBackTween)return;this.spawnHitPar();var a=new u(this.objdataOwn.WheelDamageToZombie);t.dealDamage(a),t.leapBy(new d((this.reversed?1:-1)*this.objdataOwn.WheelLeapDistanceToZombie,0),!0,1,50,!0,!1)}else this.defaultWhenZombieDetected(t,e,i)},o.playSpecialZombieDieForced=function(){this.dancing=!1},o.specialZombieUpdate=function(t,e,i){var a=this;if(this.dancing=f.getStageEffect()==m[this.objdataOwn.JamStyle]&&this.isAlive(),this.dancing){var n;b.play(this.glitterSound,1,NaN,.66667);var r=y.createRectangleSide(new d(this.shadeWorldPosition.x+(this.reversed?-1:1)*v.SquareDisW/2,this.inLane.midY),v.SquareDisW*this.objdataOwn.RainbowTrailLength*(this.reversed?-1:1),v.SquareDisH);null==(n=this.hypno?this.inLane.hypnoZombiePool():this.inLane.zombiePool())||n.forEach((function(t){t.ID!=a.ID&&-1==D.zombossList().indexOf(t.ID)&&r.judgeCrossRec(t.bodyRec)&&t.setGlittering(.3)}))}if(this.glitterCharacter){var o=this.glitterCharacter;o.worldPosition=new d(this.shadeWorldPosition.x,this.worldPositionY),o.scale=this.scale,o.height_depth=this.height_depth,o.node.setParent(this.inLane.glitterLayer,!0)}},r(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"dancing",get:function(){return!!this.glitterCharacter},set:function(t){if(t!=this.dancing)if(t){var e=P(this.glitterPar);e.parent=this.inLane.glitterLayer;var i=e.getComponent(w);i.worldPosition=new d(this.shadeWorldPosition.x,this.worldPositionY),i.scale=this.scale,i.height_depth=this.height_depth,this.glitterCharacter=i,i.db.playAnimation("Start",1/0)}else this.glitterCharacter&&(this.glitterCharacter.db.playAnimation("Fade",1/0),this.glitterCharacter=null)}}]),e}(g)).prototype,"plantHitPar",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(C.prototype,"glitterPar",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(C.prototype,"glitterSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=C))||j));o._RF.pop()}}}));

System.register("chunks:///_virtual/EightiesMCZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./FrontYard.ts","./CharacterManager.ts","./Square.ts"],(function(e){var n,t,a,i,o,r,s,c,l,u,d,h,p,b,m,f,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,s=e._decorator,c=e.AudioClip,l=e.Vec2},function(e){u=e.ZombieDamageDetails,d=e.Zombie,h=e.ZombieProps},function(e){p=e.sounds},function(e){b=e.FrontYard,m=e.JamStyle},function(e){f=e.Rectangle},function(e){g=e.Square}],execute:function(){var y,L,S,w,R,k,P,C,j,D,E,A,O,Z,W;r._RF.push({},"738e4JihYFKaaNv+MlUJNoR","EightiesMCZombie",void 0);var _=s.ccclass,v=s.property,z=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))||this).JamAttackDamage=2001,n.JamWalkSpeedMult=1,n}return t(n,e),n}(h);e("EightiesMCZombieZombie",(y=_("EightiesMCZombie"),L=v([c]),S=v([c]),w=v([c]),R=v([c]),k=v([c]),P=v([c]),y((D=n((j=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(n=e.call.apply(e,[this].concat(o))||this)._objdataOwn=new z,n._objdataOwnOrg=new z,n._dancing=!1,a(n,"walkSaySounds",D,i(n)),a(n,"jamSaySounds",E,i(n)),a(n,"eatSaySounds",A,i(n)),a(n,"rapSounds",O,i(n)),a(n,"attackStartSounds",Z,i(n)),a(n,"attackEndSounds",W,i(n)),n}t(n,e);var r=n.prototype;return r.onObjdataSet=function(e){},r.walkSpeedScaleExtra=function(){return this.dancing?this.objdataOwn.JamWalkSpeedMult:1},r.specialZombieOnEnable=function(){this.dancing=!1},r.playAttack=function(){this.correctShadeWP(),this.switching=!0,this.walking=!1,this.body.playAnimation("Attack",1/0)},r.plantCanbeHit=function(e){return e.eaterDetectable&&e.damagable&&!e.invincible&&!e.short_},r.detectJamEnemies=function(e){var n=this;if(!(this.switching||e<=0)&&this.inLane&&this.enteredLawn){var t,a,i,o,r,s,c,u,d=f.createRectangleCenter(new l(this.shadeWorldPosition.x,this.inLane.midY),3.125*g.SquareDisW,g.SquareDisH),h=f.createRectangleCenter(new l(this.shadeWorldPosition.x,this.inLane.midY),2*g.SquareDisW,3*g.SquareDisH);if(this.hypno)null!=(t=this.inLane.tombPool())&&t.some((function(e){return e&&d.judgeCrossRec(e.bodyRec)}))||null!=(a=this.inLane.UpperLane.tombPool())&&a.concat(this.inLane.LowerLane.tombPool()).some((function(e){return e&&h.judgeCrossRec(e.bodyRec)}))||null!=(i=this.inLane.zombiePool())&&i.some((function(e){return d.judgeCrossRec(e.bodyRec)}))||null!=(o=this.inLane.UpperLane.zombiePool())&&o.concat(this.inLane.LowerLane.zombiePool()).some((function(e){return h.judgeCrossRec(e.bodyRec)}))?this.playAttack():this.playWalk();else null!=(r=this.inLane.plantPool())&&r.some((function(e){return n.plantCanbeHit(e)&&d.judgeCrossRec(e.bodyRec)}))||null!=(s=this.inLane.UpperLane.plantPool())&&s.concat(this.inLane.LowerLane.plantPool()).some((function(e){return n.plantCanbeHit(e)&&h.judgeCrossRec(e.bodyRec)}))||null!=(c=this.inLane.hypnoZombiePool())&&c.some((function(e){return d.judgeCrossRec(e.bodyRec)}))||null!=(u=this.inLane.UpperLane.hypnoZombiePool())&&u.concat(this.inLane.LowerLane.hypnoZombiePool()).some((function(e){return h.judgeCrossRec(e.bodyRec)}))?this.playAttack():this.playWalk()}},r.attack=function(){var e,n,t,a,i,o,r,s,c=this,d=f.createRectangleCenter(new l(this.shadeWorldPosition.x,this.inLane.midY),3.125*g.SquareDisW,g.SquareDisH),h=f.createRectangleCenter(new l(this.shadeWorldPosition.x,this.inLane.midY),2*g.SquareDisW,3*g.SquareDisH),p=new u(this.objdataOwn.JamAttackDamage),b=[];this.hypno?(null==(e=this.inLane.tombPool())||e.forEach((function(e){e&&d.judgeCrossRec(e.bodyRec)&&e.dealDamage(p.damage)})),null==(n=this.inLane.UpperLane.tombPool())||n.concat(this.inLane.LowerLane.tombPool()).forEach((function(e){e&&h.judgeCrossRec(e.bodyRec)&&e.dealDamage(p.damage)})),null==(t=this.inLane.zombiePool())||t.forEach((function(e){-1==b.indexOf(e)&&d.judgeCrossRec(e.bodyRec)&&b.push(e)})),null==(a=this.inLane.UpperLane.zombiePool())||a.concat(this.inLane.LowerLane.zombiePool()).forEach((function(e){-1==b.indexOf(e)&&h.judgeCrossRec(e.bodyRec)&&b.push(e)}))):(null==(i=this.inLane.plantPool())||i.forEach((function(e){c.plantCanbeHit(e)&&d.judgeCrossRec(e.bodyRec)&&e.dealDamage(p.damage)})),null==(o=this.inLane.UpperLane.plantPool())||o.concat(this.inLane.LowerLane.plantPool()).forEach((function(e){c.plantCanbeHit(e)&&h.judgeCrossRec(e.bodyRec)&&e.dealDamage(p.damage)})),null==(r=this.inLane.hypnoZombiePool())||r.forEach((function(e){-1==b.indexOf(e)&&d.judgeCrossRec(e.bodyRec)&&b.push(e)})),null==(s=this.inLane.UpperLane.hypnoZombiePool())||s.concat(this.inLane.LowerLane.hypnoZombiePool()).forEach((function(e){-1==b.indexOf(e)&&h.judgeCrossRec(e.bodyRec)&&b.push(e)})));b.forEach((function(e){e.dealDamage(p)}))},r.playSpecialZombieDie=function(e){this.switching&&this.judgeDeath()},r.detectPlant=function(e){this.dancing?this.detectJamEnemies(e):this.defaultDetectPlant(e)},r.specialZombieUpdateForced=function(e,n,t){this.isAlive()&&(this.dancing=b.getStageEffect()==m[this.objdataOwn.JamStyle])},r.specialAnimationListener=function(e){switch(e.name){case"eatSay":p.playArray(this.eatSaySounds,1);break;case"rap":p.playArray(this.rapSounds,.4,NaN,.8);break;case"attackStart":p.playArray(this.attackStartSounds,1,.2);break;case"attackEnd":p.playArray(this.attackEndSounds,1,.2);break;case"attack":this.attack()}},o(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"dancing",get:function(){return this._dancing},set:function(e){e!=this._dancing&&(this.body.IdleAnm=e?"Idle_Dancing":"Idle",this.body.WalkAnm=e?"Walk_Dancing":"Walk",this.walking?(this.correctShadeWP(),this.replayAnimation()):this.isIdle&&this.replayAnimation(),this.groanSound=e?this.jamSaySounds:this.walkSaySounds),this._dancing=e}}]),n}(d)).prototype,"walkSaySounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=n(j.prototype,"jamSaySounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=n(j.prototype,"eatSaySounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(j.prototype,"rapSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=n(j.prototype,"attackStartSounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=n(j.prototype,"attackEndSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=j))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/EightiesPunkZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./FrontYard.ts"],(function(n){var t,e,i,a,o,r,s,c,l,u,h,d,p,b;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized,o=n.createClass},function(n){r=n.cclegacy,s=n._decorator,c=n.AudioClip,l=n.Vec2},function(n){u=n.Zombie,h=n.ZombieProps},function(n){d=n.sounds},function(n){p=n.FrontYard,b=n.JamStyle}],execute:function(){var f,g,y,m,w,k,S;r._RF.push({},"68200HK7XRPhZjmh6fJq+uk","EightiesPunkZombie",void 0);var j=s.ccclass,v=s.property,O=function(n){function t(){for(var t,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(t=n.call.apply(n,[this].concat(i))||this).PushCooldown=2,t.PushDamageToZombies=200,t.JamWalkSpeedMult=1,t}return e(t,n),t}(h);n("EightiesPunkZombieZombie",(f=j("EightiesPunkZombie"),g=v([c]),y=v([c]),f((k=t((w=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(t=n.call.apply(n,[this].concat(o))||this)._objdataOwn=new O,t._objdataOwnOrg=new O,t._dancing=!1,t.pushCD=0,i(t,"jamGroanSounds",k,a(t)),i(t,"kickSounds",S,a(t)),t}e(t,n);var r=t.prototype;return r.onObjdataSet=function(n){},r.specialZombieOnEnable=function(){this.dancing=!1},r.walkSpeedScaleExtra=function(){return this.dancing?this.objdataOwn.JamWalkSpeedMult:1},r.whenPlantDetected=function(n,t,e){if(!this.dancing||this.pushCD>0||n.objdataOwn.CannotBePushedByFootballMech||n.invincible)this.defaultWhenPlantDetected(n,t,e);else{this.pushCD=this.objdataOwn.PushCooldown;for(var i=n.plantInLnC,a=0,o=!1;null!=(r=i)&&r.isInLawn();){var r;if((i=this.reversed?i.righter:i.lefter).putPlantAvailable(!0,n.ID,!0)){n.leapTo(i,.5,a,!0,!1),o=!0;break}a=100}o||n.throwAway(!this.reversed,this)}},r.specialZombieUpdateForced=function(n,t,e){this.isAlive()&&(this.pushCD>0&&(this.pushCD-=n),this.dancing=p.getStageEffect()==b[this.objdataOwn.JamStyle])},r.getMagnetedObject=function(){var n=this.dropHead(null);if(this.playDie(),n){n.MagnetShroomConsumingSpeed=5;var t=n;t.linearVelocity&&(t.linearVelocity=new l(0,0)),t.bodyLinearVelocity&&(t.bodyLinearVelocity=0)}return n},r.specialAnimationListener=function(n){switch(n.name){case"kick":d.playArray(this.kickSounds,1)}},o(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"dancing",get:function(){return this._dancing},set:function(n){n!=this._dancing&&(this.body.IdleAnm=n?"Idle_Dancing":"Idle",this.body.WalkAnm=n?"Walk_Dancing":"Walk",this.walking?(this.correctShadeWP(),this.replayAnimation()):this.isIdle&&this.replayAnimation(),this.groanSound=n?this.jamGroanSounds:[]),this._dancing=n}}]),t}(u)).prototype,"jamGroanSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=t(w.prototype,"kickSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=w))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/ElectricBlueberry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./Zombie.ts","./NodePools.ts","./electricblueberryCloud.ts"],(function(t){var e,a,i,o,n,l,r,s,u,c,d,h,p,b,m,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){l=t.cclegacy,r=t._decorator,s=t.AudioClip,u=t.Prefab},function(t){c=t.Plant,d=t.PlantProps},function(t){h=t.sounds},function(t){p=t.ZombiePool},function(t){b=t.ZombieSort},function(t){m=t.instantiatePooly},function(t){g=t.electricblueberryCloud}],execute:function(){var y,f,w,C,k,A,N,O,j,P,I,R,S,B,D,_,v,T,L,Z,z,E,F,W,M,G,H,J;l._RF.push({},"4083dCPrDNPBJoKMls6jV35","ElectricBlueberry",void 0);var x=r.ccclass,K=r.property,U=function(t){function e(){for(var e,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).PlantFoodCloudSpeed=10,e.PlantFoodLightningBoltDamage=5e3,e.PlantFoodLightningTargets=3,e.NormalCloudSpeed=10,e.NormalLightningBoltDamage=5e3,e.NormalLightningTargets=1,e.WeightTargetNormalZombie=55,e.WeightTargetGargantuarZombie=5,e.WeightTargetOtherZombie=40,e.AttackCooldownStart=10,e.AttackCooldownStartAdditional=0,e.AttackCooldownBetween=12,e.AttackCooldownBetweenAdditional=0,e}return a(e,t),e}(d),V=(y=x("ElectricBlueberrySound"),f=K(s),w=K(s),C=K(s),k=K(s),A=K(s),N=K(s),O=K([s]),j=K([s]),P=K([s]),y((S=e((R=function(){function t(){i(this,"breathIn",S,this),i(this,"breathOut",B,this),i(this,"attack",D,this),i(this,"foodAttack",_,this),i(this,"glow",v,this),i(this,"jump",T,this),i(this,"ele",L,this),i(this,"eleSay",Z,this),i(this,"spark",z,this)}var e=t.prototype;return e.playBreathIn=function(){h.play(this.breathIn,1,NaN,.4)},e.playBreathOut=function(){h.play(this.breathOut,1,NaN,.4)},e.playAttack=function(){h.play(this.attack,1,NaN,.3)},e.playFoodAttack=function(){h.play(this.foodAttack,1,NaN,.3)},e.playGlow=function(){h.play(this.glow,1,NaN,.3)},e.playJump=function(){h.play(this.jump,1,NaN,.3)},e.playEle=function(){h.playArray(this.ele,1,NaN),h.playArray(this.eleSay,1,NaN)},e.playSpark=function(){h.playArray(this.spark,1,NaN)},t}()).prototype,"breathIn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(R.prototype,"breathOut",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(R.prototype,"attack",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(R.prototype,"foodAttack",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(R.prototype,"glow",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(R.prototype,"jump",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(R.prototype,"ele",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=e(R.prototype,"eleSay",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=e(R.prototype,"spark",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=R))||I);t("ElectricBlueberryPlant",(E=x("ElectricBlueberryPlant"),F=K(V),W=K(u),E((H=e((G=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,i(e,"soundRes",H,o(e)),e._objdataOwn=new U,e._cloudRestTime=12,e._cloudCD=1,e._stage=NaN,e.clouding=!1,i(e,"cloud",J,o(e)),e}a(e,t);var l=e.prototype;return l.setCloudCD=function(t){void 0===t&&(t=!1),this._cloudCD=0;var e=this.objdataOwn.AttackCooldownBetween+Math.random()*this.objdataOwn.AttackCooldownBetweenAdditional;t&&(e=this.objdataOwn.AttackCooldownStart+Math.random()*this.objdataOwn.AttackCooldownStartAdditional),e*=this._cdScale,this._cloudRestTime=Math.max(e,.01),this.cloudCD=e},l.playAttack=function(){this.setCloudCD(),this.clouding=!0,this.anmControl.playAnimation("Attack",1)},l.specialPlantFood=function(t){this.setCloudCD(),this.clouding=!0,this.anmControl.playAnimation("Food",1)},l.createCloud=function(t){void 0===t&&(t=!1);var e=m(this.cloud);e.parent=this.inLane.prjLayer;var a=e.getComponent(g);a&&(a.worldPosition=this.worldPosition,a.WeightTargetGargantuarZombie=this.objdataOwn.WeightTargetGargantuarZombie,a.WeightTargetNormalZombie=this.objdataOwn.WeightTargetNormalZombie,a.WeightTargetOtherZombie=this.objdataOwn.WeightTargetOtherZombie,a.Speed=t?this.objdataOwn.PlantFoodCloudSpeed:this.objdataOwn.NormalCloudSpeed,a.damage=this._dmgScale*(t?this.objdataOwn.PlantFoodLightningBoltDamage:this.objdataOwn.NormalLightningBoltDamage),a.leftTime=t?this.objdataOwn.PlantFoodLightningTargets:this.objdataOwn.NormalLightningTargets)},l.animationOnComplete=function(){this.clouding=!1},l.waterable=function(){return 2==this._stage&&!this.clouding},l.animationListener=function(t){switch(t.name){case"breathIn":this.soundRes.playBreathIn();break;case"breathOut":this.soundRes.playBreathOut();break;case"ele":this.soundRes.playEle();break;case"spark":this.soundRes.playSpark();break;case"jump":this.soundRes.playJump();break;case"attackSound":this.soundRes.playAttack();break;case"foodSound":this.soundRes.playFoodAttack();break;case"foodEnd":this.foodEnd();break;case"cloud":this.judgeHaveEnemy()?this.createCloud():this.cloudCD=5/8*this._cloudRestTime;break;case"foodCloud":this.createCloud(!0)}},l.judgeHaveEnemy=function(){return p.pool().some((function(t){var e=t.ZombieSort;return t.isRealZombie&&t.enteredLawn&&!t.BlueBerryCloud&&(e==b.Other||e==b.Normal||e==b.Gargantuar)}))},l.specialPlantUpdate=function(t,e,a){this.clouding||(this.cloudCD>0?this.cloudCD-=t:a>0&&this.judgeHaveEnemy()&&this.playAttack())},l.specialPlantOnEnable=function(){this.clouding=!1,this.setCloudCD(!0)},n(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"cloudCD",get:function(){return this._cloudCD},set:function(t){var e=3-Math.floor(t/this._cloudRestTime*4);if(e<0&&(e=0),e>3&&(e=3),this._stage!=e){switch(e){case 0:this.anmControl.IdleAnim="Idle00",this.anmControl.RandomAnim=["Idle01"];break;case 1:this.anmControl.IdleAnim="Idle10",this.anmControl.RandomAnim=["Idle11","Idle12","Idle13"];break;case 2:this.anmControl.IdleAnim="Idle20",this.anmControl.RandomAnim=["Idle21","Idle22"];break;default:this.anmControl.IdleAnim="Idle30",this.anmControl.RandomAnim=["Idle31","Idle32"]}this.clouding||this.anmControl.playRandom(),this.soundRes.playGlow()}this._stage=e,this._cloudCD=t}}]),e}(c)).prototype,"soundRes",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new V}}),J=e(G.prototype,"cloud",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=G))||M));l._RF.pop()}}}));

System.register("chunks:///_virtual/electricblueberryCloud.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./Zombie.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts"],(function(t){var e,i,r,o,a,n,s,h,l,c,u,g,m,d,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,n=t._decorator,s=t.AudioClip,h=t.dragonBones},function(t){l=t.Character},function(t){c=t.ZombieDamageDetails,u=t.zombieDamageType,g=t.ZombieSort},function(t){m=t.ZombiePool},function(t){d=t.Square},function(t){b=t.sounds}],execute:function(){var f,p,Z,y,v;a._RF.push({},"10d96BT90pMDqzrJXmm3hKY","electricblueberryCloud",void 0);var T=n.ccclass,w=n.property;t("electricblueberryCloud",(f=T("electricblueberryCloud"),p=w([s]),f((v=e((y=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).damage=5e3,e.leftTime=0,r(e,"hitSounds",v,o(e)),e.switching=!1,e.Speed=10,e.WeightTargetNormalZombie=55,e.WeightTargetGargantuarZombie=5,e.WeightTargetOtherZombie=45,e.targetZombie=void 0,e}i(e,t);var a=e.prototype;return a.characterOnLaneChange=function(t,e){e&&this.node.setParent(e.prjLayer,!0)},a.damageToTarget=function(){var t=new c(this.damage,!0,!1,!0,null,u.electricity);this.targetZombie&&(b.playArray(this.hitSounds,1,NaN,.3),this.db.playAnimation("Attack",1),this.switching=!0,this.targetZombie.dealDamage(t),this.targetZombie.isAlive()||(this.targetZombie=null))},a.dbListener=function(t){switch(t.name){case"locate":this.switching=!1,this.targetZombie||(this.leftTime<=0?this.die():(this.targetZombie=this.getTargetZombie(),this.targetZombie&&(this.targetZombie.BlueBerryCloud=this,this.leftTime--)))}},a.characterUpdate=function(t){if(this.targetZombie&&!this.switching){if(!this.targetZombie.isAlive())return this.targetZombie=null,void this.leftTime++;var e=this.targetZombie.worldPosition.subtract(this.worldPosition),i=d.SquareDisW*this.Speed*t;e.length()<i&&(this.damageToTarget(),i=e.length());var r=e.normalize().multiplyScalar(i);this.worldPositionX+=r.x,this.worldPositionY+=r.y}},a.getTargetZombie=function(){for(var t,e=[{Sort:g.Normal,Weight:this.WeightTargetNormalZombie},{Sort:g.Gargantuar,Weight:this.WeightTargetGargantuarZombie},{Sort:g.Other,Weight:this.WeightTargetOtherZombie}],i=m.pool().sort((function(t,e){return t.worldPositionX-e.worldPositionX})),r=function(){var t=0,r=[];e.forEach((function(e){t+=e.Weight,r.push(t)}));var o=t*Math.random(),a=r.findIndex((function(t){return o<=t})),n=e[a];if(n){var s=i.find((function(t){return t.isRealZombie&&t.enteredLawn&&!t.BlueBerryCloud&&t.ZombieSort==n.Sort}));if(s)return{v:s};e.splice(a,1)}};e.length>0;)if(t=r())return t.v;return null},a.die=function(){this.db.playAnimation("Death",1/0),this.switching=!0},a.characterOnEnable=function(){this.db.playAnimation("Spawn",1),this.switching=!0},a.characterOnLoad=function(){var t;null==(t=this.db)||t.on(h.EventObject.FRAME_EVENT,this.dbListener,this)},e}(l)).prototype,"hitSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=y))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/ElectricCurrant.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./NodePools.ts","./SoundRescourses.ts"],(function(t){var n,i,e,a,o,r,s,l,c,d,h,u,f,p,m,y,b,g;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.AudioClip,l=t.Prefab,c=t.Vec3,d=t.Vec2},function(t){h=t.Plant,u=t.PlantProps},function(t){f=t.PlantPool},function(t){p=t.Square},function(t){m=t.ZombieDamageDetails,y=t.zombieDamageType},function(t){b=t.instantiatePooly},function(t){g=t.sounds}],execute:function(){var S,w,C,P,D,I,L,x,R,v,A,k,E,z,_,F,j,O,T,Z,M,N,B,V,q,H,X,J,U,Y,G,K;o._RF.push({},"7ef1aVTwm5BXJaVbgvRz9tD","ElectricCurrant",void 0);var Q=r.ccclass,W=r.property,$=(S=Q("electriccurrantSound"),w=W([s]),C=W([s]),P=W([s]),D=W([s]),I=W([s]),L=W([s]),x=W([s]),R=W([s]),v=W(s),S((E=n((k=function(){function t(){e(this,"attackStartSay",E,this),e(this,"death",z,this),e(this,"foodEnd",_,this),e(this,"foodStartSay",F,this),e(this,"shoot",j,this),e(this,"spark",O,this),e(this,"sparkSay",T,this),e(this,"shootStart",Z,this),e(this,"loop",M,this)}var n=t.prototype;return n.playAttackStartSay=function(){g.playArray(this.attackStartSay,.5,.1)},n.playDeath=function(){g.playArray(this.death,1,.1)},n.playFoodEnd=function(){g.playArray(this.foodEnd,1,.1)},n.playFoodStartSay=function(){g.playArray(this.foodStartSay,1,.1)},n.playShoot=function(){g.playArray(this.shoot,.5,.1)},n.playSpark=function(){g.playArray(this.spark,.5,.1)},n.playSparkSay=function(){g.playArray(this.sparkSay,.5,.1)},n.playShootStart=function(){g.playArray(this.shootStart,.5,.1)},n.playLoop=function(){g.play(this.loop,.6,NaN,.66667,!0)},t}()).prototype,"attackStartSay",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(k.prototype,"death",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=n(k.prototype,"foodEnd",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(k.prototype,"foodStartSay",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=n(k.prototype,"shoot",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(k.prototype,"spark",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=n(k.prototype,"sparkSay",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=n(k.prototype,"shootStart",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=n(k.prototype,"loop",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=k))||A),tt=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return(n=t.call.apply(t,[this].concat(e))||this).Damage=12,n.DamagePlantfood=20,n.PlantfoodDuration=5,n.DirectDamageInterval=.25,n}return i(n,t),n}(u);t("ElectricCurrantPlant",(N=Q("ElectricCurrantPlant"),B=W($),V=W(l),q=W(l),H=W(l),N((U=n((J=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new tt,e(n,"soundRes",U,a(n)),e(n,"linePar",Y,a(n)),e(n,"centerPar",G,a(n)),e(n,"hitPar",K,a(n)),n.fooded=!1,n.foodCD=0,n.switching=!1,n.isDown=!1,n.damageCD=0,n}i(n,t);var o=n.prototype;return o.waterable=function(){return!this.fooded&&!this.isDown},o.specialPlantFoodEnd=function(){this.soundRes.playFoodEnd()},o.animationOnComplete=function(){this.switching=!1},o.animationListener=function(t){"shootStart"==t.name?this.soundRes.playShootStart():"shoot"==t.name?this.soundRes.playShoot():"spark"==t.name?this.soundRes.playSpark():"sparkSay"==t.name?this.soundRes.playSparkSay():"death"==t.name?(this.soundRes.playDeath(),this.bounceZombies()):"foodStartSay"==t.name?this.soundRes.playFoodStartSay():"attackStartSay"==t.name&&this.soundRes.playAttackStartSay()},o.down=function(){this.switching=!0,this.isDown=!0,this.anmControl.playAnimation("AttackStart",1),this.anmControl.IdleAnim="AttackLoop",this.anmControl.RandomAnim=[]},o.up=function(){this.switching=!0,this.isDown=!1,this.anmControl.playAnimation("AttackEnd",1),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"]},o.detectFriends=function(){var t=this,n=1/0,i=1/0,e=1/0,a=1/0,o=!1;f.pool().forEach((function(r){t.ID!=r.ID||r==t||r.dead||(t.lIndex==r.inLnC.lIndex?(t.cIndex<r.inLnC.cIndex?a=Math.min(r.inLnC.cIndex-t.cIndex,a):t.cIndex>r.inLnC.cIndex&&(e=Math.min(t.cIndex-r.inLnC.cIndex,e)),o=!0):t.cIndex==r.inLnC.cIndex&&(t.lIndex<r.inLnC.lIndex?i=Math.min(r.inLnC.lIndex-t.lIndex,i):t.lIndex>r.inLnC.lIndex&&(n=Math.min(t.lIndex-r.inLnC.lIndex,n)),o=!0))}));var r,s=Number(this.fooded?this._objdataOwn.DamagePlantfood:this._objdataOwn.Damage);this._dmgScale&&(s*=this._dmgScale);for(var l=1;isFinite(n)&&l<n;l++){var c;null==(c=p.getLnC(this.lIndex-l,this.cIndex))||c.setElectricLine(2,2,s,this.fooded,this.linePar)}for(var d=1;isFinite(i)&&d<i;d++){var h;null==(h=p.getLnC(this.lIndex+d,this.cIndex))||h.setElectricLine(2,2,s,this.fooded,this.linePar)}for(var u=1;isFinite(e)&&u<e;u++){var m;null==(m=p.getLnC(this.lIndex,this.cIndex-u))||m.setElectricLine(1,2,s,this.fooded,this.linePar)}for(var y=1;isFinite(a)&&y<a;y++){var b;null==(b=p.getLnC(this.lIndex,this.cIndex+y))||b.setElectricLine(1,2,s,this.fooded,this.linePar)}o&&(this.soundRes.playLoop(),null==(r=this.inLnC)||r.setElectricLine(0,2,s,this.fooded,this.centerPar))},o.specialPlantOnLoad=function(){p.component.electricLineHitPar=this.hitPar},o.specialPlantOnEnable=function(){this.isDown=!1,this.switching=!1,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.anmControl.playRandom()},o._foodedToTrue=function(){this.isDown=!1,this.switching=!1,this.anmControl.IdleAnim="Idle_Food",this.anmControl.RandomAnim=[],this.fooded=!0,this.foodable=!1,this.anmControl.playAnimation("Food",1)},o.specialPlantFood=function(){this._foodedToTrue(),this.foodCD=this._objdataOwn.PlantfoodDuration},o.specialFightAloneStrengthen=function(t){this._foodedToTrue()},o.detectZombies=function(){var t,n=this,i=!1;return null==(t=this.inLane)||null==(t=t.zombiePool())||t.forEach((function(t){i||n.inLnC.rec.judgeCrossRec(t.bodyRec)&&(i=!0)})),i},o.damageOnZombies=function(){var t,n=this,i=Number(this.fooded?this._objdataOwn.DamagePlantfood:this._objdataOwn.Damage);this._dmgScale&&(i*=this._dmgScale),null==(t=this.inLane)||null==(t=t.zombiePool())||t.forEach((function(t){if(n.inLnC.rec.judgeCrossRec(t.bodyRec)){t.dealDamage(new m(i,!0,!0,!0,null,y.electricity));var e=b(n.hitPar);e.parent=n.inLane.prjLayer,e.worldPosition=new c(t.worldPositionX,t.worldPositionY+30,10)}})),this.damageCD=this._objdataOwn.DirectDamageInterval*this._cdScale},o.bounceZombies=function(){var t=this;this.inLane.zombiePool().forEach((function(n){if(n.bodyRec.judgeCrossRec(t.inLnC.rec)){var i=-1,e=1;t.lIndex>=4&&(e=0),t.lIndex<=0&&(i=0),n.knockBackBy(new d(.75,Math.random()<.5?i:e),!0,.4,!1)}}))},o.specialPlantUpdateForce=function(t,n,i){if(this.isAlive()&&i>0&&this.detectFriends(),this.fooding&&(this.foodCD>0&&(this.foodCD-=t),this.foodCD<=0&&this.foodEnd()),!this.switching&&!this.fooding&&!this.dead){var e=this.detectZombies();e&&(this.fooded||this.isDown)&&(this.damageCD>0?this.damageCD-=t:this.damageOnZombies()),this.fooded||(this.isDown&&!e?this.up():!this.isDown&&e&&this.down())}},n}(h)).prototype,"soundRes",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new $}}),Y=n(J.prototype,"linePar",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=n(J.prototype,"centerPar",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=n(J.prototype,"hitPar",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=J))||X));o._RF.pop()}}}));

System.register("chunks:///_virtual/electricPea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./ParticleSelfdestroy.ts","./cactusThorn.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./electricPeaPointer.ts"],(function(e){var t,o,n,i,r,a,l,s,c,u,h,d,P,f,p,w,g,v,m,y,C,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Prefab,s=e.CCFloat,c=e.CCInteger,u=e.Vec3,h=e.Vec2,d=e.HALF_PI},function(e){P=e.NodePools,f=e.ArrayGet,p=e.instantiatePooly},function(e){w=e.ParticleSelfdestroy},function(e){g=e.cactusThorn},function(e){v=e.Rectangle},function(e){m=e.Square},function(e){y=e.ZombieDamageDetails,C=e.zombieDamageType},function(e){b=e.electricPeaPointer}],execute:function(){var D,S,L,x,_,z,I,R,T,M,j,A,E;r._RF.push({},"5747f2zKqhFKKw9UDDpUcpo","electricPea",void 0);var F=a.ccclass,Y=a.property;e("electricPea",(D=F("electricPea"),S=Y(l),L=Y(l),x=Y(s),_=Y(s),z=Y(c),D((T=t((R=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"footPar",T,i(t)),t.footPSD=void 0,n(t,"curvePar",M,i(t)),n(t,"eleCurveInterval",j,i(t)),t.eleCurveCD=0,n(t,"eleCurveDamage",A,i(t)),n(t,"eleCurveMaxTarget",E,i(t)),t}o(t,e);var r=t.prototype;return r.characterOnEnable=function(){this.initialize(),this.maxPierceAmount_=1/0,this.dealtTargetAmount=0,this.contactingEnemies=[],this.footPSD=null,this.eleCurveCD=.5},r.spawnFootParticle=function(){var e=P.instantiatePooly(this.footPar);e.parent=this.node.parent,e.worldPosition=new u(this._worldPositionX,this._worldPositionY),e.setSiblingIndex(0),this.footPSD=e.getComponent(w),this.footPSD.db.playAnimation("Idle",1/0)},r.characterOnDisable=function(){var e;null==(e=this.footPSD)||null==(e=e.db)||e.playAnimation("Die",1),this.footPSD=null},r.specialOnLaneChange=function(e,t){var o,n;null==(o=this.footPSD)||null==(o=o.node)||o.setParent(t.prjLayer),null==(n=this.footPSD)||null==(n=n.node)||n.setSiblingIndex(0)},r.detectCurveEnemies=function(){var e=this,t=v.createRectangleCenter(new h(this._worldPositionX,m.getLnC(this.lIndex,0).node.worldPosition.y),2*m.SquareDisW,2*m.SquareDisH),o=0;f.randomize(this.inLane.UpperLane.zombiePool().concat(this.inLane.LowerLane.zombiePool(),this.inLane.zombiePool())).forEach((function(n){if(o<e.eleCurveMaxTarget&&t.judgeCrossRec(n.bodyRec)){o++;var i=p(e.curvePar);i.parent=n.inLane.prjLayer,i.worldPosition=new u(e._worldPositionX,e._worldPositionY+e._height,10);var r=new u(n.shadeSocket.worldPosition.x,n._worldPositionY+e.height,10),a=p(f.getRandom(e.PopParticle));a.parent=n.inLane.prjLayer,a.worldPosition=new u(r.x,r.y,10);var l=r.clone().add(e.node.worldPosition.clone().negative());i.worldScale=new u(l.length()/160,e.node.worldScale.x,1),i.angle=90*Math.atan2(l.y,l.x)/d;var s=i.getComponent(b);s.toPos=new h(r.x,r.y),s.fromCharacter=e,n.dealDamage(new y(e.eleCurveDamage,!0,!1,!1,null,C.electricity))}})),o<this.eleCurveMaxTarget&&this.inLane.UpperLane.tombPool().concat(this.inLane.LowerLane.tombPool(),this.inLane.tombPool()).forEach((function(n){if(o<e.eleCurveMaxTarget&&t.judgeCrossRec(n.bodyRec)){o++;var i=p(e.curvePar);i.parent=n.inLane.prjLayer,i.worldPosition=new u(e._worldPositionX,e._worldPositionY+e._height,10);var r=new u(n.shadeSocket.worldPosition.x,n._worldPositionY+e.height,10),a=p(f.getRandom(e.PopParticle));a.parent=n.inLane.prjLayer,a.worldPosition=new u(r.x,r.y,10);var l=r.clone().add(e.node.worldPosition.clone().negative());i.worldScale=new u(l.length()/160,e.node.worldScale.x,1),i.angle=90*Math.atan2(l.y,l.x)/d;var s=i.getComponent(b);s.toPos=new h(r.x,r.y),s.fromCharacter=e,n.dealDamage(e.eleCurveDamage)}})),o&&(this.playPopSound(),this.eleCurveCD=this.eleCurveInterval)},r.characterUpdate=function(e){this.dead||this.fallingInSky||(this.rotate(),this.switching||this.move(e),this.detectEnemy(e),this.hitBorderOrGround(e),this.footPSD||this.spawnFootParticle(),this.footPSD.node.worldPosition=new u(this._worldPositionX,this._worldPositionY),this.footPSD.node.scale=new u(this.node.scale.x,this.height/75),this.eleCurveCD>0?this.eleCurveCD-=e:this.detectCurveEnemies())},t}(g)).prototype,"footPar",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(R.prototype,"curvePar",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(R.prototype,"eleCurveInterval",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),A=t(R.prototype,"eleCurveDamage",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),E=t(R.prototype,"eleCurveMaxTarget",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),I=R))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/electricPeaMega.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Peashooter.ts","./NodePools.ts","./Character.ts","./ParticleSelfdestroy.ts"],(function(t){var o,e,i,n,r,a,l,s,c,h,u,d,P,f,p,y;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.CCInteger,s=t.Prefab,c=t.Vec2,h=t.Vec3},function(t){u=t.commonShot},function(t){d=t.peaShooter},function(t){P=t.instantiatePooly,f=t.NodePools},function(t){p=t.CharacterType},function(t){y=t.ParticleSelfdestroy}],execute:function(){var S,g,m,b,w,D,v,C,x;r._RF.push({},"e35cb1gTrZJSLgx8nCxeiNV","electricPeaMega",void 0);var _=a.ccclass,z=a.property;t("electricPeaMega",(S=_("electricPeaMega"),g=z(l),m=z(s),b=z(s),S((v=o((D=function(t){function o(){for(var o,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return o=t.call.apply(t,[this].concat(r))||this,i(o,"maxChildCount",v,n(o)),i(o,"childPrj",C,n(o)),i(o,"footPar",x,n(o)),o.footPSD=void 0,o}e(o,t);var r=o.prototype;return r.specialOnLaneChange=function(t,o){var e,i;null==(e=this.footPSD)||null==(e=e.node)||e.setParent(o.prjLayer),null==(i=this.footPSD)||null==(i=i.node)||i.setSiblingIndex(0)},r.characterOnDisable=function(){var t;null==(t=this.footPSD)||null==(t=t.db)||t.playAnimation("Die",1),this.footPSD=null},r.onPop=function(){for(var t=0;t<this.maxChildCount;t++){var o=P(this.childPrj),e=new c(Math.random()-.5,Math.random()-.5).normalize(),i=this.worldPosition.clone().add(e.clone().multiplyScalar(20));d.shootOnePea(o,i,this.height+1,this.node.parent,e.clone().multiplyScalar(10),p.zombie)}},r.spawnFootParticle=function(){var t=f.instantiatePooly(this.footPar);t.parent=this.node.parent,t.worldPosition=new h(this._worldPositionX,this._worldPositionY),t.setSiblingIndex(0),this.footPSD=t.getComponent(y),this.footPSD.db.playAnimation("Idle",1/0)},r.characterUpdate=function(t){this.dead||this.fallingInSky||(this.rotate(),this.switching||this.move(t),this.detectEnemy(t),this.hitBorderOrGround(t),this.footPSD||this.spawnFootParticle(),this.footPSD&&(this.footPSD.node.worldPosition=new h(this._worldPositionX,this._worldPositionY),this.footPSD.node.scale=new h(2*this.node.scale.x,this.height/75)))},o}(u)).prototype,"maxChildCount",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6}}),C=o(D.prototype,"childPrj",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=o(D.prototype,"footPar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=D))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/electricPeaPointer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts"],(function(t){var e,r,o,i,n,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,o=t._decorator,i=t.Vec3,n=t.Vec2,a=t.HALF_PI},function(t){c=t.ParticleSelfdestroy}],execute:function(){var s;r._RF.push({},"92ebd75LA1F45Mybv+CV6zb","electricPeaPointer",void 0);var l=o.ccclass;o.property,t("electricPeaPointer",l("electricPeaPointer")(s=function(t){function r(){for(var e,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).toPos=null,e.fromCharacter=null,e}e(r,t);var o=r.prototype;return o.specialOnEnable=function(){this.toPos=null,this.fromCharacter=null,this.node.scale=new i(0,this.node.scale.y,1)},o.update=function(t){if(this.fromCharacter&&this.toPos){if(!this.fromCharacter.enabled)return this.fromCharacter=null,void(this.toPos=null);var e=this.toPos.clone().add(new n(this.fromCharacter._worldPositionX,this.fromCharacter._worldPositionY+this.fromCharacter._height).negative());this.node.worldPosition=new i(this.fromCharacter._worldPositionX,this.fromCharacter._worldPositionY+this.fromCharacter._height),this.node.scale=new i(e.length()/160,this.fromCharacter.node.worldScale.x,1),this.node.angle=90*Math.atan2(e.y,e.x)/a}},r}(c))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/ElectricPeashooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./CharacterManager.ts","./NodePools.ts","./SoundRescourses.ts"],(function(o){var t,e,n,r,a,i,l,s,u,c,d,h,p,f,y;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){a=o.cclegacy,i=o._decorator,l=o.AudioClip,s=o.Prefab,u=o.Vec2},function(o){c=o.peashooterSound,d=o.PeashooterPlant},function(o){h=o.ZombiePool,p=o.TombPool},function(o){f=o.ArrayGet},function(o){y=o.sounds}],execute:function(){var S,m,b,P,g,R,v,w,z,_,E,A,F,L,M,x;a._RF.push({},"f618dsR+RhGcLz5X0e8qG7Z","ElectricPeashooter",void 0);var X=i.ccclass,j=i.property,C=(S=X("electricPeashooterSound"),m=j([l]),b=j([l]),P=j(l),S((v=t((R=function(o){function t(){for(var t,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return t=o.call.apply(o,[this].concat(a))||this,n(t,"foodShootSounds",v,r(t)),n(t,"shootStartSounds",w,r(t)),n(t,"randomSound",z,r(t)),t}e(t,o);var a=t.prototype;return a.playFoodShoot=function(){y.playArray(this.foodShootSounds,1,.1)},a.playShootStart=function(){y.play(f.getRandom(this.shootStartSounds),.5,.2)},a.playRandom=function(){y.play(this.randomSound,1,.5)},t}(c)).prototype,"foodShootSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=t(R.prototype,"shootStartSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(R.prototype,"randomSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=R))||g);o("ElectricPeashooter",(_=X("ElectricPeashooter"),E=j(C),A=j(s),_((M=t((L=function(o){function t(){for(var t,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(t=o.call.apply(o,[this].concat(a))||this).minShootInterval=2.4,n(t,"soundRes",M,r(t)),n(t,"peaMega",x,r(t)),t}e(t,o);var a=t.prototype;return a.animationListener=function(o){var t=this;if("shootStart"==o.name)this.soundRes.playShootStart();else if("Shoot"==o.name)this.soundRes.playShootSound(),this._shoot(!1,!1,this.pea,5,new u(1,0));else if("foodShoot"==o.name){this.soundRes.playFoodShoot();for(var e=function(){var o=null,e=1/0;h.pool().length&&f.getRandom(h.pool()).inLane.zombiePool().forEach((function(n){var r=n.bodyRec.prjX();r.y>t._worldPositionX&&r.x<e&&(o=n,e=r.x)}));!o&&p.pool().length&&f.getRandom(p.pool()).inLane.tombPool().forEach((function(n){var r=n.bodyRec.prjX();r.y>t._worldPositionX&&r.x<e&&(o=n,e=r.x)}));var n=new u(1,0);n=o?o.worldPosition.clone().add(t.worldPosition.clone().negative()):new u(1,Math.random()-.5),t._shoot(!1,!1,t.peaMega,20,n)},n=0;n<this._objdataOwn.PlantfoodPeaCount;n++)e()}else"foodEnd"==o.name?this.foodEnd():"rand"==o.name&&this.soundRes.playRandom()},a.specialPlantFood=function(o){this.anmControl.playAnimation("Food",1)},t}(d)).prototype,"soundRes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new C}}),x=t(L.prototype,"peaMega",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=L))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/ElectronAPI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,i;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator,i=e.Component}],execute:function(){var o;t._RF.push({},"36a7d3zGF5EObC1EAYiqHKr","ElectronAPI",void 0);var l=r.ccclass,c=(r.property,window.electron);e("default",l("ElectronAPI")(o=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.center=function(){null==c||c.ipcRenderer.send("e_center")},t.fullScreen=function(){null==c||c.ipcRenderer.send("e_fullScreen")},t.window=function(){null==c||c.ipcRenderer.send("e_window"),this.setSize(1024,640)},t.openURL=function(e){null==c||c.ipcRenderer.send("e_openURL",e)},t.openDevTools=function(){null==c||c.ipcRenderer.send("e_openDevTools")},t.closeDevTools=function(){null==c||c.ipcRenderer.send("e_closeDevTools")},t.setSize=function(e,n){null==c||c.ipcRenderer.send("e_setSize",e.toString(),n.toString())},t.setResolution=function(e,n){null==c||c.ipcRenderer.send("e_setResolution",e.toString(),n.toString())},t.isFullScreen=function(){return!!c&&c.ipcRenderer.sendSync("e_isFullScreen")},t.setScreenResolution=function(e,n){1==this.isFullScreen()?this.setResolution(e,n):this.setSize(e,n)},t.nircmdUD=function(e){null==c||c.ipcRenderer.send("e_nircmdUD",e)},t.getMassage=function(){return null==c?void 0:c.ipcRenderer.sendSync("e_getMassage")},t.getAllResolutions=function(){return null==c?void 0:c.ipcRenderer.sendSync("e_getAllResolutions")},t.getCurrentResolution=function(){return null==c?void 0:c.ipcRenderer.sendSync("e_getCurrentResolution")},t.quit=function(){null==c||c.ipcRenderer.send("e_quit")},t}(i))||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/EMPeach.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./NodePools.ts","./SoundRescourses.ts","./CharacterManager.ts","./Square.ts"],(function(e){var n,o,t,i,r,a,u,c,s,l,p,h,d,f,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,u=e.Prefab,c=e.AudioClip,s=e.Vec3},function(e){l=e.CherryBombPlant,p=e.CherryBombProps},function(e){h=e.instantiatePooly},function(e){d=e.sounds},function(e){f=e.Rectangle},function(e){b=e.Square}],execute:function(){var y,P,L,S,m,w,x,R,g;r._RF.push({},"60db15rnXpPF4d6TICzp7/t","EMPeach",void 0);var C=a.ccclass,E=a.property,v=1,D=function(e){function n(){for(var n,o=arguments.length,t=new Array(o),i=0;i<o;i++)t[i]=arguments[i];return(n=e.call.apply(e,[this].concat(t))||this).StunDuration=10,n}return o(n,e),n}(p);e("EMPeachPlant",(y=C("EMPeachPlant"),P=E(u),L=E(c),S=E(c),y((x=n((w=function(e){function n(){for(var n,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=e.call.apply(e,[this].concat(r))||this)._objdataOwn=new D,t(n,"explParPrefab",x,i(n)),t(n,"explSound",R,i(n)),t(n,"explReadySound",g,i(n)),n}o(n,e);var r=n.prototype;return r.specialCherryBombOnEnable=function(){v%4==0&&d.play(this.explReadySound,1,.1),v++},r.explode=function(){var e,n=this;if(null!=(e=this.inLnC)&&e.isInLawn()){var o=f.createRectangleNodeCenter(this.inLnC.node,3*b.SquareDisW,5*b.SquareDisH),t=f.createRectangleNodeCenter(this.inLnC.node,5*b.SquareDisW,3*b.SquareDisH),i=[],r=[];[this.inLane,this.inLane.UpperLane,this.inLane.LowerLane].forEach((function(e){e.zombiePool().forEach((function(e){-1==i.indexOf(e)&&t.judgeCrossRec(e.bodyRec)&&i.push(e)})),e.tombPool().forEach((function(e){-1==r.indexOf(e)&&t.judgeCrossRec(e.bodyRec)&&r.push(e)}))})),[this.inLane.UpperLane.UpperLane,this.inLane.LowerLane.LowerLane].forEach((function(e){e.zombiePool().forEach((function(e){-1==i.indexOf(e)&&o.judgeCrossRec(e.bodyRec)&&i.push(e)})),e.tombPool().forEach((function(e){-1==r.indexOf(e)&&o.judgeCrossRec(e.bodyRec)&&r.push(e)}))})),i.forEach((function(e){e.empStun(n._objdataOwn.StunDuration)})),r.forEach((function(e){e.empStun(n._objdataOwn.StunDuration)})),d.play(this.explSound,1,.1);var a=h(this.explParPrefab);a.parent=this.inLane.prjLayer,a.worldPosition=new s(this.worldPositionX,this.worldPositionY,10)}},r.animationListener=function(e){"explode"==e.name&&(this.explode(),this.deathAnm="Death",this.die(!0,!0,!1))},n}(l)).prototype,"explParPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(w.prototype,"explSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=n(w.prototype,"explReadySound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=w))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/endangeredTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./GridItem.ts","./Tiles.ts"],(function(e){var n,t,r,i,o,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator},function(e){i=e.Tile},function(e){o=e.GridItemEnum},function(e){c=e.TileEnum}],execute:function(){var l;t._RF.push({},"28b79pbpbVObLedmHkyXnTa","endangeredTile",void 0);var a=r.ccclass;r.property,e("endangeredTile",a("endangeredTile")(l=function(e){function t(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(n=e.call.apply(e,[this].concat(r))||this).tileID=c.endangered,n}return n(t,e),t.prototype.onLnCChange=function(e,n){var t;null==(t=this.gridItemCP)||t.setGridItemType([o.protect_plant])},t}(i))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/EndlessZoneEntrance.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerProperties.ts","./MultiLanguage.ts","./KeyListener.ts","./ButtonWithSounds.ts","./SoundRescourses.ts","./WorldMap.ts"],(function(e){var n,t,i,r,a,s,l,o,u,c,g,d,m,p,h,y,b,L,f,v,E;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,l=e._decorator,o=e.Enum,u=e.dragonBones,c=e.Node,g=e.Label,d=e.AudioClip,m=e.Component},function(e){p=e.WorldMapSceneDisplayEnum,h=e.AllPlayerProperties,y=e.LevelProgress},function(e){b=e.MultiLanguage},function(e){L=e.KeyListener},function(e){f=e.ButtonWithSounds},function(e){v=e.sounds},function(e){E=e.WorldMap}],execute:function(){var M,N,D,Z,G,S,B,k,P,W,w,I,z,A,C,_,R,T,U;s._RF.push({},"992c6fTKlBKvZA/ag/FgwVe","EndlessZoneEntrance",void 0);var F=l.ccclass,K=l.property;o(p);e("EndlessZoneEntrance",(M=F("EndlessZoneEntrance"),N=K([String]),D=K(u.ArmatureDisplay),Z=K(c),G=K(g),S=K(g),B=K({type:p}),k=K(Boolean),P=K(d),M((I=n((w=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return n=e.call.apply(e,[this].concat(a))||this,i(n,"levelsID",I,r(n)),i(n,"islandDB",z,r(n)),i(n,"EntranceButton",A,r(n)),i(n,"LevelNumberLabel",C,r(n)),i(n,"LevelNameLabel",_,r(n)),i(n,"endlessData",R,r(n)),i(n,"isMiniGame",T,r(n)),n.data=null,i(n,"unlockSound",U,r(n)),n.unlocked=!1,n}t(n,e);var s=n.prototype;return s.onLoad=function(){var e=this;this.EntranceButton.on(c.EventType.TOUCH_END,(function(){var n;e.enterable&&e.unlocked&&(L.goToLevel(e.levelsID),null==(n=e.EntranceButton.getComponent(f))||n.playUnpress())}))},s.getLevelName=function(e){switch(e){case p.egypt:return b.getString(b.getWorldMapLyrics("Egypt")[this.isMiniGame?"EndlessZoneMiniGameName":"EndlessZoneName"]);case p.pirate:return b.getString(b.getWorldMapLyrics("Pirate")[this.isMiniGame?"EndlessZoneMiniGameName":"EndlessZoneName"]);case p.cowboy:return b.getString(b.getWorldMapLyrics("Cowboy")[this.isMiniGame?"EndlessZoneMiniGameName":"EndlessZoneName"]);case p.future:return b.getString(b.getWorldMapLyrics("Future")[this.isMiniGame?"EndlessZoneMiniGameName":"EndlessZoneName"]);case p.dark:return b.getString(b.getWorldMapLyrics("Dark")[this.isMiniGame?"EndlessZoneMiniGameName":"EndlessZoneName"]);case p.beach:return b.getString(b.getWorldMapLyrics("Beach")[this.isMiniGame?"EndlessZoneMiniGameName":"EndlessZoneName"]);case p.iceage:return b.getString(b.getWorldMapLyrics("Iceage")[this.isMiniGame?"EndlessZoneMiniGameName":"EndlessZoneName"]);case p.lostcity:return b.getString(b.getWorldMapLyrics("Lostcity")[this.isMiniGame?"EndlessZoneMiniGameName":"EndlessZoneName"]);case p.eighties:return b.getString(b.getWorldMapLyrics("Eighties")[this.isMiniGame?"EndlessZoneMiniGameName":"EndlessZoneName"]);default:return""}},s.start=function(){var e=h[this.isMiniGame?"getDangerRoomMiniGameProperty":"getDangerRoomProperty"](this.endlessData);this.data=e,this.judgeUnlock(),this.enterable&&this.unlocked?(this.LevelNameLabel.string=this.getLevelName(this.endlessData),this.LevelNumberLabel.string=e.level.toString()):(this.LevelNameLabel.string="",this.LevelNumberLabel.string="")},s.judgeUnlock=function(){var e=this,n=this.levelsID.some((function(e){return h.getLevelProgressByID(e).progress==y.unlocked_neverPlayed})),t=this.levelsID.some((function(e){return h.getLevelProgressByID(e).progress>0}));if(t&&this.scheduleOnce((function(){e.levelsID.forEach((function(e){h.getLevelProgressByID(e).progress=y.finished}))}),4),this.islandDB.playAnimation(t?"Idle":"Idle_Locked",1/0),this.unlocked=t,n){var i,r=null==(i=this.node)||null==(i=i.parent)||null==(i=i.parent)?void 0:i.getComponent(E);r&&(r.mapX=-this.node.position.x*this.node.parent.scale.x),this.islandDB.playAnimation("Unlock",1/0),v.play(this.unlockSound,1,.1)}},a(n,[{key:"enterable",get:function(){return!0}}]),n}(m)).prototype,"levelsID",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(w.prototype,"islandDB",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(w.prototype,"EntranceButton",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(w.prototype,"LevelNumberLabel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=n(w.prototype,"LevelNameLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(w.prototype,"endlessData",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=n(w.prototype,"isMiniGame",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=n(w.prototype,"unlockSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=w))||W));s._RF.pop()}}}));

System.register("chunks:///_virtual/Endurian.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Zombie.ts","./SoundRescourses.ts","./levelController.ts"],(function(t){var a,i,n,s,e,o,r,h,l,c,u,m,d,b;return{setters:[function(t){a=t.inheritsLoose,i=t.applyDecoratedDescriptor,n=t.initializerDefineProperty,s=t.assertThisInitialized,e=t.createClass},function(t){o=t.cclegacy,r=t._decorator,h=t.AudioClip},function(t){l=t.PlantProps,c=t.Plant},function(t){u=t.ZombieDamageDetails,m=t.zombieDamageType},function(t){d=t.sounds},function(t){b=t.LevelPlay}],execute:function(){var f,g,p,A,S,y,_,E,D,v,I,w;o._RF.push({},"1c412VntEBH6r15BPTZaJUB","Endurian",void 0);var k=r.ccclass,P=r.property,R=t("EndurianProps",function(t){function i(){for(var a,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(a=t.call.apply(t,[this].concat(n))||this).ArmorToughness=6e3,a.StabInterval=.5,a.StabDamage=10,a.StabDamagePFExtra=5,a}return a(i,t),i}(l)),x=t("endurianSound",(f=k("endurianSound"),g=P(h),p=P([h]),f((y=i((S=function(){function t(){n(this,"food",y,this),n(this,"stab",_,this)}var a=t.prototype;return a.playFood=function(){d.play(this.food,1,.1)},a.playStab=function(){d.playArray(this.stab,1,.1)},t}()).prototype,"food",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(S.prototype,"stab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=S))||A));t("EndurianPlant",(E=k("EndurianPlant"),D=P(x),E((w=i((I=function(t){function i(){for(var a,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(a=t.call.apply(t,[this].concat(e))||this)._armor0Slots=[],a._armor1Slots=[],a._armor2Slots=[],a._objdataOwn=new R,a.stabCD=0,a.armorHealth=0,n(a,"soundRes",w,s(a)),a.armorStage=3,a.stabbing=!1,a.hurtStage=0,a.stabStartAnm="AttackStart0",a.stabEndAnm="AttackEnd0",a.switching=!1,a}a(i,t);var o=i.prototype;return o.specialPlantOnLoad=function(){var t=this;this.anmControl.body.armature().getSlots().forEach((function(a){a.name.includes("ARMOR0")?t._armor0Slots.push(a):a.name.includes("ARMOR1")?t._armor1Slots.push(a):a.name.includes("ARMOR2")&&t._armor2Slots.push(a)}))},o.normalSmash=function(t){this.fooding||this.invincible||(this.armorHealth>0?(this.armorHealth=0,this.foodable=!0,this.setArmor()):this.die())},o.replantable=function(){return this.hurtStage>0},o.replant=function(){this.health=this.toughness,this.setAnimation()},o.animationOnComplete=function(){this.switching=!1},o.specialPlantOnEnable=function(){this.foodable=!0,this.hurtStage=1,this.switching=!1,this.stabbing=!1,this.setAnimation(),this.armorStage=3,this.setArmor(),this.armorHealth=0},o.animationListener=function(t){"foodEnd"==t.name?this.foodEnd():"armor"==t.name?(this.setArmor(0),this.armorHealth=this.armorToughness):"stab"==t.name&&this.soundRes.playStab()},o.waterable=function(){return 0==this.hurtStage&&0!=this.armorStage&&!this.stabbing&&!this.switching},o.specialPlantUpdateForce=function(t,a,i){this.stabbing&&!b.gaming&&this.isAlive()&&this.stabEnd()},o.specialPlantUpdate=function(t,a,i){var n=this;if(!this.fooding&&(this.stabCD-=t,this.stabCD<=0)){var s,e=!1;this.stabCD=this._objdataOwn.StabInterval*this._cdScale;var o=new u((this._objdataOwn.StabDamage+(this.armorStage<3?this._objdataOwn.StabDamagePFExtra:0))*this._dmgScale,!0,!0,!0,null,m.physicle);null==(s=this.inLane)||null==(s=s.zombiePool())||s.filter((function(t){var a;return null==(a=n.inLnC)||null==(a=a.rec)?void 0:a.judgeCrossRec(t.bodyRec)})).forEach((function(t){e=!0,t.dealDamage(o)})),this.switching||(i>0&&e?this.stabStart():this.stabEnd())}},o.specialPlantOnKilled=function(){this.setArmor()},o.setArmor=function(t){void 0===t&&(t=3);this.armorStage;switch(this.armorStage=t,t){case 0:this._armor0Slots.forEach((function(t){t._setDisplayIndex(0)})),this._armor1Slots.forEach((function(t){t._setDisplayIndex(-1)})),this._armor2Slots.forEach((function(t){t._setDisplayIndex(-1)}));break;case 1:this._armor1Slots.forEach((function(t){t._setDisplayIndex(0)})),this._armor0Slots.forEach((function(t){t._setDisplayIndex(-1)})),this._armor2Slots.forEach((function(t){t._setDisplayIndex(-1)}));break;case 2:this._armor2Slots.forEach((function(t){t._setDisplayIndex(0)})),this._armor0Slots.forEach((function(t){t._setDisplayIndex(-1)})),this._armor1Slots.forEach((function(t){t._setDisplayIndex(-1)}));break;default:this.armorStage=3,this._armor0Slots.forEach((function(t){t._setDisplayIndex(-1)})),this._armor1Slots.forEach((function(t){t._setDisplayIndex(-1)})),this._armor2Slots.forEach((function(t){t._setDisplayIndex(-1)}))}},o.dealNormalDamage=function(t,a){if(!this.invincible){var i=this.health+0;if(this.armorHealth>0){var n=this.armorHealth+0;this.armorHealth-=t,this.armorHealth!=this.armorToughness&&(this.foodable=!0);for(var s=0;s<=3;s++)n>=this.toughness/3*s&&this.armorHealth<=this.toughness/3*s&&this.setArmor(3-s)}else this.health-=t,t>0&&(this.hurting=this.defaultHurtLightStrength(0==a),this.onDamaged(t,i,this.health+0)),this.health<=0&&this.die();return this.health}},o.specialWallnutOnDamaged=function(t,a,i){},o.onDamaged=function(t,a,i){for(var n=1;n<=4;n++)if(i<=this.toughness/4*n){this.setAnimation(4-n);break}this.specialWallnutOnDamaged(t,a,i)},o.specialPlantFood=function(t){this.soundRes.playFood(),this.foodable=!1,this.setAnimation(0),this.anmControl.playAnimation("Food",1)},o.setAnimation=function(t){void 0===t&&(t=0),this.hurtStage=t;var a,i=this.anmControl;switch(t){case 1:this.stabStartAnm="AttackStart1",this.stabEndAnm="AttackEnd1",i.IdleAnim=this.stabbing?"AttackLoop1":"Idle10",i.RandomAnim=[],this.deathAnm="Death1";break;case 2:this.stabStartAnm="AttackStart2",this.stabEndAnm="AttackEnd2",i.IdleAnim=this.stabbing?"AttackLoop2":"Idle20",i.RandomAnim=[],this.deathAnm="Death2";break;case 3:this.stabStartAnm="AttackStart3",this.stabEndAnm="AttackEnd3",i.IdleAnim=this.stabbing?"AttackLoop3":"Idle30",i.RandomAnim=[],this.deathAnm="Death3";break;default:this.hurtStage=0,this.stabStartAnm="AttackStart0",this.stabEndAnm="AttackEnd0",i.IdleAnim=this.stabbing?"AttackLoop0":"Idle00",i.RandomAnim=this.stabbing?[]:["Idle01"],this.deathAnm="Death0"}this.dead||(this.switching||this.stabbing||i.playRandom(),this.replantable()&&(null==(a=this.plantInLnC)||a.readIndex()))},o.stabStart=function(){this.stabbing||(this.stabbing=!0,this.switching=!0,this.setAnimation(this.hurtStage),this.anmControl.playAnimation(this.stabStartAnm,1))},o.stabEnd=function(){this.stabbing&&(this.stabbing=!1,this.switching=!0,this.setAnimation(this.hurtStage),this.anmControl.playAnimation(this.stabEndAnm,1))},e(i,[{key:"armorToughness",get:function(){return this._objdataOwn.ArmorToughness}}]),i}(c)).prototype,"soundRes",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new x}}),v=I))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/EscapeRoot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SniperPlant.ts","./Plant.ts","./NodePools.ts","./Square.ts","./Peashooter.ts","./Character.ts","./SoundRescourses.ts","./CharacterManager.ts"],(function(n){var t,i,e,o,a,r,l,s,h,u,c,d,p,f,m,g,y,w,S,b,C;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized,a=n.createClass},function(n){r=n.cclegacy,l=n._decorator,s=n.AudioClip,h=n.Prefab,u=n.CCInteger,c=n.Vec2},function(n){d=n.SniperPlant},function(n){p=n.PlantProps},function(n){f=n.ArrayGet,m=n.instantiatePooly},function(n){g=n.Square},function(n){y=n.peaShooter},function(n){w=n.CharacterType},function(n){S=n.sounds},function(n){b=n.Rectangle,C=n.ZombiePool}],execute:function(){var P,A,_,D,L,E,R,v,I,x,B,z,T,k,j,O,q,M,G,Q,U,W,F,N,H,K,V,Y,Z,J,X,$;r._RF.push({},"76f54fvGIdL1K9kBQYgehQ+","EscapeRoot",void 0);var nn=l.ccclass,tn=l.property,en=(P=nn("escaperootSound"),A=tn([s]),_=tn([s]),D=tn([s]),L=tn([s]),E=tn([s]),R=tn([s]),v=tn([s]),P((B=t((x=function(){function n(){e(this,"burrowSounds",B,this),e(this,"digEndSounds",z,this),e(this,"wrapSounds",T,this),e(this,"unwrapSounds",k,this),e(this,"unwrapQuickSounds",j,this),e(this,"spawnSounds",O,this),e(this,"locateSounds",q,this)}var t=n.prototype;return t.playBurrow=function(){S.playArray(this.burrowSounds,1,.1)},t.playDigEnd=function(){S.playArray(this.digEndSounds,1,.1)},t.playWrap=function(){S.playArray(this.wrapSounds,1,.1)},t.playUnwrap=function(){S.playArray(this.unwrapSounds,1,.1)},t.playUnwrapQuick=function(){S.playArray(this.unwrapQuickSounds,1,.1)},t.playSpawn=function(){S.playArray(this.spawnSounds,1,.1)},t.playLocate=function(){S.playArray(this.locateSounds,1,.1)},n}()).prototype,"burrowSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(x.prototype,"digEndSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(x.prototype,"wrapSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(x.prototype,"unwrapSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(x.prototype,"unwrapQuickSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(x.prototype,"spawnSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(x.prototype,"locateSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=x))||I),on=function(n){function t(){for(var t,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(t=n.call.apply(n,[this].concat(e))||this).ChargeTime=10,t.Damage=1800,t}return i(t,n),t}(p);n("EscapeRootPlant",(M=nn("EscapeRootPlant"),G=tn(en),Q=tn(h),U=tn([s]),W=tn(s),F=tn(h),N=tn(u),M((V=t((K=function(n){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a))||this,e(t,"soundRes",V,o(t)),t._objdataOwn=new on,t.switching=!1,t.readyStartAnm="Ready_Start",t.readyLoopAnm="Ready_Loop",t.digStartAnm="Dig_Start",t.digLoopAnm="Dig_Loop",t.idleAnm="Idle",t.randomAnm=["Random"],t._grown=!1,t.growingCD=10,t.PP_Slot=void 0,t.PM_Slot=void 0,t.CB_Slot=void 0,t.GS_Slot=void 0,t.shownSlot=void 0,t.showPlantType=0,e(t,"grapeExplParticle",Y,o(t)),e(t,"grapeExplSounds",Z,o(t)),e(t,"cherryChargeSound",J,o(t)),e(t,"grapeProjectile",X,o(t)),t.detector=void 0,e(t,"foodThrowCount",$,o(t)),t.foodLeftCount=2,t.foodThrowCD=3,t}i(t,n);var r=t.prototype;return r.animationListener=function(n){var t;if("Explode"==n.name)this.explode(),null==(t=this.shownSlot)||null==(t=t.childArmature)||null==(t=t.animation)||t.play("Idle");else if("Show"==n.name)this.showExplosivePlant(Math.floor(4*Math.random()));else if("charge"==n.name){var i;null==(i=this.shownSlot)||null==(i=i.childArmature)||null==(i=i.animation)||i.play("Attack"),this.showPlantType>=2&&S.play(this.cherryChargeSound,1,.2)}else"unWrapSound"==n.name&&this.soundRes.playUnwrapQuick()},r.onObjdataSet=function(n,t){this.growingCD=t.ChargeTime*this._cdScale},r.specialSniperPlantOnEnable=function(){this.eaterDetectable=!0,this.smasherDetectable=!0,this.switching=!1,this.grown=!1,this.anmControl.playAnimation("Baby_Start",1,0,1),this.growingCD=this._objdataOwn.ChargeTime*this._cdScale,this.shownSlot=null,[this.GS_Slot,this.PP_Slot,this.PM_Slot,this.CB_Slot].forEach((function(n){null==n||n._setDisplayIndex(-1)})),this.soundRes.playSpawn()},r.animationOnComplete=function(){this.switching=!1},r.specialSniperPlantTrigger=function(n){var t=this,i=n.putPlantAvailable(!1,this.ID),e=[];if(i&&(n.plantInSquare.length?n.plantInSquare.concat().forEach((function(n){i&&(n.leapDisable()||n==t||n.endangered||t.sheepend&&n.objdataOwn.CannotBeSheepenedByWizard?i=!1:e.push(n))})):i=!1),i){e.forEach((function(n){n.leapTo(t.inLnC,0,0,!1,!1)}));var o=n.spawnPlantByPlantEnum(this.ID,!0,!1,!0,!1);this.deathAnm="Death_Silently",this.playSoundWhenCancel=!1;var a=this.endangered;this.die(!0,!1,!1),this.node.setSiblingIndex(this.node.parent.children.length),o.grown=!0,o.endangered=a,o.anmControl.playAnimation("Dig_End",1,0,1),o.soundRes.playDigEnd(),o.switching=!0}else this.locateCancel()},r.sniperPlantLocatable=function(){return!this.switching&&!this.fooding},r.specialSniperPlantLocateStart=function(){this.anmControl.IdleAnim=this.readyLoopAnm,this.anmControl.RandomAnim=[],this.anmControl.playAnimation(this.readyStartAnm,1,0,1),this.soundRes.playLocate()},r.specialSniperPlantLocateCancel=function(){this.anmControl.IdleAnim=this.idleAnm,this.anmControl.RandomAnim=this.randomAnm,this.anmControl.playRandom()},r.waterable=function(){return this.grown&&!this.switching&&!this.locatorNode},r.grow=function(){this.eaterDetectable=!1,this.smasherDetectable=!1,this.grown=!0,this.switching=!0,this.anmControl.playAnimation("Baby_End",1,0,1),this.soundRes.playUnwrap()},r.specialPlantUpdate=function(n,t,i){this.locatorNode||this.switching||this.grown||(this.growingCD-=n,this.growingCD<=0&&this.grow()),i>0&&this.grown&&!this.switching&&!this.fooding&&!this.sheepend&&this.detectEnemy()},r.specialPlantUpdateForce=function(n,t,i){this.fooding&&(this.foodThrowCD-=n,this.foodThrowCD<=0&&(this.foodLeftCount<=0?this.foodEnd():this.throwOneChild()&&(this.foodThrowCD=3,this.foodLeftCount--)))},r.specialPlantFoodEnd=function(){this.anmControl.playAnimation("Dig_End",1,0,1),this.anmControl.IdleAnim=this.idleAnm,this.anmControl.RandomAnim=this.randomAnm,this.soundRes.playDigEnd()},r.specialPlantOnLoad=function(){var n=this;this.anmControl.body.armature().getSlots().forEach((function(t){"PPM"==t.name?n.PP_Slot=t:"PM"==t.name?n.PM_Slot=t:"GS"==t.name?n.GS_Slot=t:"CB"==t.name&&(n.CB_Slot=t)}))},r.showExplosivePlant=function(n){var t,i;this.showPlantType=n;var e=this.PM_Slot;switch(n){case 1:e=this.PP_Slot;break;case 2:e=this.CB_Slot;break;case 3:e=this.GS_Slot}null==(t=e)||t._setDisplayIndex(0),this.shownSlot=e,null==(i=this.shownSlot)||null==(i=i.childArmature)||null==(i=i.animation)||i.play("Idle")},r.explode=function(){var n=this._objdataOwn.Damage*this._dmgScale;switch(this.showPlantType){case 1:this.inLnC.explodeSpudow3x3(n);break;case 2:this.inLnC.explodeCherry3x3(n,!0);break;case 3:this.inLnC.explodeCherry3x3(n,!1,this.grapeExplParticle,f.getRandom(this.grapeExplSounds)),this.grapeShoot();break;default:this.inLnC.explodeSqudow1x1(n)}},r.grapeShoot=function(){var n=this;[-1,0,1].forEach((function(t){[-1,0,1].forEach((function(i){if(0!=t||0!=i){var e=new c(t,i*g.SquareDisH/g.SquareDisW).multiplyScalar(30),o=m(n.grapeProjectile);y.shootOnePea(o,n.worldPosition,n.height+1,n.inLane.prjLayer,e,w.zombie)}}))}))},r.specialPlantOnSquareChange=function(n,t){this.detector=b.createRectangleNodeCenter(t.node,g.SquareDisW,g.SquareDisH),this.foodParent=this.plantInLnC.plantPoint},r.detectEnemy=function(){var n,t=this,i=!1;null==(n=this.inLane)||n.zombiePool().forEach((function(n){i||n.flying||!n.plantDetectorRec.judgeCrossRec(t.bodyRec)&&!n.bodyRec.judgeCrossRec(t.detector)||(i=!0)})),i&&(this.switching=!0,this.die())},r.specialSniperFood=function(n){this.anmControl.playAnimation(this.digStartAnm,1,0,1),this.grown=!0,this.anmControl.IdleAnim=this.digLoopAnm,this.anmControl.RandomAnim=[],this.foodLeftCount=this.foodThrowCount,this.foodThrowCD=.5},r.throwOneChild=function(){var n=!1,t=this.plantInLnC;if(C.inLawnPool().length)for(var i=f.randomize(C.inLawnPool()),e=0;e<i.length;e++)if(!i[e].flying&&i[e].inLnC.isInLawn()&&i[e].inLnC.putPlantAvailable(!1,this.ID)){t=i[e].inLnC;break}var o=t.spawnPlantByPlantEnum(this.ID,!0,!1,!1);if(o)n=!0,o.deathAnm="Death_Dig_End",o.die(!0,!1,!1);else if(t==this.plantInLnC){var a=t.spawnPlantByPlantEnum(this.ID,!1,!1,!1);n=!0,a.deathAnm="Death_Dig_End",a.die(!0,!1,!1)}return n},a(t,[{key:"grown",get:function(){return this._grown},set:function(n){this.readyStartAnm=n?"Ready_Start":"Baby_Ready_Start",this.readyLoopAnm=n?"Ready_Loop":"Baby_Ready_Loop",this.digStartAnm=n?"Dig_Start":"Baby_Dig_Start",this.idleAnm=n?"Idle":"Baby_Loop",this.randomAnm=n?["Random"]:[],this.anmControl.IdleAnim=this.idleAnm,this.anmControl.RandomAnim=this.randomAnm,this.deathAnm=n?"Death":"Baby_Death",this.eaterDetectable=!n,this.smasherDetectable=!n,this._grown=n}}]),t}(d)).prototype,"soundRes",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new en}}),Y=t(K.prototype,"grapeExplParticle",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(K.prototype,"grapeExplSounds",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(K.prototype,"cherryChargeSound",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(K.prototype,"grapeProjectile",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(K.prototype,"foodThrowCount",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),H=K))||H));r._RF.pop()}}}));

System.register("chunks:///_virtual/ExplodeONut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WallNut.ts","./SoundRescourses.ts"],(function(n){var t,e,a,i,o,r,l,s,u,d;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,a=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){o=n.cclegacy,r=n._decorator,l=n.AudioClip},function(n){s=n.WallNutPlant,u=n.WallnutProps},function(n){d=n.sounds}],execute:function(){var h,c,p,m,f;o._RF.push({},"75559DG/TFO15Yqsd6uHojz","ExplodeONut",void 0);var g=r.ccclass,A=r.property,y=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(t=n.call.apply(n,[this].concat(a))||this).Damage=1800,t.ArmorDamage=1800,t}return e(t,n),t}(u);n("ExplodeONutPlant",(h=g("ExplodeONutPlant"),c=A([l]),h((f=t((m=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(t=n.call.apply(n,[this].concat(o))||this)._objdataOwn=new y,a(t,"explCountdownSounds",f,i(t)),t}e(t,n);var o=t.prototype;return o.onArmorDestroy=function(){var n=this._dmgScale*this._objdataOwn.ArmorDamage;this.inLnC.explodeCherry3x3(n,!1)},o.specialPlantOnKilled=function(){var n=this._dmgScale*this._objdataOwn.Damage;this.inLnC.explodeCherry3x3(n,!1)},o.setAnimation=function(n){if(void 0===n&&(n=0),this.hurtStage!=n){this.hurtStage=n;var t,e=this.anmControl;switch(n){case 1:e.IdleAnim="Rand21",e.RandomAnim=["Rand22"],this.deathAnm="";break;case 2:e.IdleAnim="Idle3",e.RandomAnim=["Rand31"],this.deathAnm="";break;case 3:e.IdleAnim="Idle4",e.RandomAnim=[],this.deathAnm="";break;default:e.IdleAnim="Idle1",e.RandomAnim=["Rand11"],this.deathAnm="",this.hurtStage=0}if(!this.dead)e.playRandom(),null==(t=this.plantInLnC)||t.readIndex()}},o.specialWallnutOnDamaged=function(n,t,e){if(3==this.hurtStage){var a=this.explCountdownSounds.length;if(a>0){for(var i=this.explCountdownSounds[0],o=0;o<a;o++)if(e<this.toughness/4*((o+1)/a)){i=this.explCountdownSounds[a-1-o];break}d.play(i,1,this.health/750+.1)}}},t}(s)).prototype,"explCountdownSounds",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=m))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/fanMadeLevelWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts","./KeyListener.ts","./levelController.ts","./UI.ts"],(function(e){var t,n,o,i,l,r,a,s,c,u,f,p,d,v,g,h,m,b,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty,o=e.inheritsLoose,i=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,a=e.JsonAsset,s=e.Label,c=e.EditBox,u=e.ScrollView,f=e.instantiate,p=e.Node,d=e.director,v=e.Vec2,g=e.Component},function(e){h=e.MultiLanguage},function(e){m=e.KeyListener},function(e){b=e.LevelPlay},function(e){L=e.setExitToMapScene}],execute:function(){var y,S,w,N,T,C,M,B,D,J,j,E,z,I,U,W,O,_,x,P,k;l._RF.push({},"6db99jCIgJNl47QfJypaJ5m","fanMadeLevelWindow",void 0);var F=r.ccclass,Y=r.property,A=(y=F("LevelJsonSort"),S=Y(String),w=Y([a]),y((C=t((T=function(){n(this,"title",C,this),n(this,"LevelJsons",M,this)}).prototype,"title",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),M=t(T.prototype,"LevelJsons",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=T))||N);e("fanmadeLevelsWindow",(B=F("fanmadeLevelsWindow"),D=Y(s),J=Y([A]),j=Y(s),E=Y(c),z=Y(u),B(((k=function(e){function t(){for(var t,o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,n(t,"title",W,i(t)),n(t,"fanMadeLevelJsonsSorted",O,i(t)),n(t,"fanMadeLevelName0",_,i(t)),n(t,"UUIDShower",x,i(t)),n(t,"contents",P,i(t)),t}o(t,e);var l=t.prototype;return l.pushLevels=function(){var e=this,t=this.fanMadeLevelName0.node.parent.parent,n=[];this.fanMadeLevelJsonsSorted.forEach((function(e,o){var i,l=t;if(0==o)n.push(t);else{var r=f(t);r.parent=t.parent,l=r,n.push(r)}null!=(i=l)&&null!=(i=i.getChildByName("Title"))&&i.getComponent(s)&&(l.getChildByName("Title").getComponent(s).string=e.title)})),this.fanMadeLevelJsonsSorted.forEach((function(t,o){var i=n[o].getChildByName("Level");t.LevelJsons.forEach((function(t,n){var o,l,r=t.json,a=i;0!=n&&((a=f(i)).parent=i.parent);var c=a.getChildByName("LevelName").getComponent(s),u=null==r||null==(o=r.objects[0])||null==(o=o.objdata)?void 0:o.Name,v=b.getLevelName(r.objects);c.string=u.concat();var g=c.node.parent.getChildByName("WrittenBy").getComponent(s);c.node.parent.getChildByName("LevelInGameName").getComponent(s).string=v||u;var h=null==r||null==(l=r.objects[0])||null==(l=l.objdata)?void 0:l.WritenBy;h||(h=""),g.string=h,a.on(p.EventType.TOUCH_END,(function(){b.levelData=t.json,b.thisLevelsID=[],b.nextLevelsID=[],L(d.getScene().name),m.darken((function(){m.goToGame([b.levelData.objects])}))}),e),a.on(p.EventType.MOUSE_DOWN,(function(){e.UUIDShower.string=null==t?void 0:t.uuid}),e)}))}))},l.onLoad=function(){this.pushLevels()},l.scrollToBottom=function(){this.contents.scrollToBottom()},l.scrollToTop=function(){this.contents.scrollToTop()},l.onDisable=function(){t.ScrollY=this.contents.getScrollOffset().y},l.onEnable=function(){var e=this;this.scheduleOnce((function(){e.contents.scrollToOffset(new v(e.contents.getScrollOffset().x,t.ScrollY),.1)}),.1)},l.start=function(){this.title.string=h.getStringByPropsWithoutTricks("FanmadeWindow","Title")},t}(g)).ScrollY=0,W=t((U=k).prototype,"title",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(U.prototype,"fanMadeLevelJsonsSorted",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(U.prototype,"fanMadeLevelName0",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(U.prototype,"UUIDShower",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(U.prototype,"contents",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=U))||I));l._RF.pop()}}}));

System.register("chunks:///_virtual/FirePeashooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./GroundFire.ts","./Zombie.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts"],(function(o){var n,e,t,i,a,r,d,s,l,u,c,f,h,p,S,y,m,P;return{setters:[function(o){n=o.applyDecoratedDescriptor,e=o.inheritsLoose,t=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){a=o.cclegacy,r=o._decorator,d=o.AudioClip,s=o.Vec2},function(o){l=o.peashooterSound,u=o.PeashooterPlant,c=o.PeashooterProps},function(o){f=o.GroundFireColorEnum,h=o.GroundFireSpreadStyleEnum},function(o){p=o.ZombieDamageDetails,S=o.zombieDamageType},function(o){y=o.Rectangle},function(o){m=o.Square},function(o){P=o.sounds}],execute:function(){var b,g,w,F,C,D,v,L,R,E,z,_,j,A,q,x;a._RF.push({},"67fa4yb6mdHHpWZItQHTXzE","FirePeashooter",void 0);var H=r.ccclass,I=r.property,M=function(o){function n(){for(var n,e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(n=o.call.apply(o,[this].concat(t))||this).PlantfoodDuration=5,n.PlantfoodDamageInterval=.25,n.PlantfoodDamagePerHit=80,n}return e(n,o),n}(c),O=(b=H("firePeashooterSound"),g=I([d]),w=I([d]),F=I(d),b((v=n((D=function(o){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=o.call.apply(o,[this].concat(a))||this,t(n,"foodStartSounds",v,i(n)),t(n,"foodEndSounds",L,i(n)),t(n,"foodLoopSound",R,i(n)),n}e(n,o);var a=n.prototype;return a.playFoodStartSound=function(){P.playArray(this.foodStartSounds,1.4,.1)},a.playFoodEndSound=function(){P.playArray(this.foodEndSounds,1,.1)},a.playFoodLoopSound=function(){P.play(this.foodLoopSound,1,NaN,.9)},n}(l)).prototype,"foodStartSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=n(D.prototype,"foodEndSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=n(D.prototype,"foodLoopSound",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=D))||C);o("FirePeashooterPlant",(E=H("FirePeashooterPlant"),z=I(O),_=I(d),E((q=n((A=function(o){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=o.call.apply(o,[this].concat(a))||this,t(n,"soundRes",q,i(n)),n._objdataOwn=new M,n.foodCountDown=0,n.foodStarted=!1,t(n,"foodShootSound",x,i(n)),n.foodFire=[],n}e(n,o);var a=n.prototype;return a.specialPlantOnEnable=function(){this.initialize(),this.soundRes.volumeScale=.3},a.specialPeashooterUpdate=function(o){var n=this;if(this.fooding&&this.foodStarted)if(this.foodCountDown>0){var e=this.foodCountDown+0;this.foodCountDown-=o;var t=this.foodCountDown+0,i=Math.max(this._objdataOwn.PlantfoodDamageInterval,1e-5),a=Math.floor(e/i)-Math.floor(t/i),r=this._objdataOwn.PlantfoodDamagePerHit;this._dmgScale&&(r*=this._dmgScale*a),this.soundRes.playFoodLoopSound(),r&&(this.inLane.zombiePool().forEach((function(o){var e=!1;if(n.foodFire.forEach((function(n){if(!e){var t=n.inLnC.rec;8==n.inLnC.cIndex&&(t=y.createRectangleSide(new s(n.inLnC.node.worldPosition.x-m.SquareDisW/2,n.inLnC.node.worldPosition.y),9*m.SquareDisW,m.SquareDisH)),t.judgeCrossRec(o.bodyRecReal)&&(e=!0)}})),!e){var t=n.inLnC.rec;8==n.inLnC.cIndex&&(t=y.createRectangleSide(new s(n.inLnC.node.worldPosition.x-m.SquareDisW/2,n.inLnC.node.worldPosition.y),9*m.SquareDisW,m.SquareDisH)),t.judgeCrossRec(o.bodyRecReal)&&(e=!0)}e&&o.dealDamage(new p(r,!1,!1,!1,null,S.fire,!0,!0))})),this.foodFire.forEach((function(o){var n;null==(n=o.inLnC)||null==(n=n.tombStone)||n.dealDamage(r)})))}else this.foodEnd()},a.specialPlantFoodEnd=function(){this.soundRes.playFoodEndSound(),this.anmControl.playRandom(),this.foodFire=[]},a.animationListenerAdd=function(o){if("playFooding"==o.name){var n;this.foodStarted=!0,this.anmControl.playAnimation("Food",1/0);var e=this._objdataOwn.PlantfoodDuration;this.foodFire=null==(n=this.inLnC.righter)?void 0:n.addLaneFire(e,10,f.yellow,h.right,18,9),this.foodCountDown=e}else"foodStartSound"==o.name&&this.soundRes.playFoodStartSound()},a.specialPlantFood=function(){this.anmControl.playAnimation("FoodStart",2),this.foodStarted=!1},a.detectEnemy=function(){var o,n=this,e=!1;return this.inLane.zombiePool().forEach((function(o){!e&&n.detector.judgeCrossRec(o.bodyRecForShooter)&&(e=!0)})),e||(this.inLane.tombPool().forEach((function(o){!e&&n.detector.judgeCrossRec(o.bodyRec)&&(e=!0)})),e||(null!=(o=this.inLane)&&o.iceTile&&(e=!0),e||this.inLane.iceTiles.forEach((function(o){!e&&o.node.worldPosition.x>n.node.worldPosition.x&&(e=!0)})),e))},n}(u)).prototype,"soundRes",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new O}}),x=n(A.prototype,"foodShootSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=A))||j));a._RF.pop()}}}));

System.register("chunks:///_virtual/FloawerPot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LnC.ts","./FrontYard.ts","./SniperPlant.ts","./SoundRescourses.ts","./Plant.ts","./UI.ts","./KeyListener.ts","./PlayerProperties.ts","./MultiLanguage.ts"],(function(t){var n,i,e,a,o,l,s,r,h,d,c,p,m,u,P,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,s=t.Node},function(t){r=t.TileType},function(t){h=t.FrontYard},function(t){d=t.SniperPlant},function(t){c=t.sounds},function(t){p=t.PlantProps},function(t){m=t.UIInGame},function(t){u=t.KeyListener},function(t){P=t.AllPlayerProperties},function(t){f=t.MultiLanguage}],execute:function(){var C,I,g,A,L;o._RF.push({},"9a1e3m5hj5FhKdZE8VBqGLq","FloawerPot",void 0);var v=l.ccclass,y=l.property,T=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return(n=t.call.apply(t,[this].concat(e))||this).ToughnessPlantfooded=900,n.MoveToPosTime=2.5,n}return i(n,t),n}(p);t("FloawerPotPlant",(C=v("FloawerPotPlant"),I=y(s),C((L=n((A=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=t.call.apply(t,[this].concat(o))||this,e(n,"plantPoint",L,a(n)),n.planted=!1,n._objdataOwn=new T,n.ironed=!1,n.idle="Idle",n.idlePlanted="Idle_Planted",n.plant="Plant",n.recover="Recover",n.random=[],n}i(n,t);var o=n.prototype;return o.teach=function(){if(this.ironed){this.defaultTeach(2);var t=f.getDirectQuote("[FLOAWERPOT_PLANTFOOD_TUTORIAL]");t&&(u.gameTipString(t,5),this.addArrow(1/0))}else this.defaultTeach(1)},o.getEaterDetectable=function(){var t,n=this,i=!0;return null==(t=this.plantInLnC)||t.getAllPlants().forEach((function(t){i&&t!=n&&t.eaterDetectable&&(i=!1)})),i},o.addPlant=function(){!this.planted&&this.plantInLnC.haveP()&&(this.planted=!0,this.foodable=!1,m.uiingame.currentSniperPlant==this&&(m.uiingame.tryChangingIndex(-1),this.locateCancel()),this.fooding||this.anmControl.playAnimation(this.plant),this.anmControl.IdleAnim=this.idlePlanted,this.anmControl.RandomAnim=[],this.ironed&&this.isTeacher&&(this.arrowCountdown=0))},o.unPlant=function(){this.planted&&!this.plantInLnC.haveP()&&(this.planted=!1,this.foodable=!this.ironed,this.fooding||this.anmControl.playAnimation(this.recover),this.anmControl.IdleAnim=this.idle,this.anmControl.RandomAnim=this.random,this.ironed&&this.isTeacher&&this.addArrow(1/0))},o.specialSniperPlantDie=function(t){void 0===t&&(t=!1),t||this.plantInLnC.readTileType(),this.plantInLnC.orgPlantPoint.worldPosition=this.plantInLnC.plantPoint.worldPosition,this.plantInLnC.returnPlantPoint()},o.specialSniperFood=function(t){this.foodable=!1,this.ironed=!0,this.anmControl.playAnimation("Food"),this.deathAnm="Death_Iron",this.idle="Idle_Iron",this.random=["Rand1_Iron"],this.recover="Recover_Iron",this.plant="Plant_Iron",this.idlePlanted="Idle_Planted_Iron",this.anmControl.IdleAnim=this.idle,this.anmControl.RandomAnim=this.random,this.toughness=this._objdataOwn.ToughnessPlantfooded,this.health=this.toughness;var n=P.getPlantProgressByID(this.ID);n.tutorialLevel<2&&(n.tutorialLevel=2,this.isTeacher=!0)},o.animationListener=function(t){"FoodEnd"==t.name&&this.foodEnd()},o.specialSniperPlantOnEnable=function(){this.planted=!1,this.random=this.anmControl.RandomAnim,this.idle=this.anmControl.IdleAnim},o.sniperPlantLocatable=function(){return this.ironed&&!this.planted},o.specialSniperPlantLocateStart=function(){this.anmControl.IdleAnim="Locating",this.anmControl.RandomAnim=[],this.anmControl.playRandom()},o.specialSniperPlantLocateCancel=function(){this.planted||(this.anmControl.IdleAnim=this.idle,this.anmControl.RandomAnim=this.random),this.anmControl.playRandom()},o.onLeapEnd=function(){this.planted||(this.anmControl.IdleAnim=this.idle,this.anmControl.RandomAnim=this.random),this.anmControl.playRandom()},o.specialSniperPlantTrigger=function(t){if(t.putPlantAvailable(!0,this.ID)){var n=this._objdataOwn.MoveToPosTime;this._cdScale&&(n*=this._cdScale),this.leapTo(t,n,0,!0,!1,"quadOut"),this.anmControl.IdleAnim="Moving",this.anmControl.RandomAnim=[],this.anmControl.playRandom()}else this.planted||(this.anmControl.IdleAnim=this.idle,this.anmControl.RandomAnim=this.random),this.anmControl.playRandom(),c.playSniperPlantCancelSound()},o.specialPlantUpdateForce=function(t,n,i){if(!this.dead&&this.plantInLnC){var e;!this.planted&&this.plantInLnC.haveP()?this.addPlant():this.planted&&!this.plantInLnC.haveP()&&this.unPlant(),this.eaterDetectable=this.getEaterDetectable(),null==(e=this.plantInLnC)||e.setPPWdPos(this.plantPoint.worldPosition.clone());var a=this.inLnC.getTileType();a==r.water?this.height_depth=20*-h.depth(this.worldPositionX,this.inLnC):a==r.sky?(this.height=-20,this.depth=0):this.height_depth=0}},n}(d)).prototype,"plantPoint",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=A))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/flowerLine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./levelController.ts","./UI.ts"],(function(e){var n,t,i,o,a,r,s,l,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator},function(e){o=e.Character},function(e){a=e.Rectangle},function(e){r=e.Square},function(e){s=e.sounds},function(e){l=e.LevelPlay},function(e){c=e.UIInGame}],execute:function(){var d,u;t._RF.push({},"710dfN9ySNCvJZktd3JMKYw","flowerLine",void 0);var h=i.ccclass;i.property,e("flowerLine",h("flowerLine")(((u=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).group=[],n.IdleAnmMode=0,n.dead=!1,n.tip="",n}n(t,e);var i=t.prototype;return i.characterUpdate=function(e){var n=this;if(!this.dead){if(l.component.gameWon)return void this.celebrate();var i=a.createRectangleCenter(this.worldPosition.clone(),r.SquareDisW/10,r.SquareDisH),o=a.createRectangleCenter(this.worldPosition.clone(),1.5*r.SquareDisW,r.SquareDisH),s=!1;this.inLane.zombiePool().forEach((function(e){n.dead||!e.flying&&e.walking&&e.willTrampleFlower()&&e.shouldSpeedScale()>0&&(e.bodyRec.judgeCrossRec(i)?n.die():!s&&e.bodyRec.judgeCrossRec(o)&&(s=!0,t.warning=!0,n.warn()))})),this.dead||(t.warning?this.warn():this.idle())}},i.die=function(e){var n=this;void 0===e&&(e=!0),this.dead||(this.dead=!0,e&&this.group.forEach((function(e){e!=n&&e.die(!1)})),s.playLevelTaskFail(),this.db.playAnimation("Die",1),console.log(this.tip),c.uiingame.loseDarken(null,"",this.tip))},i.warn=function(e){var n=this;void 0===e&&(e=!0),1!=this.IdleAnmMode&&(this.IdleAnmMode=1,e&&this.group.forEach((function(e){e!=n&&e.warn(!1)})),this.db.playAnimation("Nervous",1))},i.idle=function(e){0!=this.IdleAnmMode&&(this.IdleAnmMode=0,t.warning||this.db.playAnimation("Idle",1))},i.celebrate=function(){2!=this.IdleAnmMode&&(this.IdleAnmMode=2,this.db.playAnimation("Grow",1),s.playLevelTaskComplete())},i.characterOnEnable=function(){this.dead=!1,this.IdleAnmMode=1,this.idle()},i.characterLateUpdate=function(e){t.warning=!1},t}(o)).warning=!1,d=u))||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/foodLinkTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./Square.ts","./NodePools.ts","./Tiles.ts","./Cards.ts","./CardFeatureTotal.ts","./Plants.ts","./GridItem.ts"],(function(t){var i,e,o,n,a,r,s,l,h,u,c,f,d,p,m,T,v,g,b,y,L;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.Prefab,h=t.Color,u=t.tween,c=t.Vec3},function(t){f=t.Tile},function(t){d=t.Square},function(t){p=t.instantiatePooly},function(t){m=t.tiles,T=t.TileEnum},function(t){v=t.Cards},function(t){g=t.CardFeatureTotal},function(t){b=t.PlantEnum,y=t.plants},function(t){L=t.GridItemEnum}],execute:function(){var P,k,w,C,D,I,S;r._RF.push({},"21d58/qMh5PO5QxcnK65/it","foodLinkTile",void 0);var _=s.ccclass,X=s.property,Y=t("FoodLinkTileTypeEnum",function(t){return t[t.alpha=0]="alpha",t[t.beta=1]="beta",t[t.delta=2]="delta",t[t.gamma=3]="gamma",t[t.epsilon=4]="epsilon",t[t.amount=5]="amount",t}({})),x=function(){function t(){this.fromTile=void 0,this.toTile=void 0,this.intervalX=d.SquareDisW/4,this.intervalY=d.SquareDisH/4,this.dotPar=void 0,this.fromX=0,this.toX=0,this._x=0,this.fromY=0,this.toY=0,this._y=0}return t.prototype.start=function(t,i,e,o){var n=this;void 0===o&&(o=16),this.dotPar=e,this.fromTile=t,this.toTile=i,this.fromX=t.node.worldPosition.x,this.fromY=t.node.worldPosition.y,this.toX=i.node.worldPosition.x,this.toY=i.node.worldPosition.y,this._x=this.fromX,this._y=this.fromY;var a=Math.abs(this.toX-this.fromX),r=Math.abs(this.toY-this.fromY);u(this).to(a/o/d.SquareDisW,{x:this.toX}).to(r/o/d.SquareDisH,{y:this.toY}).call((function(){var t;null!=(t=n.toTile)&&null!=(t=t.inLnC)&&t.isInLawn()&&(n.toTile.flash(),n.toTile.inLnC.getAllPlants().forEach((function(t){t.food()})))})).start()},a(t,[{key:"x",get:function(){return this._x},set:function(t){var i=this._x-this.fromX,e=t-this.fromX;this._x=t;for(var o=Math.floor(Math.abs(i/this.intervalX)),n=Math.floor(Math.abs(e/this.intervalX)),a=0;a<Math.abs(n-o);a++){var r=this.fromX+(o+a+1)*this.intervalX*(this.toX<this.fromX?-1:1),s=this.y,l=p(this.dotPar);l.parent=d.getLaneComponent(0).tileLayer,l.worldPosition=new c(r,s,10),l.setSiblingIndex(0)}}},{key:"y",get:function(){return this._y},set:function(t){var i=this._y-this.fromY,e=t-this.fromY;this._y=t;for(var o=Math.floor(Math.abs(i/this.intervalY)),n=Math.floor(Math.abs(e/this.intervalY)),a=0;a<Math.abs(n-o);a++){var r=this.fromY+(o+a+1)*this.intervalY*(this.toY<this.fromY?-1:1),s=this.x,l=p(this.dotPar);l.parent=d.getLaneComponent(0).tileLayer,l.worldPosition=new c(s,r,10),l.setSiblingIndex(0)}}}]),t}();t("foodLinkTile",(P=_("foodLinkTile"),k=X(l),w=X(l),P((I=i((D=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(i=t.call.apply(t,[this].concat(a))||this).anm=void 0,i.foodLinkID=0,i.propagationDelay=0,i.locatingZomboss=void 0,o(i,"dotPar",I,n(i)),o(i,"flashLight",S,n(i)),i._lit=!1,i}e(i,t);var r=i.prototype;return r.specialTileUpdate=function(t){this.dead||(this.anm||(this.anm=this.db.armature().animation),this.anm.gotoAndPlayByTime(this.lit?"Idle_Lit":"Idle_Unlit",d.PowerTileAnmTimer,1/0))},r.specialTileOnLoad=function(){var t;this.anm=null==(t=this.db)||null==(t=t.armature())?void 0:t.animation},r.onFoodedByPlayer=function(){var t=this;this.scheduleOnce((function(){t.spreadFood()}),this.propagationDelay),this.locatingZomboss&&(this.locatingZomboss.foodLinkerShootInterupt(),this.locatingZomboss=null)},r.spreadFood=function(){var t=this;this.flash();var i=[];m.tilePool().forEach((function(e){if(e.tileID==T.foodLinker){var o=e;o.foodLinkID==t.foodLinkID&&o!=t&&-1==i.indexOf(o)&&i.push(o)}})),i.forEach((function(i){(new x).start(t,i,t.dotPar)}))},r.judgeLit=function(t){if(t){var i=!1;i=!!t.getAllPlants()[0],this.lit=i}else this.lit=!1},r.onLnCCall=function(t){this.judgeLit(t)},r.onLnCChange=function(t,i){var e;this.judgeLit(i),null==(e=this.gridItemCP)||e.setGridItemType([L.powertile,this.GridType])},r.flash=function(){if(this.inLnC){var t=p(this.flashLight);t.parent=this.node.parent,t.worldPosition=this.node.worldPosition,t.worldScale=this.node.worldScale}},r.specialDie=function(){var t,i=0;switch(this.foodLinkID){case Y.alpha:i=b.TileTurnipAlpha;break;case Y.beta:i=b.TileTurnipBeta;break;case Y.gamma:i=b.TileTurnipGamma;break;case Y.delta:i=b.TileTurnipDelta;break;case Y.epsilon:i=b.TileTurnipEpsilon}y.registerPlant(i,-1),null==(t=v.cardsController)||null==(t=t.seedPackets)||t.forEach((function(t){var e=t.getComponent(g);i==e.ID&&(e.SUNCOST=e.SUNCOST)}))},r.tileOnEnable=function(){var t;this.lit=!1,this.locatingZomboss=null;var i=0;switch(this.foodLinkID){case Y.alpha:i=b.TileTurnipAlpha;break;case Y.beta:i=b.TileTurnipBeta;break;case Y.gamma:i=b.TileTurnipGamma;break;case Y.delta:i=b.TileTurnipDelta;break;case Y.epsilon:i=b.TileTurnipEpsilon}y.registerPlant(i,1),null==(t=v.cardsController)||null==(t=t.seedPackets)||t.forEach((function(t){var e=t.getComponent(g);i==e.ID&&(e.SUNCOST=e.SUNCOST)}))},a(i,[{key:"lit",get:function(){return this._lit},set:function(t){var i=this._lit;this._lit=t,i!=t&&this.flash()}},{key:"foodLightColor",get:function(){switch(this.foodLinkID){case Y.alpha:return new h(31,255,0,255);case Y.beta:return new h(255,0,0,255);case Y.delta:return new h(255,235,0,255);case Y.gamma:return new h(0,245,255,255);case Y.epsilon:return new h(194,0,255,255);default:return new h(255,255,255,255)}}},{key:"GridType",get:function(){return L.powertile+this.foodLinkID+1}}]),i}(f)).prototype,"dotPar",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(D.prototype,"flashLight",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=D))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/FrontYard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tide.ts","./Square.ts","./stageEffect.ts","./lawn.ts","./SoundsController.ts","./CharacterManager.ts","./SoundManager.ts","./Zombies.ts","./MultiLanguage.ts","./GridItem.ts","./NodePools.ts"],(function(t){var e,n,r,i,o,a,d,s,l,u,c,h,f,g,m,p,y,v,w,_,S,b,L,E,F,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,d=t.Enum,s=t.JsonAsset,l=t.Prefab,u=t.resources,c=t.assetManager,h=t.instantiate,f=t.Vec3,g=t.Component},function(t){m=t.Tide},function(t){p=t.Square},function(t){y=t.StageEffect},function(t){v=t.lawn},function(t){w=t.MusicController},function(t){_=t.ZombiePool},function(t){S=t.SoundManager,b=t.WorldMusic},function(t){L=t.zombies},function(t){E=t.MultiLanguage},function(t){F=t.GridItem},function(t){C=t.instantiatePooly}],execute:function(){var B,Y,M,A,I,R,T,N,D,Z,O,W,j,P,k,x;o._RF.push({},"02e9e6yW1pACZVbPL+GWHAz","FrontYard",void 0);var K=a.ccclass,q=a.property,z=function(){this.CODENAME="",this.BASIC_ZOMBIE="tutorial",this.FLAG_ZOMBIE="tutorial_flag",this.RALLY_ZOMBIE="tutorial_flag_veteran",this.BASIC_ZOMBIE_ARMOR1="tutorial_armor1",this.BASIC_ZOMBIE_ARMOR2="tutorial_armor2",this.BASIC_ZOMBIE_ARMOR3="tutorial_armor3",this.BASIC_ZOMBIE_ARMOR4="tutorial_armor4",this.GRAVESTONE="gravestone_tutorial",this.RAILCART="railcart_tutorial",this.WORLDNAME="Frontyard",this.MUSIC=b.Modern,this.RESNAME="Modern"},H=t("yardType",function(t){return t[t.modern=0]="modern",t[t.egypt=1]="egypt",t[t.pirate=2]="pirate",t[t.cowboy=3]="cowboy",t[t.kongfu=4]="kongfu",t[t.kongfu_veteran=5]="kongfu_veteran",t[t.future=6]="future",t[t.dark=7]="dark",t[t.beach=8]="beach",t[t.ice=9]="ice",t[t.iceUlt=10]="iceUlt",t[t.lost=11]="lost",t[t.lostNight=12]="lostNight",t[t.sky=13]="sky",t[t.eighties=14]="eighties",t[t.dino=15]="dino",t[t.frontYardCircus=16]="frontYardCircus",t[t.frontYardDark=17]="frontYardDark",t[t.frontYardBeach=18]="frontYardBeach",t[t.frontYardIceage=19]="frontYardIceage",t[t.frontYardLostcity=20]="frontYardLostcity",t[t.frontYardEighties=21]="frontYardEighties",t[t.frontYardDino=22]="frontYardDino",t[t.frontYardSummerNight=23]="frontYardSummerNight",t[t.frontYardLunar=24]="frontYardLunar",t[t.frontYardHalloween=25]="frontYardHalloween",t[t.frontYardFarm=26]="frontYardFarm",t[t.frontYardHeroes=27]="frontYardHeroes",t[t.frontYardPaddys=28]="frontYardPaddys",t[t.frontYardFalls=29]="frontYardFalls",t[t.lostInTime=30]="lostInTime",t[t.arena=31]="arena",t[t.yardAmount=32]="yardAmount",t}({})),G=t("JamStyle",function(t){return t[t.jam_punk=0]="jam_punk",t[t.jam_pop=1]="jam_pop",t[t.jam_rap=2]="jam_rap",t[t.jam_8bit=3]="jam_8bit",t[t.jam_metal=4]="jam_metal",t[t.jam_ballad=5]="jam_ballad",t[t.jam_clear=6]="jam_clear",t}({}));d(H);t("FrontYard",(B=K("FrontYard"),Y=q(s),M=q(l),A=q(l),I=q(l),R=q(l),T=q(l),B(((x=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"frontyardFeatureJson",Z,i(e)),r(e,"tide",O,i(e)),r(e,"tideKelp",W,i(e)),r(e,"tideKelpSign",j,i(e)),r(e,"bowlingLine",P,i(e)),r(e,"bowlingLineSign",k,i(e)),e.boomboxCD=0,e.baseStageEffect=G.jam_clear,e.currentStageType=G.jam_clear,e.tide_=null,e.tideKelp_=null,e.tideKelpSign_=null,e}n(e,t),e.getWorldMapLyricsByLawn=function(t){return E.getWorldMapLyrics(this.getLawnFeature(t).WORLDNAME)},e.loadLawns=function(t,n,r){var i=this;if(n){t=[];for(var o=0;o<H.yardAmount;o++)t.push(o)}var a=t.length;a>0?t.forEach((function(t){var n=e.getLawnFeature(t);u.load("lawns/"+n.RESNAME+"LAWN",(function(t,e){a--,t||(i.lawnRes[n.RESNAME]=e,a<=0&&r())}))})):r()},e.unLoadLawns=function(){var t;null==(t=this.currentLawn)||null==(t=t.node)||t.destroy();for(var n=0;n<H.yardAmount;n++){var r=e.getLawnFeature(n),i=this.lawnRes[r.RESNAME];this.lawnRes[r.RESNAME]=null,i&&c.releaseAsset(i)}},e.levelPlayStart=function(){e.component.levelPlayStart()},e.haveTide=function(){return null!=e.component.tide_},e.haveTideKelp=function(){return null!=e.component.tideKelp_},e.tideX=function(){return e.component._tideX()},e.addTide=function(t){void 0===t&&(t=9),e.component._addTide(t)},e.addTideKelp=function(t){void 0===t&&(t=9),e.component._addTideKelp(t)},e.addBowlingLine=function(t,n){void 0===t&&(t=9),void 0===n&&(n=!0),e.component._addBowlingLine(t,n)},e.pushTide=function(t){var n;null==(n=e.component.tide_)||n.pushTide(t)},e.pullTide=function(t){var n;null==(n=e.component.tide_)||n.pullTide(t)},e.moveTide=function(t){var n;null==(n=e.component.tide_)||n.moveTide(t)},e.playLowTide=function(){var t;null==(t=e.component.tide_)||t.playLowTide()},e.depth=function(t,n){void 0===n&&(n=null);var r=e.component;return r.tide_?r.tide_.x>t?n?n.depth():0:Math.min(1.5,(t-r.tide_.x)/p.SquareDisW):n?n.depth():0},e.getTidePos=function(){return this.component.tide_?this.component.tide_.pos:NaN},e.getLawnFeature=function(t){return this.frontYardFeatures[t]?this.frontYardFeatures[t]:new z},e.getLawnRailCart=function(t){return this.frontYardFeatures[t]?F.getGridItemEnumByCodeName(this.frontYardFeatures[t].RAILCART):0},e.getLawnBasicZombie=function(t){return this.frontYardFeatures[t]?L.getZombieEnumByString(this.frontYardFeatures[t].BASIC_ZOMBIE):0},e.getLawnBasicZombieArmor1=function(t){return this.frontYardFeatures[t]?L.getZombieEnumByString(this.frontYardFeatures[t].BASIC_ZOMBIE_ARMOR1):0},e.getLawnBasicZombieArmor2=function(t){return this.frontYardFeatures[t]?L.getZombieEnumByString(this.frontYardFeatures[t].BASIC_ZOMBIE_ARMOR2):0},e.getLawnBasicZombieArmor3=function(t){return this.frontYardFeatures[t]?L.getZombieEnumByString(this.frontYardFeatures[t].BASIC_ZOMBIE_ARMOR3):0},e.getLawnBasicZombieArmor4=function(t){return this.frontYardFeatures[t]?L.getZombieEnumByString(this.frontYardFeatures[t].BASIC_ZOMBIE_ARMOR4):0},e.getLawnFlagZombie=function(t){return this.frontYardFeatures[t]?L.getZombieEnumByString(this.frontYardFeatures[t].FLAG_ZOMBIE):0},e.getLawnRallyZombie=function(t){return this.frontYardFeatures[t]?L.getZombieEnumByString(this.frontYardFeatures[t].RALLY_ZOMBIE):0},e.getFrontYardEnumByString=function(t){for(var e=0;e<this.frontYardFeatures.length;e++)if(this.frontYardFeatures[e].CODENAME==t)return e;return 0},e.getFrontYardEnumByRTID=function(t){var e=t.concat(),n=e.indexOf("RTID("),r=e.indexOf("@LevelModules)"),i="";return-1!=n&&(i=e.slice(n+5,r)),this.getFrontYardEnumByString(i)},e.changeFrontYard=function(t,e){var n;return void 0===e&&(e=!0),null==(n=this.component)?void 0:n.changeLawn(t,e)},e.removeTide=function(){var t;null==(t=this.component)||t.removeTide()};var o=e.prototype;return o.removeTide=function(){var t;this.tide_&&(this.tide_.x=p.getSquareWorldPosition(0,8,1).x,this.tide_.update(1),null==(t=this.tide_)||null==(t=t.node)||t.destroy(),this.tide_=null)},o.changeLawn=function(t,n){var r;void 0===n&&(n=!0),e.currentLawnYardType=t,null==(r=e.currentLawn)||null==(r=r.node)||r.destroy(),n&&this.removeTide();var i=null,o=e.getLawnFeature(t),a=e.lawnRes[o.RESNAME];(i=h(a)).parent=this.node.getChildByName("lawn"),i.setSiblingIndex(0);var d=i.getComponent(v);return e.currentLawn=d,d.ID=t,d.worldMusic=e.getLawnFeature(t).MUSIC,this.currentStageType==G.jam_clear&&w.switchWorldMusic(d.worldMusic),this.scheduleOnce(p.setSquareType,0),d},e.getStageEffect=function(){var t;return null==(t=this.component)?void 0:t.currentStageType},e.setStageEffect=function(t,e){void 0===e&&(e=!0);var n=this.component;if(n){var r=n.node.getChildByName("stageEffect");if(t!=n.currentStageType&&(n.currentStageType=t,n.boomboxCD<=0||t==G.jam_ballad))switch(t){case G.jam_punk:w.switchWorldMusic(b.Punk,!0),r.children.forEach((function(t){t.getComponent(y).playEnd()})),r.getChildByName("punk").getComponent(y).playStart();break;case G.jam_pop:w.switchWorldMusic(b.Pop,!0),r.children.forEach((function(t){t.getComponent(y).playEnd()})),r.getChildByName("pop").getComponent(y).playStart();break;case G.jam_rap:w.switchWorldMusic(b.Rap,!0),r.children.forEach((function(t){t.getComponent(y).playEnd()})),r.getChildByName("rap").getComponent(y).playStart();break;case G.jam_8bit:w.switchWorldMusic(b.Eightbit,!0),r.children.forEach((function(t){t.getComponent(y).playEnd()})),r.getChildByName("eightBit").getComponent(y).playStart();break;case G.jam_metal:w.switchWorldMusic(b.Metal,!0),r.children.forEach((function(t){t.getComponent(y).playEnd()})),r.getChildByName("metal").getComponent(y).playStart();break;case G.jam_ballad:w.switchWorldMusic(b.Ballad,!0),r.children.forEach((function(t){t.getComponent(y).playEnd()}));break;default:S.component&&(S.component.currentWorldMusic=null),w.switchWorldMusic(this.currentLawn.worldMusic,!1),r.children.forEach((function(t){t.getComponent(y).playEnd()})),t=G.jam_clear}e&&(n.baseStageEffect=t)}},e.lanesWithDeepWater=function(){for(var t=[],e=0;e<=4;e++)p.getLaneComponent(e).haveDeepWater&&t.push(e);return t},e.lanesWithoutDeepWater=function(){for(var t=[],e=0;e<=4;e++)p.getLaneComponent(e).haveDeepWater||t.push(e);return t},o._tideX=function(){return this.tide_?this.tide_.x:1/0},o._addTide=function(t){return void 0===t&&(t=0),this.tide_||(this.tide_=h(this.tide).getComponent(m),this.tide_.node.parent=this.node.getChildByName("tide"),this.tide_.standardize(t)),this.tide_},o._addTideKelp=function(t){void 0===t&&(t=0);var e=C(this.tideKelp);e.parent=this.node.getChildByName("tideLine"),this.tideKelp_=e;var n=C(this.tideKelpSign);n.parent=this.node.getChildByName("tideSign"),this.tideKelpSign_=n;var r=p.SquareDisH/190,i=p.getSquareWorldPosition(2,t,0,.5);e.worldPosition=new f(i.x,i.y,0),n.worldPosition=new f(i.x,p.getSquareWorldPosition(0,0,0,1).y,0),e.worldScale=new f(r,r,r),n.worldScale=new f(.4*r,.4*r,.4*r)},o._addBowlingLine=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!0);var n=C(this.bowlingLine);n.setSiblingIndex(0),n.parent=this.node.getChildByName("bowlingLine");var r=p.SquareDisH/190,i=p.getSquareWorldPosition(2,t,0,.5);if(n.worldPosition=new f(i.x,i.y,0),n.worldScale=new f(r,r,r),e){var o=C(this.bowlingLineSign);o.parent=this.node.getChildByName("bowlingSign"),o.worldPosition=new f(i.x,p.getSquareWorldPosition(0,0,0,1).y+10,0),o.worldScale=new f(.4*r,.4*r,.4*r)}},o.onLoad=function(){e.frontYardFeatures=this.frontyardFeatureJson.json.LAWNS,e.railLayer=this.node.getChildByName("rail"),e.sliderLayer=this.node.getChildByName("sliders"),e.sliderFloaterLayer=this.node.getChildByName("sliderFloaters"),e.cartLayer=this.node.getChildByName("cart"),e.component=this,e.currentLawnYardType=H.modern,e.currentLawn=null},o.update=function(t){e.windy>0&&(_.pool().concat().forEach((function(t){t.flying&&t.blowAway()})),e.windy-=t),e.windy<0&&(e.windy=0),this.boomboxCD>0&&(e.setStageEffect(G.jam_ballad,!1),this.boomboxCD-=t,this.boomboxCD<=0&&(this.boomboxCD=0,e.setStageEffect(this.baseStageEffect,!1)))},e.setFrontYardFeatures=function(t){this.frontYardFeatures=t},o.start=function(){this.changeLawn(H.modern)},o.levelPlayStart=function(){},e}(g)).sliderLayer=void 0,x.sliderFloaterLayer=void 0,x.lawnRes=new function(){this.Modern=void 0,this.Egypt=void 0,this.Pirate=void 0,this.Cowboy=void 0,this.Kongfu=void 0,this.KongfuVeteran=void 0,this.Future=void 0,this.Dark=void 0,this.Beach=void 0,this.Iceage=void 0,this.IceageUlt=void 0,this.LostCity=void 0,this.LostCityNight=void 0,this.Sky=void 0,this.Eighties=void 0,this.Dino=void 0,this.FrontyardCircus=void 0,this.FrontyardDark=void 0,this.FrontyardBeach=void 0,this.FrontyardIceage=void 0,this.FrontyardLostCity=void 0,this.FrontyardEighties=void 0,this.FrontyardDino=void 0,this.FrontyardSummerNight=void 0,this.FrontyardLunar=void 0,this.FrontyardHalloween=void 0,this.FrontyardFarm=void 0,this.FrontyardHeroes=void 0,this.FrontyardPaddys=void 0,this.FrontyardFalls=void 0,this.Persuit=void 0,this.Arena=void 0},x.component=void 0,x.windy=0,x.currentLawnYardType=void 0,x.currentLawn=void 0,x.railLayer=void 0,x.cartLayer=void 0,x.frontYardFeatures=[],Z=e((D=x).prototype,"frontyardFeatureJson",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(D.prototype,"tide",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(D.prototype,"tideKelp",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(D.prototype,"tideKelpSign",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(D.prototype,"bowlingLine",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(D.prototype,"bowlingLineSign",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=D))||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/FumeShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./NodePools.ts","./Square.ts","./SoundRescourses.ts","./Zombie.ts"],(function(t){var o,e,n,i,a,r,s,l,c,u,h,d,f,m,S,b,p,y;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.AudioClip,l=t.Prefab,c=t.Node,u=t.dragonBones,h=t.Vec3},function(t){d=t.Plant,f=t.PlantProps},function(t){m=t.Rectangle},function(t){S=t.NodePools},function(t){b=t.Square},function(t){p=t.sounds},function(t){y=t.ZombieDamageDetails}],execute:function(){var P,g,D,w,R,v,_,C,j,L,E,O,z,F,q,A,W,k,H,M;a._RF.push({},"55aa7VHxuJJmr3RtpmhWyai","FumeShroom",void 0);var N=r.ccclass,x=r.property,I=(P=N("fumeshroomSound"),g=x([s]),D=x(s),P((v=o((R=function(){function t(){n(this,"shootSounds",v,this),n(this,"foodSound",_,this)}var o=t.prototype;return o.playShootSound=function(){p.playArray(this.shootSounds)},o.playFoodSound=function(){p.play(this.foodSound)},t}()).prototype,"shootSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=o(R.prototype,"foodSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=R))||w),T=function(t){function o(){for(var o,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(o=t.call.apply(t,[this].concat(n))||this).Damage=40,o.ShootInterval=2.4,o.ShootIntervalAdditional=.2,o.PlantfoodDPS=700,o.PlantfoodKnockbackSPS=3,o.PlantfoodDuration=3,o.DetectDistance=4.5,o.ShootDistance=5.5,o}return e(o,t),o}(f);t("FumeShroomPlant",(C=N("FumeShroomPlant"),j=x(I),L=x(l),E=x(l),O=x(l),z=x(c),C((A=o((q=function(t){function o(){for(var o,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(o=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new T,o.busy=0,o.shooting=!1,n(o,"soundRes",A,i(o)),o.oldTimeScale=1,o.foodShooting=!1,n(o,"shootParticle",W,i(o)),n(o,"foodParticle",k,i(o)),n(o,"hitParticle",H,i(o)),o.enemyDetector=null,o.shootDetector=null,o.foodDetector=null,n(o,"mouth",M,i(o)),o}e(o,t);var a=o.prototype;return a.specialPlantFood=function(){this.anmControl.playAnimation("Food",1),this.soundRes.playFoodSound()},a.specialPlantFoodEnd=function(){this.busy=0,this.foodShooting=!1},a.specialPlantOnSquareChange=function(t,o){this.setDetecter()},a.specialPlantOnEnable=function(){var t=this;this.busy=0,this.foodShooting=!1,this.anmControl.body.addEventListener(u.EventObject.COMPLETE,(function(){t.shooting=!1}),this)},a.animationListener=function(t){if("shoot"==t.name&&this._shoot(),"shootSound"==t.name&&this.soundRes.playShootSound(),"foodStart"==t.name){var o=Math.max(.1,this._objdataOwn.PlantfoodDuration);this.oldTimeScale=this.anmControl.body.timeScale,this.anmControl.body.timeScale=3/o,this.spawnParticle(this.foodParticle).getComponent(u.ArmatureDisplay).timeScale=3/o,this.foodShooting=!0}"foodEnd"==t.name&&(this.anmControl.body.timeScale=this.oldTimeScale,this.foodEnd())},a.spawnParticle=function(t){var o=S.instantiatePooly(t);return o.parent=this.inLane.prjLayer,o.setWorldPosition(this.mouth.getWorldPosition()),o},a.spawnHitParticle=function(t){var o=S.instantiatePooly(this.hitParticle);return o.parent=this.inLane.prjLayer,o.setWorldPosition(new h(t,this.mouth.worldPosition.y)),o},a._shoot=function(){var t=this;this.spawnParticle(this.shootParticle);var o=this._objdataOwn.Damage;this._dmgScale&&(o*=this._dmgScale),this.inLane.zombiePool().forEach((function(e){t.shootDetector.judgeCrossRec(e.bodyRecReal)&&(e.dealDamage(new y(o,!0,!1,!1)),t.spawnHitParticle(e.worldPositionX))})),this.inLane.tombPool().forEach((function(e){t.shootDetector.judgeCrossRec(e.bodyRec)&&(e.dealDamage(o),t.spawnHitParticle(e.worldPositionX))}))},a.setDetecter=function(){this.enemyDetector=m.createRectangleNodeSide(this.inLnC.node,b.SquareDisW*this._objdataOwn.DetectDistance,b.SquareDisH),this.shootDetector=m.createRectangleNodeSide(this.inLnC.node,b.SquareDisW*this._objdataOwn.ShootDistance,b.SquareDisH),this.foodDetector=m.createRectangleNodeSide(this.inLnC.node,20*b.SquareDisW,b.SquareDisH)},a.detectShootEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.enemyDetector.judgeCrossRec(t[o].bodyRecForShooter))return!0;for(var e=this.inLane.tombPool(),n=0;n<e.length;n++)if(this.enemyDetector.judgeCrossRec(e[n].bodyRec))return!0;return!1},a.shootAnimation=function(){this.shooting=!0,this.busy=this._objdataOwn.ShootInterval+this._objdataOwn.ShootIntervalAdditional*Math.random(),this._cdScale&&(this.busy*=this._cdScale),this.anmControl.playAnimation("Shoot",1,.1,Math.max(.8/this.busy,1))},a.waterable=function(){return!this.shooting},a.specialPlantUpdate=function(t,o,e){var n=this;if(this.busy>0&&(this.busy-=t),this.busy<=0&&e>0&&this.detectShootEnemy()&&!this.fooding&&this.shootAnimation(),this.foodShooting){var i=this._objdataOwn.PlantfoodDPS,a=b.getSquareWorldPosition(0,8,1).x;this._dmgScale&&(i*=this._dmgScale),this.inLane.zombiePool().forEach((function(o){n.foodDetector.judgeCrossRec(o.bodyRecReal)&&(o.dealDamage(new y(i*t,!0,!1,!1)),o.knockBackable&&o.worldPositionX<a&&(o.worldPositionX+=n._objdataOwn.PlantfoodKnockbackSPS*t*b.SquareDisW))})),this.inLane.tombPool().forEach((function(o){n.foodDetector.judgeCrossRec(o.bodyRec)&&o.dealDamage(i*t)}))}},o}(d)).prototype,"soundRes",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new I}}),W=o(q.prototype,"shootParticle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=o(q.prototype,"foodParticle",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=o(q.prototype,"hitParticle",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=o(q.prototype,"mouth",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=q))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/FutureGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MechZombie.ts","./SoundRescourses.ts","./Zombies.ts","./GargantuarZombie.ts","./Square.ts","./Zombie.ts","./CharacterManager.ts","./ParticleSelfdestroy.ts","./NodePools.ts"],(function(e){var t,i,o,n,a,s,r,h,l,u,y,d,c,p,m,S,b,P,w,f,g,D,_,L,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,r=e._decorator,h=e.AudioClip,l=e.Node,u=e.Prefab,y=e.Vec2,d=e.Vec3,c=e.HALF_PI,p=e.TWO_PI},function(e){m=e.MechZombie,S=e.MechZombieProps},function(e){b=e.sounds},function(e){P=e.ZombieEnum},function(e){w=e.gargantuar},function(e){f=e.Square},function(e){g=e.ZombieDamageDetails,D=e.zombieDamageType},function(e){_=e.Rectangle},function(e){L=e.ParticleSelfdestroy},function(e){R=e.instantiatePooly}],execute:function(){var v,j,E,C,A,I,z,x,M,O,T,Z,F,k,W,X,q,G,H,B,V,N,U,Y,K,J,Q,$,ee,te,ie,oe,ne,ae,se,re,he,le,ue;s._RF.push({},"7bd7dTjMXtFsoi1KZtXV/4n","FutureGargantuarZombie",void 0);var ye=r.ccclass,de=r.property,ce=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(t=e.call.apply(e,[this].concat(o))||this).EyeLaserDelayBetweenShots=12.5,t.EyeLaserMaxColumn=5,t.EyeLaserMinDistance=1.5,t.EyeLaserSweepLength=1.5,t.EyeLaserSweepTime=1,t.EyeLaserTotalDamage=1e3,t.SmashDamage=1500,t}return i(t,e),t}(S);e("FutureGargantuarZombie",(v=ye("FutureGargantuarZombie"),j=de([h]),E=de([h]),C=de([h]),A=de([h]),I=de(h),z=de(h),x=de(h),M=de(h),O=de(h),T=de(h),Z=de(h),F=de(h),k=de(l),W=de(l),X=de(l),q=de(u),G=de(u),H=de(u),v((N=t((V=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new ce,o(t,"stepSounds",N,n(t)),o(t,"stepRiseSounds",U,n(t)),o(t,"smashSounds",Y,n(t)),o(t,"saySounds",K,n(t)),o(t,"throwSound",J,n(t)),o(t,"throwPrepareSound",Q,n(t)),o(t,"riseSound",$,n(t)),o(t,"shootStartSound",ee,n(t)),o(t,"shootEndSound",te,n(t)),o(t,"rayStartSound",ie,n(t)),o(t,"rayLoopSound",oe,n(t)),o(t,"rayEndSound",ne,n(t)),t.sweepTo=new y(0,0),t.sweepFrom=new y(0,0),t.shootPos=new y(0,0),t._shooting=0,t._shootDuration=1,t.impEnum=P.future_imp,t._haveImp=!0,t._impSlots=[],o(t,"impThrower",ae,n(t)),o(t,"eyeL",se,n(t)),o(t,"eyeR",re,n(t)),o(t,"eyePar",he,n(t)),o(t,"hitPar",le,n(t)),o(t,"rayPar",ue,n(t)),t.eyeL_PSD=void 0,t.eyeR_PSD=void 0,t.hit_PSD=void 0,t.ray_PSD=void 0,t.shootCountDown=0,t}i(t,e);var s=t.prototype;return s._say=function(){b.playArray(this.saySounds,1,.5)},s.specialMechAnimationListener=function(e){if("step"==e.name)b.playArray(this.stepSounds,1,.1);else if("stepRise"==e.name)b.playArray(this.stepRiseSounds,1,.5);else if("throw"==e.name)b.play(this.throwSound,1,.1),this._throwImp();else if("throw_prepare"==e.name)b.play(this.throwPrepareSound,1,.5);else if("rise"==e.name)b.play(this.riseSound,1,.5);else if("smash"==e.name)b.playArray(this.smashSounds,1,.1),this._say(),this._smash();else if("shootStart"==e.name){this.body.playAnimation("ShootLoop",1/0);var t=f.getSquareWorldPosition(0,this.reversed?8-this.objdataOwn.EyeLaserMaxColumn:this.objdataOwn.EyeLaserMaxColumn).x,i=this.worldPositionX+(this.reversed?1:-1)*this.objdataOwn.EyeLaserMinDistance*f.SquareDisW,o=0,n=f.getSquareWorldPosition(0,0,0).x;this.reversed?(n+=9*f.SquareDisW,o=Math.max(t,i)):o=Math.min(t,i),this.sweepFrom=new y(n+Math.random()*(o-n),f.Square00WorldPosition().y-4*f.SquareDisH*Math.random());var a=p*Math.random();if(this.sweepTo=this.sweepFrom.clone().add(new y(Math.cos(a),Math.sin(a)).multiplyScalar(f.SquareDisH*this.objdataOwn.EyeLaserSweepLength)),this._shootDuration=this.objdataOwn.EyeLaserSweepTime,this.shooting=this._shootDuration,this.ray_PSD)this.ray_PSD.db.playAnimation("Idle",1/0);else{var s=R(this.rayPar);s.parent=this.inLane.prjLayer,s.worldPosition=this.eyeL.worldPosition,s.setSiblingIndex(0),this.ray_PSD=s.getComponent(L),this.ray_PSD.db.playAnimation("Idle",1/0),s.scale=new d(0,s.scale.y,10)}if(this.hit_PSD)this.ray_PSD.db.playAnimation("Idle",1/0);else{var r=R(this.hitPar);r.parent=this.inLane.prjLayer,r.worldPosition=new d(this.shootPos.x,this.shootPos.y),this.hit_PSD=r.getComponent(L),this.hit_PSD.db.playAnimation("Idle",1/0)}}},s.onWaveAdded=function(e){e.db.playAnimation("Idle_G")},s.onEmpStunStart=function(){this.shooting=0},s.specialZombieOnLoad=function(){var e=this;this.db.armature().getSlots().forEach((function(t){t.name.includes("_IMP")&&e._impSlots.push(t)}))},s._throwImp=function(e,t,i){if(void 0===e&&(e=this.lIndex),void 0===t&&(t=this.reversed?6:2),void 0===i&&(i=350),this._haveImp){this.haveImp=!1;var o=w.throwOneImpToLnC(this.impEnum,this.inLane,new y(this.impThrower.worldPosition.x,this._worldPositionY),f.getLnC(e,t),this.impThrower.worldPosition.y-this._worldPositionY,i,1.5);return o.body.playAnimation("Fly",1/0),o.reversed=this.reversed,o.hypno=this.hypno,o}return null},s.playEat=function(e){this.walking=!1},s.detectPlant=function(e){var t=this;if(this.detectPlantOn())if(this.inLane){if(!(e<=0)){var i=!1;this.hypno?(this.inLane.zombiePool().forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)})),this.inLane.tombPool().forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)}))):(this.inLane.plantPool().forEach((function(e){i||e.smasherDetectable&&t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)})),this.inLane.hypnoZombiePool().forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)}))),i?(this.walking=!1,this.switching=!0,this.correctShadeWP(),this.body.playAnimation("Smash",1)):this.playWalk()}}else this.playWalk()},s.specialMechOnEnable=function(){this.shootCountDown=this.objdataOwn.EyeLaserDelayBetweenShots,this.haveImp=!0},s.specialTriggerGameLose=function(){this.body.playAnimation("Smash",1/0)},s.canShoot=function(){return!(this.empCD>0)&&(!!this.switching||(this.reversed?!(this.cIndex>8-this.objdataOwn.EyeLaserMinDistance):!(this.cIndex<this.objdataOwn.EyeLaserMinDistance)))},s.clearAllPSD=function(){this.eyeL_PSD&&(this.eyeL_PSD.db.playAnimation("Die"),this.eyeL_PSD=null),this.eyeR_PSD&&(this.eyeR_PSD.db.playAnimation("Die"),this.eyeR_PSD=null),this.hit_PSD&&(this.hit_PSD.db.playAnimation("Die"),this.hit_PSD=null),this.ray_PSD&&(this.ray_PSD.db.playAnimation("Die"),this.ray_PSD=null)},s.playSpecialMechDieForced=function(){this.shooting=0,this.clearAllPSD()},s.specialZombieUpdateForced=function(e,t,i,o){this.shooting<=0&&this.clearAllPSD()},s.specialMechUpdate=function(e){if(!this.switching&&this.isInLawn()&&this.canShoot())if(this.shootCountDown>0)this.shootCountDown-=e;else{if(this.shootCountDown=this.objdataOwn.EyeLaserDelayBetweenShots,this.switching=!0,this.walking=!1,this.shooting=1/0,this.body.playAnimation("ShootStart",1/0),this._say(),b.play(this.shootStartSound,2,.1),b.play(this.rayStartSound,2,.1),this.eyeL_PSD)this.eyeL_PSD.db.playAnimation("Start",1/0);else{var t=R(this.eyePar);t.parent=this.inLane.prjLayer,t.worldPosition=this.eyeL.worldPosition,this.eyeL_PSD=t.getComponent(L),this.eyeL_PSD.db.playAnimation("Start",1/0)}if(this.eyeR_PSD)this.eyeR_PSD.db.playAnimation("Start",1/0);else{var i=R(this.eyePar);i.parent=this.inLane.prjLayer,i.worldPosition=this.eyeR.worldPosition,this.eyeR_PSD=i.getComponent(L),this.eyeR_PSD.db.playAnimation("Start",1/0)}}if(this.eyeL_PSD&&(this.eyeL_PSD.node.setParent(this.inLane.prjLayer,!0),this.eyeL_PSD.node.worldPosition=this.eyeL.worldPosition),this.eyeR_PSD&&(this.eyeR_PSD.node.setParent(this.inLane.prjLayer,!0),this.eyeR_PSD.node.worldPosition=this.eyeR.worldPosition),e>0&&!this.switching&&this._haveImp&&this.health<this.toughness/2&&(!this.reversed&&this.inLnC.cIndex>2||this.reversed&&this.inLnC.cIndex<6)&&(this.walking=!1,this.switching=!0,this.body.playAnimation("Throw",1)),this.shooting>0){this.shooting-=e,b.play(this.rayLoopSound,1,this.rayLoopSound.getDuration());var o=_.createRectangleCenter(this.shootPos,30,30),n=f.judgeLIndex(this.shootPos.y),a=f.getLaneComponent(n),s=new g(this.objdataOwn.EyeLaserTotalDamage*e,!0,!1,!1,null,D.ray);if(null==a||a.plantPool().forEach((function(e){o.judgeCrossRec(e.bodyRec)&&e.dealDamage(s.damage,3)})),null==a||a.zombiePool().forEach((function(e){o.judgeCrossRec(e.bodyRec)&&e.dealDamage(s)})),null==a||a.hypnoZombiePool().forEach((function(e){o.judgeCrossRec(e.bodyRec)&&e.dealDamage(s)})),null==a||a.tombPool().forEach((function(e){o.judgeCrossRec(e.bodyRec)&&e.dealDamage(s.damage)})),this.ray_PSD){this.ray_PSD.node.setParent(this.lIndex>n?this.inLane.prjLayer:a.prjLayer,!0),this.ray_PSD.node.worldPosition=this.eyeL.worldPosition;var r=new y(this.shootPos.x-this.eyeL.worldPosition.x,this.shootPos.y-this.eyeL.worldPosition.y),h=r.length(),l=90*Math.atan2(r.y,r.x)/c;this.ray_PSD.node.scale=new d(h/200,this.ray_PSD.node.scale.y,10),this.ray_PSD.node.angle=l}this.hit_PSD&&(this.hit_PSD.node.setParent(a.prjLayer,!0),this.hit_PSD.node.worldPosition=new d(this.shootPos.x,this.shootPos.y)),this.empCD>0&&(this.shooting=0),this.shooting<=0&&(this.body.playAnimation("ShootEnd",1/0),b.play(this.shootEndSound,2,.1),b.play(this.rayEndSound,2,.1),this.shootCountDown=this.objdataOwn.EyeLaserDelayBetweenShots)}},s.onSmashing=function(){},s._smash=function(){var e,t=null,i=null,o=null,n=_.createRectangleCenter(new y(this.shadeSocket.worldPosition.x+this.plantDetectorRecOffset.x*(this.reversed?-1:1),this._worldPosition.y+this._height+this.plantDetectorRecOffset.y),1.5*this.plantDetectorRecSize.width,this.plantDetectorRecSize.height);if(this.hypno){var a=1/0;this.inLane.zombiePool().forEach((function(e){var t=e.bodyRec.prjX().x;e.bodyRec.judgeCrossRec(n)&&t<a&&(i=e,a=t)})),this.inLane.tombPool().forEach((function(e){var t=e.bodyRec.prjX().x;e.bodyRec.judgeCrossRec(n)&&t<a&&(o=e,a=t)}))}else{this.inLane.plantPool().forEach((function(e){e.smasherDetectable&&e.bodyRec.judgeCrossRec(n)&&(!t||t.bodyRec.prjX().y<e.bodyRec.prjX().y)&&(t=e)}));var s=-1/0;this.inLane.hypnoZombiePool().forEach((function(e){var t=e.bodyRec.prjX().y;e.bodyRec.judgeCrossRec(n)&&t>s&&(i=e,s=t)}))}var r=null;i&&(r=new y(i.worldPositionX-this.worldPositionX,i.zombieHeight-this.zombieHeight).normalize().multiplyScalar(20));var h=new g(this.objdataOwn.SmashDamage,!0,!0,!0,r);i?i.dealDamage(h):t?null==(e=t)||e.smash(this,!0):o&&o.dealDamage(h.damage),this.onSmashing()},a(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"shooting",get:function(){return this._shooting},set:function(e){var t=this.sweepFrom.clone().add(this.sweepFrom.clone().add(this.sweepTo.clone().negative()).multiplyScalar(e/(this._shootDuration+.01)));this.shootPos=t,this._shooting=e}},{key:"haveImp",get:function(){return this._haveImp},set:function(e){this._haveImp=e,this._impSlots.forEach((function(t){t._setDisplayIndex(e?0:-1)}))}}]),t}(m)).prototype,"stepSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=t(V.prototype,"stepRiseSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(V.prototype,"smashSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=t(V.prototype,"saySounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(V.prototype,"throwSound",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(V.prototype,"throwPrepareSound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(V.prototype,"riseSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(V.prototype,"shootStartSound",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(V.prototype,"shootEndSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(V.prototype,"rayStartSound",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(V.prototype,"rayLoopSound",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(V.prototype,"rayEndSound",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(V.prototype,"impThrower",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(V.prototype,"eyeL",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(V.prototype,"eyeR",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=t(V.prototype,"eyePar",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=t(V.prototype,"hitPar",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(V.prototype,"rayPar",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=V))||B));s._RF.pop()}}}));

System.register("chunks:///_virtual/FutureImpZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./NodePools.ts"],(function(t){var i,e,n,a,o,l,u,r,h,p,s,d,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){l=t.cclegacy,u=t._decorator,r=t.AudioClip,h=t.Vec2},function(t){p=t.Zombie,s=t.ZombieProps},function(t){d=t.sounds},function(t){c=t.ArrayGet}],execute:function(){var m,y,b,S,w,f,g,D,v,k,A,C,I,F,z,Z,j,L,E,O,P,R,_;l._RF.push({},"96cefTTA/tLI4qg9YkvQnSt","FutureImpZombie",void 0);var x=u.ccclass,T=u.property,H=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(i=t.call.apply(t,[this].concat(n))||this).EMPStunTimeScale=1,i}return e(i,t),i}(s);t("FutureImpZombie",(m=x("FutureImpZombie"),y=T([r]),b=T([r]),S=T(r),w=T(r),f=T(r),g=T(r),D=T(r),v=T(r),k=T(r),A=T(r),m((F=i((I=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return(i=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new H,i.hopping=!1,i.walkIdleDuration=2.107,i.walkIdleCD=0,i.chewSoundWhenEat=!1,i.empCD=0,n(i,"eatSound",F,a(i)),n(i,"hopSound",z,a(i)),n(i,"deathFallSound",Z,a(i)),n(i,"landSound",j,a(i)),n(i,"expandSound",L,a(i)),n(i,"fallSound",E,a(i)),n(i,"activateSound",O,a(i)),n(i,"deactivateSound",P,a(i)),n(i,"mouthActivateSound",R,a(i)),n(i,"mouthDeactivateSound",_,a(i)),i}e(i,t);var l=i.prototype;return l.playSpecialZombieDie=function(t){this.judgeDeath(.2)},l.playFallFromSky=function(t){this.height=600,this.switching=!0,this.walking=!1,this.body.playAnimation("Fall",1/0),this.flying=!0,this.height=600,this.dirtSpawning=!0,d.play(this.fallSound,1,1),this.leapBy(new h(0,0),!0,1,600,!0,!1,!1,!1),this.dirtSpawning=!1},l.playDirtSpawn=function(t){this.playFallFromSky(t)},l.onWalkStart=function(){this.hopping=!1,this.walkIdleCD=1/0},l.walkDisScale=function(t){return this.hopping?8:0},l.specialAnimationListener=function(t){"walkStart"==t.name?(this.hopping=!0,d.play(c.getRandom(this.hopSound),.7,.1)):"walkEnd"==t.name?(this.hopping=!1,this.walkIdleCD=1/0):"walkIdle"==t.name?(this.hopping=!1,this.walkIdleCD=this.walkIdleDuration,this.body.playAnimation("Idle",1/0)):"chew"==t.name?d.play(c.getRandom(this.eatSound),.7,.1):"deathFall"==t.name?d.play(this.deathFallSound,.7,.1):"expand"==t.name?d.play(this.expandSound,1,.1):"mouthHitDeactivate"==t.name?d.play(this.mouthDeactivateSound,1,.1):"mouthHitActivate"==t.name?d.play(this.mouthActivateSound,1,.1):"mouthHit"==t.name?d.play(c.getRandom([this.mouthActivateSound,this.mouthDeactivateSound]),1,.1):"mechStun"==t.name&&this.body.playAnimation("StunLoop",1/0)},l.chilibeanFart=function(){},l.specialZombieUpdate=function(t,i,e){this.empCD>0&&(this.empCD-=t,this.empCD<=0&&(this.body.playAnimation("StunEnd",1/0),d.play(this.activateSound,1,.1))),this.walking&&this.walkIdleCD>0&&(this.walkIdleCD-=t,this.walkIdleCD<=0&&(this.body.playAnimation("Walk",1/0),this.walkIdleCD=1/0))},l.empStun=function(t){void 0===t&&(t=10),t*=this.objdataOwn.EMPStunTimeScale,this.empCD<=0&&(this.walking=!1,this.switching=!0,this.body.playAnimation("StunStart",1/0,.2),d.play(this.deactivateSound,1,.1)),this.empCD=this.empCD<t?t:this.empCD},l.specialZombieOnEnable=function(){this.hopping=!1,this.empCD=0,this.walkIdleCD=1/0},l.specialZombieOnLanding=function(){!this.isAlive()||"Fly"!=this.body.currentAnimationName&&"Fall"!=this.body.currentAnimationName?this.judgeDeath(0):(this.switching=!0,this.walking=!1,this.body.playAnimation("Land",1),d.play(this.landSound,.7,.1))},o(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),i}(p)).prototype,"eatSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=i(I.prototype,"hopSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=i(I.prototype,"deathFallSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(I.prototype,"landSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(I.prototype,"expandSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(I.prototype,"fallSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(I.prototype,"activateSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(I.prototype,"deactivateSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(I.prototype,"mouthActivateSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(I.prototype,"mouthDeactivateSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=I))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/FutureInfiNutShieldZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FutureProtectorShieldZombie.ts"],(function(t){var e,i,n,a,r;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,a=t._decorator},function(t){r=t.FutureProtectorShieldZombie}],execute:function(){var o;n._RF.push({},"0c89dloB/ZEOqdPgFvmbi+U","FutureInfiNutShieldZombie",void 0);var s=a.ccclass;a.property,t("FutureInfiNutShieldZombie",s("FutureInfiNutShieldZombie")(o=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).masterPlant=void 0,e._hurtStage=0,e}e(n,t);var a=n.prototype;return a.detectPlant=function(t){var e=this;this.inLane&&this.hypno&&this.inLane.zombiePool().forEach((function(t){t.tallNutBlock&&t.knockBackTween&&t.leapHeightTween&&e.bodyRec.judgeCrossRec(t.bodyRec)&&(t._onKnockBackEnd(),t.onLeapEnd(!0),t.height=0,t.onTallNutBlocked())}))},a.shieldDieForced=function(){var t;null==(t=this.masterPlant)||t.shieldOnDamaged(this,-1),this.masterPlant=null},a.readStage=function(t){for(var e=0,i=2;i>=0;i--)if(t>i/3*this.toughness){e=2-i;break}this.hurtStage!=e&&(this.hurtStage=e)},a.onDamaged=function(t,e,i){var n;this.readStage(e),null==(n=this.masterPlant)||n.shieldOnDamaged(this,e)},a.shieldOnEnable=function(){this.masterPlant=null},i(n,[{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){switch(t){case 1:this.idleAnm="Idle1";break;case 2:this.idleAnm="Idle2";break;default:this.idleAnm="Idle",t=0}t!=this._hurtStage&&(this.body.playAnimation(this.idleAnm,1/0),this._hurtStage=t),this._hurtStage=t}}]),n}(r))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/FutureJetpackZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Plant.ts","./SoundRescourses.ts"],(function(i){var e,t,n,a,o,s,l,r,c,u,h;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){o=i.cclegacy,s=i._decorator,l=i.AudioClip},function(i){r=i.ZombieDamageDetails,c=i.Zombie},function(i){u=i.PlantType},function(i){h=i.sounds}],execute:function(){var p,y,d,b,f,m,g;o._RF.push({},"37be5lN91pBzp7ia+0w4ui3","FutureJetpackZombie",void 0);var k=s.ccclass,v=s.property;i("FutureJetpackZombie",(p=k("FutureJetpackZombie"),y=v([l]),d=v([l]),p((m=e((f=function(i){function e(){for(var e,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return(e=i.call.apply(i,[this].concat(o))||this).rosen=!1,n(e,"bounceSound",m,a(e)),n(e,"steadySound",g,a(e)),e}t(e,i);var o=e.prototype;return o.specialAnimationListener=function(i){"walk"==i.name?(this.switching=!1,this.isAlive()&&this.playWalk()):"steady"==i.name?h.playArray(this.steadySound,1,.5):"bounce"==i.name&&h.playArray(this.bounceSound,1,.1)},o.walkTimeScale=function(i,e,t){return 1.5},o.lockedTimeScale=function(){return this.walking?1:this.fallingInSky?.001:NaN},o.playDirtSpawn=function(i){this.walking=!1,this.switching=!0,this.body.playAnimation("Summon",1)},o.rise=function(){this.rosen||(this.switching=!0,this.rosen=!0,this.walking=!1,this.body.playAnimation("Rise",1),this.body.WalkAnm="Walk_High")},o.land=function(){this.rosen&&(this.switching=!0,this.walking=!1,this.body.playAnimation("Land",1),this.body.WalkAnm="Walk",this.rosen=!1)},o.detectPlant=function(i){var e;if(this.inLane){if(0!=i&&this.detectPlantOn()){var t=this.plantDetectorRec,n=null,a=null,o=null;if(!this.ignorePlants())if(this.hypno){var s=1/0;this.inLane.zombiePool().forEach((function(i){var e=i.bodyRec.prjX().x;e<s&&i.bodyRec.judgeCrossRec(t)&&(s=e,a=i)})),s=1/0,this.inLane.tombPool().forEach((function(i){var e=i.bodyRec.prjX().x;e<s&&i.bodyRec.judgeCrossRec(t)&&(s=e,o=i)}))}else{this.inLane.plantPool().forEach((function(i){i.eaterDetectable&&!i.short_&&t.judgeCrossRec(i.bodyRec)&&(n&&i.plantType!=u.vine&&i.plantType!=u.plant&&i.plantType!=u.lilyPad&&i.plantType!=u.pot||(!n||n&&!n.tall_)&&(n=i))}));var l=-1/0;this.inLane.hypnoZombiePool().forEach((function(i){var e=i.bodyRec.prjX().y;e>l&&i.bodyRec.judgeCrossRec(t)&&(l=e,a=i)}))}if(null!=(e=n)&&e.tall_||a||o)if(this.rosen)this.land();else{var c=new r(this.dps*i,!0,!1,!1,null);a?a.eatByZombie(c,this):o?o.dealDamage(c.damage):n&&n.eat(c.damage,this),this.playEat(i)}else n?this.rosen||this.rise():this.rosen?this.land():this.playWalk()}}else this.playWalk()},o.specialZombieOnEnable=function(){this.rosen=!1,this.body.WalkAnm="Walk",this.replayAnimation()},e}(c)).prototype,"bounceSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=e(f.prototype,"steadySound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=f))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/FutureMechConeZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MechZombie.ts","./SoundRescourses.ts"],(function(t){var e,n,o,s,i,a,r,u,l,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized,i=t.createClass},function(t){a=t.cclegacy,r=t._decorator,u=t.AudioClip},function(t){l=t.MechZombie},function(t){c=t.sounds}],execute:function(){var p,h,b,S,f,d,m,y,g,_,v,A,D,F,M;a._RF.push({},"19faf7nOJtA/oOIUU5b1ULA","FutureMechConeZombie",void 0);var w=r.ccclass,z=r.property;t("FutureMechConeZombie",(p=w("FutureMechConeZombie"),h=z([u]),b=z([u]),S=z([u]),f=z([u]),d=z([u]),m=z([u]),p((_=e((g=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).bp1Slots=[],e.bp2Slots=[],e.bp3Slots=[],e.bp4Slots=[],e.bp5Slots=[],e.bp6Slots=[],e._hurtStage=0,o(e,"deathFallSounds",_,s(e)),o(e,"curveSounds",v,s(e)),o(e,"footStepsSounds",A,s(e)),o(e,"eatStartSounds",D,s(e)),o(e,"mouthOpenSounds",F,s(e)),o(e,"armBackSounds",M,s(e)),e}n(e,t);var a=e.prototype;return a.specialMechZombieOnLoad=function(){var t,e=this;this.bp1Slots=[],this.bp2Slots=[],this.bp3Slots=[],this.bp4Slots=[],this.bp5Slots=[],this.bp6Slots=[],null==(t=this.body.body.armature())||null==(t=t.getSlots())||t.forEach((function(t){t.name.includes("_bp1")?e.bp1Slots.push(t):t.name.includes("_bp2")?e.bp2Slots.push(t):t.name.includes("_bp3")?e.bp3Slots.push(t):t.name.includes("_bp4")?e.bp4Slots.push(t):t.name.includes("_bp5")?e.bp5Slots.push(t):t.name.includes("_bp6")&&e.bp6Slots.push(t)}))},a.specialMechOnEnable=function(){this.hurtStage=0},a.onDamaged=function(t,e,n){for(var o=6,s=0;s<7;s++)if(e>(7-s-1)/7*this.toughness){o=s;break}o!=this.hurtStage&&(this.hurtStage=o)},a.specialMechAnimationListener=function(t){"mouthOpen"==t.name?c.playArray(this.mouthOpenSounds,1,.1):"eatStart"==t.name?c.playArray(this.eatStartSounds,1,.1):"footStep"==t.name?c.playArray(this.footStepsSounds,1,.1):"curveSound"==t.name?c.playArray(this.curveSounds,3,NaN,.4):"deathFall"==t.name&&c.playArray(this.deathFallSounds,1,.1)},i(e,[{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){switch(t){case 1:case 2:case 3:case 4:case 5:case 6:break;default:t=0}this.bp1Slots.forEach((function(e){e._setDisplayIndex(1==t?0:-1)})),this.bp2Slots.forEach((function(e){e._setDisplayIndex(2==t?0:-1)})),this.bp3Slots.forEach((function(e){e._setDisplayIndex(3==t?0:-1)})),this.bp4Slots.forEach((function(e){e._setDisplayIndex(4==t?0:-1)})),this.bp5Slots.forEach((function(e){e._setDisplayIndex(5==t?0:-1)})),this.bp6Slots.forEach((function(e){e._setDisplayIndex(6==t?0:-1)})),this._hurtStage=t}}]),e}(l)).prototype,"deathFallSounds",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(g.prototype,"curveSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=e(g.prototype,"footStepsSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(g.prototype,"eatStartSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=e(g.prototype,"mouthOpenSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=e(g.prototype,"armBackSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=g))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/FutureMechDiscoZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MechZombie.ts","./SoundRescourses.ts","./NodePools.ts","./Zombie.ts","./Square.ts","./Zombies.ts","./SoundsController.ts"],(function(t){var n,e,i,s,o,a,u,l,c,r,h,p,d,m,b,f,S;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,u=t._decorator,l=t.AudioClip},function(t){c=t.MechZombie,r=t.MechZombieProps},function(t){h=t.sounds},function(t){p=t.ArrayGet},function(t){d=t.zombieDamageType},function(t){m=t.Square},function(t){b=t.zombies,f=t.ZombieEnum},function(t){S=t.MusicController}],execute:function(){var y,D,g,w,C,_,E,Z,M,k,v,x,A,I,z,j,O;a._RF.push({},"3d801ZA4tZFC4XqxIZXa16M","FutureMechDiscoZombie",void 0);var F=u.ccclass,P=u.property,L=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(n=t.call.apply(t,[this].concat(i))||this).SummonDuration=3,n.DanceCountdown=3,n.DanceDuration=3,n}return e(n,t),n}(r);t("FutureMechDiscoZombie",(y=F("FutureMechDiscoZombie"),D=P([l]),g=P([l]),w=P([l]),C=P(l),_=P(l),E=P(l),Z=P(l),y((v=n((k=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new L,n.bp1Slots=[],n.bp2Slots=[],n.bp3Slots=[],n.bp4Slots=[],n.bp5Slots=[],n.bp6Slots=[],n._hurtStage=0,n.danceCD=6,n.danceEndCD=1,i(n,"chewSounds",v,s(n)),i(n,"stepSounds",x,s(n)),i(n,"summonEndSounds",A,s(n)),i(n,"pullSound",I,s(n)),i(n,"summonSound",z,s(n)),n._summonedZombies=[],i(n,"musicClip",j,s(n)),i(n,"musicClipWeak",O,s(n)),n}e(n,t);var a=n.prototype;return a.specialMechZombieOnLoad=function(){var t,n=this;this.bp1Slots=[],this.bp2Slots=[],this.bp3Slots=[],this.bp4Slots=[],this.bp5Slots=[],this.bp6Slots=[],null==(t=this.body.body.armature())||null==(t=t.getSlots())||t.forEach((function(t){t.name.includes("_bp1")?n.bp1Slots.push(t):t.name.includes("_bp2")?n.bp2Slots.push(t):t.name.includes("_bp3")?n.bp3Slots.push(t):t.name.includes("_bp4")?n.bp4Slots.push(t):t.name.includes("_bp5")?n.bp5Slots.push(t):t.name.includes("_bp6")&&n.bp6Slots.push(t)}))},a.specialMechOnEnable=function(){this.hurtStage=0,this.danceEndCD=1/0,this.danceCD=this.objdataOwn.DanceCountdown,this._summonedZombies=[]},a.onDamaged=function(t,n,e){for(var i=6,s=0;s<7;s++)if(n>(7-s-1)/7*this.toughness){i=s;break}i!=this.hurtStage&&(this.hurtStage=i)},a.specialMechAnimationListener=function(t){"chew"==t.name?h.play(p.getRandom(this.chewSounds),1,.1):"step"==t.name?h.play(p.getRandom(this.stepSounds),1,.1):"pull"==t.name?h.play(this.pullSound,1,.1):"summonStart"==t.name&&(this.body.playAnimation("SummonLoop",1/0),h.play(this.summonSound,1,.1),this.danceEndCD=this.objdataOwn.SummonDuration,this._summonJetpacks())},a._summonJetpacks=function(){var t=this;if(this.inLane){var n={lane:this.lIndex,offset:1.2*-m.SquareDisW},e={lane:this.lIndex,offset:1.2*m.SquareDisW},i={lane:this.lIndex-1,offset:0},s={lane:this.lIndex+1,offset:0};this._summonedZombies=[],[n,e,i,s].forEach((function(n){if(n.lane>=0&&n.lane<=4){var e=b.createZombie(n.lane,f.future_jetpack_disco);e.hypno=t.hypno,e.reversed=t.reversed,e.worldPositionX=t.worldPositionX+n.offset,e.playDirtSpawn(0),t._summonedZombies.push(e)}}))}},a.playSpecialMechDie=function(t){isFinite(this.danceEndCD)&&this.killAllSummoned()},a.playMusic=function(){S.discoPlayed?h.play(this.musicClipWeak,1,1.5*this.musicClipWeak.getDuration()):(S.insertMusic(this.musicClip),S.discoPlayed=!0)},a.killAllSummoned=function(){this._summonedZombies.forEach((function(t){t.isAlive()&&t.playDie(!1,null,!0,d.physicle,!0,!0,!0)})),this._summonedZombies=[]},a.onEmpStunStart=function(){this.danceCD=this.objdataOwn.DanceDuration/2,isFinite(this.danceEndCD)&&this.killAllSummoned(),this.danceEndCD=1/0},a.specialMechUpdate=function(t){this.empCD<=0&&this.enteredLawn&&(!this.switching&&this.walking&&this.cIndex<9?this.danceCD>0?this.danceCD-=t:(this.correctShadeWP(),this.walking=!1,this.switching=!0,this.body.playAnimation("SummonStart",1/0),this.playMusic(),this.danceEndCD=1/0,this.danceCD=this.objdataOwn.DanceDuration):this.danceEndCD>0?this.danceEndCD-=t:(this.body.playAnimation("SummonEnd",1/0,.1),this._summonedZombies=[],h.play(p.getRandom(this.summonEndSounds),1,.1),this.danceCD=this.objdataOwn.DanceDuration,this.danceEndCD=1/0))},o(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){switch(t){case 1:case 2:case 3:case 4:case 5:case 6:break;default:t=0}this.bp1Slots.forEach((function(n){n._setDisplayIndex(1==t?0:-1)})),this.bp2Slots.forEach((function(n){n._setDisplayIndex(2==t?0:-1)})),this.bp3Slots.forEach((function(n){n._setDisplayIndex(3==t?0:-1)})),this.bp4Slots.forEach((function(n){n._setDisplayIndex(4==t?0:-1)})),this.bp5Slots.forEach((function(n){n._setDisplayIndex(5==t?0:-1)})),this.bp6Slots.forEach((function(n){n._setDisplayIndex(6==t?0:-1)})),this._hurtStage=t}}]),n}(c)).prototype,"chewSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(k.prototype,"stepSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=n(k.prototype,"summonEndSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=n(k.prototype,"pullSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=n(k.prototype,"summonSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=n(k.prototype,"musicClip",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=n(k.prototype,"musicClipWeak",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=k))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/FutureMechFootballZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MechZombie.ts","./Zombie.ts","./NodePools.ts","./SoundRescourses.ts","./Zombies.ts"],(function(t){var e,n,o,a,i,s,l,r,c,u,h,p,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.createClass},function(t){s=t.cclegacy,l=t._decorator,r=t.AudioClip},function(t){c=t.MechZombie,u=t.MechZombieProps},function(t){h=t.ZombieDamageDetails},function(t){p=t.ArrayGet},function(t){f=t.sounds},function(t){d=t.ZombieEnum}],execute:function(){var b,y,g,v,m,S,D,P,R,w,E;s._RF.push({},"fe1bcEG9ulHEr2IDVzU8cHN","FutureMechFootballZombie",void 0);var _=l.ccclass,I=l.property,L=t("footballmech",function(){function t(){}return t.pushPlantLeft=function(t,e,n,o,a,i){var s=this;if(void 0===e&&(e=0),void 0===n&&(n=.5),void 0===o&&(o=function(t){}),void 0===a&&(a=function(t){}),void 0===i&&(i=!0),!t||!t.plantInLnC)return!1;var l=t.plantInLnC.getAllPlants(!0,!1),r=!0;if(l.forEach((function(t){r&&(t.invincible||t.objdata.CannotBePushedByFootballMech||t.leapDisable()||t.fooding||t.leapTween)&&(r=!1)})),!r)return e>0&&l[0].dealDamage(e,0),!1;var c=t.plantInLnC.lefter;if(!c.isInLawn())return l.forEach((function(t){t.throwAway()})),!0;for(var u,h=function(){var t=!0;if(l.forEach((function(e){t&&i&&!c.putPlantAvailable(!1,e.ID,!1)&&(t=!1)})),t){var e=c.getAllPlants(!0,!1),r=!1;return e.length>0&&(r=!s.pushPlantLeft(e[0],0,n)),r?l.forEach((function(t){t.throwAway()})):l.forEach((function(t){t.leapTo(c,n,t.plantInLnC.cIndex-c.cIndex==1?0:100,!0,!1,"linear",o,a)})),{v:!0}}if(!(c=c.lefter).isInLawn())return l.forEach((function(t){t.throwAway()})),{v:!0}};;)if(u=h())return u.v},t.pushPlantRight=function(t,e,n,o,a,i){var s=this;if(void 0===e&&(e=0),void 0===n&&(n=.5),void 0===o&&(o=function(t){}),void 0===a&&(a=function(t){}),void 0===i&&(i=!0),!t||!t.plantInLnC)return!1;var l=t.plantInLnC.getAllPlants(!0,!1),r=!0;if(l.forEach((function(t){r&&(t.invincible||t.objdata.CannotBePushedByFootballMech||t.leapDisable()||t.fooding||t.leapTween)&&(r=!1)})),!r)return e>0&&l[0].dealDamage(e,0),!1;var c=t.plantInLnC.righter;if(!c.isInLawn())return l.forEach((function(t){t.throwAway(!1)})),!0;for(var u,h=function(){var t=!0;if(l.forEach((function(e){t&&i&&!c.putPlantAvailable(!1,e.ID,!1)&&(t=!1)})),t){var e=c.getAllPlants(!0,!1),r=!1;return e.length>0&&(r=!s.pushPlantRight(e[0],0,n)),r?l.forEach((function(t){t.throwAway(!1)})):l.forEach((function(t){t.leapTo(c,n,t.plantInLnC.cIndex-c.cIndex==-1?0:100,!0,!1,"linear",o,a)})),{v:!0}}if(!(c=c.righter).isInLawn())return l.forEach((function(t){t.throwAway(!1)})),{v:!0}};;)if(u=h())return u.v},t}()),F=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).PushFailDamage=400,e}return n(e,t),e}(u);t("FutureMechFootballZombie",(b=_("FutureMechFootballZombie"),y=I(r),g=I(r),v=I([r]),m=I([r]),b((P=e((D=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this)._objdataOwn=new F,e.bp1Slots=[],e.bp2Slots=[],e.bp3Slots=[],e.bp4Slots=[],e.bp5Slots=[],e.bp6Slots=[],e._hurtStage=0,o(e,"deathFallSound",P,a(e)),o(e,"deactivateFallSound",R,a(e)),o(e,"stepSounds",w,a(e)),o(e,"pushSounds",E,a(e)),e}n(e,t);var s=e.prototype;return s.specialMechZombieOnLoad=function(){var t,e=this;this.bp1Slots=[],this.bp2Slots=[],this.bp3Slots=[],this.bp4Slots=[],this.bp5Slots=[],this.bp6Slots=[],null==(t=this.body.body.armature())||null==(t=t.getSlots())||t.forEach((function(t){t.name.includes("_bp1")?e.bp1Slots.push(t):t.name.includes("_bp2")?e.bp2Slots.push(t):t.name.includes("_bp3")?e.bp3Slots.push(t):t.name.includes("_bp4")?e.bp4Slots.push(t):t.name.includes("_bp5")?e.bp5Slots.push(t):t.name.includes("_bp6")&&e.bp6Slots.push(t)}))},s.specialMechOnEnable=function(){this.hurtStage=0},s.onDamaged=function(t,e,n){for(var o=6,a=0;a<7;a++)if(e>(7-a-1)/7*this.toughness){o=a;break}o!=this.hurtStage&&(this.hurtStage=o)},s.specialMechAnimationListener=function(t){"step"==t.name?f.play(p.getRandom(this.stepSounds),1,.2):"push"==t.name?(f.play(p.getRandom(this.pushSounds),1,.1),this._pushPlants()):"deactivateFall"==t.name?f.play(this.deactivateFallSound,1,.1):"deathSound"==t.name&&f.play(this.deathFallSound,1,.1)},s.detectPlant=function(t){var e=this;if(this.detectPlantOn())if(this.inLane){if(!(t<=0)){var n=!1;this.hypno?(this.inLane.zombiePool().forEach((function(t){n||e.plantDetectorRec.judgeCrossRec(t.bodyRec)&&(n=!0)})),this.inLane.tombPool().forEach((function(t){n||e.plantDetectorRec.judgeCrossRec(t.bodyRec)&&(n=!0)}))):(this.inLane.plantPool().forEach((function(t){n||t.eaterDetectable&&!t.short_&&e.plantDetectorRec.judgeCrossRec(t.bodyRec)&&(n=!0)})),this.inLane.hypnoZombiePool().forEach((function(t){n||e.plantDetectorRec.judgeCrossRec(t.bodyRec)&&(n=!0)}))),n?(this.walking=!1,this.switching=!0,this.correctShadeWP(),this.body.playAnimation("Push",1/0)):this.playWalk()}}else this.playWalk()},s._pushPlants=function(){var t=this,e=null,n=null,o=null;if(this.hypno){var a=1/0;this.inLane.zombiePool().forEach((function(e){var o=e.bodyRec.prjX().x;e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&o<a&&(n=e,a=o)})),this.inLane.tombPool().forEach((function(e){var n=e.bodyRec.prjX().x;e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&n<a&&(o=e,a=n)}))}else{this.inLane.plantPool().forEach((function(n){!n.short_&&n.eaterDetectable&&n.bodyRec.judgeCrossRec(t.plantDetectorRec)&&(!e||e.bodyRec.prjX().y<n.bodyRec.prjX().y)&&(e=n)}));var i=-1/0;this.inLane.hypnoZombiePool().forEach((function(e){var o=e.bodyRec.prjX().y;e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&o>i&&(n=e,i=o)}))}if(n){var s=this.objdata.PushFailDamage;n.ID!=d.future_infinut_shield&&n.ID!=d.modern_moonflower_shield||(s=n.toughness/3),n.dealDamage(new h(s,!0,!0,!0))}else e?this.reversed?L.pushPlantRight(e,this.objdata.PushFailDamage):L.pushPlantLeft(e,this.objdata.PushFailDamage):o&&o.dealDamage(this.objdata.PushFailDamage)},i(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){switch(t){case 1:case 2:case 3:case 4:case 5:case 6:break;default:t=0}this.bp1Slots.forEach((function(e){e._setDisplayIndex(1==t?0:-1)})),this.bp2Slots.forEach((function(e){e._setDisplayIndex(2==t?0:-1)})),this.bp3Slots.forEach((function(e){e._setDisplayIndex(3==t?0:-1)})),this.bp4Slots.forEach((function(e){e._setDisplayIndex(4==t?0:-1)})),this.bp5Slots.forEach((function(e){e._setDisplayIndex(5==t?0:-1)})),this.bp6Slots.forEach((function(e){e._setDisplayIndex(6==t?0:-1)})),this._hurtStage=t}}]),e}(c)).prototype,"deathFallSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(D.prototype,"deactivateFallSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(D.prototype,"stepSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=e(D.prototype,"pushSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=D))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/FutureProtectorShieldZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./NodePools.ts","./CharacterManager.ts"],(function(n){var t,i,e,o,s,a,u,r,l,c,h,d,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized,s=n.createClass},function(n){a=n.cclegacy,u=n._decorator,r=n.AudioClip,l=n.Vec2},function(n){c=n.Zombie},function(n){h=n.sounds},function(n){d=n.ArrayGet},function(n){p=n.Rectangle}],execute:function(){var f,S,w,m,b,y,g;a._RF.push({},"d88a7MgmMpG14bO0whEAs2Y","FutureProtectorShieldZombie",void 0);var D=u.ccclass,_=u.property;n("FutureProtectorShieldZombie",(f=D("FutureProtectorShieldZombie"),S=_([r]),w=_(r),f((y=t((b=function(n){function t(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=n.call.apply(n,[this].concat(s))||this).isRealZombie=!1,e(t,"spawnSounds",y,o(t)),e(t,"loopSound",g,o(t)),t.idleAnm="Idle",t.master=void 0,t.potatoMineDisappear=!1,t.bindsToLane=!1,t.finalWaveVictoryCountdown=0,t._upSlots=[],t._upShown=!0,t.brainEater=!1,t._downSlots=[],t._downShown=!0,t.leapable=!1,t._pos=3,t}i(t,n);var a=t.prototype;return a.setChiliStun=function(n){return!1},a.setChill=function(n){return!1},a.setFreeze=function(n,t){return!1},a.chilibeanFart=function(){},a.correctDepth=function(n){},a.addArmor=function(n){return null},a.addZombieWave=function(n){},a.playDirtSpawn=function(n){},a.setButter=function(n,t){return!1},a.setPoison=function(n,t,i){},a.setPerfume=function(n){},a.setSunBeanParticleCD=function(n){},a.stun=function(n){},a.triggerGameLose=function(){},a.playTeleportSpawn=function(){},a.playPopOut=function(){},a.detectPlant=function(n){},a.knockBackBy=function(n,t,i,e,o,s){return new l(this.worldPositionX,this.worldPositionY)},a.knockBackTo=function(n,t,i,e,o){return new l(this.worldPositionX,this.worldPositionY)},a.leapBy=function(n,t,i,e,o,s,a,u){},a.leapTo=function(n,t,i,e,o,s,a){},a.dealHurrikale=function(n){},a.commonShotPopOnTouch=function(n){return n.dealDamageToTarget(this,!1),n.splat(this),!1},a.specialZombieOnSquareChange=function(n,t){if(n){var i=n.zombieShields.indexOf(this);-1!=i&&n.zombieShields.splice(i,1)}null!=t&&t.isInLawn()&&this.isAlive()&&(-1==t.zombieShields.indexOf(this)&&t.zombieShields.push(this));this.specialShieldOnSquareChange(n,t)},a.specialShieldOnSquareChange=function(n,t){},a.lockedTimeScale=function(){return 1},a.specialZombieOnEnable=function(){this.walking=!1,this.master=null,this.body.playAnimation("Spawn",1/0),this.playOneShot(d.getRandom(this.spawnSounds),1,!0),this.upShown=!0,this.downShown=!0,this.idleAnm="Idle",this.shieldOnEnable()},a.shieldOnEnable=function(){},a.specialAnimationListener=function(n){"idle"==n.name&&this.body.playAnimation(this.idleAnm,1/0)},a.changeLaneTo=function(n,t,i){},a.onDamaged=function(n,t,i){var e;t>0&&"Hit"!=this.body.body.animationName&&this.body.playAnimation("Hit"),null==(e=this.master)||e.shieldOnDamaged(this,t)},a.onLaneSpawnSettled=function(n,t){this.worldPositionY=n.midY},a.playSpecialZombieDie=function(n){this.judgeDeath()},a.playSpecialZombieDieForced=function(){var n;null==(n=this.master)||n.shieldOnDamaged(this,-1),this.master=null,this.shieldDieForced(),this.specialZombieOnSquareChange(this.inLnC,null)},a.shieldDieForced=function(){},a.blowAway=function(n){},a.tossAway=function(){this.playDie()},a.playSandStorm=function(n,t){this.worldPositionX=n},a.willTrampleFlower=function(){return!1},a.playFall=function(){},a.specialZombieOnLoad=function(){var n,t=this;this._upSlots=[],this._downSlots=[],null==(n=this.body.body.armature())||null==(n=n.getSlots())||n.forEach((function(n){n.name.includes("U")?t._upSlots.push(n):n.name.includes("D")&&t._downSlots.push(n)}))},a.dropSea=function(){},a.setPlantDetectorRec=function(){this.plantDetectorRec=new p},a.specialZombieUpdate=function(n,t,i){this.loopSound&&h.play(this.loopSound,1,this.loopSound.getDuration()-.2)},s(t,[{key:"ImmuneToSporeShroom",get:function(){return!0}},{key:"randomSpeed",get:function(){return 0}},{key:"upShown",get:function(){return this._upShown},set:function(n){this._upSlots.forEach((function(t){t._setDisplayIndex(n?0:-1)})),this._upShown=n}},{key:"downShown",get:function(){return this._downShown},set:function(n){this._downSlots.forEach((function(t){t._setDisplayIndex(n?0:-1)})),this._downShown=n}},{key:"pos",get:function(){return this._pos},set:function(n){switch(n){case 0:this.upShown=!1,this.downShown=!1;break;case 1:this.upShown=!0,this.downShown=!1;break;case 2:this.upShown=!1,this.downShown=!0;break;default:n=3,this.upShown=!0,this.downShown=!0}this._pos=n}}]),t}(c)).prototype,"spawnSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=t(b.prototype,"loopSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/FutureProtectorZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MechZombie.ts","./SoundRescourses.ts","./NodePools.ts","./Square.ts","./Zombies.ts"],(function(t){var e,i,s,n,l,o,a,h,r,u,c,d,p,S,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized,l=t.createClass},function(t){o=t.cclegacy,a=t._decorator,h=t.AudioClip},function(t){r=t.MechZombie,u=t.MechZombieProps},function(t){c=t.sounds},function(t){d=t.ArrayGet},function(t){p=t.Square},function(t){S=t.zombies,b=t.ZombieEnum}],execute:function(){var f,m,y,w,D,g,v,k,_,C,I,E,P;o._RF.push({},"fd28dWhY1tBca3P2QNvrbHq","FutureProtectorZombie",void 0);var Z=a.ccclass,x=a.property,A=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).ShieldRecoverTime=5,e.ShieldKillStunTime=2,e}return i(e,t),e}(u);t("FutureProtectorZombie",(f=Z("FutureProtectorZombie"),m=x([h]),y=x(h),w=x(h),D=x(h),g=x(h),f((_=e((k=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))||this)._objdataOwn=new A,s(e,"cutSounds",_,n(e)),s(e,"mouthOpenSound",C,n(e)),s(e,"mouthCloseSound",I,n(e)),s(e,"armBackSound",E,n(e)),s(e,"walkLoopSound",P,n(e)),e.mechDeathFadeInTime=0,e._hurtStage=0,e.shields=[],e.shieldDistance=.95,e.spawnShieldCD=0,e.shieldKillWalkCD=0,e.bp0Slots=[],e.bp1Slots=[],e.bp2Slots=[],e.bp3Slots=[],e.bp4Slots=[],e.bp5Slots=[],e.hatSlot=null,e}i(e,t);var o=e.prototype;return o.specialMechAnimationListener=function(t){"cut"==t.name?c.play(d.getRandom(this.cutSounds),1):"mouthOpen"==t.name?c.play(this.mouthOpenSound,1,.2):"mouthClose"==t.name?c.play(this.mouthCloseSound,1,.2):"armBack"==t.name&&c.play(this.armBackSound,1,.2)},o.playSpecialMechDieForced=function(){this.killAllShields()},o.specialZombieUpdateForced=function(t,e,i,s){this.hatSlot&&this.hatSlot._setDisplayIndex(this.shields[0]?1:0)},o.specialMechOnEnable=function(){this.shields=[],this.hurtStage=0,this.shieldKillWalkCD=0,this.spawnShieldCD=0},o.canHaveShield=function(){return!(this.leapHeightTween||this.knockBackTween||this.empCD>0||this.changeLaneTween||this.hypno)&&(!!this.isAlive()&&!!this.isInLawn())},o.killAllShields=function(){this.shields[0]&&(this.spawnShieldCD=this.objdataOwn.ShieldRecoverTime,this.shieldKillWalkCD=this.objdataOwn.ShieldKillStunTime,this.isAlive()&&!this.switching&&this.playIdle(),this.switching=!0),this.shields.forEach((function(t){t.playDie()})),this.shields=[]},o.shieldOnDamaged=function(t,e){e>0?this.shields.forEach((function(i){i!=t&&(i.health=e,"Hit"!=i.body.body.animationName&&i.body.playAnimation("Hit",1/0))})):this.killAllShields()},o.spawnShields=function(){var t=this;if(!this.shields[0]){this.shieldKillWalkCD=this.objdataOwn.ShieldKillStunTime,this.switching=!0,this.spawnShieldCD,this.playIdle(),c.play(this.activateSound,1,.1);var e=[],i=S.createZombie(this.lIndex,b.future_protector_shield);if(e.push(i),i.pos=0,this.lIndex>0){var s=S.createZombie(this.lIndex-1,b.future_protector_shield);e.push(s),s.pos=1}else i.pos=1;if(this.lIndex<4){var n=S.createZombie(this.lIndex+1,b.future_protector_shield);e.push(n),n.pos=2}else i.pos=2;e.forEach((function(e){e.master=t,e.reversed=t.reversed,e.worldPositionX=t.worldPositionX+(t.reversed?1:-1)*t.shieldDistance*p.SquareDisW})),this.shields=e}},o.onDamaged=function(t,e,i){for(var s=6,n=0;n<7;n++)if(e>(7-n-1)/7*this.toughness){s=n;break}s!=this.hurtStage&&(this.hurtStage=s)},o.specialMechZombieOnLoad=function(){var t=this;this.bp0Slots=[],this.bp1Slots=[],this.bp2Slots=[],this.bp3Slots=[],this.bp4Slots=[],this.bp5Slots=[],this.body.body.armature().getSlots().forEach((function(e){e.name.includes("_bp0")?t.bp0Slots.push(e):e.name.includes("_bp1")?t.bp1Slots.push(e):e.name.includes("_bp2")?t.bp2Slots.push(e):e.name.includes("_bp3")?t.bp3Slots.push(e):e.name.includes("_bp4")?t.bp4Slots.push(e):e.name.includes("_bp5")?t.bp5Slots.push(e):"hat"==e.name&&(t.hatSlot=e)}))},o.onEmpStunStart=function(){this.spawnShieldCD=0,this.shieldKillWalkCD=0},o.specialMechUpdate=function(t){var e=this;t>0&&this.empCD<=0&&(c.play(this.walkLoopSound,1,this.walkLoopSound.getDuration()-.2),this.shieldKillWalkCD>0&&(this.shieldKillWalkCD-=t,this.shieldKillWalkCD<=0&&(this.switching=!1,this.detectPlant(t)))),this.canHaveShield()&&!this.body.currentAnimationName.includes("Stun")?this.shields[0]?this.shields.forEach((function(t){t.worldPositionX=e.worldPositionX+(e.reversed?1:-1)*e.shieldDistance*p.SquareDisW,t.reversed!=e.reversed&&(t.reversed=e.reversed)})):this.spawnShieldCD>0?this.walking&&(this.spawnShieldCD-=t):t>0&&this.spawnShields():this.shields[0]&&this.killAllShields()},l(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){switch(t){case 1:case 2:case 3:case 4:case 5:case 6:break;default:t=0}this.bp0Slots.forEach((function(e){e._setDisplayIndex(t>0?0:-1)})),this.bp1Slots.forEach((function(e){e._setDisplayIndex(t>1?0:-1)})),this.bp2Slots.forEach((function(e){e._setDisplayIndex(t>2?0:-1)})),this.bp3Slots.forEach((function(e){e._setDisplayIndex(t>3?0:-1)})),this.bp4Slots.forEach((function(e){e._setDisplayIndex(t>4?0:-1)})),this.bp5Slots.forEach((function(e){e._setDisplayIndex(t>5?0:-1)})),this._hurtStage=t}}]),e}(r)).prototype,"cutSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(k.prototype,"mouthOpenSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(k.prototype,"mouthCloseSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(k.prototype,"armBackSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(k.prototype,"walkLoopSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=k))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/FutureZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./SoundRescourses.ts","./CowboyZombossMechZombie.ts","./foodLinkTile.ts","./Tiles.ts"],(function(o){var e,n,t,i,u,a,l,r,s,d,h,S,p;return{setters:[function(o){e=o.applyDecoratedDescriptor,n=o.inheritsLoose,t=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){u=o.cclegacy,a=o._decorator,l=o.AudioClip},function(o){r=o.ZombossMechZombie},function(o){s=o.sounds},function(o){d=o.CowboyZombossFireProps},function(o){h=o.FoodLinkTileTypeEnum},function(o){S=o.tiles,p=o.TileEnum}],execute:function(){var c,b,m,y,f,g,L,B,w,k,C,z,O,F,M,Z,E,P,v,R,T,H,_,D,I,A,x,W,j,G,U,V,X,q,J,K,N,Q,Y,$,oo,eo,no,to,io,uo,ao,lo,ro,so,ho;u._RF.push({},"27b07oFkjFB0pL1BxX6DVhU","FutureZombossMechZombie",void 0);var So=a.ccclass,po=a.property;o("FutureZombossMechZombie",(c=So("FutureZombossMechZombie"),b=po(l),m=po(l),y=po(l),f=po(l),g=po(l),L=po(l),B=po(l),w=po(l),k=po(l),C=po(l),z=po(l),O=po(l),F=po(l),M=po(l),Z=po(l),E=po(l),P=po(l),v=po(l),R=po(l),T=po(l),H=po(l),_=po(l),D=po([d]),I=po([d]),c((W=e((x=function(o){function e(){for(var e,n=arguments.length,u=new Array(n),a=0;a<n;a++)u[a]=arguments[a];return e=o.call.apply(o,[this].concat(u))||this,t(e,"stunStartSound",W,i(e)),t(e,"stunStartLandSound",j,i(e)),t(e,"stunEndSound",G,i(e)),t(e,"stunEndLandSound",U,i(e)),t(e,"mouthOpenBodyFallSound",V,i(e)),t(e,"mouthOpenBodyHitSound",X,i(e)),t(e,"mouthOpenSound",q,i(e)),t(e,"mouthCloseSound",J,i(e)),t(e,"mouthCloseBodyRiseSound",K,i(e)),t(e,"mouthCloseBodyCallSound",N,i(e)),t(e,"riseOnSound",Q,i(e)),t(e,"riseOffSound",Y,i(e)),t(e,"sparkSound",$,i(e)),t(e,"shootStartSound",oo,i(e)),t(e,"shootBodyPushSound",eo,i(e)),t(e,"shootBodyFallSound",no,i(e)),t(e,"eyeBackSound",to,i(e)),t(e,"shootMissilePushSound",io,i(e)),t(e,"deathStartSound",uo,i(e)),t(e,"introFlySound",ao,i(e)),t(e,"introSuckSound",lo,i(e)),t(e,"introSuckHitSound",ro,i(e)),t(e,"MissileLocator",so,i(e)),t(e,"MissileLocator2",ho,i(e)),e}n(e,o);var u=e.prototype;return u.specialZombossMechAnimationListener=function(o){"stunEndSound"==o.name?s.play(this.stunEndSound,1,.1):"stunEndLandSound"==o.name?s.play(this.stunEndLandSound,1,.1):"headAppear"==o.name?(s.play(this.introFlySound,1,.1),this.shadeAlphaScale=1):"introSuckSound"==o.name?s.play(this.introSuckSound,1,.1):"introSuckHitSound"==o.name?s.play(this.introSuckHitSound,1,.1):"mouthOpenBodyFallSound"==o.name?s.play(this.mouthOpenBodyFallSound,1,.1):"mouthOpenBodyHitSound"==o.name?s.play(this.mouthOpenBodyHitSound,1,.1):"mouthOpenSound"==o.name?s.play(this.mouthOpenSound,1,.1):"mouthCloseSound"==o.name?s.play(this.mouthCloseSound,1,.1):"mouthCloseBodyRiseSound"==o.name?s.play(this.mouthCloseBodyRiseSound,1,.1):"mouthCloseBodyCallSound"==o.name?s.play(this.mouthCloseBodyCallSound,1,.1):"stunStartSound"==o.name?s.play(this.stunStartSound,1,.1):"stunStartLandSound"==o.name?s.play(this.stunStartLandSound,1,.1):"riseOnSound"==o.name?s.play(this.riseOnSound,1,.1):"riseOffSound"==o.name?s.play(this.riseOffSound,1,.1):"sparkSound"==o.name?s.play(this.sparkSound,1,.1):"shootStartSound"==o.name?s.play(this.shootStartSound,1,.1):"shootBodyPushSound"==o.name?s.play(this.shootBodyPushSound,1,.1):"shootBodyFallSound"==o.name?s.play(this.shootBodyFallSound,1,.1):"eyeBackSound"==o.name?s.play(this.eyeBackSound,1,.1):"shootMissilePushSound"==o.name?s.play(this.shootMissilePushSound,1,.1):"deathStartSound"==o.name&&s.play(this.deathStartSound,1,.1)},u.specialZombossMechOnEnable=function(){this.shadeAlphaScale=0},u.foodLinkerShootInterupt=function(){this.shootInterupt(!1)},u.getShootTargetLnCs=function(){var o=this,e=1==this.mechToChoose?this.MissileLocator2:this.MissileLocator,n=e[this.currentStage]?e[this.currentStage]:new d,t=n.shootPlantEmptyRate,i=n.shootRailWeight/(n.shootRailWeight+n.shootPlantWeight);if(Math.random()>i)return this.defaultGetShootTargetLnCs(t);var u=[],a=0,l=[0,0,0,0,0];S.tilePool().forEach((function(o){o.tileID==p.foodLinker&&l[o.foodLinkID]++}));var r=0;if(l.forEach((function(o,e){o>r&&(a=e,r=o)})),r&&S.tilePool().forEach((function(e){if(!(u.length>=n.shootRailCount)&&e.tileID==p.foodLinker){var t,i=e;i.foodLinkID==a&&null!=(t=i.inLnC)&&t.isInLawn()&&-1==u.indexOf(i.inLnC)&&(u.push(i.inLnC),i.locatingZomboss=o)}})),u.length){var s="Shoot_alpha";switch(a){case h.beta:s="Shoot_beta";break;case h.gamma:s="Shoot_gamma";break;case h.delta:s="Shoot_delta";break;case h.epsilon:s="Shoot_epsilon"}return this.body.playAnimation(s,1),u}return this.defaultGetShootTargetLnCs(t)},e}(r)).prototype,"stunStartSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(x.prototype,"stunStartLandSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(x.prototype,"stunEndSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(x.prototype,"stunEndLandSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(x.prototype,"mouthOpenBodyFallSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(x.prototype,"mouthOpenBodyHitSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(x.prototype,"mouthOpenSound",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(x.prototype,"mouthCloseSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(x.prototype,"mouthCloseBodyRiseSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(x.prototype,"mouthCloseBodyCallSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(x.prototype,"riseOnSound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(x.prototype,"riseOffSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(x.prototype,"sparkSound",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oo=e(x.prototype,"shootStartSound",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eo=e(x.prototype,"shootBodyPushSound",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),no=e(x.prototype,"shootBodyFallSound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),to=e(x.prototype,"eyeBackSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),io=e(x.prototype,"shootMissilePushSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uo=e(x.prototype,"deathStartSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ao=e(x.prototype,"introFlySound",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lo=e(x.prototype,"introSuckSound",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ro=e(x.prototype,"introSuckHitSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),so=e(x.prototype,"MissileLocator",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ho=e(x.prototype,"MissileLocator2",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=x))||A));u._RF.pop()}}}));

System.register("chunks:///_virtual/futureZombossMissile.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(s){var e,t,o,u;return{setters:[function(s){e=s.inheritsLoose},function(s){t=s.cclegacy,o=s._decorator,u=s.Component}],execute:function(){var r;t._RF.push({},"8bf81cuw3NGk5t9cFu6Yllv","futureZombossMissile",void 0);var i=o.ccclass;o.property,s("futureZombossMissile",i("futureZombossMissile")(r=function(s){function t(){return s.apply(this,arguments)||this}return e(t,s),t}(u))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/GargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Zombies.ts","./Square.ts","./CharacterManager.ts","./SoundRescourses.ts"],(function(e){var t,n,i,a,o,r,s,h,l,u,c,p,m,d,f,y,g,b;return{setters:[function(e){t=e.inheritsLoose,n=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,s=e._decorator,h=e.AudioClip,l=e.Node,u=e.Vec2},function(e){c=e.Zombie,p=e.ZombieProps,m=e.ZombieDamageDetails},function(e){d=e.zombies,f=e.ZombieEnum},function(e){y=e.Square},function(e){g=e.Rectangle},function(e){b=e.sounds}],execute:function(){var w,S,v,I,P,R,D,_,L,A,O,T,z,j,C,E,x,G,Z,k,F,W,X;r._RF.push({},"c2c47hz+DBG6rPjf1JE6vJA","GargantuarZombie",void 0);var q=s.ccclass,H=s.property,B=e("gargantuar",function(){function e(){}return e.throwOneImpToLnC=function(e,t,n,i,a,o,r,s){void 0===s&&(s=0);var h=new u(y.getSquareWorldPosition(i.lIndex,i.cIndex).x,i.inLane.floorY).add(new u(s,0));return this.throwOneImpToWP(e,t,n,h,a,o,r)},e.throwOneImpByLnC=function(e,t,n,i,a,o,r){var s=n.clone().add(new u(i.x*y.SquareDisW,i.y*y.SquareDisH)),h=y.getSquareWorldPosition(0,0,.5).x;return s.x<h&&(s.x=h),this.throwOneImpToWP(e,t,n,s,a,o,r)},e.throwOneImpToWP=function(e,t,n,i,a,o,r){var s=d.getZombie(e);s.parent=t.zombieLayer;var h=s.getComponent(c);h.worldPosition=n;var l=i.clone();return h.flying=!0,h.height=a,h.leapTo(l,!0,r,o),h},e}()),M=e("GargantuarProps",function(e){function n(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).SmashDamage=1500,t}return t(n,e),n}(p));e("GargantuarZombie",(w=q("GargantuarZombie"),S=H([h]),v=H([h]),I=H([h]),P=H([h]),R=H([h]),D=H([h]),_=H([h]),L=H([h]),A=H([h]),O=H(l),w((j=n((z=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"stepSounds",j,a(t)),i(t,"deathPoleSounds",C,a(t)),i(t,"deathFallSounds",E,a(t)),i(t,"swingSounds",x,a(t)),i(t,"smashSounds",G,a(t)),i(t,"afterSmashSaySounds",Z,a(t)),i(t,"ImpThrowSaySounds",k,a(t)),i(t,"ImpThrowSounds",F,a(t)),i(t,"throwSounds",W,a(t)),t.isGargantuar=!0,t._objdataOwn=new M,i(t,"impThrower",X,a(t)),t.impEnum=f.modern_imp,t._haveImp=!0,t._impSlots=[],t}t(n,e);var r=n.prototype;return r.playEat=function(e){this.walking=!1},r.onWaveAdded=function(e){e.db.playAnimation("Idle_G")},r.onDamaged=function(e,t,n){this.gargantuarOnDamaged(e,t,n)},r.gargantuarOnDamaged=function(e,t,n){},r.detectPlant=function(e){var t=this;if(this.detectPlantOn())if(this.inLane){if(!(e<=0)){var n=!1;this.hypno?(this.inLane.zombiePool().forEach((function(e){n||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(n=!0)})),this.inLane.tombPool().forEach((function(e){n||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(n=!0)}))):(this.inLane.plantPool().forEach((function(e){n||e.smasherDetectable&&t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(n=!0)})),this.inLane.hypnoZombiePool().forEach((function(e){n||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(n=!0)}))),n?this.playSmashAnm():this.playWalk()}}else this.playWalk()},r.playSmashAnm=function(){this.walking=!1,this.switching=!0,this.correctShadeWP(),this.body.playAnimation("Smash",1)},r.playSpecialZombieDie=function(e){this.judgeDeath()},r.specialGargantuarOnLoad=function(){},r.specialZombieOnLoad=function(){var e=this;this.db.armature().getSlots().forEach((function(t){t.name.includes("_IMP")&&e._impSlots.push(t)})),this.specialGargantuarOnLoad()},r.specialGargantuarOnEnable=function(){},r.specialZombieOnEnable=function(){this.haveImp=!0,this.specialGargantuarOnEnable()},r.throwImp=function(){this._throwImp()},r.getHaveImp=function(){return this._haveImp},r.haveImpFalse=function(){this.haveImp=!1},r.impOnThrow=function(e){},r._throwImp=function(e,t,n){if(void 0===e&&(e=this.lIndex),void 0===t&&(t=this.reversed?6:2),void 0===n&&(n=250),this.getHaveImp()){this.haveImpFalse();var i=B.throwOneImpToLnC(this.impEnum,this.inLane,new u(this.impThrower.worldPosition.x,this._worldPositionY),y.getLnC(e,t),this.impThrower.worldPosition.y-this._worldPositionY,n,1.5);return i.body.playAnimation("Fly",1/0),i.walking=!1,i.reversed=this.reversed,i.hypno=this.hypno,this.impOnThrow(i),i}return null},r.specialAshPlayed=function(e){this._haveImp},r.specialTriggerGameLose=function(){this.body.playAnimation("Smash",1/0)},r.throwImpNow=function(){return this._haveImp&&this.health<this.toughness/2},r.specialGargantuarUpdate=function(e,t,n){},r.specialZombieUpdate=function(e,t,n){e>0&&!this.switching&&this.throwImpNow()&&(!this.reversed&&this.inLnC.cIndex>2||this.reversed&&this.inLnC.cIndex<6)&&(this.walking=!1,this.switching=!0,this.body.playAnimation("Throw",1),this.ImpThrowSaySounds.length&&b.playArray(this.ImpThrowSaySounds,1,.1)),this.specialGargantuarUpdate(e,t,n)},r.onSmashing=function(e){},r._smash=function(){var e=null,t=null,n=null,i=g.createRectangleCenter(new u(this.shadeSocket.worldPosition.x+this.plantDetectorRecOffset.x*(this.reversed?-1:1),this._worldPosition.y+this._height+this.plantDetectorRecOffset.y),1.5*this.plantDetectorRecSize.width,this.plantDetectorRecSize.height);if(this.hypno){var a=1/0;this.inLane.zombiePool().forEach((function(e){var n=e.bodyRec.prjX().x;e.bodyRec.judgeCrossRec(i)&&n<a&&(t=e,a=n)})),this.inLane.tombPool().forEach((function(e){var t=e.bodyRec.prjX().x;e.bodyRec.judgeCrossRec(i)&&t<a&&(n=e,a=t)}))}else{this.inLane.plantPool().forEach((function(t){t.smasherDetectable&&t.bodyRec.judgeCrossRec(i)&&(!e||e.bodyRec.prjX().y<t.bodyRec.prjX().y)&&(e=t)}));var o=-1/0;this.inLane.hypnoZombiePool().forEach((function(e){var n=e.bodyRec.prjX().y;e.bodyRec.judgeCrossRec(i)&&n>o&&(t=e,o=n)}))}var r=null;t&&(r=new u(t.worldPositionX-this.worldPositionX,t.zombieHeight-this.zombieHeight).normalize().multiplyScalar(20));var s=new m(this._objdataOwn.SmashDamage,!0,!0,!0,r);t?t.dealDamage(s):e?this.smashPlant(e):n&&n.dealDamage(s.damage),this.onSmashing(i)},r.smashPlant=function(e){e.smash(this,!0)},r.specialGargantuarAnimationListener=function(e){},r.specialAnimationListener=function(e){"step"==e.name?b.playArray(this.stepSounds,1,.5):"deathPole"==e.name?b.playArray(this.deathPoleSounds,1,.5):"deathFall"==e.name?b.playArray(this.deathFallSounds,1,.4):"swing"==e.name?b.playArray(this.swingSounds,1,.4):"smash"==e.name?(b.playArray(this.smashSounds,1,.4),this._smash()):"afterSmash"==e.name?b.playArray(this.afterSmashSaySounds,1,.4):"switchingFalse"==e.name?(this.switching=!1,this.isAlive()&&this.detectPlant(.001)):"impThrow"==e.name&&(this.throwImp(),b.playArray(this.throwSounds,1,.4),b.playArray(this.ImpThrowSounds,1,.4)),this.specialGargantuarAnimationListener(e)},o(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"haveImp",get:function(){return this._haveImp},set:function(e){this._haveImp=e,this._impSlots.forEach((function(t){t._setDisplayIndex(e?0:-1)}))}}]),n}(c)).prototype,"stepSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=n(z.prototype,"deathPoleSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=n(z.prototype,"deathFallSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(z.prototype,"swingSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=n(z.prototype,"smashSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=n(z.prototype,"afterSmashSaySounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(z.prototype,"ImpThrowSaySounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(z.prototype,"ImpThrowSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=n(z.prototype,"throwSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=n(z.prototype,"impThrower",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=z))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/Garlic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./Particles.ts","./NodePools.ts"],(function(t){var n,o,i,e,a,r,s,u,l,d,h,c,f,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,u=t.AudioClip,l=t.Prefab},function(t){d=t.Plant,h=t.PlantProps},function(t){c=t.sounds},function(t){f=t.particle},function(t){p=t.instantiatePooly}],execute:function(){var m,b,g,y,S,w,D,v,P,A,O,j,R,z,L,I,C,E,F,_;r._RF.push({},"53a0b7Ea+RDaayH4HAz4W4g","Garlic",void 0);var k=s.ccclass,G=s.property,H=function(t){function n(){for(var n,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(n=t.call.apply(t,[this].concat(i))||this).LaneChangeDuration=.6,n.ReceivesDamageWhenEaten=150,n.DisgustDuration=1.5,n.StunDuration=0,n.DisgustDurationPlantfood=1.5,n.StunDurationPlantfood=6,n}return o(n,t),n}(h),T=(m=k("GarlicSound"),b=G([u]),g=G([u]),m((w=n((S=function(){function t(){i(this,"foodStart",w,this),i(this,"foodShoot",D,this)}var n=t.prototype;return n.playFoodStart=function(){c.playArray(this.foodStart,1,.5)},n.playFoodShoot=function(){c.playArray(this.foodShoot,1,.5)},t}()).prototype,"foodStart",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=n(S.prototype,"foodShoot",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=S))||y);t("GarlicPlant",(v=k("GarlicPlant"),P=G(T),A=G(l),O=G([u]),j=G([u]),R=G([u]),v((I=n((L=function(t){function n(){for(var n,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"soundRes",I,e(n)),n._objdataOwn=new H,i(n,"disgustPar",C,e(n)),i(n,"moveUpSounds",E,e(n)),i(n,"moveDownSounds",F,e(n)),i(n,"disgustSounds",_,e(n)),n.hurtStage=0,n}o(n,t);var r=n.prototype;return r.onObjdataSet=function(t,n){},r.waterable=function(){return 0==this.hurtStage},r.moveOneZombie=function(t){if(!t)return!1;if(!t.objdataOwn.ImmuneToGarlic&&!t.changeLaneTween){t.setChiliStun(this.fooding?this.objdataOwn.StunDurationPlantfood:this.objdataOwn.StunDuration),t.garlicLaneChange(this.fooding?this.objdataOwn.DisgustDurationPlantfood:this.objdataOwn.DisgustDuration,this.objdataOwn.LaneChangeDuration,this.disgustSounds,this.moveUpSounds,this.moveDownSounds);var n=p(this.disgustPar);return n.parent=t.inLane.prjLayer,n.worldPosition=t.worldPosition.toVec3().add3f(0,t.height_depth+t.zombieHeight,0),!0}return!1},r.specialPlantOnEaten=function(t,n,o,i){this.moveOneZombie(n)&&(n.eating=!1,n.playEat(0,.5),this.dealDamage(this.objdataOwn.ReceivesDamageWhenEaten,0))},r.shoot=function(){var t=this;this.inLane.zombiePool().forEach((function(n){var o;(null==(o=n.bodyRec)||null==(o=o.prjX())?void 0:o.y)>t.worldPositionX&&t.moveOneZombie(n)})),this.soundRes.playFoodShoot();var n=p(f.zombieFart());n.parent=this.inLane.prjLayer,n.worldPosition=this.worldPosition.toVec3().add3f(30,0,0),n.scale=this.node.scale},r.animationListener=function(t){switch(t.name){case"foodEnd":this.foodEnd();break;case"shoot":this.shoot()}},r.specialPlantOnEnable=function(){this.setAnimation(0)},r.specialPlantFood=function(t){this.setAnimation(0),this.soundRes.playFoodStart(),this.anmControl.playAnimation("Food",1,0,1.2)},r.replantable=function(){return 0!=this.hurtStage},r.replant=function(){this.health=this.toughness,this.onDamaged(0,0,this.toughness)},r.setAnimation=function(t){if(void 0===t&&(t=0),this.hurtStage!=t){this.hurtStage=t;var n,o=this.anmControl;switch(t){case 1:o.IdleAnim="Idle10",o.RandomAnim=["Idle11"],this.deathAnm="Death1";break;case 2:o.IdleAnim="Idle20",o.RandomAnim=[],this.deathAnm="Death2";break;default:o.IdleAnim="Idle00",o.RandomAnim=["Idle01"],this.deathAnm="Death0",this.hurtStage=0}if(!this.dead)o.playRandom(),null==(n=this.plantInLnC)||n.readIndex()}},r.onDamaged=function(t,n,o){for(var i=1;i<=3;i++)if(o<=this.toughness/3*i){this.setAnimation(3-i);break}},a(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(d)).prototype,"soundRes",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new T}}),C=n(L.prototype,"disgustPar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=n(L.prototype,"moveUpSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(L.prototype,"moveDownSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=n(L.prototype,"disgustSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=L))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/GatlingPea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./NodePools.ts"],(function(t){var n,o,i,e,a,s,l,r,h,u,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,l=t.Prefab,r=t.Node,h=t.Vec2},function(t){u=t.PeashooterPlant},function(t){p=t.ArrayGet}],execute:function(){var d,c,g,f,S,m,y;a._RF.push({},"7c304jCsOFJf6EXcGQQEYBT","GatlingPea",void 0);var b=s.ccclass,P=s.property;t("GatlingPeaPlant",(d=b("GatlingPeaPlant"),c=P([l]),g=P(r),d((m=n((S=function(t){function n(){for(var n,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,i(n,"randomFoodPrj",m,e(n)),i(n,"peaSpawnpoint2",y,e(n)),n.gatlingSlots=[],n.gatlingTubeSlots=[],n}o(n,t);var a=n.prototype;return a.specialPeashooterOnEnable=function(){this.projectileSpeed=1},a.specialFightAloneStrengthen=function(t){t.Gunned&&this.upgrade()},a.specialPlantOnLoad=function(){var t=this;this.gatlingSlots=[],this.gatlingTubeSlots=[],this.anmControl.body.armature().getSlots().forEach((function(n){n.name.includes("_GUN")&&(n.name.includes("_GUNTUBE")&&t.gatlingTubeSlots.push(n),t.gatlingSlots.push(n))}))},a.onFoodLeftPeaCountDec=function(){var t=p.getRandom(this.randomFoodPrj.concat([this.pea]));if(this._shoot(!0,!0,t),this.lIndex>0){var n=this._shoot(!0,!0,t,15,new h,this.peaSpawnpoint2);n.linearVelocity=new h(15,17),n.deceleration=new h(0,-.9)}if(this.lIndex<4){var o=this._shoot(!0,!0,t,15,new h,this.peaSpawnpoint2);o.linearVelocity=new h(15,-17),o.deceleration=new h(0,.9)}},a.specialPlantFood=function(t){this.upgraded?(this.anmControl.playAnimation("Food",1/0),this.foodShooting(),this.gunTubeIgnite(!0),this.soundRes.playFood(),this.busy=1/0):(this.upgrade(),this.anmControl.playAnimation("FoodStart",2))},a.gunTubeIgnite=function(t){void 0===t&&(t=!0),this.upgraded&&this.gatlingTubeSlots.forEach((function(n){var o;null==(o=n.childArmature)||o.animation.play(t?"Shooting":"Idle",1/0)}))},a.specialPlantDie=function(t){this.gunTubeIgnite(!1)},a.specialPlantFoodEnd=function(){this.anmControl.playRandom(),this.gunTubeIgnite(!1),this.busy=0,this.soundRes.playFoodEnd()},a.animationListenerAdd=function(t){"Shoot"==t.name?this.soundRes.playShootSound(1.5):"ShootSide"==t.name?this.upgraded&&(this._shoot(!1,!1,this.pea,15,new h(1,-1.2),this.peaSpawnpoint2),this._shoot(!1,!1,this.pea,15,new h(1,-.5),this.peaSpawnpoint2),this._shoot(!1,!1,this.pea,15,new h(1,.5),this.peaSpawnpoint2),this._shoot(!1,!1,this.pea,15,new h(1,1.2),this.peaSpawnpoint2)):"ShootStart"==t.name?this.gunTubeIgnite(!0):"ShootEnd"==t.name?this.gunTubeIgnite(!1):"foodStart"==t.name&&(this.anmControl.playAnimation("Food",1/0),this.foodShooting(),this.gunTubeIgnite(!0),this.soundRes.playFood(),this.busy=1/0)},a.animationCompleteAdd=function(){this.gunTubeIgnite(!1)},a.upgrade=function(){this.upgraded=!0,this.soundRes.playUpgrade(),this.gatlingSlots.forEach((function(t){t.displayIndex=0}))},n}(u)).prototype,"randomFoodPrj",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=n(S.prototype,"peaSpawnpoint2",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=S))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/gem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dropping.ts","./GemCount.ts","./SoundRescourses.ts","./CoinCollecterInGame.ts"],(function(n){var e,o,t,r,i,u,c,a,l,p,s;return{setters:[function(n){e=n.applyDecoratedDescriptor,o=n.inheritsLoose,t=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,u=n._decorator,c=n.AudioClip},function(n){a=n.dropping},function(n){l=n.GemCount},function(n){p=n.sounds},function(n){s=n.CoinCollecterInGame}],execute:function(){var d,f,m,g,C;i._RF.push({},"9c82ddzQiBIoIrReCwl2WVY","gem",void 0);var y=u.ccclass,h=u.property;n("gem",(d=y("gem"),f=h(c),d((C=e((g=function(n){function e(){for(var e,o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return e=n.call.apply(n,[this].concat(i))||this,t(e,"dropSound",C,r(e)),e}o(e,n);var i=e.prototype;return i.specialOnGroundHit=function(){p.play(this.dropSound,1,0)},i.goToUIPath=function(){return"Canvas/UIInGameUpper/CurrencyCount/GemSlot"},i.specialGoToUI=function(n){var e;s.component.hidden=!1,null==(e=l.component)||e.addGemCount(1)},e}(a)).prototype,"dropSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/GemCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CurrencyCount.ts","./PlayerProperties.ts","./SoundRescourses.ts"],(function(e){var t,n,o,r,u,i,c,l,s,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){u=e.cclegacy,i=e._decorator,c=e.AudioClip},function(e){l=e.CurrencyCount},function(e){s=e.AllPlayerProperties},function(e){a=e.sounds}],execute:function(){var p,f,d,h,m,y;u._RF.push({},"e255fGKX6hKqqtVL4jk61z+","GemCount",void 0);var C=i.ccclass,v=i.property;e("GemCount",(p=C("GemCount"),f=v(c),p(((y=function(e){function t(){for(var t,n=arguments.length,u=new Array(n),i=0;i<n;i++)u[i]=arguments[i];return t=e.call.apply(e,[this].concat(u))||this,o(t,"gemCollectSound",m,r(t)),t}n(t,e);var u=t.prototype;return u.start=function(){this.shownValue=isNaN(s.currentPlayer.gem)?0:s.currentPlayer.gem,this.value=this._shownValue},u.addGemCount=function(e){this.value+=e,a.play(this.gemCollectSound,1,.1)},u.decGemCount=function(e){this.value-=e},u.buyGem=function(){this.addGemCount(1)},u.onValueSet=function(e){s.currentPlayer.gem=e,s.savePP()},u.onLoad=function(){t.component=this},t}(l)).component=void 0,m=t((h=y).prototype,"gemCollectSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h))||d));u._RF.pop()}}}));

System.register("chunks:///_virtual/GhostPepper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./ParticleSelfdestroy.ts","./NodePools.ts"],(function(t){var i,a,n,o,e,s,r,l,h,c,d,f,u,g,p,m,P,y,b,w,S;return{setters:[function(t){i=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,e=t.createClass},function(t){s=t.cclegacy,r=t._decorator,l=t.AudioClip,h=t.Prefab,c=t.Vec2,d=t.Vec3,f=t.Color},function(t){u=t.Plant,g=t.PlantProps},function(t){p=t.sounds},function(t){m=t.Rectangle},function(t){P=t.Square},function(t){y=t.ZombieDamageDetails,b=t.zombieDamageType},function(t){w=t.ParticleSelfdestroy},function(t){S=t.instantiatePooly}],execute:function(){var D,A,C,k,L,R,E,v,z,I,N,j,x,F,O,U,_,G,M,q,X,H,T,W,Y,B,V,Z;s._RF.push({},"431ccWow5JGrb2umC3f6Q0G","GhostPepper",void 0);var J=r.ccclass,K=r.property,Q=function(t){function i(){for(var i,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).GhostDamage=30,i.GhostDamageCooldownTime=.5,i.PlantfoodDamageMult=3,i.PlantfoodDuration=3.5,i.ExplodeDamage=450,i.Lifetime=10,i}return a(i,t),i}(g),$=(D=J("GhostPepperSound"),A=K(l),C=K([l]),k=K([l]),L=K([l]),R=K([l]),E=K([l]),v=K([l]),z=K([l]),D((j=i((N=function(){function t(){n(this,"attackStart",j,this),n(this,"attackStartSay",x,this),n(this,"attackEndSay",F,this),n(this,"fade",O,this),n(this,"explode",U,this),n(this,"foodStartSay",_,this),n(this,"attackLP",G,this),n(this,"ghostLP",M,this)}var i=t.prototype;return i.playAttackStart=function(){p.play(this.attackStart,1,.1)},i.playAttackStartSay=function(){p.playArray(this.attackStartSay,1,.1)},i.playAttackEndSay=function(){p.playArray(this.attackEndSay,1,.1)},i.playFade=function(){p.playArray(this.fade,1,.1)},i.playExplode=function(){p.playArray(this.explode,1,.1)},i.playFoodStartSay=function(){p.playArray(this.foodStartSay,1,.1)},i.playAttackLP=function(){p.playArray(this.attackLP,1,NaN,.6)},i.playGhostLP=function(){p.playArray(this.ghostLP,1,NaN,.8)},t}()).prototype,"attackStart",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(N.prototype,"attackStartSay",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=i(N.prototype,"attackEndSay",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=i(N.prototype,"fade",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=i(N.prototype,"explode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=i(N.prototype,"foodStartSay",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=i(N.prototype,"attackLP",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=i(N.prototype,"ghostLP",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=N))||I);t("GhostPepperPlant",(q=J("GhostPepperPlant"),X=K($),H=K(h),T=K(h),q((B=i((Y=function(t){function i(){for(var i,a=arguments.length,e=new Array(a),s=0;s<a;s++)e[s]=arguments[s];return i=t.call.apply(t,[this].concat(e))||this,n(i,"soundRes",B,o(i)),i._objdataOwn=new Q,i.switching=!1,i.ghosting=!1,i.foodCD=0,n(i,"ghostPar",V,o(i)),i.ghostPSDs=[],i.zombiesInRange=[],i.tombsInRange=[],n(i,"fogPar",Z,o(i)),i.fogParM=void 0,i.fogParU=void 0,i.fogParD=void 0,i.detector=new m,i.foodDetector=new m,i.dmgCD=0,i._lifeCD=NaN,i._stage=0,i.attackStartAnimation="AttackStart0",i.attackEndAnimation="AttackEnd0",i}a(i,t);var s=i.prototype;return s.onObjdataSet=function(t,i){},s.waterable=function(){return!this.switching&&!this.ghosting},s._explode=function(t){var i,a,n=this;this.soundRes.playAttackEndSay(),this.soundRes.playFade(),this.soundRes.playExplode(),this.shadeAlphaScale=0;var o=m.createRectangleNodeCenter(this.plantInLnC.node,3*P.SquareDisW,3*P.SquareDisH),e=[];null==(i=this.inLane)||i.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(t){o.judgeCrossRec(t.bodyRecReal)&&-1==e.indexOf(t)&&e.push(t)})),e.forEach((function(i){i.dealDamage(new y(t,!0,!0,!0,new c(i.worldPositionX-n.node.worldPosition.x,i.zombieHeight+i.height).normalize().multiplyScalar(15),b.physicle,!0,!0))})),null==(a=this.plantInLnC)||a.get3x3().forEach((function(i){var a;null==(a=i.tombStone)||a.dealDamage(t)}))},s.playDeathParticle=function(t){},s.followGhosts=function(){var t=this,i=[],a=this.zombiesInRange.concat(this.tombsInRange);this.ghostPSDs.forEach((function(t,n){n<a.length?i.push(t):t.willBeKilled=!0}));var n=Math.abs(this.scale)*(this.fooding?1.5:1)/2;a.forEach((function(a,o){var e=null;o<i.length?e=i[o]:(e=S(t.ghostPar).getComponent(w),i.push(e));e.node.parent!=a.node.parent&&e.node.setParent(a.node.parent,!0),e.node.worldPosition=new d(a.worldPositionX,a.worldPositionY,0),e.node.scale=new d(n,n,n)})),this.ghostPSDs=i},s.specialPlantUpdateForce=function(t,i,a){if(this.followGhosts(),this.stage>0&&this.isAlive()){var n=255-155*this.getScheduler(this.lifeCD/20);this.baseColor=new f(255,255,255,n)}else this.baseColor=new f(255,255,255,255)},s.specialPlantOnEnable=function(){this.eaterDetectable=!1,this.smasherDetectable=!1,this.ghosting=!1,this.switching=!1,this.lifeCD=NaN,this.shadeAlphaScale=1},s.animationOnComplete=function(){this.switching=!1},s.setBodyRec=function(t){this.bodyRec=new m},s.specialPlantOnSquareChange=function(t,i){null!=i&&i.isInLawn()&&this.node.setParent(i.inLane.prjLayer,!0),i&&(this.detector=m.createRectangleNodeCenter(i.node,4*P.SquareDisW,P.SquareDisH),this.foodDetector=m.createRectangleNodeCenter(i.node,5*P.SquareDisW,3*P.SquareDisH))},s.detectEnemies=function(){var t,i=this;if(null==(t=this.inLane)||!t.isInLawn())return this.scale=1,!1;var a=1,n=this.fooding?this.foodDetector:this.detector,o=this.inLane.zombiePool(),e=this.inLane.tombPool();this.fooding&&(o=o.concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()),e=e.concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()));var s=[];o.forEach((function(t){n.judgeCrossRec(t.bodyRec)&&-1==s.indexOf(t)&&(s.push(t),t.worldPositionX<i.worldPositionX&&(a=-1))})),this.zombiesInRange=s;var r=[];e.forEach((function(t){n.judgeCrossRec(t.bodyRec)&&-1==r.indexOf(t)&&(r.push(t),t.worldPositionX<i.worldPositionX&&(a=-1))})),this.tombsInRange=r;var l=r.length+s.length>0;return this.scale=a,l},s.dealdamageToEnemies=function(){var t=(this.fooding?this.objdataOwn.PlantfoodDamageMult:1)*this.objdataOwn.GhostDamage*this._dmgScale;this.tombsInRange.forEach((function(i){i.dealDamage(t)})),this.zombiesInRange.forEach((function(i){i.dealDamage(new y(t))}))},s.specialPlantFood=function(t){this.lifeCD=NaN,this.switching=!0,this.ghosting=!1,this.dmgCD=0,this.foodCD=this.objdataOwn.PlantfoodDuration,this.anmControl.playAnimation("FoodStart",1/0)},s.specialPlantFoodEnd=function(){this.switching=!0,this.ghosting=!1,this.anmControl.playAnimation("FoodEnd",1),this.soundRes.playAttackEndSay()},s.ghostStartAnm=function(){this.switching||(this.dmgCD=0,isNaN(this.lifeCD)&&(this.lifeCD=this.objdataOwn.Lifetime),this.switching=!0,this.ghosting=!1,this.anmControl.playAnimation(this.attackStartAnimation,1/0))},s.ghostEndAnm=function(){this.switching=!0,this.ghosting=!1,this.scale=1,this.anmControl.playAnimation(this.attackEndAnimation,1),this.soundRes.playAttackEndSay()},s.killAllFog=function(){[this.fogParD,this.fogParM,this.fogParU].forEach((function(t){t&&t.db.playAnimation("Fade")})),this.fogParD=null,this.fogParU=null,this.fogParM=null},s.specialPlantOnUnsheepend=function(){this.lifeCD=NaN},s.specialPlantUpdate=function(t,i,a){var n=this.detectEnemies();if(this.ghosting&&t>0){if(this.dmgCD>0?this.dmgCD-=t:this.dmgCD<=0&&(this.dmgCD=this._cdScale*this.objdataOwn.GhostDamageCooldownTime,this.dealdamageToEnemies()),this.inLane){if(this.fooding&&this.lIndex>0){if(!this.fogParU){var o,e=S(this.fogPar);this.fogParU=e.getComponent(w),null==(o=this.fogParU.db)||o.playAnimation("Spawn",1)}this.fogParU.node.parent=this.inLane.UpperLane.prjLayer,this.fogParU.node.worldPosition=new d(this.worldPositionX,this.worldPositionY+P.SquareDisH,0)}else this.fogParU&&(this.fogParU.db.playAnimation("Fade"),this.fogParU=null);if(this.fooding&&this.lIndex<4){if(!this.fogParD){var s,r=S(this.fogPar);this.fogParD=r.getComponent(w),null==(s=this.fogParD.db)||s.playAnimation("Spawn",1)}this.fogParD.node.parent=this.inLane.LowerLane.prjLayer,this.fogParD.node.worldPosition=new d(this.worldPositionX,this.worldPositionY-P.SquareDisH,0)}else this.fogParD&&(this.fogParD.db.playAnimation("Fade"),this.fogParD=null);if(!this.fogParM){var l=S(this.fogPar);this.fogParM=l.getComponent(w),this.fogParM.db.playAnimation("Spawn",1)}this.fogParM&&(this.fogParM.node.parent=this.inLane.prjLayer,this.fogParM.node.worldPosition=new d(this.worldPositionX,this.worldPositionY,0))}this.soundRes.playAttackLP(),this.soundRes.playGhostLP(),n||this.fooding||this.ghostEndAnm(),this.fooding&&(this.foodCD-=t,this.foodCD<=0&&this.foodEnd())}else this.tombsInRange=[],this.zombiesInRange=[],this.switching||n&&t&&this.ghostStartAnm(),this.killAllFog();this.lifeCD-=t,this.lifeCD<=0&&this.die()},s.specialPlantDie=function(t){this.zombiesInRange=[],this.tombsInRange=[],this.killAllFog(),this.followGhosts()},s.animationListener=function(t){switch(t.name){case"ghost":this.ghosting=!0,this.soundRes.playAttackStart(),this.fooding?this.soundRes.playFoodStartSay():this.soundRes.playAttackStartSay();break;case"expl":this._explode(this._dmgScale*this.objdataOwn.ExplodeDamage);break;case"foodLP":this.anmControl.playAnimation("FoodLoop",1/0);break;case"attackLP":this.anmControl.playAnimation("AttackLoop",1/0)}},e(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"lifeCD",get:function(){return this._lifeCD},set:function(t){if(this._lifeCD=t,isNaN(t))this.stage=0;else{for(var i=this.objdataOwn.Lifetime,a=0,n=0;n<3;n++)if(t>i/3*(2-n)){a=n;break}this.stage=a}}},{key:"stage",get:function(){return this._stage},set:function(t){var i=this._stage+0;switch(t){case 1:this.anmControl.IdleAnim="Idle1",this.anmControl.RandomAnim=["Rand1"],this.attackStartAnimation="AttackStart1",this.attackEndAnimation="AttackEnd1";break;case 2:this.anmControl.IdleAnim="Idle2",this.anmControl.RandomAnim=["Rand2"],this.attackStartAnimation="AttackStart2",this.attackEndAnimation="AttackEnd2";break;default:t=0,this.anmControl.IdleAnim="Idle0",this.anmControl.RandomAnim=["Rand0"],this.attackStartAnimation="AttackStart0",this.attackEndAnimation="AttackEnd0"}!i&&t&&this.clearScheduler(),this._stage=t}}]),i}(u)).prototype,"soundRes",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new $}}),V=i(Y.prototype,"ghostPar",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(Y.prototype,"fogPar",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=Y))||W));s._RF.pop()}}}));

System.register("chunks:///_virtual/GlacierBlock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tomb.ts","./LnC.ts","./NodePools.ts","./Square.ts"],(function(e){var t,n,i,r,o,s,c,a;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){i=e.cclegacy,r=e._decorator},function(e){o=e.Tomb},function(e){s=e.LnCSpawnZombieStyleEnum},function(e){c=e.ArrayGet},function(e){a=e.Square}],execute:function(){var l;i._RF.push({},"eaea4JY5Z9BIq1zZ4V5HvfO","GlacierBlock",void 0);var u=r.ccclass;r.property,e("GlacierBlock",u("GlacierBlock")(l=function(e){function i(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this)._reversed=!1,t.zombieList=[],t.hypno=!1,t}t(i,e);var r=i.prototype;return r.depthScale=function(){return 0},r.playSpawnParticle=function(){},r.specialTombOnLnCSet=function(e,t){if(t){var n=t.tombParent;this.scale<0&&(n=a.getLnC(t.lIndex,8-t.cIndex).tombParent),this.node.setParent(n,!0)}},r.specialTombDie=function(e,t){if(this.zombieList.length){var n=this.cIndex;this.reversed&&(n=8-n);var i=Math.floor(n/8*this.zombieList.length),r=this.zombieList[i].concat();if(r.length){var o,a=c.getRandom(r);if(!isNaN(a))null==(o=this.tombInLnC)||o.spawnZombie(a,s.directPut,!0,.5,0,{},!1,this.reversed,this.hypno)}}},n(i,[{key:"reversed",get:function(){return this._reversed},set:function(e){this.scale=Math.abs(this.scale)*(e?-1:1),this._reversed=e}}]),i}(o))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/GlacierShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./levelController.ts","./Zombie.ts","./Square.ts","./NodePools.ts","./SoundRescourses.ts"],(function(e){var t,n,i,o,a,r,l,s,u,h,c,d,f,p,w,m,y,C,b,g,S,z,P,E,v,F;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.AudioClip,s=e.Prefab,u=e.Color,h=e.input,c=e.Input,d=e.KeyCode,f=e.tween,p=e.dragonBones,w=e.Vec3},function(e){m=e.Plant,y=e.PlantProps},function(e){C=e.ZombiePool,b=e.TombPool,g=e.Rectangle},function(e){S=e.LevelPlay},function(e){z=e.ZombieDamageDetails,P=e.zombieDamageType},function(e){E=e.Square},function(e){v=e.NodePools},function(e){F=e.sounds}],execute:function(){var k,D,I,L,R,_,A,T,x,O,B,j,W,q,U,G,H,M,N,Z,K,V,Y,J,Q,X,$,ee,te;a._RF.push({},"567d2qH5vZJW6Vx5t9S4QgI","GlacierShroom",void 0);var ne=r.ccclass,ie=r.property,oe=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).FreezeDuration=5,t.ChillDuration=5,t.ChillDurationAmbience=2,t.FreezeDamage=20,t.EatFreezeDuration=3,t.EatChillDuration=3,t.EatFreezeInterval=3.5,t.WakeTime=25,t}return n(t,e),t}(y),ae=(k=ne("glaciershroomSound"),D=ie([l]),I=ie([l]),L=ie([l]),R=ie(l),_=ie(l),A=ie(l),k((O=t((x=function(){function e(){i(this,"freezeSound",O,this),i(this,"steadySound",B,this),i(this,"eatFreezeSound",j,this),i(this,"tornadoSound",W,this),i(this,"wakeSound",q,this),i(this,"wakeCoffeeSound",U,this)}var t=e.prototype;return t.playFreezeSound=function(){F.playArray(this.freezeSound,1,.1)},t.playSteadySound=function(){F.playArray(this.steadySound,1,.1)},t.playEatFreezeSound=function(){F.playArray(this.eatFreezeSound,1,.1)},t.playTornadoSound=function(){F.play(this.tornadoSound,1,.1)},t.playWakeSound=function(){F.play(this.wakeSound,1,.1),F.play(this.wakeCoffeeSound,1,.1)},e}()).prototype,"freezeSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(x.prototype,"steadySound",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(x.prototype,"eatFreezeSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(x.prototype,"tornadoSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(x.prototype,"wakeSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(x.prototype,"wakeCoffeeSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=x))||T);e("GlacierShroomPlant",(G=ne("GlacierShroomPlant"),H=ie(ae),M=ie(s),N=ie(s),Z=ie(u),K=ie(u),G(((te=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new oe,i(t,"soundRes",J,o(t)),t.lit=!1,t.eatFreezeCooldown=0,i(t,"splatParticle",Q,o(t)),t.litSlots=[],t.screenColorTween=void 0,t.awaken=!0,t.sleeping=0,t.switching=!1,i(t,"tileChillBuff",X,o(t)),t.tileBuffParticles=[],i(t,"freezeColor1",$,o(t)),i(t,"freezeColor2",ee,o(t)),t.detector=void 0,t.screenColor=new u(0,0,0,0),t}n(t,e);var a=t.prototype;return a.specialPlantFood=function(e){this.anmControl.playAnimation("Food",1),this.baseColor=new u(255,255,255,255)},a.specialPlantOnEnable=function(){this.screenColorTween=null,this.lit=!1,this.switching=!1,this.sleeping=0,this.awaken=!0,this.litSlots.forEach((function(e){e._setDisplayIndex(-1)})),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.baseColor=new u(255,255,255,255)},a.splat=function(e){void 0===e&&(e=!1);var t=v.instantiatePooly(this.splatParticle);t.parent=this.inLane.node,t.worldPosition=this.node.worldPosition.clone().add3f(0,e?40:0,0),e||t.setSiblingIndex(0)},a.specialPlantOnEaten=function(e,t,n,i){if(this.lit&&this.eatFreezeCooldown<=0){this.eatFreezeCooldown=this._objdataOwn.EatFreezeInterval;var o=this._objdataOwn.EatFreezeDuration,a=this._objdataOwn.EatChillDuration;this.detectInRangeEnemies().forEach((function(e){e.flying||e.setFreeze(o),e.setChill(a)})),this.splat(!0),this.soundRes.playEatFreezeSound()}},a.specialPlantOnLoad=function(){var e=this;h.on(c.EventType.KEY_DOWN,(function(n){S.gameStarted&&n.keyCode==d.KEY_I&&!t.keyListenCooldown&&(e.specialPlantOnMouseDown()&&(t.keyListenCooldown=!0))}),this),this.anmControl.body.armature().getSlots().forEach((function(t){t.name.includes("_LIT")&&e.litSlots.push(t)}))},a.animationListener=function(e){var t=this;switch(e.name){case"Freeze":this.fooding&&(this.lit=!0,this.litSlots.forEach((function(e){e._setDisplayIndex(0)})),this.switching=!1,this.sleeping=0,this.awaken=!0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.soundRes.playTornadoSound(),this.tileBuffParticles.forEach((function(e){e.armature().getSlots().forEach((function(e){e.name.includes("_snow")&&e._setDisplayIndex(t.lit?0:-1)}))}))),this.soundRes.playFreezeSound();var n=this._objdataOwn.FreezeDuration,i=this._objdataOwn.ChillDuration,o=this._objdataOwn.FreezeDamage;this._dmgScale&&(o*=this._dmgScale),C.pool().concat().forEach((function(e){e.flying||e.setFreeze(n),e.setChill(i),e.dealDamage(new z(o,!1,!1,!1,null,P.physicle,!0,!0))})),b.pool().concat().forEach((function(e){e.dealDamage(o)}));var a=f(this.screenColor).to(1/60/this.anmControl.body.timeScale,{r:this.freezeColor2.r,g:this.freezeColor2.g,b:this.freezeColor2.b,a:this.freezeColor2.a}).to(1/4/this.anmControl.body.timeScale,{a:0}).call((function(){t.screenColorTween=null})).start();this.bodyTweens.push(a),this.screenColorTween=a;break;case"screenFlashStart":this.screenColor=new u(this.freezeColor1.r,this.freezeColor1.g,this.freezeColor1.b,0);var r=f(this.screenColor).to(.5/this.anmControl.body.timeScale,{a:this.freezeColor1.a}).start();this.bodyTweens.push(r),this.screenColorTween=r;break;case"foodEnd":this.foodEnd();break;case"sleepStart":this.switching=!1,this.awaken=!1;var l=this._objdataOwn.WakeTime;this._cdScale&&(l*=this._cdScale),this.sleeping=l,this.clearScheduler(),this.anmControl.IdleAnim="Sleep",this.anmControl.RandomAnim=[];break;case"steadySound":this.soundRes.playSteadySound();break;case"wakeSound":this.soundRes.playWakeSound();break;case"splat":this.splat();break;case"splatHigh":this.splat(!0)}},a.waterable=function(){return this.sleeping<=0&&!this.switching},a.specialPlantOnSquareChange=function(e,t){var n=this;this.detector=g.createRectangleNodeCenter(t.node,3*E.SquareDisW,3*E.SquareDisH),this.tileBuffParticles.forEach((function(e){e.playAnimation("Fade",1)})),this.tileBuffParticles=[],[this.inLane.UpperLane,this.inLane,this.inLane.LowerLane].forEach((function(e){if(e.LaneIndex>=0&&e.LaneIndex<=4){var t=v.instantiatePooly(n.tileChillBuff);t.parent=e.node;var i=t.getComponent(p.ArmatureDisplay);i.playAnimation("Spawn",1);var o=E.getSquareWorldPosition(e.LaneIndex,n.inLnC.cIndex);t.worldPosition=new w(o.x,o.y,4),t.setSiblingIndex(0),n.tileBuffParticles.push(i)}})),this.tileBuffParticles.forEach((function(e){e.armature().getSlots().forEach((function(e){e.name.includes("_snow")&&e._setDisplayIndex(n.lit?0:-1)}))}))},a.detectInRangeEnemies=function(){var e=this,t=[];return this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(n){var i;null!=(i=e.detector)&&i.judgeCrossRec(n.bodyRecReal)&&t.push(n)})),t},a.specialPlantUpdateForce=function(e,t,n){if(this.sleeping>0&&!this.fooding){var i=200-122*this.getScheduler(this.sleeping/8);this.baseColor=new u(i,i,i,255)}else this.baseColor=new u(255,255,255,255)},a.specialPlantLateUpdate=function(e){t.keyListenCooldown=!1,0!=this.screenColor.a&&S.gaming&&!this.sheepend&&this.screenColorTween&&S.screenFlashColors.push(this.screenColor)},a.specialPlantUpdate=function(e,t,n){var i,o=this;(this.eatFreezeCooldown>0&&(this.eatFreezeCooldown-=e),this.fooding||(this.sleeping>0&&(this.sleeping-=e),this.sleeping<0&&!this.awaken&&(this.awaken=!0,this.anmControl.playAnimation("Wake",1),this.soundRes.playWakeSound(),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.baseColor=new u(255,255,255,255)),this.litSlots.forEach((function(e){e._setDisplayIndex(o.lit?0:-1)}))),this.detectInRangeEnemies().forEach((function(e){e.setChill(2)})),this.lit)&&(null==(i=this.plantInLnC)||null==(i=i.get3x3())||i.forEach((function(e){var t;null==e||null==(t=e.getAllPlants())||t.forEach((function(e){e!=o&&e.family==o.family&&e.plantCDScaleSetter(.5,1)}))})))},a.specialPlantDie=function(e){this.baseColor=new u(255,255,255,255),this.tileBuffParticles.forEach((function(e){e.playAnimation("Fade",1)}))},a.teach=function(){this.sleeping<=0?(this.addArrow(1/0),this.defaultTeach(1)):this.arrowCountdown=0},a.specialPlantOnMouseDown=function(){return!this.sheepend&&(this.sleeping<=0&&!this.switching&&!this.fooding&&(this.anmControl.playAnimation("Freeze",1),this.switching=!0,this.arrowCountdown=0,!0))},t}(m)).keyListenCooldown=!1,J=t((Y=te).prototype,"soundRes",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ae}}),Q=t(Y.prototype,"splatParticle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(Y.prototype,"tileChillBuff",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(Y.prototype,"freezeColor1",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(0,0,0,0)}}),ee=t(Y.prototype,"freezeColor2",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(0,0,0,0)}}),V=Y))||V));a._RF.pop()}}}));

System.register("chunks:///_virtual/GloomShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./NodePools.ts","./SoundRescourses.ts"],(function(e){var o,n,t,i,a,r,s,c,l,d,u,h,p,f,b,P,g,y;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.AudioClip,c=e.Prefab,l=e.Vec2,d=e.dragonBones},function(e){u=e.Plant,h=e.PlantProps},function(e){p=e.Rectangle},function(e){f=e.Square},function(e){b=e.ZombieDamageDetails,P=e.zombieDamageType},function(e){g=e.NodePools},function(e){y=e.sounds}],execute:function(){var S,w,m,k,R,D,L,C,v,j,z,B,q,H,_,E,A,T,O,M,x,U,F,I;a._RF.push({},"5105cpihGRCsI7JLSfvlvOf","GloomShroom",void 0);var W=r.ccclass,X=r.property,G=(S=W("gloomshroomSound"),w=X([s]),m=X([s]),k=X([s]),R=X(s),S((C=o((L=function(){function e(){t(this,"shootSounds",C,this),t(this,"shootSoundsAdd",v,this),t(this,"preShootSounds",j,this),t(this,"foodSound",z,this)}var o=e.prototype;return o.playShootSound=function(e){y.playArray(this.shootSounds,1,.1),e&&y.playArray(this.shootSoundsAdd,1,.1)},o.playPreShootSound=function(){y.playArray(this.preShootSounds,1,.1)},o.playFoodPushSound=function(){y.play(this.foodSound,1,.1)},e}()).prototype,"shootSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=o(L.prototype,"shootSoundsAdd",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=o(L.prototype,"preShootSounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=o(L.prototype,"foodSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=L))||D),N=function(e){function o(){for(var o,n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return(o=e.call.apply(e,[this].concat(t))||this).DPS=160,o.ShootInterval=1.5,o.DamageDuration=.5,o.DPSPlantfood=1543,o.PoisonDPS=60,o}return n(o,e),o}(h);e("GloomShroomPlant",(B=W("GloomShroomPlant"),q=X(G),H=X(c),_=X(c),E=X(c),A=X(c),B((M=o((O=function(e){function o(){for(var o,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new N,t(o,"soundRes",M,i(o)),o.attackCD=0,o.bubbleCountDown=0,o.detector=p.createRectangleCenter(new l(0,0),0,0),o.attacking=!1,o.dragging=0,t(o,"shootParticleHere",x,i(o)),t(o,"shootParticleThere",U,i(o)),t(o,"foodParticleHere",F,i(o)),t(o,"foodParticleThere",I,i(o)),o}n(o,e);var a=o.prototype;return a.waterable=function(){return!this.attacking},a.specialPlantOnSquareChange=function(e,o){this.setDetector(e,o)},a.setDetector=function(e,o){this.detector=p.createRectangleNodeCenter(o.node,3*f.SquareDisW,3*f.SquareDisH)},a.specialPlantOnEnable=function(){this.attacking=!1,this.attackCD=0},a.specialPlantUpdateForce=function(e,o,n){var t=this;if(this.bubbleCountDown>0&&!this.sheepend){this.bubbleCountDown-=e,this.fooding&&this.push();var i=(this.fooding?this._objdataOwn.DPSPlantfood:this._objdataOwn.DPS)*e;this._dmgScale&&(i*=this._dmgScale),this.detectEnemies(i),this.darkModeOn&&this.inLnC.get3x3().forEach((function(o){o!=t.inLnC&&o.setShadowBuff(20*e,!1)}))}this.dragging>0&&(this.dragging-=e,this.drag())},a.detectEnemies=function(e){var o=this;void 0===e&&(e=0);var n=!1;return this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(t){n&&e<=0||(e>0?t.bodyRecReal:t.bodyRec).judgeCrossRec(o.detector)&&(n=!0,e>0&&(t.dealDamage(new b(e,!0,!1,!1,null,P.physicle)),o.darkModeOn&&t.setPoison(o._objdataOwn.PoisonDPS*o._dmgScale,.1)))})),(!n||e>0)&&this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(t){n&&e<=0||t.bodyRec.judgeCrossRec(o.detector)&&(n=!0,e>0&&t.dealDamage(e))})),n},a.specialPlantUpdate=function(e,o,n){if(!this.fooding&&(this.attackCD>0&&(this.attackCD-=e),this.attackCD<=0&&n>0&&this.detectEnemies())){var t=this._objdataOwn.ShootInterval;this.attackCD=t*this._cdScale,this.anmControl.playAnimation("Attack",1,.1,Math.max(1,1.7/t)),this.attacking=!0}},a.specialPlantFood=function(e){this.bubbleCountDown=0,this.dragging=0,this.attacking=!1,this.attackCD=0,this.anmControl.playAnimation("Food",1)},a.drag=function(){var e=this,o=p.createRectangleCenter(new l(this.inLnC.node.worldPosition.x,this.inLnC.node.worldPosition.y+2*f.SquareDisH),3*f.SquareDisW,f.SquareDisH),n=p.createRectangleCenter(new l(this.inLnC.node.worldPosition.x,this.inLnC.node.worldPosition.y-2*f.SquareDisH),3*f.SquareDisW,f.SquareDisH),t=p.createRectangleCenter(new l(this.inLnC.node.worldPosition.x,this.inLnC.node.worldPosition.y+f.SquareDisH),5*f.SquareDisW,f.SquareDisH),i=p.createRectangleCenter(new l(this.inLnC.node.worldPosition.x,this.inLnC.node.worldPosition.y-f.SquareDisH),5*f.SquareDisW,f.SquareDisH),a=p.createRectangleCenter(new l(this.inLnC.node.worldPosition.x,this.inLnC.node.worldPosition.y),5*f.SquareDisW,f.SquareDisH);this.inLane.UpperLane.UpperLane.zombiePool().forEach((function(e){!e.knockBackTween&&e.bodyRecReal.judgeCrossRec(o)&&e.knockBackBy(new l(0,1),!1,.4)})),this.inLane.LowerLane.LowerLane.zombiePool().forEach((function(e){!e.knockBackTween&&e.bodyRecReal.judgeCrossRec(n)&&e.knockBackBy(new l(0,-1),!1,.4)})),this.inLane.UpperLane.zombiePool().forEach((function(o){o.knockBackTween||!o.bodyRecReal.judgeCrossRec(t)||o.bodyRecReal.judgeCrossRec(e.detector)||o.knockBackBy(new l(o.bodyRecReal.prjX().y>e._worldPositionX?-1:1,0),!1,.4)})),this.inLane.zombiePool().forEach((function(o){o.knockBackTween||!o.bodyRecReal.judgeCrossRec(a)||o.bodyRecReal.judgeCrossRec(e.detector)||o.knockBackBy(new l(o.bodyRecReal.prjX().y>e._worldPositionX?-1:1,0),!1,.4)})),this.inLane.LowerLane.zombiePool().forEach((function(o){o.knockBackTween||!o.bodyRecReal.judgeCrossRec(i)||o.bodyRec.judgeCrossRec(e.detector)||o.knockBackBy(new l(o.bodyRecReal.prjX().y>e._worldPositionX?-1:1,0),!1,.4)}))},a.push=function(){var e=this;this.inLane.zombiePool().forEach((function(o){if(!o.knockBackTween&&o.bodyRecReal.judgeCrossRec(e.bodyRec)){var n=Math.round(Math.random())+Math.round(Math.random());(o.inLane.LaneIndex+n-1>4||o.inLane.LaneIndex+n-1<0)&&(n=2-n),o.knockBackBy(new l(1,n-1),!1,.4)}}))},a.animationListener=function(e){"foodEnd"==e.name?this.foodEnd():"ShootStart"==e.name?(this.soundRes.playShootSound(this.darkModeOn),this.bubbleCountDown=this._objdataOwn.DamageDuration,this.attacking=!1,this.spawnParticle(!1)):"push"==e.name?(this.bubbleCountDown=3,this.spawnParticle(!0)):"shootSound"==e.name?this.soundRes.playPreShootSound():"drag"==e.name?(this.dragging=1,this.soundRes.playPreShootSound()):"foodSound"==e.name&&this.soundRes.playFoodPushSound()},a.spawnParticle=function(e){var o=this;void 0===e&&(e=!1);var n=g.instantiatePooly(e?this.foodParticleHere:this.shootParticleHere),t=g.instantiatePooly(e?this.foodParticleThere:this.shootParticleThere);n.parent=this.inLane.prjLayer,n.worldPosition=this.shadeSocket.worldPosition.clone(),t.parent=this.inLane.UpperLane.prjLayer,t.worldPosition=this.shadeSocket.worldPosition.clone(),[n.getComponent(d.ArmatureDisplay),t.getComponent(d.ArmatureDisplay)].forEach((function(e){e.playAnimation("Play"+(o.darkModeOn?"Dark":""),1)}))},o}(u)).prototype,"soundRes",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new G}}),x=o(O.prototype,"shootParticleHere",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=o(O.prototype,"shootParticleThere",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=o(O.prototype,"foodParticleHere",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=o(O.prototype,"foodParticleThere",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=O))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/GloomVine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./NodePools.ts","./SoundRescourses.ts"],(function(t){var o,n,e,a,i,r,c,s,l,u,d,h,f,p,m,P,b;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,c=t.AudioClip,s=t.Prefab,l=t.Vec2},function(t){u=t.Plant,d=t.PlantProps},function(t){h=t.Rectangle},function(t){f=t.Square},function(t){p=t.ZombieDamageDetails,m=t.zombieDamageType},function(t){P=t.NodePools},function(t){b=t.sounds}],execute:function(){var g,y,S,L,w,D,k,v,C,R,z,A,_,j,E,O;i._RF.push({},"fa3ccoDNupO5rmnQnpQqZMp","GloomVine",void 0);var F=r.ccclass,q=r.property,U=(g=F("gloomvineSound"),y=q([c]),S=q(c),g((D=o((w=function(){function t(){e(this,"shootSounds",D,this),e(this,"foodSound",k,this)}var o=t.prototype;return o.playShootSound=function(){b.playArray(this.shootSounds)},o.playFoodSound=function(){b.play(this.foodSound)},t}()).prototype,"shootSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=o(w.prototype,"foodSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=w))||L),I=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(o=t.call.apply(t,[this].concat(e))||this).Damage=45,o.AttackInterval=2.7,o.AttackIntervalAdditional=.15,o.DPSPlantfood=1543,o}return n(o,t),o}(d);t("GloomVinePlant",(v=F("GloomVinePlant"),C=q(U),R=q(s),z=q(s),v((j=o((_=function(t){function o(){for(var o,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return o=t.call.apply(t,[this].concat(i))||this,e(o,"soundRes",j,a(o)),o.attackCD=0,o.detector=h.createRectangleCenter(new l(0,0),0,0),o._objdataOwn=new I,o.attacking=!1,o.foodStarted=!1,e(o,"shootParticle",E,a(o)),e(o,"foodParticle",O,a(o)),o}n(o,t);var i=o.prototype;return i.waterable=function(){return!this.attacking},i.specialPlantOnSquareChange=function(t,o){this.setDetector(t,o)},i.setDetector=function(t,o){this.detector=h.createRectangleNodeCenter(o.node,3*f.SquareDisW,3*f.SquareDisH)},i.specialPlantDie=function(t){var o;null==(o=this.inLnC)||o.addBuff("darkBuff",!1)},i.specialPlantOnEnable=function(){this.attacking=!1,this.attackCD=0},i.attack=function(t){var o=this;this._dmgScale&&(t*=this._dmgScale),this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(n){n.bodyRecReal.judgeCrossRec(o.detector)&&n.dealDamage(new p(t,!0,!1,!1,null,m.physicle,!0))})),this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(n){n.bodyRec.judgeCrossRec(o.detector)&&n.dealDamage(t)}))},i.detectEnemies=function(){var t=this,o=!1;if(this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(n){o||n.bodyRec.judgeCrossRec(t.detector)&&(o=!0)})),o||this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(n){var e;o||null!=(e=n.bodyRec)&&e.judgeCrossRec(t.detector)&&(o=!0)})),o){var n=this._objdataOwn.AttackInterval+Math.random()*this._objdataOwn.AttackIntervalAdditional;this._cdScale&&(n*=this._cdScale),this.attackCD=n,this.anmControl.playAnimation("Attack",1,.1*n,Math.max(1,2.7/n)),this.attacking=!0,this.soundRes.playShootSound()}},i.specialPlantUpdateForce=function(t,o,n){var e;null==(e=this.inLnC)||e.setShadowBuff(20*o)},i.specialPlantUpdate=function(t,o,n){this.fooding?this.foodStarted&&this.attack(this._objdataOwn.DPSPlantfood*t):(this.attackCD>0&&(this.attackCD-=t),this.attackCD<=0&&n>0&&this.detectEnemies())},i.specialPlantFood=function(t){this.foodStarted=!1,this.soundRes.playFoodSound(),this.attacking=!1,this.attackCD=0,this.anmControl.playAnimation("Food",1)},i.animationListener=function(t){"foodEnd"==t.name?this.foodEnd():"attack"==t.name?(this.attack(this._objdataOwn.Damage),this.attacking=!1,this.spawnParticle(!1)):"foodStart"==t.name&&(this.foodStarted=!0,this.spawnParticle(!0))},i.spawnParticle=function(t){void 0===t&&(t=!1);var o=P.instantiatePooly(t?this.foodParticle:this.shootParticle);o.parent=this.inLnC.particleLowerPoint,o.worldPosition=this.node.worldPosition},o}(u)).prototype,"soundRes",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new U}}),E=o(_.prototype,"shootParticle",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=o(_.prototype,"foodParticle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=_))||A));i._RF.pop()}}}));

System.register("chunks:///_virtual/GoldLeaf.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./Tiles.ts"],(function(t){var e,n,a,i,l,r,o,s,c,u,p,f;return{setters:[function(t){e=t.inheritsLoose,n=t.applyDecoratedDescriptor,a=t.initializerDefineProperty,i=t.assertThisInitialized,l=t.createClass},function(t){r=t.cclegacy,o=t._decorator,s=t.AudioClip},function(t){c=t.PlantProps,u=t.Plant},function(t){p=t.sounds},function(t){f=t.TileEnum}],execute:function(){var h,d,y,b,L,g,k,m,w,v,P,R;r._RF.push({},"9b92fh40yVOc4LRTGBinsTN","GoldLeaf",void 0);var A=o.ccclass,G=o.property,S=t("GoldLeafProps",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).SunCostIncrement=25,e}return e(n,t),n}(c)),C=(h=A("GoldLeafSound"),d=G(s),y=G(s),h((g=n((L=function(){function t(){a(this,"attack",g,this),a(this,"release",k,this)}var e=t.prototype;return e.playAttack=function(){p.play(this.attack,1,.1)},e.playRelease=function(){p.play(this.release,1,.1)},t}()).prototype,"attack",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=n(L.prototype,"release",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=L))||b);t("GoldLeafPlant",(m=A("GoldLeafPlant"),w=G(C),m((R=n((P=function(t){function n(){for(var e,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,a(e,"soundRes",R,i(e)),e._objdataOwn=new S,e}e(n,t);var r=n.prototype;return r.onObjdataSet=function(t,e){},r.specialPlantOnEnable=function(){this.anmControl.playAnimation("Attack",1),this.eaterDetectable=!1,this.smasherDetectable=!1},r.shouldSpeedScale=function(){return 1},r.animationListener=function(t){switch(t.name){case"release":this.soundRes.playRelease();break;case"attack":this.soundRes.playAttack();break;case"place":var e,n;if(this.die(!0,!1,!1),null!=(e=this.plantInLnC)&&e.tileExistable(f.goldtile,!0))null==(n=this.plantInLnC)||n.putTile(f.goldtile,{},!1)}},l(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(u)).prototype,"soundRes",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new C}}),v=P))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/goldTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./Sunflower.ts","./Tiles.ts","./GridItem.ts","./Plants.ts","./Cards.ts","./CardFeatureTotal.ts","./levelController.ts"],(function(t){var e,n,i,l,s,o,a,r,c,u,d,h,f;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy,l=t._decorator},function(t){s=t.Tile},function(t){o=t.sunflower},function(t){a=t.TileEnum},function(t){r=t.GridItemEnum},function(t){c=t.plants,u=t.PlantEnum},function(t){d=t.Cards},function(t){h=t.CardFeatureTotal},function(t){f=t.LevelPlay}],execute:function(){var p;i._RF.push({},"78e9elZzMJCMIEDMIzZNN1U","goldTile",void 0);var g=l.ccclass;l.property,t("goldTile",g("goldTile")(p=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))||this)._stage=0,e.produceCD=0,e}e(i,t);var l=i.prototype;return l.tileOnEnable=function(){this.stage=0,this.produceCD=0,c.registerPlant(u.GoldLeaf,1)},l.specialTileOnLoad=function(){this.tileID=a.goldtile},l._produce=function(){this.db.playAnimation("Produce",1),o.produceSun(50,this.inLnC.plantPoint.worldPosition.toVec2(),1,!0)},l.specialDie=function(){var t,e=u.GoldLeaf;c.registerPlant(e,-1),null==(t=d.cardsController)||null==(t=t.seedPackets)||t.forEach((function(t){var n=t.getComponent(h);e==n.ID&&(n.SUNCOST=n.SUNCOST)}))},l.onLnCChange=function(t,e){var n;null==(n=this.gridItemCP)||n.setGridItemType([r.goldtile])},l.specialTileUpdate=function(t){var e;this.dead||(null!=(e=this.inLnC)&&e.getAllPlants().length?(this.stage=2,this.produceCD>0?f.gaming&&(this.produceCD-=t):this.produceCD<=0&&(this.produceCD=20,this._produce())):this.stage=Math.min(this.stage,1))},n(i,[{key:"stage",get:function(){return this._stage},set:function(t){switch(t){case 1:this.IdleAnmList=["Rand_Normal","Idle_Normal"];break;case 2:this.IdleAnmList=["Idle_Lit"];break;default:this.IdleAnmList=["Rand_Unlit","Idle_Unlit"],t=0}t!=this._stage&&this.playIdle(),this._stage=t}}]),i}(s))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/GrapeShot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./NodePools.ts","./Square.ts","./Peashooter.ts","./Character.ts"],(function(e){var t,r,i,o,a,n,l,c,s,u,p,h,f,y,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,l=e.Prefab,c=e.AudioClip,s=e.Vec2},function(e){u=e.CherryBombPlant},function(e){p=e.ArrayGet,h=e.instantiatePooly},function(e){f=e.Square},function(e){y=e.peaShooter},function(e){d=e.CharacterType}],execute:function(){var S,b,P,m,g,x,v,D,w;a._RF.push({},"31eccpYildMeKc/D2SGDYxZ","GrapeShot",void 0);var C=n.ccclass,_=n.property;e("GrapeShotPlant",(S=C("GrapeShotPlant"),b=_(l),P=_([c]),m=_(l),S((v=t((x=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,i(t,"explParticle",v,o(t)),i(t,"explSounds",D,o(t)),i(t,"projectile",w,o(t)),t}r(t,e);var a=t.prototype;return a.explode=function(){var e=this._objdataOwn.Damage;this._dmgScale&&(e*=this._dmgScale),this.inLnC.explodeCherry3x3(e,!1,this.explParticle,p.getRandom(this.explSounds)),this.shoot()},a.shoot=function(){var e=this;[-1,0,1].forEach((function(t){[-1,0,1].forEach((function(r){if(0!=t||0!=r){var i=new s(t,r*f.SquareDisH/f.SquareDisW).multiplyScalar(30),o=h(e.projectile);y.shootOnePea(o,e.worldPosition,Math.max(1,e.height+21),e.inLane.prjLayer,i,d.zombie)}}))}))},t}(u)).prototype,"explParticle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(x.prototype,"explSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=t(x.prototype,"projectile",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=x))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/grapeshotProjectile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./SoundRescourses.ts","./Zombie.ts","./Square.ts","./Character.ts"],(function(e){var t,i,n,o,a,s,l,r,c,h,u,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,l=e._decorator,r=e.AudioClip},function(e){c=e.commonShot},function(e){h=e.sounds},function(e){u=e.Zombie},function(e){d=e.Square},function(e){f=e.CharacterType}],execute:function(){var y,p,m,g,L;s._RF.push({},"14409SOIL5Jn4q+YpsqIGKx","grapeshotProjectile",void 0);var C=l.ccclass,b=l.property;e("grapeshotProjectile",(y=C("grapeshotProjectile"),p=b([r]),y((L=t((g=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))||this).detectedZombies=[],t.detectOffInThisLane=!1,t.maxHitCount=5,t._leftHitCount=5,n(t,"onLeftHitCountChangeSounds",L,o(t)),t}i(t,e);var s=t.prototype;return s.onLinearVelocitySet=function(e){var t="";t=e.x>0?"WalkR":e.x<0?"WalkL":e.y>0?"WalkU":"WalkD",this.db.playAnimation(t,1/0)},s.characterOnEnable=function(){this.initialize(),this.leftHitCount=this.maxHitCount,this.detectOffInThisLane=!1,this.detectedZombies=[]},s.turnVelocity=function(){if(0==this.linearVelocity.y){var e=1;e=this.lIndex<=0?-1:this.lIndex>=4?1:2*Math.round(Math.random())-1,this.linearVelocity.y=Math.abs(this.linearVelocity.x)*d.SquareDisH/d.SquareDisW*e}else this.linearVelocity.y*=-1,(this.lIndex<=0&&this.linearVelocity.y>0||this.lIndex>=4&&this.linearVelocity.y<0)&&(this.linearVelocity.y*=-1);this.leftHitCount--},s.splat=function(e){this.detectOffInThisLane=!0,this.turnVelocity()},s.detectEnemy=function(e){var t,i=this;if(this.inLane&&this.detectEnemyOn&&!this.detectOffInThisLane){null!=(t=this.targetLocked)&&null!=(t=t.getComponent(u))&&t.dead&&(this.targetLocked=null);var n=this.bodyRec();if(this.enemyType==f.zombie||this.enemyType==f.plant){var o,a,s=null,l=1/0,r=-1/0,c=this.enemyType==f.zombie?null==(o=this.inLane)?void 0:o.zombiePool():null==(a=this.inLane)?void 0:a.hypnoZombiePool();if(null==c||c.forEach((function(e){var t;if(!(i.targetLocked&&(null==(t=s)?void 0:t.node)==i.targetLocked||-1!=i.detectedZombies.indexOf(e))){var o=i.judgeZombieBodyRecForShooter?e.bodyRecForShooter:e.bodyRec,a=o.prjX();null!=o&&o.judgeCrossRec(n)&&(!s||i.linearVelocity.x>=0&&a.x<l||i.linearVelocity.x<0&&a.y>r)&&(s=e,l=a.x,r=a.y)}})),s&&s.commonShotPopOnTouch(this))this.dealDamageToTarget(s),this.detectOffInThisLane=!0,this.turnVelocity(),this.detectedZombies.push(s);else if(this.enemyType==f.zombie){var h,d=null;null==(h=this.inLane)||h.tombPool().forEach((function(e){e.bodyRec.judgeCrossRec(n)&&(!i.targetLocked||i.targetLocked&&e.node==i.targetLocked)&&(d=e)})),d&&(d.dealDamage(this.damage_*this.damageScale*(this.havePeaBuff?1.5:1)),this.dealSplashDamage(null,d),this.detectOffInThisLane=!0,this.turnVelocity())}this.enemyType==f.plant&&this.detectPlant(e,n)}}},s.detectPlant=function(e,t){var i,n=this;null==(i=this.inLane)||i.plantPool().forEach((function(e){n.dead||e.eaterDetectable&&t.judgeCrossRec(e.realBodyRec)&&(!n.targetLocked||n.targetLocked&&e.node==n.targetLocked)&&n.dealDamageToTargetPlant(e)&&(n.turnVelocity(),n.detectOffInThisLane=!0)}))},s.specialOnLaneChange=function(e,t){var i=this;(t.LaneIndex>4&&this.linearVelocity.y<0||t.LaneIndex<0&&this.linearVelocity.y>0)&&(this.linearVelocity.y*=-1,this.leftHitCount--),this.detectOffInThisLane=!1,this.specialGrapeOnLaneChange(e,t),this.detectedZombies=this.detectedZombies.filter((function(e){var n,o;return i.enemyType==f.zombie?-1!=(null==t||null==(n=t.zombiePool())?void 0:n.indexOf(e)):-1!=(null==t||null==(o=t.hypnoZombiePool())?void 0:o.indexOf(e))}))},s.specialGrapeOnLaneChange=function(e,t){},s.specialOnSquareChange=function(e,t){-1==t.cIndex&&this.linearVelocity.x<0&&this.enemyType==f.zombie&&(this.linearVelocity.x*=-1,this.leftHitCount--)},a(t,[{key:"leftHitCount",get:function(){return this._leftHitCount},set:function(e){if(e<=0)this.pop();else if(e<this._leftHitCount){var t=this.onLeftHitCountChangeSounds.length;if(t>0){for(var i=this.onLeftHitCountChangeSounds[0],n=0;n<t;n++)if(e<this.maxHitCount*((n+1)/t)){i=this.onLeftHitCountChangeSounds[t-n-1];break}h.play(i,.3,.1)}}this._leftHitCount=e}}]),t}(c)).prototype,"onLeftHitCountChangeSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=g))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/GraveBuster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts"],(function(n){var t,i,e,o,a,r,s,l,c,u;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,s=n.AudioClip},function(n){l=n.Plant,c=n.PlantProps},function(n){u=n.sounds}],execute:function(){var h,p,d,m,b;a._RF.push({},"031f9TWSP1Ie4Y6Gu8MduTD","GraveBuster",void 0);var f=r.ccclass,S=r.property,y=function(n){function t(){for(var t,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(t=n.call.apply(n,[this].concat(e))||this).BustTime=4,t}return i(t,n),t}(c);n("GraveBusterPlant",(h=f("GraveBusterPlant"),p=S(s),h((b=t((m=function(n){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=n.call.apply(n,[this].concat(a))||this)._objdataOwn=new y,e(t,"chompSound",b,o(t)),t}i(t,n);var a=t.prototype;return a.leapDisable=function(n){return!0},a.specialPlantOnEnable=function(){this.foodable=!1,this.anmControl.playAnimation("Spawn",1),this.deathAnm="",this._invincible=!1,u.play(this.chompSound,1,0)},a.specialPlantDie=function(n){this.inLnC.tombStone&&this.inLnC.tombStone.hidden&&(this.inLnC.tombStone.hidden=!1,this.inLnC.tombStone.body.playAnimation("Spawn",1))},a.animationListener=function(n){if("bust"==n.name){this.inLnC.tombStone&&(this.inLnC.tombStone.hidden=!0);var t=this._objdataOwn.BustTime;this._cdScale&&(t*=this._cdScale),t=Math.max(.1,t),this.anmControl.playAnimation("Busting",1,0,4/t)}else"finish"==n.name?(this.inLnC.tombStone&&this.inLnC.tombStone.die(!1),this.invincible=!0,this.smasherDetectable=!1,this.eaterDetectable=!1):"die"==n.name&&this.die()},t}(l)).prototype,"chompSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/GridIcecube.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tomb.ts","./NodePools.ts","./Tombs.ts","./Square.ts"],(function(e){var n,i,t,o,c,l,a,r,s,u,d,b,h;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){c=e.cclegacy,l=e._decorator,a=e.Prefab,r=e.dragonBones},function(e){s=e.Tomb},function(e){u=e.instantiatePooly,d=e.destroyPooly},function(e){b=e.TombEnum},function(e){h=e.Square}],execute:function(){var f,p,m,k,v;c._RF.push({},"72e5b1kHphELqhfdoEOBjiX","GridIcecube",void 0);var P=l.ccclass,B=l.property;e("GridIcecube",(f=P("GridIcecube"),p=B(a),f((v=n((k=function(e){function n(){for(var n,i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=e.call.apply(e,[this].concat(c))||this,t(n,"icebackPF",v,o(n)),n.icebackDB=void 0,n.icebackSlot=void 0,n}i(n,e);var c=n.prototype;return c.canBePushedLeft=function(){var e;if(!this.inLane)return!1;var n=this.cIndexReal,i=this.lIndexReal,t=h.getLaneComponent(i),o=n-1;if(this.moveTween)return!1;if(o<0)return!1;var c,l=null==t||null==(e=t.tombPool())?void 0:e.find((function(e){return e.cIndexReal==o}));if(l)return(l.ID==b.iceblock_plant||l.ID==b.iceblock_zombie)&&l.canBePushedLeft();if(o>=9)return!0;var a=h.getLnC(i,o);return!(!a.getAllPlants().every((function(e){return!e.invincible}))||a.slider||null!=(c=this.tombInLnC)&&null!=(c=c.getAllPlants())&&c.some((function(e){return e.objdataOwn.CannotBePushedByFootballMech})))},c.canBePushedRight=function(){var e;if(!this.inLane)return!1;var n=this.cIndexReal,i=this.lIndexReal,t=n+1,o=h.getLaneComponent(i);if(this.moveTween)return!1;if(t>8)return!1;var c,l=null==o||null==(e=o.tombPool())?void 0:e.find((function(e){return e.cIndexReal==t}));if(l)return(l.ID==b.iceblock_plant||l.ID==b.iceblock_zombie)&&l.canBePushedRight();if(t<=-1)return!0;var a=h.getLnC(i,t);return!(!a.getAllPlants().every((function(e){return!e.invincible}))||a.slider||null!=(c=this.tombInLnC)&&null!=(c=c.getAllPlants())&&c.some((function(e){return e.objdataOwn.CannotBePushedByFootballMech})))},c.specialTombOnEnable=function(){this.icebackDB=u(this.icebackPF).getComponent(r.ArmatureDisplay),this.icebackDB.node.parent=this.node.parent,this.icebackDB.node.worldPosition=this.node.worldPosition,this.icebackDB.node.setSiblingIndex(0),this.icebackSlot=this.icebackDB.armature().getSlot("MAIN"),[this.db,this.icebackDB].forEach((function(e){null==e||e.playAnimation("Spawn",1/0)}))},c.onLnCLeave=function(e){e.unsheepen()},c.specialTombOnDamaged=function(e,n,i){var t;null==(t=this.icebackSlot)||t._setDisplayIndex(this.stage)},c.specialTombOnRealPosChange=function(){var e;null!=(e=this.icebackDB)&&e.node&&(this.icebackDB.node.setWorldPosition(this.node.worldPosition),this.icebackDB.node.worldScale=this.node.worldScale,this.icebackDB.node.worldRotation=this.node.worldRotation)},c.specialTombOnLaneChange=function(e,n){var i,t;n&&this.node.setParent(n.icecubeLayer,!0),null==(i=this.icebackDB)||null==(i=i.node)||i.setParent(n.tombLayer,!0),null==(t=this.icebackDB)||null==(t=t.node)||t.setSiblingIndex(0)},c.specialTombOnLnCSet=function(e,n){if(!this.dead)if(n){var i;if(n.iceblock!=this)null==(i=n.iceblock)||i.die();n.getAllPlants().forEach((function(e){null==e||e.sheepen()}))}else this.die()},c.playSpawnParticle=function(){},c.specialTombDieLater=function(e,n){null==n||n.unsheepen(),this.icebackDB&&(d(this.icebackDB.node),this.icebackDB=null)},n}(s)).prototype,"icebackPF",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=k))||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/GridItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JSONs.ts"],(function(e){var t,r,a,i,o;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,a=e._decorator,i=e.Component},function(e){o=e.PvZ2ObjectContainer}],execute:function(){var l;r._RF.push({},"c8c9d9VWJRLqYWI9mIGXkGL","GridItem",void 0);var n=a.ccclass,_=(a.property,e("GridItemPool",function(){function e(){}return e.pool=function(){return this._pool.concat()},e.poolByID=function(e){var t=[];return this.pool().forEach((function(r){-1!=r.GridItemTypes.indexOf(e)&&t.push(r)})),t},e.registerGridItem=function(e){-1==this._pool.indexOf(e)&&this._pool.push(e)},e.deleteGridItem=function(e){var t=this._pool.indexOf(e);-1!=t&&this._pool.splice(t,1)},e}()));_._pool=[];var c=e("GridItemEnum",function(e){return e[e.none=0]="none",e[e.slider_up=1]="slider_up",e[e.slider_down=2]="slider_down",e[e.rail=3]="rail",e[e.rail_tutorial=4]="rail_tutorial",e[e.rail_egypt=5]="rail_egypt",e[e.rail_pirate=6]="rail_pirate",e[e.rail_cowboy=7]="rail_cowboy",e[e.rail_future=8]="rail_future",e[e.rail_dark=9]="rail_dark",e[e.rail_sky=10]="rail_sky",e[e.railcart=11]="railcart",e[e.railcart_tutorial=12]="railcart_tutorial",e[e.railcart_egypt=13]="railcart_egypt",e[e.railcart_pirate=14]="railcart_pirate",e[e.railcart_cowboy=15]="railcart_cowboy",e[e.railcart_future=16]="railcart_future",e[e.railcart_dark=17]="railcart_dark",e[e.railcart_sky=18]="railcart_sky",e[e.powertile=19]="powertile",e[e.powertile_alpha=20]="powertile_alpha",e[e.powertile_beta=21]="powertile_beta",e[e.powertile_delta=22]="powertile_delta",e[e.powertile_gamma=23]="powertile_gamma",e[e.powertile_epsilon=24]="powertile_epsilon",e[e.protect_plant=25]="protect_plant",e[e.gravestone=26]="gravestone",e[e.gravestone_tutorial=27]="gravestone_tutorial",e[e.gravestone_egypt=28]="gravestone_egypt",e[e.gravestone_pirate=29]="gravestone_pirate",e[e.gravestone_cowboy=30]="gravestone_cowboy",e[e.gravestone_future=31]="gravestone_future",e[e.gravestone_dark=32]="gravestone_dark",e[e.gravestone_dark_sun=33]="gravestone_dark_sun",e[e.gravestone_dark_pf=34]="gravestone_dark_pf",e[e.surfboard=35]="surfboard",e[e.gravestone_iceage=36]="gravestone_iceage",e[e.iceblock_plant=37]="iceblock_plant",e[e.iceblock_zombie=38]="iceblock_zombie",e[e.zomboss_iceage_glacier_block=39]="zomboss_iceage_glacier_block",e[e.planttarget_squid=40]="planttarget_squid",e[e.gravestone_lostcity=41]="gravestone_lostcity",e[e.backpack=42]="backpack",e[e.tent=43]="tent",e[e.eightiesarcadecabinet=44]="eightiesarcadecabinet",e[e.tile_liquid=45]="tile_liquid",e[e.sap=46]="sap",e[e.butter=47]="butter",e[e.goopuddle=48]="goopuddle",e[e.moltenpool=49]="moltenpool",e[e.lava=50]="lava",e[e.lilypad=51]="lilypad",e[e.deepwater=52]="deepwater",e[e.shallowwater=53]="shallowwater",e[e.goldtile=54]="goldtile",e[e.boulder_trap_falling_forward=55]="boulder_trap_falling_forward",e[e.boulder_trap_falling_backward=56]="boulder_trap_falling_backward",e[e.flame_spreader_trap=57]="flame_spreader_trap",e[e.amount=58]="amount",e}({}));e("GridItemFeature",(function(){this.CODENAME=""})),e("GridItem",n("GridItem")(l=function(e){function r(){for(var t,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).GridItemTypes=[],t._component=void 0,t}t(r,e),r.getGridItemEnumByCodeName=function(e){var t=NaN;return o.GridItemFeatures.forEach((function(r,a){isNaN(t)&&r.CODENAME==e&&(t=a)})),isNaN(t)?c.none:t},r.getGridItemEnumByRTID=function(e){if(!e)return 0;var t=e.concat(),r=t.indexOf("RTID("),a=t.indexOf("@GridItemTypes)"),i="";return-1!=r&&(i=t.slice(r+5,a)),this.getGridItemEnumByCodeName(i)};var a=r.prototype;return a.zombieSpawn=function(e,t){var r,a=null==(r=this._component)?void 0:r.spawnZombie(e,t);return null!=a&&a.length?a:[]},a.setGridItemType=function(e){this.GridItemTypes=e},a.register=function(){_.registerGridItem(this)},a.delete=function(){_.deleteGridItem(this)},r}(i))||l);r._RF.pop()}}}));

System.register("chunks:///_virtual/GridOctopus.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tomb.ts","./NodePools.ts","./SoundRescourses.ts"],(function(e){var n,i,t,o,r,a,s,l,u,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.AudioClip},function(e){l=e.Tomb},function(e){u=e.NodePools},function(e){c=e.sounds}],execute:function(){var p,d,f,y,h,b,m,S,D,v,A;r._RF.push({},"6425aH/u2xA45PTOsIA/BF8","GridOctopus",void 0);var P=a.ccclass,g=a.property;e("GridOctopus",(p=P("GridOctopus"),d=g([s]),f=g([s]),y=g([s]),h=g([s]),p((S=n((m=function(e){function n(){for(var n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(n=e.call.apply(e,[this].concat(r))||this).playedDie=!1,t(n,"tieSounds",S,o(n)),t(n,"idleSounds",D,o(n)),t(n,"explSounds",v,o(n)),t(n,"dropSounds",A,o(n)),n}i(n,e);var r=n.prototype;return r.selfDestroy=function(){this.playedDie||(this.playedDie=!0,this.db.playAnimation("Die"))},r.specialTombDieLater=function(e,n){null==n||n.unsheepen(),null!=n&&n.isInLawn()&&this.node.setParent(n.vinePoint,!0),n&&n.unsheepen()},r.removeSelfFromLnCOnDisable=function(){},r.specialTombDie=function(e,n){},r.specialTombOnEnable=function(){this.playedDie=!1},r.playParticle=function(e){},r.playBreak=function(){},r.playDestruction=function(){},r.playSpawnParticle=function(){},r.specialTombOnLnCSet=function(e,n){var i;this.dead||(n?(n.octopus!=this&&(null==(i=n.octopus)||i.die()),n.getAllPlants().forEach((function(e){e.sheepen()}))):this.die())},r.onLnCLeave=function(e){e.unsheepen()},r.animationListener=function(e){"Idle"==e.name?this.db.playAnimation("Idle",1/0):"die"==e.name?u.destroyPooly(this.node):"tie"==e.name?c.playArray(this.tieSounds,1,.2):"idle"==e.name?Math.random()>.5&&c.playArray(this.idleSounds,1,NaN,1.5):"expl"==e.name?c.playArray(this.explSounds,1,NaN,.1):"drop"==e.name&&c.playArray(this.dropSounds,1,NaN,.1)},n}(l)).prototype,"tieSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=n(m.prototype,"idleSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(m.prototype,"explSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=n(m.prototype,"dropSounds",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=m))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/GroundFire.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./NodePools.ts"],(function(t){var i,e,n,o,r,s,a;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy,o=t._decorator,r=t.Vec3},function(t){s=t.ParticleSelfdestroy},function(t){a=t.destroyPooly}],execute:function(){var l;n._RF.push({},"4eea59rJcFBK7blXRdNZ8tG","GroundFire",void 0);var d=o.ccclass;o.property,t("GroundFireColorEnum",function(t){return t[t.yellow=0]="yellow",t[t.green=1]="green",t}({})),t("GroundFireSpreadStyleEnum",function(t){return t[t.split=0]="split",t[t.left=1]="left",t[t.right=2]="right",t[t.cross=3]="cross",t}({})),t("GroundFire",d("GroundFire")(l=function(t){function n(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).db=void 0,i._height=20,i.horizontal=!0,i.spawnDelay=0,i.duration=10,i.dead=!1,i.inLnC=void 0,i}i(n,t);var o=n.prototype;return o.specialOnLoad=function(){this.height=20},o.specialOnEnable=function(){this.dead=!1,this.db.playAnimation("Spawn",1),this.spawnDelay>0&&(this.db.timeScale=0)},o.die=function(){this.dead||(this.dead=!0,this.db.playAnimation("Fade"))},o.animationOnComplete=function(t){this.dead&&a(this.node)},o.update=function(t){var i,e;(this.spawnDelay>0&&(this.spawnDelay-=t),this.spawnDelay<=0)&&(this.db.timeScale=1,null==(i=this.inLnC)||null==(i=i.iceTile)||i.die(),this.horizontal&&8==this.inLnC.cIndex&&(null==(e=this.inLnC)||null==(e=e.inLane)||null==(e=e.iceTile)||e.die()));this.duration>0&&this.spawnDelay<=0&&(this.duration-=t),this.duration<=0&&this.die()},e(n,[{key:"height",get:function(){return this._height},set:function(t){this._height=t,this.node.worldScale=new r(.24,.24*t/20,.24)}}]),n}(s))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/GroundFiresManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterManager.ts","./Square.ts","./Zombie.ts"],(function(n){var e,i,a,o,t,l,r,s,c;return{setters:[function(n){e=n.inheritsLoose},function(n){i=n.cclegacy,a=n._decorator,o=n.Vec2,t=n.Component},function(n){l=n.Rectangle},function(n){r=n.Square},function(n){s=n.ZombieDamageDetails,c=n.zombieDamageType}],execute:function(){var d,u;i._RF.push({},"8b17c4ftPhKSr6LGmdzBGzc","GroundFiresManager",void 0);var f=a.ccclass;a.property,n("GroundFiresManager",f("GroundFiresManager")(((u=function(n){function i(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))||this).jalapenoFires=[],e}e(i,n);var a=i.prototype;return a.onLoad=function(){i.component=this},a.registerJalapenoFire=function(n){-1==this.jalapenoFires.indexOf(n)&&this.jalapenoFires.push(n)},a.update=function(n){var e=this;this.jalapenoFires.concat().forEach((function(i){if(i.duration>0&&(i.duration-=n),i.groundFires.forEach((function(e){if(e.spawnDelay<=0&&!e.dead){var a,t,d;i.plantsIncluded&&e.inLnC.getAllPlants().forEach((function(e){!i.burnsFlying&&(e.flyingPlant||e.leapTween)||-1!=i.dealtPlants.indexOf(e)||(e.dealDamage((i.isDPS?n:1)*i.damage,3),!i.isDPS&&e.isAlive()&&i.dealtPlants.indexOf(e)&&i.dealtPlants.push(e))}));var u,f,p=e.inLnC.inLane.zombiePool();if(2==i.hypnoIncluded?p=p.concat(e.inLnC.inLane.hypnoZombiePool()):1==i.hypnoIncluded&&(p=e.inLnC.inLane.hypnoZombiePool()),p.length){var m=new s(i.damage*(i.isDPS?n:1),i.armorProtection,!1,!1,null,c.fire,!0,!0),h=l.createRectangleNodeCenter(e.inLnC.node,r.SquareDisW,r.SquareDisH);e.horizontal&&0==e.inLnC.cIndex?h=l.createRectangleSide(new o(e.inLnC.node.worldPosition.x+r.SquareDisW/2,e.inLnC.node.worldPosition.y),9*-r.SquareDisW,r.SquareDisH):e.horizontal&&8==e.inLnC.cIndex&&(h=l.createRectangleSide(new o(e.inLnC.node.worldPosition.x-r.SquareDisW/2,e.inLnC.node.worldPosition.y),9*r.SquareDisW,r.SquareDisH)),p.concat().forEach((function(n){n.flying&&!i.burnsFlying||-1!=i.zombieWhiteList.indexOf(n.ID)||-1!=i.dealtZombies.indexOf(n)||!h.judgeCrossRec(n.bodyRecReal)||(n.dealDamage(m),!i.isDPS&&n.isAlive()&&i.dealtZombies.push(n))}))}if(null==(a=e.inLnC)||null==(a=a.iceTile)||a.die(),e.inLnC&&(e.inLnC.iceblockPrepareLevel=0),e.horizontal&&8==e.inLnC.cIndex)null==(u=e.inLnC)||null==(u=u.inLane)||null==(u=u.iceTile)||u.die();if(null!=(t=e.inLnC)&&t.tombStone&&(!e.inLnC.tombStone.fly||i.burnsFlying)&&-1==i.dealtTombs.indexOf(null==(d=e.inLnC)?void 0:d.tombStone))e.inLnC.tombStone.dealDamage(i.damage*(i.isDPS?n:1)),!i.isDPS&&null!=(f=e.inLnC.tombStone)&&f.isAlive()&&i.dealtTombs.push(e.inLnC.tombStone)}})),i.isDPS||(i.dealtZombies.concat().forEach((function(n){if(!n.isAlive()){var e=i.dealtZombies.indexOf(n);i.dealtZombies.splice(e,1)}})),i.dealtTombs.concat().forEach((function(n){if(null==n||!n.isAlive()){var e=i.dealtTombs.indexOf(n);i.dealtTombs.splice(e,1)}})),i.dealtPlants.concat().forEach((function(n){if(null==n||!n.isAlive()){var e=i.dealtPlants.indexOf(n);i.dealtPlants.splice(e,1)}}))),i.duration<=0){var a=e.jalapenoFires.indexOf(i);e.jalapenoFires.splice(a,1)}}))},i}(t)).component=void 0,d=u))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/Guacodile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./Square.ts","./CharacterManager.ts","./NodePools.ts","./Peashooter.ts","./Character.ts"],(function(t){var o,i,n,e,a,r,s,l,h,c,d,u,f,p,b,g,y,m,S;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.AudioClip,h=t.Node,c=t.Prefab,d=t.Vec2},function(t){u=t.Plant,f=t.PlantProps},function(t){p=t.sounds},function(t){b=t.Square},function(t){g=t.Rectangle},function(t){y=t.NodePools},function(t){m=t.peaShooter},function(t){S=t.CharacterType}],execute:function(){var w,P,v,C,R,D,j,_,L,A,k,F,z,O,q,I,x,M,B,E,T,G,H,X;r._RF.push({},"c80f2Uo5SZBgJCspe4vLA8I","Guacodile",void 0);var N=s.ccclass,W=s.property,Y=function(t){function o(){for(var o,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return(o=t.call.apply(t,[this].concat(n))||this).ShootInterval=1.35,o.ShootIntervalAdditional=.15,o.PlantfoodTime=2,o.ChildrenBiteDamage=150,o.KnockbackDistance=2,o}return i(o,t),o}(f),K=(w=N("GuacodileSound"),P=W([l]),v=W([l]),C=W([l]),R=W([l]),w((_=o((j=function(){function t(){n(this,"shoot",_,this),n(this,"foodShoot",L,this),n(this,"foodCharge",A,this),n(this,"foodLand",k,this)}var o=t.prototype;return o.playShoot=function(){p.playArray(this.shoot,1,.1)},o.playFoodShoot=function(){p.playArray(this.foodShoot,1,.1)},o.playFoodCharge=function(){p.playArray(this.foodCharge,1,.2)},o.playFoodLand=function(){p.playArray(this.foodLand,1,.2)},t}()).prototype,"shoot",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=o(j.prototype,"foodShoot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=o(j.prototype,"foodCharge",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=o(j.prototype,"foodLand",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=j))||D);t("GuacodilePlant",(F=N("GuacodilePlant"),z=W(K),O=W(h),q=W(h),I=W(c),x=W(c),F((E=o((B=function(t){function o(){for(var o,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return o=t.call.apply(t,[this].concat(a))||this,n(o,"soundRes",E,e(o)),o._objdataOwn=new Y,n(o,"peaSpawnPoint",T,e(o)),n(o,"guaSpawnPoint",G,e(o)),n(o,"prj",H,e(o)),n(o,"prjFood",X,e(o)),o.foodLeftTime=2,o.detector=null,o.shootCD=0,o.shooting=!1,o}i(o,t);var r=o.prototype;return r.onObjdataSet=function(t,o){},r._shoot=function(t,o,i,n){void 0===t&&(t=this.prj),void 0===o&&(o=this.peaSpawnPoint.worldPosition.x),void 0===i&&(i=Math.max(1,this.peaSpawnPoint.worldPosition.y-this._worldPositionY)),void 0===n&&(n=15);var e=y.instantiatePooly(t);if(e){var a=m.shootOnePea(e,new d(o,this.worldPositionY),i,this.inLane.prjLayer,new d(n,0),S.zombie);return this.inLnC.havePeaBuff&&a.addPeaBuff(),this._dmgScale&&a.setDamage(a.damage_*this._dmgScale),a}},r.playDeathParticle=function(t){},r.animationListener=function(t){switch(t.name){case"shootSound":this.soundRes.playShoot();break;case"foodShootSound":this.soundRes.playFoodShoot();break;case"foodCharge":this.soundRes.playFoodCharge();break;case"foodLand":this.soundRes.playFoodLand();break;case"Shoot":this._shoot(this.prj);break;case"FoodShoot":this._rush(this.guaSpawnPoint.worldPosition.x)}},r.eat=function(t,o){this.kill()},r.specialPlantOnKilled=function(){var t=this;this._rush(this.worldPositionX,!0),this.scheduleOnce((function(){t.node.destroy()}),0)},r.burn=function(){this.kill()},r.onDamaged=function(t,o,i){t>0&&this.kill()},r.onCommonshotHit=function(t){return this.kill(),!0},r._rush=function(t,o){var i,n=this;void 0===t&&(t=this.worldPositionX),void 0===o&&(o=!1);var e=this._shoot(this.prjFood,t,Math.min(0,this.height_depth),8);e&&(e.damagePerHit=this._dmgScale*this.objdataOwn.ChildrenBiteDamage,o?(e.db.playAnimation("Spawn"),e.switching=!0):e.db.playAnimation("Idle"));var a=g.createRectangleSide(new d(this.worldPositionX-b.SquareDisW/2,this.worldPositionY),2*b.SquareDisW,2*b.SquareDisH);null==(i=this.inLane)||i.zombiePool().forEach((function(t){t.leapable&&a.judgeCrossRec(t.bodyRecReal)&&t.leapTo(new d(Math.max(t.worldPositionX,n.worldPositionX+b.SquareDisW*n.objdataOwn.KnockbackDistance),t.worldPositionY),!0,.5,20,!0,!1,!0)}))},r.divingStart=function(){this.isAlive()&&this.shooting&&(this.shooting=!1,this.fooding||this.anmControl.playRandom())},r.specialPlantFood=function(t){this.anmControl.playAnimation("FoodLoop",this.objdataOwn.PlantfoodTime,0,1)},r.specialPlantUpdateForce=function(t,o,i){},r.specialPlantOnSquareChange=function(t,o){this.setDetecter(t,o)},r.setDetecter=function(t,o){this.detector=g.createRectangleNodeSide(o.node,b.SquareDisW*(9-o.cIndex),b.SquareDisH)},r.detectEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.detector.judgeCrossRec(t[o].bodyRecForShooter))return!0;for(var i=this.inLane.tombPool(),n=0;n<i.length;n++)if(this.detector.judgeCrossRec(i[n].bodyRec))return!0;return!1},r.detectRushEnemies=function(t,o,i){if(t)for(var n=this.inLane.zombiePool(),e=0;e<n.length;e++)if(this.bodyRec.judgeCrossRec(n[e].bodyRec))return void this.kill()},r.specialPlantUpdate=function(t,o,i){this.shootCD>0&&(this.shootCD-=t),this.shootCD<=0&&!this.dead&&!this.fooding&&this.depth<=0&&(this.shootCD=0,i>0&&this.detectEnemy()&&this.shootAnimation()),this.isAlive()&&!this.invincible&&this.detectRushEnemies(t,o,i)},r.animationOnComplete=function(){this.shooting=!1,this.fooding&&this.foodEnd()},r.shootAnimation=function(){var t=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional;t*=this._cdScale,this.shootCD=t,this.anmControl.playAnimation("Shoot",1,.1*this._cdScale,Math.max(1,1.3/t)),this.shooting=!0},r.waterable=function(){return!this.shooting},a(o,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),o}(u)).prototype,"soundRes",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new K}}),T=o(B.prototype,"peaSpawnPoint",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=o(B.prototype,"guaSpawnPoint",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=o(B.prototype,"prj",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=o(B.prototype,"prjFood",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=B))||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/HeavenlyPeach.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./ParticleSelfdestroy.ts","./NodePools.ts","./SoundRescourses.ts"],(function(n){var i,t,a,e,o,l,r,s,c,u,h,d,f,p;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,a=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){o=n.cclegacy,l=n._decorator,r=n.AudioClip,s=n.Prefab},function(n){c=n.Plant,u=n.PlantProps},function(n){h=n.ParticleSelfdestroy},function(n){d=n.instantiatePooly,f=n.ArrayGet},function(n){p=n.sounds}],execute:function(){var y,P,b,g,v,m,S,w,C,D,H,E,A,L,R,F,x,O,z,_,j,I;o._RF.push({},"784dcobiGZOmZaqrOZR0BKq","HeavenlyPeach",void 0);var Z=l.ccclass,q=l.property,B=function(n){function i(){for(var i,t=arguments.length,a=new Array(t),e=0;e<t;e++)a[e]=arguments[e];return(i=n.call.apply(n,[this].concat(a))||this).PlantfoodDuration=10,i.HealthPerHeal=150,i.HealthPlantfoodHeal=450,i.HealInterval=10,i}return t(i,n),i}(u),G=(y=Z("heavenlypeachSound"),P=q([r]),b=q([r]),g=q([r]),y((S=i((m=function(){function n(){a(this,"foodStartSounds",S,this),a(this,"foodEndSounds",w,this),a(this,"foodRaySounds",C,this)}var i=n.prototype;return i.playFoodStart=function(){p.playArray(this.foodStartSounds,1,.1)},i.playFoodEnd=function(){p.playArray(this.foodEndSounds,1,.1)},i.playFoodRay=function(){p.playArray(this.foodRaySounds,1,.1)},n}()).prototype,"foodStartSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=i(m.prototype,"foodEndSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=i(m.prototype,"foodRaySounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=m))||v);n("HeavenlyPeachPlant",(D=Z("HeavenlyPeachPlant"),H=q(G),E=q(s),A=q(s),L=q(r),R=q([r]),D((O=i((x=function(n){function i(){for(var i,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return i=n.call.apply(n,[this].concat(o))||this,a(i,"soundRes",O,e(i)),i._objdataOwn=new B,a(i,"invinciblePar",z,e(i)),i.invinciblePars=[],a(i,"healingPar",_,e(i)),a(i,"healingSound",j,e(i)),a(i,"healingDripSounds",I,e(i)),i.healCD=0,i.foodCD=0,i.playingHeal=!1,i}t(i,n);var o=i.prototype;return o.specialPlantOnEnable=function(){this.invinciblePars=[],this.healCD=0,this.playingHeal=!1},o.heal3x3=function(n){var i=this;void 0===n&&(n=this._objdataOwn.HealthPerHeal),this.inLnC.get3x3().forEach((function(t){if(null!=t&&t.isInLawn()){var a=t.getAllPlants(),e=!1;if(a.forEach((function(i){i.health<i.toughness&&(i.heal(n),e=!0)})),e){var o=d(i.healingPar);o.parent=t.inLane.prjLayer,o.worldPosition=t.plantPoint.worldPosition}}})),p.play(this.healingSound),p.play(f.getRandom(this.healingDripSounds),1,.1)},o.detect3x3=function(){var n=!1;return this.inLnC.get3x3().forEach((function(i){!n&&i.isInLawn()&&i.getAllPlants().forEach((function(i){n||i.health<i.toughness&&(n=!0)}))})),n},o.animationOnComplete=function(){this.playingHeal=!1},o.animationListener=function(n){"foodEnd"==n.name?this.foodEnd():"heal"==n.name?this.heal3x3():"foodStart"==n.name&&(this.heal3x3(3*this._objdataOwn.HealthPlantfoodHeal),this.soundRes.playFoodRay())},o.specialPlantFood=function(n){this.anmControl.playAnimation("FoodStart",1),this.foodCD=this._objdataOwn.PlantfoodDuration,this.soundRes.playFoodStart()},o.specialPlantUpdateForce=function(n,i,t){var a=this;this.invinciblePars.concat().forEach((function(n){(!a.fooding||n.inLnC.getAllPlants().length<=0)&&(n.psd.db.playAnimation("Die"),a.invinciblePars.splice(a.invinciblePars.indexOf(n),1))}))},o.specialPlantFoodEnd=function(){this.invinciblePars.concat().forEach((function(n){n.psd.db.playAnimation("Die")})),this.invinciblePars=[]},o.waterable=function(){return!this.playingHeal},o.specialPlantUpdate=function(n,i,t){var a=this;if(this.fooding)this.foodCD>0&&(this.foodCD-=n,this.inLnC.get3x3().forEach((function(n){var i=n.getAllPlants(),t=i.length>0,e=!1;if(a.invinciblePars.concat().forEach((function(i){e||i.inLnC==n&&(e=!0,t||(i.psd.db.playAnimation("Die"),a.invinciblePars.splice(a.invinciblePars.indexOf(i),1)))})),i.forEach((function(n){n.countDownInvincible=2})),t&&!e){var o=d(a.invinciblePar);o.parent=n.inLane.prjLayer,o.worldPosition=n.plantPoint.worldPosition;var l=o.getComponent(h);l.db.playAnimation("Idle",1/0),a.invinciblePars.push({psd:l,inLnC:n})}})),this.foodCD<=0&&(this.anmControl.playAnimation("FoodEnd",1),this.soundRes.playFoodEnd()));else if(this.healCD>0&&(this.healCD-=n),this.healCD<=0&&this.detect3x3()){var e=this._objdataOwn.HealInterval*this._cdScale;this.anmControl.playAnimation("Heal",1,.1,Math.max(1,1/e)),this.playingHeal=!0,this.healCD=e}},i}(c)).prototype,"soundRes",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new G}}),z=i(x.prototype,"invinciblePar",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(x.prototype,"healingPar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(x.prototype,"healingSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(x.prototype,"healingDripSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=x))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/HomingThistle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./CharacterManager.ts","./SoundRescourses.ts","./Character.ts"],(function(o){var t,i,n,e,s,a,r,l,c,u,d,h,y,f,p;return{setters:[function(o){t=o.applyDecoratedDescriptor,i=o.inheritsLoose,n=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){s=o.cclegacy,a=o._decorator,r=o.AudioClip,l=o.Prefab,c=o.Vec2,u=o.TWO_PI},function(o){d=o.PeashooterPlant},function(o){h=o.TombPool,y=o.ZombiePool},function(o){f=o.sounds},function(o){p=o.CharacterType}],execute:function(){var m,b,g,S,P,v,w,T,_,z,F,A,E,H,R,V;s._RF.push({},"7bf93alJXlEGIcGkJdrzX2H","HomingThistle",void 0);var C=a.ccclass,L=a.property,M=o("homingThistleSound",(m=C("homingThistleSound"),b=L([r]),g=L([r]),S=L([r]),m((w=t((v=function(){function o(){n(this,"shootSound",w,this),n(this,"steadySound",T,this),n(this,"foodSound",_,this)}var t=o.prototype;return t.playShootSound=function(){f.playArray(this.shootSound,1,.1)},t.playSteadySound=function(){f.playArray(this.steadySound,1,.1)},t.playFoodSound=function(){f.playArray(this.foodSound,1,.1)},o}()).prototype,"shootSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(v.prototype,"steadySound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(v.prototype,"foodSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=v))||P));o("HomingThistlePlant",(z=C("HomingThistle"),F=L(M),A=L(l),z((R=t((H=function(o){function t(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return t=o.call.apply(o,[this].concat(s))||this,n(t,"soundResHomingThistle",R,e(t)),n(t,"peaFood",V,e(t)),t.css=[],t}i(t,o);var s=t.prototype;return s.setDetecter=function(o,t){},s.specialPlantOnEnable=function(){this.initialize(),this.css=[]},s.specialPlantFoodEnd=function(){this.busy=0},s.specialPlantFood=function(){this.busy=1/0,this.anmControl.playAnimation("FoodStart",0),this.soundResHomingThistle.playFoodSound()},s.detectEnemy=function(){return!!h.leftest()||!!y.bodyRecLeftest()},s._shootPeaAnimation=function(){this.anmControl.playAnimation("Shoot",1,.1,Math.max(1.35/this.busy,1)),this.soundResHomingThistle.playSteadySound()},s.specialPlantUpdate=function(o,t,i){var n=this;this.busy>0&&(this.busy-=o),this.busy<=0&&!this.dead&&(this.busy=0,i>0&&this.detectEnemy()&&this.startShooting());var e=y.bodyRecLeftest(),s=h.leftest();e?this.css.concat().forEach((function(t){if(t.dead||t.enemyType!=p.zombie){var i=n.css.indexOf(t);-1!=i&&n.css.splice(i,1)}else if(t.targetLocked=null==e?void 0:e.node,e){var s=new c(e._worldPositionX-t._worldPositionX,e._worldPositionY-t._worldPositionY),a=t.linearVelocity.signAngle(s),r=Math.sign(a)*u*o*2;!r||a/r<=1?t.linearVelocity=s.clone().normalize().multiplyScalar(t.linearVelocity.length()):t.linearVelocity.rotate(r)}})):s?this.css.concat().forEach((function(t){if(t.dead||t.enemyType!=p.zombie){var i=n.css.indexOf(t);-1!=i&&n.css.splice(i,1)}else{t.targetLocked=null==s?void 0:s.node;var e=new c(s._worldPositionX-t._worldPositionX,s._worldPositionY-t._worldPositionY),a=t.linearVelocity.signAngle(e),r=Math.sign(a)*u*o*2;!r||a/r<=1?t.linearVelocity=e.clone().normalize().multiplyScalar(t.linearVelocity.length()):t.linearVelocity.rotate(r)}})):this.css.concat().forEach((function(t){if(t.dead||t.enemyType!=p.zombie){var i=n.css.indexOf(t);-1!=i&&n.css.splice(i,1)}else{var e=-u*o*2;t.linearVelocity.rotate(e)}}))},s.shotInitialize=function(o){this.css.push(o),o.judgeZombieBodyRecForShooter=!1},s.animationListener=function(o){var t=this;if("Shoot"==o.name&&(this._shoot(),this.soundResHomingThistle.playShootSound()),"foodStart"==o.name){this.anmControl.playAnimation("Fooding",1/0);var i=0,n=this._objdataOwn.PlantfoodPeaCount;this.schedule((function(){t._shoot(!1,!1,t.peaFood,15,new c(Math.cos(i*u/n),Math.sin(i*u/n))),++i>=n&&t.anmControl.playAnimation("FoodEnd",1)}),1/n,n,.01)}"foodEnd"==o.name&&this.foodEnd()},t}(d)).prototype,"soundResHomingThistle",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new M}}),V=t(H.prototype,"peaFood",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=H))||E));s._RF.pop()}}}));

System.register("chunks:///_virtual/HotPotato.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./NodePools.ts"],(function(t){var n,o,i,e,a,r,l,s,u,c,p,h,d,P;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,l=t._decorator,s=t.AudioClip,u=t.Prefab,c=t.tween},function(t){p=t.Plant,h=t.PlantProps},function(t){d=t.sounds},function(t){P=t.NodePools}],execute:function(){var f,b,y,g,w,L,v,m,_,C,O,S,k,F;r._RF.push({},"3a0deW2I1xGIIP5Q+37OEri","HotPotato",void 0);var H=l.ccclass,j=l.property,A=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n}(h),I=(f=H("HotPotatoSound"),b=j([s]),f((w=n((g=function(){function t(){i(this,"attack",w,this)}return t.prototype.playAttack=function(){d.playArray(this.attack,1,.1)},t}()).prototype,"attack",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=g))||y);t("HotPotatoPlant",(L=H("HotPotatoPlant"),v=j(I),m=j(u),_=j(u),L((S=n((O=function(t){function n(){for(var n,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"soundRes",S,e(n)),n._objdataOwn=new A,i(n,"vapourPF",k,e(n)),i(n,"paddlePF",F,e(n)),n}o(n,t);var r=n.prototype;return r.onObjdataSet=function(t,n){},r.specialPlantOnEnable=function(){this.foodable=!1,this.invincible=!0,this.height=60},r.specialFloawerpotHeightScale=function(){return 0},r.specialPlantOnSquareChange=function(t,n){this.anmControl.playAnimation("Attack",1),this.soundRes.playAttack(),this.node.setParent(n.inLane.prjLayer,!0),this.die(!1,!0,!1,!1),this.height=this.objdataOwn.StartingHeight,n&&(n._hotpotato=this),t&&t._hotpotato==this&&(t._hotpotato=null)},r.specialPlantOnDisable=function(){this.inLnC&&this.inLnC._hotpotato==this&&(this.inLnC._hotpotato=null)},r.animationListener=function(t){var n=this;switch(t.name){case"melt":var o;null!=(o=this.plantInLnC)&&null!=(o=o.tombStone)&&o.hotpotato&&this.inLnC.tombStone.onHotPotatoed(2.5);var i=P.instantiatePooly(this.vapourPF);i.parent=this.inLane.prjLayer,i.worldPosition=this.worldPosition.toVec3(),c(this).to(2.5,{height:0},{easing:"quadInOut"}).call((function(){n.inLnC&&(n.inLnC._hotpotato=null);var t=P.instantiatePooly(n.paddlePF);t.parent=n.inLane.tombLayer,t.setSiblingIndex(0),t.worldPosition=n.worldPosition.toVec3()})).start();break;case"die":this.node.destroy()}},a(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(p)).prototype,"soundRes",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new I}}),k=n(O.prototype,"vapourPF",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=n(O.prototype,"paddlePF",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=O))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/Hurrikale.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./NodePools.ts"],(function(e){var t,i,n,r,a,o,l,u,s,c,p,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.AudioClip,u=e.Prefab},function(e){s=e.Plant,c=e.PlantProps},function(e){p=e.sounds},function(e){h=e.instantiatePooly,f=e.ArrayGet}],execute:function(){var d,P,b,y,w,v,m,S,g,L,z;a._RF.push({},"ffcd79hUvxHrq4UyrOtMG98","Hurrikale",void 0);var D=o.ccclass,k=o.property,H=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).PushDuration=3,t}return i(t,e),t}(c);e("HurrikalePlant",(d=D("HurrikalePlant"),P=k(l),b=k(l),y=k(u),w=k(u),d((S=t((m=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new H,n(t,"pushSound",S,r(t)),n(t,"prePushSound",g,r(t)),n(t,"upperParticle",L,r(t)),n(t,"lowerParticle",z,r(t)),t}i(t,e);var a=t.prototype;return a.specialPlantOnEnable=function(){this.anmControl.playAnimation("Attack",1),p.play(this.prePushSound,1,.1),this.invincible=!0,this.eaterDetectable=!1,this.smasherDetectable=!1,this.foodable=!1},a.animationListener=function(e){var t=this;if("die"==e.name)this.die(!0);else if("push"==e.name){var i;p.play(this.pushSound,.5,.1),null==(i=this.inLane)||i.setHurrikaleDuration(this._objdataOwn.PushDuration);var n=h(this.upperParticle),r=h(this.lowerParticle);n.parent=this.inLane.prjLayer,r.parent=this.inLane.zombieLayer,r.setSiblingIndex(0),[r,n].forEach((function(e){e.worldPosition=t.node.worldPosition,e.worldScale=t.node.worldScale}));var a=f.randomize(this.inLane.plantPool()),o=0;a.forEach((function(e,t){o>=4||e.blowStart()&&o++}))}},t}(s)).prototype,"pushSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(m.prototype,"prePushSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(m.prototype,"upperParticle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(m.prototype,"lowerParticle",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=m))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/HypnoShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./LnC.ts","./SoundRescourses.ts"],(function(n){var o,t,i,e,a,r,l,s,u,p,d,h;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,l=n.AudioClip},function(n){s=n.Plant,u=n.PlantProps},function(n){p=n.NodePools},function(n){d=n.LnCSpawnZombieStyleEnum},function(n){h=n.sounds}],execute:function(){var c,y,f,m,b,S,g,w,P,v,R,H,G,C,T,A,D,z;a._RF.push({},"867779XQtNKJIQ2AeRH9uvv","HypnoShroom",void 0);var _=r.ccclass,F=r.property,O=function(n){function o(){for(var o,t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return(o=n.call.apply(n,[this].concat(i))||this).HypnoedZombieDamageScale=.95,o}return t(o,n),o}(u),B=(c=_("hypnoshroomSound"),y=F(l),f=F(l),m=F(l),b=F(l),S=F(l),c((P=o((w=function(){function n(){i(this,"foodSound",P,this),i(this,"tranSound",v,this),i(this,"hypnoBGSound",R,this),i(this,"hyponoTurnSound",H,this),i(this,"transGargSound",G,this)}var o=n.prototype;return o.playFood=function(){h.play(this.foodSound,1,.1)},o.playTrans=function(){h.play(this.tranSound,1,.1)},o.playTransGarg=function(){h.play(this.transGargSound,1,.1)},o.playHypnoBG=function(){h.play(this.hypnoBGSound,1,.1)},o.playHyponoTurn=function(){h.play(this.hyponoTurnSound,1,.1)},n}()).prototype,"foodSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=o(w.prototype,"tranSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=o(w.prototype,"hypnoBGSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=o(w.prototype,"hyponoTurnSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=o(w.prototype,"transGargSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=w))||g);n("HypnoShroomPlant",(C=_("HypnoShroomPlant"),T=F(B),C((z=o((D=function(n){function o(){for(var o,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(o=n.call.apply(n,[this].concat(a))||this)._objdataOwn=new O,i(o,"soundRes",z,e(o)),o.fooded=!1,o}t(o,n);var a=o.prototype;return a.specialPlantOnEaten=function(n,o,t,i){var e=this;if(i<=0){if(this.fooded){var a;o.playDie(!0);var r=o.getGargantuarName();(null==(a=this.inLnC)?void 0:a.spawnZombie(r,d.fromLane)).forEach((function(n){n.hypno=!0,n.playPopOut(),n.worldPositionX=o.worldPositionX,n.dealDamageScale.push(e._objdataOwn.HypnoedZombieDamageScale)})),p.destroyPooly(o.node),this.soundRes.playTransGarg()}else o.hypno=!0,o.dealDamageScale.push(this._objdataOwn.HypnoedZombieDamageScale),this.soundRes.playTrans();this.soundRes.playHypnoBG(),this.soundRes.playHyponoTurn(),this.die(),this.node.destroy()}},a.specialPlantFood=function(n){this.soundRes.playFood(),this.anmControl.playAnimation("Food",1),this.fooded=!0,this.foodable=!1,this.anmControl.IdleAnim="Idle_Food",this.anmControl.RandomAnim=[]},a.waterable=function(){return!this.fooded},a.animationOnComplete=function(){this.fooding&&this.foodEnd()},a.specialPlantOnEnable=function(){this.fooded=!1,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"]},o}(s)).prototype,"soundRes",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new B}}),A=D))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/IceageDodoRiderZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./Plants.ts"],(function(t){var e,n,i,a,o,r,s,l,u,c,h,y,d,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.AudioClip},function(t){u=t.ZombieDamageDetails,c=t.zombieDamageType,h=t.Zombie,y=t.ZombieProps},function(t){d=t.sounds},function(t){p=t.plants}],execute:function(){var f,b,m,S,g,v,w,A,O,F,D,T,k,P,_,E,Z,q,z;r._RF.push({},"86cb7LiQt5N5qeAJaX6PYbP","IceageDodoRiderZombie",void 0);var C=s.ccclass,L=s.property,j=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).PlantsToFlyOver=["spikeweed","spikerock","iceburg","wallnut","potatomine","lavaguava","endurian","cactus","primalwallnut","primalpotatomine","escaperoot","murkadamia","tombtangler","vamporcini"],e.SquaresToFlyOver=1,e.SquaresToFlyOverAdditional=1,e}return n(e,t),e}(y);t("IceageDodoRiderZombie",(f=C("IceageDodoRiderZombie"),b=L([l]),m=L([l]),S=L([l]),g=L([l]),v=L([l]),w=L([l]),A=L([l]),O=L([l]),f((T=e((D=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"saySounds",T,a(e)),i(e,"sayExplSounds",k,a(e)),i(e,"sayFlyStartSounds",P,a(e)),i(e,"flapSounds",_,a(e)),i(e,"explSounds",E,a(e)),i(e,"hitSounds",Z,a(e)),i(e,"landSounds",q,a(e)),i(e,"flyStartSounds",z,a(e)),e._objdataOwn=new j,e.squaresToFlyOverCount=0,e.chewSoundWhenEat=!1,e.PlantsToFlyOver=[],e._bp0Slots=[],e._bp1Slots=[],e}n(e,t);var r=e.prototype;return r.specialAnimationListener=function(t){"fly"==t.name?(this.flying=!0,d.playArray(this.flyStartSounds,1,.1),d.playArray(this.sayFlyStartSounds,1,.1)):"say"==t.name?d.playArray(this.saySounds,1,.3):"land"==t.name?d.playArray(this.landSounds,1,.3):"hit"==t.name?d.playArray(this.hitSounds,1,.1):"expl"==t.name&&(d.playArray(this.explSounds,1,.3),d.playArray(this.sayExplSounds,1,.3),this.shadeAlphaScale=0)},r.onObjdataSet=function(t){var e,n=this;null==(e=this._objdataOwn.PlantsToFlyOver)||e.forEach((function(t){var e=p.getPlantEnumByString(t,!1);isNaN(e)||n.PlantsToFlyOver.push(e)}))},r.specialZombieOnEnable=function(){this.body.WalkAnm="Walk",this.replayAnimation(),this.body.DeathAnm="Death",this.shadeAlphaScale=1,this.onDamaged(this.toughness,this.toughness,new u)},r.detectFly=function(t){var e=this;if(t>0&&this.inLane){var n=this.inLane.laneLnCs.filter((function(t){return!!t.slider||(t.currentTileLiquid>0||(!t.isFloorOrDeck()||t.getAllPlants().some((function(t){return-1!=e.PlantsToFlyOver.indexOf(t.ID)}))))})),i=this.inLane.laneLnCs.filter((function(t){return!!t.zombieShields.some((function(t){return t.hypno!=e.hypno}))}));n.some((function(t){return e.plantDetectorRec.judgeCrossRec(t.rec)}))&&i.every((function(t){return!e.plantDetectorRec.judgeCrossRec(t.rec)}))?this.flyStart():this.flyEnd()}},r.specialZombieOnSquareChange=function(t,e){this.squaresToFlyOverCount--,this.squaresToFlyOverCount<=0&&this.flyEnd()},r.playSpecialZombieDie=function(t){this.judgeDeath(0)},r.onDamaged=function(t,e,n){var i=this;this._bp0Slots.forEach((function(t){t._setDisplayIndex(e<=2*i.toughness/3?0:-1)})),this._bp1Slots.forEach((function(t){t._setDisplayIndex(e<=i.toughness/3?0:-1)})),e<=0&&n.damageType==c.electricity&&(this.body.DeathAnm="Shock",d.playZombieShock(!1))},r.specialZombieOnLoad=function(){var t=this;this.body.body.armature().getSlots().forEach((function(e){e.name.includes("_bp0")?t._bp0Slots.push(e):e.name.includes("_bp1")&&t._bp1Slots.push(e)}))},r.ignorePlants=function(){return this.flying},r.flyStart=function(){this.switching||this.flying||(this.squaresToFlyOverCount=this.objdataOwn.SquaresToFlyOver+1+Math.ceil(this.objdataOwn.SquaresToFlyOverAdditional*Math.random()),this.switching=!0,this.body.WalkAnm="FlyLoop",this.correctShadeWP(),this.walking=!1,this.body.playAnimation("FlyStart"))},r.flyEnd=function(){!this.switching&&this.flying&&(this.squaresToFlyOverCount=0,this.switching=!0,this.body.WalkAnm="Walk",this.correctShadeWP(),this.walking=!1,this.body.playAnimation("FlyEnd"))},r.walkTimeScale=function(t,e,n){return this.flying?1:this.defaultWalkTimeScale(t,e,n)},r.specialZombieUpdateBeforePlantDetect=function(t,e,n){this.flying&&this.walking&&d.playArray(this.flapSounds,1,.42),this.switching||this.detectFly(t)},o(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(h)).prototype,"saySounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=e(D.prototype,"sayExplSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=e(D.prototype,"sayFlyStartSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=e(D.prototype,"flapSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=e(D.prototype,"explSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=e(D.prototype,"hitSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=e(D.prototype,"landSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=e(D.prototype,"flyStartSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=D))||F));r._RF.pop()}}}));

System.register("chunks:///_virtual/IceageGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./Zombies.ts"],(function(t){var e,a,n,h,i,s,r;return{setters:[function(t){e=t.inheritsLoose,a=t.createClass},function(t){n=t.cclegacy,h=t._decorator},function(t){i=t.GargantuarZombie,s=t.GargantuarProps},function(t){r=t.ZombieEnum}],execute:function(){var o;n._RF.push({},"bc934PXMqhNkKGvkm01tYqv","IceageGargantuarZombie",void 0);var p=h.ccclass,m=(h.property,function(t){function a(){for(var e,a=arguments.length,n=new Array(a),h=0;h<a;h++)n[h]=arguments[h];return(e=t.call.apply(t,[this].concat(n))||this).HealthPercentThrowImp0=.8,e.HealthPercentThrowImp1=.6,e.HealthPercentThrowImp2=.4,e.ChanceToReverseImp=.5,e}return e(a,t),a}(s));t("IceageGargantuarZombie",p("IceageGargantuarZombie")(o=function(t){function n(){for(var e,a=arguments.length,n=new Array(a),h=0;h<a;h++)n[h]=arguments[h];return(e=t.call.apply(t,[this].concat(n))||this).impEnum=r.iceage_imp,e._objdataOwn=new m,e._haveImp0=!0,e._imp0Slots=[],e._haveImp1=!0,e._imp1Slots=[],e._haveImp2=!0,e._imp2Slots=[],e}e(n,t);var h=n.prototype;return h.specialGargantuarAnimationListener=function(t){"getImp"==t.name&&(this.haveImp0?this.haveImp0=!1:this.haveImp1?this.haveImp1=!1:this.haveImp2&&(this.haveImp2=!1))},h.impOnThrow=function(t){Math.random()<this.objdataOwn.ChanceToReverseImp&&(t.reversed=!0)},h.specialGargantuarOnEnable=function(){this.haveImp0=!0,this.haveImp1=!0,this.haveImp2=!0},h.specialGargantuarOnLoad=function(){var t=this;this.db.armature().getSlots().forEach((function(e){e.name.includes("_IM0")?t._imp0Slots.push(e):e.name.includes("_IM1")?t._imp1Slots.push(e):e.name.includes("_IM2")&&t._imp2Slots.push(e)}))},h.haveImpFalse=function(){this.haveImp0||this.haveImp1||this.haveImp2||(this.haveImp=!1)},h.throwImpNow=function(){return this.haveImp0&&this.health<this.toughness*this.objdataOwn.HealthPercentThrowImp0||this.haveImp1&&this.health<this.toughness*this.objdataOwn.HealthPercentThrowImp1||this.haveImp2&&this.health<this.toughness*this.objdataOwn.HealthPercentThrowImp2},a(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"haveImp0",get:function(){return this._haveImp0},set:function(t){this._haveImp0=t,this._imp0Slots.forEach((function(e){e._setDisplayIndex(t?0:-1)}))}},{key:"haveImp1",get:function(){return this._haveImp1},set:function(t){this._haveImp1=t,this._imp1Slots.forEach((function(e){e._setDisplayIndex(t?0:-1)}))}},{key:"haveImp2",get:function(){return this._haveImp2},set:function(t){this._haveImp2=t,this._imp2Slots.forEach((function(e){e._setDisplayIndex(t?0:-1)}))}}]),n}(i))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/IceageHunterVeteranZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CabbagePult.ts","./NodePools.ts","./Character.ts","./Square.ts","./SoundRescourses.ts"],(function(o){var t,n,i,e,r,a,s,l,c,h,u,d,b,p,w,P,f,y;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,i=o.initializerDefineProperty,e=o.assertThisInitialized,r=o.createClass},function(o){a=o.cclegacy,s=o._decorator,l=o.AudioClip,c=o.Prefab,h=o.Node,u=o.Vec2},function(o){d=o.Zombie,b=o.ZombieProps},function(o){p=o.cabbagePult},function(o){w=o.NodePools},function(o){P=o.CharacterType},function(o){f=o.Square},function(o){y=o.sounds}],execute:function(){var g,m,v,C,L,j,R,I,S,D,X,O,Z;a._RF.push({},"393171sxfROdYQNzl3y/HH0","IceageHunterVeteranZombie",void 0);var z=s.ccclass,A=s.property,x=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return(t=o.call.apply(o,[this].concat(i))||this).LobInterval=3,t.LobIntervalAdditional=.5,t}return n(t,o),t}(b);o("IceageHunterVeteranZombie",(g=z("IceageHunterVeteranZombie"),m=A([l]),v=A([l]),C=A([l]),L=A(c),j=A(h),g((S=t((I=function(o){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=o.call.apply(o,[this].concat(r))||this)._objdataOwn=new x,t.lobCD=4,i(t,"swingSounds",S,e(t)),i(t,"rollSounds",D,e(t)),i(t,"cluckSounds",X,e(t)),i(t,"snowballPrj",O,e(t)),i(t,"snowSpawnPoint",Z,e(t)),t}n(t,o);var a=t.prototype;return a.specialZombieOnEnable=function(){this.lobCD=0},a.plantCanbeDetected=function(o){return!o.objdataOwn.ImmuneToIceblock&&o.eaterDetectable&&!o.short_&&!o.invincible&&!o.objdataOwn.CannotBeDetectedByCatapult&&this.judgeCharacterIsInRange(o.worldPositionX)&&!this.plantDetectorRec.judgeCrossRec(o.bodyRec)},a.detectPlant=function(o){this.lobCD>0||this.defaultDetectPlant(o)},a.specialAnimationListener=function(o){var t=this;if("throw"==o.name){if(!this.isAlive())return;var n=null,i=null;if(this.reversed){var e=-1/0;this.hypno||this.inLane.plantPool().forEach((function(o){var i=o.bodyRec.prjX().y;i>e&&o.worldPositionX>t.worldPositionX&&t.plantCanbeDetected(o)&&(n=o.node,e=i)})),(this.hypno?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).forEach((function(o){var r=o.bodyRec.prjX().x;r>e&&o.worldPositionX>t.worldPositionX&&(i=o,n=null,e=r)}))}else{var r=1/0;this.hypno||this.inLane.plantPool().forEach((function(o){var i=o.bodyRec.prjX().x;i<r&&o.worldPositionX<t.worldPositionX&&t.plantCanbeDetected(o)&&(n=o.node,r=i)})),(this.hypno?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).forEach((function(o){var e=o.bodyRec.prjX().x;e<r&&o.worldPositionX<t.worldPositionX&&(i=o,n=null,r=e)}))}(!n||(this.reversed?-1:1)*(n.worldPosition.x-this.worldPositionX)>0)&&(n=this.reversed?this.inLane.toRight:this.inLane.toLeft);var a=w.instantiatePooly(this.snowballPrj),s=this.hypno?P.zombie:P.plant;i?p.lobOneCabbageOnZombie(a,new u(this.snowSpawnPoint.worldPosition.x,this.worldPositionY),this.snowSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,i,2,s,!1):n&&p.lobOneCabbageOnNode(a,new u(this.snowSpawnPoint.worldPosition.x,this.worldPositionY),this.snowSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,n,2,s,!1)}else"throwSound"==o.name?(y.playArray(this.swingSounds,1,.2),y.playArray(this.cluckSounds,1,NaN)):"roll"==o.name?y.playArray(this.rollSounds,1,.5):"judgeSwitching"==o.name&&(this.lobCD>0?(this.switching=!1,this.walking=!1,this.isIdle=!1,this.playIdle()):this.switchingFalse())},a.playLob=function(){this.playIdle(),this.lobCD=Math.random()*this.objdataOwn.LobIntervalAdditional+this.objdataOwn.LobInterval,this.switching=!0,this.correctShadeWP(),this.body.playAnimation("Throw",1/0,.1)},a.judgeCharacterIsInRange=function(o){return this.reversed&&o>this.worldPositionX||!this.reversed&&o<this.worldPositionX},a.detectLobPlant=function(){var o=this;if(this.inLane&&!(!this.reversed&&this.worldPositionX>f.getSquareWorldPosition(0,8).x||this.reversed&&this.worldPositionX<f.getSquareWorldPosition(0,0).x)){var t=!1;this.hypno?(this.inLane.zombiePool().forEach((function(n){t||o.judgeCharacterIsInRange(n.worldPositionX)&&!n.bodyRec.judgeCrossRec(o.bodyRec)&&(t=!0)})),this.inLane.tombPool().forEach((function(n){t||o.judgeCharacterIsInRange(n.worldPositionX)&&!n.bodyRec.judgeCrossRec(o.bodyRec)&&(t=!0)}))):(this.inLane.plantPool().forEach((function(n){t||o.plantCanbeDetected(n)&&(t=!0)})),this.inLane.hypnoZombiePool().forEach((function(n){t||o.judgeCharacterIsInRange(n.worldPositionX)&&!n.bodyRec.judgeCrossRec(o.bodyRec)&&(t=!0)}))),t&&this.playLob()}},a.specialZombieUpdateBeforePlantDetect=function(o,t,n){this.lobCD>0&&!this.switching&&(this.lobCD-=o),this.lobCD<=0&&n>0&&(this.lobCD=0,this.isAlive()&&this.detectLobPlant())},r(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),t}(d)).prototype,"swingSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(I.prototype,"rollSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(I.prototype,"cluckSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(I.prototype,"snowballPrj",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(I.prototype,"snowSpawnPoint",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=I))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/IceageHunterZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./NodePools.ts","./Peashooter.ts","./Character.ts"],(function(e){var t,i,n,a,r,o,s,l,c,u,h,b,d,w,g,f,p,m,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){o=e.cclegacy,s=e._decorator,l=e.Prefab,c=e.Node,u=e.AudioClip,h=e.Vec2},function(e){b=e.Zombie,d=e.ZombieProps},function(e){w=e.Rectangle},function(e){g=e.Square},function(e){f=e.sounds},function(e){p=e.instantiatePooly},function(e){m=e.peaShooter},function(e){y=e.CharacterType}],execute:function(){var P,B,S,A,j,v,C,F,R,D,O,L,T;o._RF.push({},"6a25ct+7PNPmqgBF4SPbPYP","IceageHunterZombie",void 0);var k=s.ccclass,z=s.property,Z=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).FarAttackRange=4,t.NearAttackRange=1,t.SnowballsPerBarrage=3,t.TimeBeforeFirst=7,t.TimeBeforeFirstAddtional=2,t.TimeBetweenBarrages=9,t.TimeBetweenBarragesAddtional=3,t}return i(t,e),t}(d);e("IceageHunterZombie",(P=k("IceageHunterZombie"),B=z(l),S=z(c),A=z([u]),j=z([u]),v=z([u]),P((R=t((F=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"snowballPF",R,a(t)),n(t,"snowballPoint",D,a(t)),t._objdataOwn=new Z,t.barrageCD=0,t.leftBarrageBalls=0,n(t,"swingSounds",O,a(t)),n(t,"rollSounds",L,a(t)),n(t,"cluckSounds",T,a(t)),t}i(t,e);var o=t.prototype;return o.onObjdataSet=function(e){this.leftBarrageBalls=this.objdataOwn.SnowballsPerBarrage,this.barrageCD=this.objdataOwn.TimeBeforeFirst+Math.random()*this.objdataOwn.TimeBeforeFirstAddtional},o.detectSnowballEnemies=function(){if(!this.isAlive()||this.leftBarrageBalls<=0||this.barrageCD>0||!this.inLane||!this.enteredLawn)return!1;var e=this.objdataOwn.NearAttackRange,t=this.objdataOwn.FarAttackRange,i=w.createRectangleSide(new h(this.snowballPoint.worldPosition.x+(this.reversed?1:-1)*e*g.SquareDisW,this.inLane.midY),(t-e)*(this.reversed?1:-1)*g.SquareDisW,g.SquareDisH),n=!1;this.hypno?n=this.inLane.zombiePool().some((function(e){return i.judgeCrossRec(e.bodyRecForShooter)})):(n=this.inLane.plantPool().some((function(e){return!e.short&&!e.sheepend&&i.judgeCrossRec(e.bodyRec)})))||(n=this.inLane.hypnoZombiePool().some((function(e){return i.judgeCrossRec(e.bodyRecForShooter)})));return n},o.specialAnimationListener=function(e){if("throw"==e.name){if(!this.isAlive())return;this.leftBarrageBalls--,this.leftBarrageBalls<=0&&(this.barrageCD=this.objdataOwn.TimeBetweenBarrages+Math.random()*this.objdataOwn.TimeBetweenBarragesAddtional);var t=p(this.snowballPF);m.shootOnePea(t,new h(this.snowballPoint.worldPosition.x,this.worldPositionY),this.snowballPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,new h(15*(this.reversed?1:-1)),this.hypno?y.zombie:y.plant)}else"throwSound"==e.name?(f.playArray(this.swingSounds,1,.2),f.playArray(this.cluckSounds,1,NaN)):"roll"==e.name?f.playArray(this.rollSounds,1,.5):"judgeSwitching"==e.name&&(this.detectSnowballEnemies()?this.throwAnimation():this.switchingFalse())},o.throwAnimation=function(){this.switching=!0,this.walking=!1,this.body.playAnimation("Throw",1/0,.1)},o.specialZombieUpdate=function(e,t,i){this.switching||(this.barrageCD>0?this.barrageCD-=e:this.barrageCD<=0&&this.leftBarrageBalls<=0&&(this.leftBarrageBalls=this.objdataOwn.SnowballsPerBarrage),this.detectSnowballEnemies()&&this.throwAnimation())},r(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),t}(b)).prototype,"snowballPF",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(F.prototype,"snowballPoint",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(F.prototype,"swingSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(F.prototype,"rollSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(F.prototype,"cluckSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=F))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/IceageTroglobiteZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Square.ts","./Tombs.ts","./Zombies.ts","./LnC.ts","./SoundRescourses.ts","./levelController.ts","./CharacterManager.ts","./NodePools.ts"],(function(e){var t,n,i,o,r,s,a,c,u,h,l,d,p,b,f,w,m,g,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){s=e.cclegacy,a=e._decorator,c=e.AudioClip,u=e.Vec2},function(e){h=e.Zombie,l=e.ZombieProps},function(e){d=e.Square},function(e){p=e.TombEnum},function(e){b=e.zombies},function(e){f=e.LnCSpawnZombieStyleEnum},function(e){w=e.sounds},function(e){m=e.LevelPlay},function(e){g=e.Rectangle},function(e){S=e.ArrayGet}],execute:function(){var y,v,I,P,R,C,T,D,L;s._RF.push({},"26c52GNXhFP3a4HqsWBCW2x","IceageTroglobiteZombie",void 0);var O=a.ccclass,A=a.property,k=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).ImpTypes=["iceage_imp"],t.NumberOfIceblocksToSpawnWith=3,t}return n(t,e),t}(l);e("IceageTroglobiteZombie",(y=O("IceageTroglobiteZombie"),v=A([c]),I=A([c]),P=A([c]),y((T=t((C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this)._objdataOwn=new k,i(t,"pushSounds",T,o(t)),i(t,"pushChargeSounds",D,o(t)),i(t,"pushSaySounds",L,o(t)),t.icecubeDetector=new g,t}n(t,e);var s=t.prototype;return s.icecubeToPush=function(){var e=this;return this.inLane.icecubePool().find((function(t){return(e.reversed?t.canBePushedRight():t.canBePushedLeft())&&e.icecubeDetector.judgeCrossRec(t.bodyRec)}))},s.shouldSpeedScale=function(){return this.defaultShouldSpeedScale()*(this.displayed||this.enteredLawn?1:2)},s.specialAnimationListener=function(e){switch(e.name){case"pushSound":w.playArray(this.pushSaySounds,1,.5);break;case"push":if(this.isAlive()){var t=this.icecubeToPush();t&&(this.reversed?t.pushRight():t.pushLeft(),w.playArray(this.pushSounds,1,.2),w.playArray(this.pushChargeSounds,1,.2))}}},s.setIceCubeDetectorRec=function(){m.gameStarted&&this.bodyRecHiddenCD<=0&&this.isAlive()?this.icecubeDetector=g.createRectangleCenter(new u(this.shadeSocket.worldPosition.x+(this.plantDetectorRecOffset.x-40)*(this.reversed?-1:1),this._worldPosition.y+this.height_depth+this.plantDetectorRecOffset.y),this.plantDetectorRecSize.width,this.plantDetectorRecSize.height):this.icecubeDetector=g.createRectangleCenter(new u(1e4,1e4),1,1)},s.specialZombieUpdateBeforePlantDetect=function(e,t,n){this.setIceCubeDetectorRec(),this.icecubeToPush()&&this.walking&&(this.switching=!0,this.walking=!1,this.correctShadeWP(),this.body.playAnimation("Push",1/0,.5))},s.spawnAnIcecube=function(e,t){var n=this,i=d.addTomb(e.LaneIndex,t,p.iceblock_zombie,!1,!1,!1,!1);i&&d.getLnC(e.LaneIndex,0).spawnZombie(b.getZombieEnumByString(S.getRandom(this.objdataOwn.ImpTypes)),f.fromLane,!1,.5,0).forEach((function(e){e.worldPositionX=i.worldPositionX,e.worldPositionY=i.worldPositionY,e.judgeInLnC(),e.iceblock=i,e.hypno=n.hypno,e.reversed=n.reversed}));return i},s.onLaneSpawnSettled=function(e,t){var n=this;if(t&&e.isInLawn()){var i=this.cIndexReal;if(this.reversed){this.worldPositionX-=d.SquareDisW*this.objdataOwn.NumberOfIceblocksToSpawnWith;for(var o=this.cIndexReal,r=function(t){var i=e.tombPool().find((function(e){return e.cIndexReal==t}));i||(i=n.spawnAnIcecube(e,t))},s=i;s>o&&i-s<this.objdataOwn.NumberOfIceblocksToSpawnWith;s--)r(s)}else{this.worldPositionX+=d.SquareDisW*this.objdataOwn.NumberOfIceblocksToSpawnWith;for(var a=this.cIndexReal,c=function(t){var i=e.tombPool().find((function(e){return e.cIndexReal==t}));i||(i=n.spawnAnIcecube(e,t))},u=i;u<a&&u-i<this.objdataOwn.NumberOfIceblocksToSpawnWith;u++)c(u)}}},r(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),t}(h)).prototype,"pushSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(C.prototype,"pushChargeSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(C.prototype,"pushSaySounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=C))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/IceageWeaselHorderZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./levelController.ts","./CowboyChickenFarmerZombie.ts","./Zombies.ts"],(function(e){var a,i,n,t,r,o,s,l,u,c,h,d,p,y;return{setters:[function(e){a=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,t=e.assertThisInitialized,r=e.createClass},function(e){o=e.cclegacy,s=e._decorator,l=e.AudioClip},function(e){u=e.Zombie,c=e.ZombieProps},function(e){h=e.sounds},function(e){d=e.LevelPlay},function(e){p=e.ChickenThrower},function(e){y=e.zombies}],execute:function(){var b,w,f,g,m,S,W,v,A,k,I,Z,_,x,E,H,j;o._RF.push({},"0fe92ie+d9EnKI3ZBmlixFH","IceageWeaselHorderZombie",void 0);var z=s.ccclass,D=s.property,O=function(e){function a(){for(var a,i=arguments.length,n=new Array(i),t=0;t<i;t++)n[t]=arguments[t];return(a=e.call.apply(e,[this].concat(n))||this).WeaselTypeName="iceage_weasel",a.WeaselingHealthPercentage=.8,a.WeaselingDuration=2,a.WeaselingDurationVariance=1,a.WeaselingInterval=.2,a.WeaselingIntervalVariance=.1,a}return i(a,e),a}(c);e("IceageWeaselHorderZombie",(b=z("IceageWeaselHorderZombie"),w=D([l]),f=D([l]),g=D([l]),m=D([l]),S=D([l]),W=D([l]),v=D([l]),b((I=a((k=function(e){function a(){for(var a,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(a=e.call.apply(e,[this].concat(r))||this)._objdataOwn=new O,a._haveWeasel=!0,n(a,"weaselActionSounds",I,t(a)),n(a,"weaselEatSounds",Z,t(a)),n(a,"weaselSurpriseSounds",_,t(a)),n(a,"rotateSounds",x,t(a)),n(a,"explodeSounds",E,t(a)),n(a,"explodeSaySounds",H,t(a)),n(a,"walkSaySounds",j,t(a)),a}i(a,e);var o=a.prototype;return o.fallImmediatelyWhenHeavyDamaged=function(){return!this.haveWeasel},o.throwWeasels=function(){if(h.playArray(this.weaselActionSounds),this.isAlive()){var e=new p(y.getZombieEnumByString(this.objdataOwn.WeaselTypeName),this.objdataOwn.WeaselingDuration,this.objdataOwn.WeaselingDurationVariance,this.objdataOwn.WeaselingInterval,this.objdataOwn.WeaselingIntervalVariance,this.lIndex,this.worldPositionX);e.reversed=this.reversed,e.hypno=this.hypno,d.component.chickenThrowers.push(e)}},o.specialZombieOnEnable=function(){this.haveWeasel=!0},o.playSpecialZombieDie=function(e){this.haveWeasel&&(this.haveWeasel=!1,this.walking=!1,this.switching=!0,this.body.playAnimation("Explode",1/0))},o.specialAnimationListener=function(e){switch(e.name){case"walkSay":h.playArray(this.walkSaySounds,1,.2);break;case"rotate":h.playArray(this.rotateSounds,1);break;case"weaselEat":h.playArray(this.weaselEatSounds,1);break;case"expl":h.playArray(this.explodeSaySounds,1),h.playArray(this.explodeSounds,1,.1),h.playArray(this.weaselSurpriseSounds,1,.2);break;case"throw":this.throwWeasels()}},o.onDamaged=function(e,a,i){this.haveWeasel&&a<=this.toughness*this.objdataOwn.WeaselingHealthPercentage&&this.shouldSpeedScale()>0&&(this.haveWeasel=!1,this.walking=!1,this.switching=!0,this.body.playAnimation("Explode",1/0))},r(a,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"haveWeasel",get:function(){return this._haveWeasel},set:function(e){this.body.IdleAnm=e?"Idle_Hidden":"Idle",this.body.EatAnm=e?"Eat_Hidden":"Eat",this.body.WalkAnm=e?"Walk_Hidden":"Walk",this.replayAnimation(),this._haveWeasel=e}}]),a}(u)).prototype,"weaselActionSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=a(k.prototype,"weaselEatSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=a(k.prototype,"weaselSurpriseSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=a(k.prototype,"rotateSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=a(k.prototype,"explodeSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=a(k.prototype,"explodeSaySounds",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=a(k.prototype,"walkSaySounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=k))||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/IceageWeaselZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts"],(function(e){var i,t,n,o,a,r,c,s,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,c=e.AudioClip},function(e){s=e.Zombie},function(e){u=e.sounds}],execute:function(){var l,p,b,d,y,f,h;a._RF.push({},"0ca89YctcpDW7mHs1j09MxW","IceageWeaselZombie",void 0);var m=r.ccclass,S=r.property;e("IceageWeaselZombie",(l=m("IceageWeaselZombie"),p=S([c]),b=S([c]),l((f=i((y=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return i=e.call.apply(e,[this].concat(a))||this,n(i,"blopSounds",f,o(i)),n(i,"deathSaySounds",h,o(i)),i}t(i,e);var a=i.prototype;return a.playSpecialZombieDie=function(e){this.judgeDeath(0)},a.walkTimeScale=function(e,i,t){return t},a.specialAnimationListener=function(e){switch(e.name){case"blop":u.playArray(this.blopSounds,1,.2),u.playArray(this.deathSaySounds,1,.2)}},i}(s)).prototype,"blopSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=i(y.prototype,"deathSaySounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=y))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/iceageZombossGlacierMiddle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./Materials.ts","./NodePools.ts","./SoundRescourses.ts"],(function(t){var e,s,i,a,n,r,o,l,h,u,c,d,p,f,m,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,n=t.createClass},function(t){r=t.cclegacy,o=t._decorator,l=t.AudioClip,h=t.Prefab,u=t.Material,c=t.Vec4},function(t){d=t.Character},function(t){p=t.materialRes},function(t){f=t.instantiatePooly,m=t.NodePools},function(t){g=t.sounds}],execute:function(){var b,_,S,y,v,P,M;r._RF.push({},"4263c49YeNDnpi5nKSwtsxU","iceageZombossGlacierMiddle",void 0);var E=o.ccclass,w=o.property;t("iceageZombossGlacierMiddle",(b=E("iceageZombossGlacierMiddle"),_=w([l]),S=w(h),b((P=e((v=function(t){function e(){for(var e,s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).bp1_Slots=[],e.bp2_Slots=[],e.bp3_Slots=[],e.bp4_Slots=[],e.bp5_Slots=[],e.toughness=1750,e._health=1750,e.material=void 0,e.hurting=0,i(e,"revealSounds",P,a(e)),i(e,"destructionParticle",M,a(e)),e.master=void 0,e}s(e,t);var r=e.prototype;return r.characterOnLoadForced=function(){var t=this;this.db.armature().getSlots().forEach((function(e){e.name.includes("BP5")?t.bp5_Slots.push(e):e.name.includes("BP4")?t.bp4_Slots.push(e):e.name.includes("BP3")?t.bp3_Slots.push(e):e.name.includes("BP2")?t.bp2_Slots.push(e):e.name.includes("BP1")&&t.bp1_Slots.push(e)}));var e=new u;e.initialize({effectAsset:p.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=e,this.db.customMaterial=e},r.setToughness=function(t){this.toughness=t,this.health=this.toughness},r.characterOnEnable=function(){this.health=this.toughness,this.db.playAnimation("Spawn")},r.dealdamage=function(t){t.damage<=0||(this.hurting=20,this.health-=t.damage,this.health<=0&&this.die())},r.characterUpdate=function(t){this.hurting>0&&(this.hurting-=60*t),this.shouldMaterial()},r.shouldMaterial=function(){var t=new c(0,0,0,1),e=0;this.hurting>0&&(t.x+=this.hurting/60,t.y+=this.hurting/60,t.z+=this.hurting/60,e+=this.hurting/20);var s=this.material.passes[0].getHandle("addColor");this.material.passes[0].setUniform(s,t);var i=this.material.passes[0].getHandle("chillColor");this.material.passes[0].setUniform(i,0);var a=this.material.passes[0].getHandle("saturation");this.material.passes[0].setUniform(a,e);var n=this.material.passes[0].getHandle("holo");this.material.passes[0].setUniform(n,0),this.db.customMaterial=this.material},r.die=function(){var t;null==(t=this.master)||t.stunStart(6);var e=f(this.destructionParticle),s=this.node.parent;this.master&&(s=this.master.node.parent),e.parent=s,e.worldPosition=this.node.worldPosition,e.scale=this.node.scale,this.master&&(this.master.glacierM=null),this.master=null,g.playArray(this.revealSounds,1,.1),m.destroyPooly(this.node)},n(e,[{key:"health",get:function(){return this._health},set:function(t){var e=this;this.bp1_Slots.forEach((function(s){s._setDisplayIndex(t<e.toughness?0:-1)})),this.bp2_Slots.forEach((function(s){s._setDisplayIndex(t<4*e.toughness/5?0:-1)})),this.bp3_Slots.forEach((function(s){s._setDisplayIndex(t<3*e.toughness/5?0:-1)})),this.bp4_Slots.forEach((function(s){s._setDisplayIndex(t<2*e.toughness/5?0:-1)})),this.bp5_Slots.forEach((function(s){s._setDisplayIndex(t<1*e.toughness/5?0:-1)})),this._health=t}}]),e}(d)).prototype,"revealSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=e(v.prototype,"destructionParticle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=v))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/IceageZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./Square.ts","./Character.ts","./FrontYard.ts","./NodePools.ts","./iceageZombossGlacierMiddle.ts","./SoundRescourses.ts","./Tombs.ts","./GlacierBlock.ts","./Zombies.ts"],(function(e){var i,n,o,t,a,r,s,l,c,u,d,h,b,m,g,p,f,S,y,L,w;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Prefab,l=e.AudioClip,c=e.assetManager,u=e.Vec3},function(e){d=e.ZombossMechZombie},function(e){h=e.Square},function(e){b=e.Character},function(e){m=e.FrontYard},function(e){g=e.instantiatePooly,p=e.ArrayGet},function(e){f=e.iceageZombossGlacierMiddle},function(e){S=e.sounds},function(e){y=e.TombEnum},function(e){L=e.GlacierBlock},function(e){w=e.ZombieEnum}],execute:function(){var k,v,C,_,M,Z,R,A,P,z,E,D,I,U,x,N,B,T,O,F,G,j,H,q,W,Y,V,X,J,Q,K,$,ee,ie,ne,oe,te,ae,re,se,le;a._RF.push({},"747a1aL2+xLZqsGiMFQ/mS6","IceageZombossMechZombie",void 0);var ce=r.ccclass,ue=r.property;e("IceageZombossMechZombie",(k=ce("IceageZombossMechZombie"),v=ue(s),C=ue(s),_=ue(s),M=ue([l]),Z=ue([l]),R=ue([l]),A=ue([l]),P=ue([l]),z=ue([l]),E=ue([l]),D=ue(l),I=ue([l]),U=ue([l]),x=ue([l]),N=ue([l]),B=ue([l]),T=ue([l]),O=ue([l]),F=ue(s),k((H=i((j=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return i=e.call.apply(e,[this].concat(a))||this,o(i,"glacierUp",H,t(i)),i.glacierU=void 0,o(i,"glacierMid",q,t(i)),i.glacierM=void 0,o(i,"glacierDown",W,t(i)),i.glacierD=void 0,o(i,"prjCreateSounds",Y,t(i)),o(i,"introSounds",V,t(i)),o(i,"introRoarSounds",X,t(i)),o(i,"shootBounceSounds",J,t(i)),o(i,"shootRoarSounds",Q,t(i)),o(i,"stunEndSounds",K,t(i)),o(i,"summonEndSaySounds",$,t(i)),o(i,"summonLoopSound",ee,t(i)),o(i,"summonStartHitSounds",ie,t(i)),o(i,"tubeSteelExtendSounds",ne,t(i)),o(i,"tubeSteelHitSounds",oe,t(i)),o(i,"tubeSteelReturnSounds",te,t(i)),o(i,"tubeSummonExtendSounds",ae,t(i)),o(i,"tubeSummonReturnSounds",re,t(i)),o(i,"windRoarSounds",se,t(i)),i.zombieList=[[],[w.iceage_basic,w.iceage_weasel,w.iceage_imp,NaN],[w.iceage_basic,w.iceage_imp,NaN],[w.iceage_basic,w.iceage_imp],[w.iceage_basic,w.iceage_hunter,w.iceage_helmet],[w.iceage_helmet,w.iceage_hunter,w.iceage_dodo],[w.iceage_helmet,w.iceage_hunter,w.iceage_dodo],[w.iceage_helmet,w.iceage_hunter,w.iceage_dodo]],i.zombieList2=[[],[w.iceage_basic,w.iceage_weasel,w.iceage_imp,NaN],[w.iceage_basic,w.iceage_imp],[w.iceage_basic,w.iceage_imp],[w.iceage_basic,w.iceage_hunter,w.iceage_helmet],[w.iceage_bricks,w.iceage_hunter_veteran,w.iceage_dodo],[w.iceage_bricks,w.iceage_hunter_veteran,w.iceage_dodo],[w.iceage_bricks,w.iceage_hunter_veteran,w.iceage_dodo]],i.glacierMToughness=1750,i.glacierMToughness2=2250,o(i,"glacierSpawnPar",le,t(i)),i}n(i,e);var a=i.prototype;return a.stunRollBack=function(e){this.glacierM&&(this.glacierM.master=null,this.glacierM.die(),this.glacierM=null)},a.specialZombossOnLoad=function(){var e=this;this.summonLoopSound&&c.loadRemote(this.summonLoopSound.nativeUrl,{audioLoadMode:l.AudioType.DOM_AUDIO},(function(i,n){n&&(e.summonLoopSound=n)}))},a.knockBackBy=function(e,i,n,o,t,a){return this.worldPosition},a.knockBackTo=function(e,i,n,o,t){return this.worldPosition},a.walkD=function(){},a.walkR=function(){},a.walkU=function(){},a.walkL=function(){},a.jump=function(e){},a.deathJump=function(){this.explodeAnimation()},a.specialZombossDieForce=function(){this.stunRollBack(0)},a.moveFromLaneToLane=function(e,i){var n,o;if(this.isAlive()){for(var t=0;t<5;t++)h.getLaneComponent(t).deleteZombie(this);null==i||i.addZombie(this),null==i||null==(n=i.UpperLane)||n.addZombie(this),null==i||null==(o=i.LowerLane)||o.addZombie(this),this.node.setSiblingIndex(0)}},a.getIdleC=function(){return this.cIndex},a.specialZombieSetLaneChangeParent=function(e,i){var n=null==i?void 0:i.LowerLane;null!=n&&n.plantUpperLayer?this.node.setParent(n.plantUpperLayer):null!=i&&i.plantUpperLayer&&this.node.setParent(i.plantUpperLayer)},a.windLane=function(e){var i=this,n=h.getLaneComponent(e);if(n)for(var o=0;o<=this.mechToChoose;o++){var t=n.chillWind(this.reversed,.02);t.PSD.node.position=t.PSD.node.position.add(new u(700*(this.reversed?1:-1),0,0)),(this.hypno?n.zombiePool():n.hypnoZombiePool()).forEach((function(e){e.setFreeze(6,!0),e.setChill(6),e.flying&&e.blowAway("quadIn",1,!1,!i.reversed)}))}},a.setLnCsOccupied=function(){for(var e=this,i=function(i){(e.reversed?[0,1,2]:[6,7,8]).forEach((function(e){h.getLnC(i,e).setOccupied(.1)}))},n=0;n<5;n++)i(n)},a.killInRange=function(){},a.specialZombossUpdateForce=function(e,i,n,o){var t=this;if(this.isAlive()){var a=this.iceageZombossIdleLnC();this.inLnC!=a&&(this.worldPositionX=a.node.worldPosition.x,this.worldPositionY=a.node.worldPosition.y,this.judgeInLnC()),this.glacierU||(this.glacierU=g(this.glacierUp).getComponent(b),this.glacierU.node.parent=h.getLaneComponent(0).tombLayer,this.glacierU.node.setSiblingIndex(0)),this.glacierD||(this.glacierD=g(this.glacierDown).getComponent(b),this.glacierD.node.parent=h.getLaneComponent(4).tombLayer,this.glacierD.node.setSiblingIndex(0)),[this.glacierU,this.glacierD,this.glacierM].forEach((function(e){e&&(e.worldPosition=t.worldPosition,e.scale=t.scale)}))}},a.specialZombossUpdate=function(e,i,n){},a.iceageZombossIdleLnC=function(){return h.getLnC(2,this.reversed?2:6)},a.shouldDepth=function(){return this.glacierM?0:m.depth(this._worldPositionX,this.inLnC)*this.depthScale},a.specialZombossOnDisable=function(){[this.glacierU,this.glacierM,this.glacierD].forEach((function(e){null==e||e.fadeAway()})),this.glacierU=null,this.glacierM=null,this.glacierD=null},a.specialZombossMechAnimationListener=function(e){switch(e.name){case"windBreathe":S.playArray(this.windRoarSounds,1,.1);break;case"wind01":this.windLane(0),this.windLane(1);break;case"wind12":this.windLane(1),this.windLane(2);break;case"wind23":this.windLane(2),this.windLane(3);break;case"wind34":this.windLane(3),this.windLane(4);break;case"summonReady":S.playArray(this.tubeSummonExtendSounds,1,.1);break;case"tubeExpand":S.playArray(this.tubeSteelExtendSounds,1,.1);break;case"summonStart":S.playArray(this.summonStartHitSounds,1,.1),S.playArray(this.tubeSteelHitSounds,1,.1),this.audioSource.clip=this.summonLoopSound,this.audioSource.loop=!0,this.audioSource.play();break;case"summonStop":this.audioSource.stop();break;case"summonEnd2":S.playArray(this.summonEndSaySounds,1,.1);break;case"steelReturn":S.playArray(this.tubeSteelReturnSounds,1,.1);break;case"tubeSummonReturn":S.playArray(this.tubeSummonReturnSounds,1,.1);break;case"stunEndSound":S.playArray(this.stunEndSounds,1,.1);break;case"glacierM":this.createGlacierM(),this.blocksExtend();break;case"introSound":S.playArray(this.introSounds,1,.1);break;case"introRoarSound":S.playArray(this.introRoarSounds,1,.1);break;case"shootStartSound":S.playArray(this.shootRoarSounds,1,.1);break;case"prjCreate":S.playArray(this.prjCreateSounds,1,.1);break;case"shootSound":S.playArray(this.shootBounceSounds,1,.1);break;default:e.name.includes("block")&&this.readBlockCommand(e.name.replace("block",""))}},a.dealDamage=function(e){return this.glacierM?(this.glacierM.dealdamage(e),this.health):this.defaultZombossDealdamage(e)},a.readBlockCommand=function(e){var i=+e[0],n=+e[1];isNaN(i)||isNaN(n)||this.blockOnPos(i,n)},a.specialZombieOnSquareChange=function(e,i){this.createGlacierM()},a.stabAnimation=function(){this.willRush=!1,this.idling=!1,this.body.playAnimation(p.getRandom(["Wind01","Wind12","Wind23","Wind34"]))},a.createGlacierM=function(){if(!this.glacierM){var e=this.iceageZombossIdleLnC();this.glacierM=g(this.glacierMid).getComponent(f),this.glacierM.node.parent=h.getLaneComponent(1).tombLayer,this.glacierM.node.setSiblingIndex(0),this.glacierM.worldPosition=e.node.worldPosition.toVec2(),this.glacierM.master=this,this.glacierM.setToughness(1==this.mechToChoose?this.glacierMToughness2:this.glacierMToughness);var i=g(this.glacierSpawnPar);i.parent=this.node.parent,i.scale=this.node.scale,i.worldPosition=e.node.worldPosition}},a.getBlockableLnCFromLane=function(e){return(this.reversed?e.laneLnCs.concat():e.laneLnCs.concat().reverse()).find((function(e,i){return 0!=i&&1!=i&&2!=i&&8!=i&&!e.tombStone}))},a.stunEnd=function(){this.defaultZombossStunEnd(),this.isAlive()||this.explodeAnimation()},a.blockOnPos=function(e,i){this.reversed&&(i=8-i);var n=h.getLnC(e,i);null!=n&&n.isInLawn()&&this.blockOnLnC(n)},a.blockOnLnC=function(e){var i,n;if(!(e.occupied>0)){e.getAllPlants().forEach((function(e){var i;e.die(!0,!0,!1),null==(i=e.node)||i.destroy()}));var o=null==(i=e.addTomb(y.glacier_block,!1,!1,!1,!0))?void 0:i.getComponent(L);o&&(o.reversed=this.reversed,o.hypno=this.hypno,o.zombieList=1==this.mechToChoose?this.zombieList2:this.zombieList,o.setInLnC(o.tombInLnC)),(this.hypno?e.inLane.zombiePool():e.inLane.hypnoZombiePool()).forEach((function(i){i.bodyRecReal.judgeCrossRec(e.rec)&&(i.setFreeze(6,!0),i.setChill(6))})),(null==(n=e.tombStone)?void 0:n.ID)==y.glacier_block&&e.tombStone.heal(e.tombStone.toughness)}},a.blocksExtend=function(){for(var e=0;e<5;e++){var i=h.getLaneComponent(e),n=this.getBlockableLnCFromLane(i);n&&this.blockOnLnC(n),this.mechToChoose>0&&this.windLane(e)}},a.detectRushEnemies=function(){return!0},a.summonAnimation=function(){if(this.isAlive()){for(var e=NaN,i=5;i>0;i--){for(var n=this.reversed?8-i:i,o=0;o<5;o++){var t=h.getLnC(o,n);if(t.tombable(!0,!1)&&t.occupied<=0){e=i;break}}if(!isNaN(e))break}console.log(e),isNaN(e)||(this.idling=!1,this.body.playAnimation("Summon"+e.toString(),1/0),Math.random()<this.laughterRate&&this.playOneShot(p.getRandom(this.worldZombossShootSaySounds),1,!0),this.shooting=!0)}},i}(d)).prototype,"glacierUp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=i(j.prototype,"glacierMid",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(j.prototype,"glacierDown",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=i(j.prototype,"prjCreateSounds",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=i(j.prototype,"introSounds",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=i(j.prototype,"introRoarSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=i(j.prototype,"shootBounceSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=i(j.prototype,"shootRoarSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=i(j.prototype,"stunEndSounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=i(j.prototype,"summonEndSaySounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=i(j.prototype,"summonLoopSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=i(j.prototype,"summonStartHitSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=i(j.prototype,"tubeSteelExtendSounds",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=i(j.prototype,"tubeSteelHitSounds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=i(j.prototype,"tubeSteelReturnSounds",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=i(j.prototype,"tubeSummonExtendSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=i(j.prototype,"tubeSummonReturnSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=i(j.prototype,"windRoarSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=i(j.prototype,"glacierSpawnPar",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=j))||G));a._RF.pop()}}}));

System.register("chunks:///_virtual/IcebergLettuce.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./levelController.ts","./SoundRescourses.ts"],(function(e){var o,t,n,r,i,a,l,s,c,u,h,f,d,p,b,C,y;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.AudioClip,s=e.CCFloat,c=e.Color,u=e.tween},function(e){h=e.Plant,f=e.PlantProps},function(e){d=e.Rectangle,p=e.ZombiePool},function(e){b=e.Square},function(e){C=e.LevelPlay},function(e){y=e.sounds}],execute:function(){var m,g,z,S,w,v,D,P,R,L,j,E,F;i._RF.push({},"c95deH5SAZNJKYtUXfY8hsa","IcebergLettuce",void 0);var T=a.ccclass,q=a.property,x=function(e){function o(){for(var o,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(o=e.call.apply(e,[this].concat(n))||this).FreezeDuration=10,o.ChillDuration=0,o}return t(o,e),o}(f);e("IcebergLettucePlant",(m=T("IcebergLettuce"),g=q(l),z=q(l),S=q(s),w=q(c),v=q(c),m((R=o((P=function(e){function o(){for(var o,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return o=e.call.apply(e,[this].concat(i))||this,n(o,"foodSound",R,r(o)),n(o,"foodBlastSound",L,r(o)),o._objdataOwn=new x,n(o,"chillDuration",j,r(o)),n(o,"freezeColor1",E,r(o)),n(o,"freezeColor2",F,r(o)),o.detector=void 0,o.screenColor=new c(0,0,0,0),o.screenColorTween=void 0,o}t(o,e);var i=o.prototype;return i.specialPlantOnEnable=function(){this.eatDamagable=!1,this.eaterDetectable=!1,this.smasherDetectable=!1,this.screenColorTween=null},i.specialPlantFood=function(e){this.anmControl.playAnimation("Food",1,0,.8),y.play(this.foodSound,1,.1),this.screenColor=new c(this.freezeColor1.r,this.freezeColor1.g,this.freezeColor1.b,0);var o=u(this.screenColor).to(.5/this.anmControl.body.timeScale,{a:this.freezeColor1.a}).start();this.screenColorTween=o,this.bodyTweens.push(o)},i.freezeZombie=function(e){e.setFreeze(this._objdataOwn.FreezeDuration),e.setChill(this._objdataOwn.ChillDuration)},i.specialPlantOnSquareChange=function(e,o){this.detector=d.createRectangleNodeCenter(o.node,.5*b.SquareDisW,b.SquareDisH)},i.specialPlantLateUpdate=function(e){this.screenColor.a>0&&this.screenColorTween&&C.screenFlashColors.push(this.screenColor)},i.animationListener=function(e){var o=this;if("explode"==e.name){var t,n=d.createRectangleNodeCenter(this.inLnC.node,b.SquareDisW,b.SquareDisH),r=null,i=[];null==(t=this.inLane)||t.zombiePool().forEach((function(e){!e.flying&&e.setFreeze(-1)&&e.bodyRec.judgeCrossRec(n)&&(!r||r.bodyRec.prjX().x>e.bodyRec.prjX().x)&&(e.shouldSpeedScale()*e.randomSpeed>0?r=e:i.push(e))})),r||i.forEach((function(e){(!r||r.bodyRec.prjX().x>e.bodyRec.prjX().x)&&(r=e)})),r&&this.freezeZombie(r)}if("foodExplode"==e.name){y.play(this.foodBlastSound,1,.1),p.pool().concat().forEach((function(e){e.flying||o.freezeZombie(e)}));var a=u(this.screenColor).to(1/60/this.anmControl.body.timeScale,{r:this.freezeColor2.r,g:this.freezeColor2.g,b:this.freezeColor2.b,a:this.freezeColor2.a}).to(1/4/this.anmControl.body.timeScale,{a:0}).call((function(){o.screenColorTween=null})).start();this.bodyTweens.push(a),this.screenColorTween=a}"foodEnd"==e.name&&this.foodEnd()},i.detectEnemy=function(){var e,o=this,t=!1;null==(e=this.inLane)||e.zombiePool().forEach((function(e){t||e.shouldSpeedScale()*e.randomSpeed>0&&!e.flying&&e.bodyRec.judgeCrossRec(o.detector)&&(t=!0)})),t&&this.die()},i.specialPlantUpdate=function(e,o,t){this.fooding||this.sheepend||this.detectEnemy()},o}(h)).prototype,"foodSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=o(P.prototype,"foodBlastSound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=o(P.prototype,"chillDuration",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=o(P.prototype,"freezeColor1",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0,0,0,0)}}),F=o(P.prototype,"freezeColor2",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0,0,0,0)}}),D=P))||D));i._RF.pop()}}}));

System.register("chunks:///_virtual/Icetile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterManager.ts","./NodePools.ts","./Square.ts"],(function(t){var e,n,i,o,s,l,a,r,h,c,d;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.UITransform,s=t.tween,l=t.Sprite,a=t.Color,r=t.Component},function(t){h=t.Icetiles},function(t){c=t.NodePools},function(t){d=t.Square}],execute:function(){var u;n._RF.push({},"9855dVIa2dFjLIZERgm5/ph","Icetile",void 0);var p=i.ccclass;i.property,t("Icetile",p("Icetile")(u=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).master=null,e.length=0,e.dead=!1,e.lane=void 0,e.lnc=void 0,e}e(n,t);var i=n.prototype;return i.onDisable=function(){this.getComponent(o).width=0,this.length=0},i.onEnable=function(){h.registerIce(this),this.dead=!1},i.die=function(){var t=this;this.dead||(this.dead=!0,s(this.node.getComponent(l).color).to(.5,{a:0}).call((function(){t.length=0,t.getComponent(o).width=0,t.node.getComponent(l).color=new a(255,255,255,255),c.destroyPooly(t.node)})).start(),this.master&&(this.master=null),this.lnc&&(this.lnc.inLane.deleteIceTile(this),this.lnc.iceTile=null,this.lnc.readIndex(),this.lnc=null),this.lane&&(this.lane.deleteIceTile(this),this.lane.iceTile=null,this.lane=null),h.deleteIce(this))},i.update=function(t){if(!this.dead&&this.master&&this.master.isAlive()){var e=(this.lane?2:1)*d.SquareDisW;this.length=Math.min(e,Math.max(this.node.worldPosition.x-this.master.node.worldPosition.x,this.length))}this.dead||(this.getComponent(l).color=new a(255,255,255,255));var n=164.5*this.length/d.SquareDisW;this.getComponent(o).width=n},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/Imitater.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Plants.ts","./SoundRescourses.ts","./NodePools.ts","./levelController.ts"],(function(t){var n,i,e,a,l,r,s,o,u,h,c,p,d,m;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,s=t.AudioClip,o=t.Color,u=t.tween},function(t){h=t.Plant},function(t){c=t.PlantEnum},function(t){p=t.sounds},function(t){d=t.ArrayGet},function(t){m=t.LevelPlay}],execute:function(){var I,f,y,v,P;l._RF.push({},"5b8e0YOZhdAJ4Rb0eBnr91b","Imitater",void 0);var C=r.ccclass,S=r.property;t("ImitaterPlant",(I=C("ImitaterPlant"),f=S(s),I((P=n((v=function(t){function n(){for(var n,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return(n=t.call.apply(t,[this].concat(l))||this).willImitateID=NaN,e(n,"imitateSound",P,a(n)),n.played=!1,n}i(n,t);var l=n.prototype;return l.specialPlantOnEnable=function(){this.invincible=!0,this.played=!1,this.willImitateID=NaN},l.shouldSpeedScale=function(){return 1},l.specialPlantOnSquareChange=function(t,n){var i,e;this.played||(this.anmControl.playAnimation("Death",1),this.played=!0,isNaN(this.willImitateID)&&(this.die(!1,!1,!1),-1==(null==(i=this.plantInLnC)||null==(i=i.imitaterInSquare)?void 0:i.indexOf(this))&&(null==(e=this.plantInLnC)||null==(e=e.imitaterInSquare)||e.push(this))))},l.waterable=function(){return!1},l.getRandomPlantID=function(){for(var t=[],n=0;n<c.amount;n++)t.push(n);for(var i=d.randomize(t),e=0;e<i.length;e++){var a,l=i[e];if(-1==m.component.imitaterExcludePlantList.indexOf(l)&&null!=(a=this.plantInLnC)&&a.putPlantAvailable(!0,l)&&l!=this.ID)return l}return NaN},l.specialPlantOnDisable=function(){var t=this.plantInLnC.imitaterInSquare.indexOf(this);-1!=t&&this.plantInLnC.imitaterInSquare.splice(t,1)},l.animationListener=function(t){if("showPlant"==t.name){if(this.die(!1,!1,!1),isNaN(this.willImitateID)&&(this.willImitateID=this.getRandomPlantID()),!isNaN(this.willImitateID)){var n=this.plantInLnC.spawnPlantByPlantEnum(this.willImitateID,!0,!0,!1,!0);n&&(n.anmControl.body.color=new o(255,255,255,0),u(n.anmControl.body.color).to(.5,{a:255}).start()),this.node.setSiblingIndex(this.node.parent.children.length)}var i=this.plantInLnC.imitaterInSquare.indexOf(this);-1!=i&&this.plantInLnC.imitaterInSquare.splice(i,1)}else if("die"==t.name){this.die(),this.deathAnm="";var e=this.plantInLnC.imitaterInSquare.indexOf(this);-1!=e&&this.plantInLnC.imitaterInSquare.splice(e,1),this.node.destroy()}else"sound"==t.name&&p.play(this.imitateSound,1,.1)},n}(h)).prototype,"imitateSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=v))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/ImpZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts"],(function(i){var n,t,e,o;return{setters:[function(i){n=i.inheritsLoose},function(i){t=i.cclegacy,e=i._decorator},function(i){o=i.Zombie}],execute:function(){var s;t._RF.push({},"7c5a7mtHJ9G076mDgpxjpzb","ImpZombie",void 0);var c=e.ccclass;e.property,i("ImpZombie",c("ImpZombie")(s=function(i){function t(){return i.apply(this,arguments)||this}n(t,i);var e=t.prototype;return e.specialZombieOnEnable=function(){this.specialImpOnEnable()},e.specialImpOnEnable=function(){},e.specialAnimationListener=function(i){this.specialImpAnimationListener(i)},e.specialImpAnimationListener=function(i){},e.specialZombieOnLanding=function(){this.isAlive()&&"Fly"==this.body.currentAnimationName?(this.switching=!0,this.walking=!1,this.body.playAnimation("Land",1)):this.judgeDeath(0)},t}(o))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/InfiNut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./NodePools.ts","./Zombies.ts"],(function(t){var e,n,i,o,a,r,s,l,h,u,c,d,f,m;return{setters:[function(t){e=t.inheritsLoose,n=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.AudioClip},function(t){h=t.PlantProps,u=t.Plant},function(t){c=t.sounds},function(t){d=t.ArrayGet},function(t){f=t.zombies,m=t.ZombieEnum}],execute:function(){var p,S,g,y,v,b,C;r._RF.push({},"1f182wTA1BO5by4RJW9lE5N","InfiNut",void 0);var D=s.ccclass,A=s.property,P=t("InfiNutProps",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).DelayBeforeRegenFromDamage=15,e.DelayBeforeRecoverFromDeath=15,e}return e(n,t),n}(h));t("InfiNutPlant",(p=D("InfiNutPlant"),S=A(l),g=A([l]),p((b=n((v=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new P,e.foodShields=[],i(e,"shieldSound",b,o(e)),e._hurtStage=0,e.recoverCD=0,i(e,"appearSounds",C,o(e)),e}e(n,t);var r=n.prototype;return r.onDamagedToHealthO=function(){this.hurtStage=3,this.anmControl.playAnimation("Fade",1),this.recoverCD=this._objdataOwn.DelayBeforeRecoverFromDeath*this._cdScale},r.shieldOnDamaged=function(t,e){e<t.toughness&&(this.foodable=!0),e<=0?this.killAllShields():this.foodShields.forEach((function(t){t.health=e,t.readStage(e)}))},r.specialPlantDie=function(t){this.killAllShields()},r.spawnShields=function(){this.killAllShields(),c.play(this.shieldSound,1,.1),this.foodable=!1;for(var t=0;t<5;t++){var e=f.createZombie(t,m.future_infinut_shield);e.canBeKilledByRule=!1,e.worldPositionX=this.worldPositionX,e.coloredWhenHypnoed=!1,e.hypno=!0,e.masterPlant=this,this.foodShields.push(e)}},r.killAllShields=function(){this.foodShields.forEach((function(t){t.playDie()})),this.foodShields=[]},r.onDamaged=function(t,e,n){for(var i=0,o=2;o>=0;o--)if(n>o/3*this.toughness){i=2-o;break}this.hurtStage!=i&&(this.hurtStage=i),n<this.toughness&&(this.recoverCD=this._objdataOwn.DelayBeforeRegenFromDamage*this._cdScale)},r.specialPlantFood=function(t){this.hurtStage=0,this.anmControl.playAnimation("Food",1)},r.specialPlantFoodEnd=function(){this.anmControl.playRandom()},r.animationListener=function(t){"shield"==t.name?this.spawnShields():"foodEnd"==t.name&&this.foodEnd()},r.waterable=function(){return 0==this.hurtStage},r.replantable=function(){return 0!=this.hurtStage},r.replant=function(){this.recover()},r.recover=function(){this.health=this.toughness,this.anmControl.playAnimation("Recover",1),this.hurtStage=0},r.specialPlantOnEnable=function(){this._hurtStage=3,this.hurtStage=0,this.recoverCD=0},r.specialPlantUpdateForce=function(t,e,n){var i=this;this.health<this.toughness&&this.recoverCD>0&&(this.recoverCD-=t,this.recoverCD<=0&&this.recover()),this.foodShields.forEach((function(t){t.worldPositionX=i.worldPositionX}))},a(n,[{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){var e,n=!1;switch(t){case 1:this.anmControl.IdleAnim="Idle1",this.anmControl.RandomAnim=[];break;case 2:this.anmControl.IdleAnim="Idle2",this.anmControl.RandomAnim=[];break;case 3:this.anmControl.IdleAnim="Idle_Faded",this.anmControl.RandomAnim=[],n=!0;break;default:this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],t=0}(this.eaterDetectable=!n,this.smasherDetectable=!n,t!=this._hurtStage)&&(0==t&&3==this._hurtStage?(c.play(d.getRandom(this.appearSounds),1,.1),this.anmControl.playAnimation("Appear",1)):0==t&&3!=this._hurtStage?this.anmControl.playAnimation("Recover",1):this.anmControl.playRandom(),this._hurtStage=t,null==(e=this.plantInLnC)||e.readIndex());this._hurtStage=t}}]),n}(u)).prototype,"shieldSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(v.prototype,"appearSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=v))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/InfoWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var o,t,i,e,r,c,l,a,s,f;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){r=n.cclegacy,c=n._decorator,l=n.RichText,a=n.JsonAsset,s=n.ScrollView,f=n.Component}],execute:function(){var u,p,h,b,d,y,g,w,j;r._RF.push({},"264e8wD7/5ECYfL1zW1QkK+","InfoWindow",void 0);var m=c.ccclass,v=c.property;n("InfoWindow",(u=m("InfoWindow"),p=v(l),h=v(a),b=v(s),u((g=o((y=function(n){function o(){for(var o,t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return o=n.call.apply(n,[this].concat(r))||this,i(o,"info",g,e(o)),i(o,"infojson",w,e(o)),i(o,"contents",j,e(o)),o}t(o,n);var r=o.prototype;return r.readObject=function(n){var o="";return n.GameInfo.forEach((function(n){o+="\t"+n+"\n"})),o+="\n\nFaQ: \n",n.FaQ.forEach((function(n){o+="<color=#ff0000>Q: "+n.Q+"</color>",o+="\n",o+="<color=#00a700>A:\n",n.A.forEach((function(n){o+="\t    "+n+"\n"})),o+="\n",o+="</color>"})),o+="\n",o+="<color=#ff0000>"+n.AboutSetting.Title+"\n</color>",n.AboutSetting.Elements.forEach((function(n){o+=n+"\n"})),o+=n.WritenBy},r.scrollToBottom=function(){this.contents.scrollToBottom()},r.scrollToTop=function(){this.contents.scrollToTop()},r.onLoad=function(){this.infojson.json;this.specialOnLoad()},r.specialOnLoad=function(){},r.start=function(){var n=this.infojson.json,o=this.readObject(n);this.info&&(this.info.string=o)},o}(f)).prototype,"info",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=o(y.prototype,"infojson",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=o(y.prototype,"contents",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/inGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombies.ts"],(function(t){var o,e,n,i,r,c,s,a,u,l;return{setters:[function(t){o=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy,i=t._decorator,r=t.Enum,c=t.director,s=t.AudioSource,a=t.Component},function(t){u=t.ZombieEnum,l=t.zombies}],execute:function(){var m,f;n._RF.push({},"9e3748CYdtChpr6tMbGa862","inGame",void 0);var d=i.ccclass;i.property;r(u);t("inGame",d("inGame")(((f=function(t){function n(){for(var o,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(o=t.call.apply(t,[this].concat(n))||this).FrontYard=void 0,o.sceneSwitching=!0,o.speedFlag=!0,o.oldTick=c.tick,o}o(n,t);var i=n.prototype;return i.onLoad=function(){n.component=this,this.getComponent(s)||this.addComponent(s)},i.start=function(){this.sceneSwitching=!1},i.loadZombies=function(){for(var t=0;t<5;t++)for(var o=0;o<3;o++){var e=Math.floor(Math.random()*u.zombieAmount);-1==this.f1BlackList.indexOf(e)&&l.createZombie(t,e)}},e(n,[{key:"f1BlackList",get:function(){return l.zombossList().concat(u.future_infinut_shield,u.modern_moonflower_shield,u.future_protector_shield)}}]),n}(a)).component=void 0,m=f))||m);n._RF.pop()}}}));

System.register("chunks:///_virtual/IntensiveCarrot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts"],(function(n){var t,a,e,i,s,r,o,l,u,p,c,h;return{setters:[function(n){t=n.applyDecoratedDescriptor,a=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized,s=n.createClass},function(n){r=n.cclegacy,o=n._decorator,l=n.AudioClip,u=n.Color},function(n){p=n.Plant,c=n.PlantProps},function(n){h=n.sounds}],execute:function(){var d,w,P,f,v;r._RF.push({},"0cb47gGkq9IlY3hrSKPAds+","IntensiveCarrot",void 0);var y=o.ccclass,C=o.property,S=function(n){function t(){for(var t,a=arguments.length,e=new Array(a),i=0;i<a;i++)e[i]=arguments[i];return(t=n.call.apply(n,[this].concat(e))||this).HealthReturns=.5,t}return a(t,n),t}(c);n("IntensiveCarrotPlant",(d=y("IntensiveCarrotPlant"),w=C(l),d((v=t((f=function(n){function t(){for(var t,a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(t=n.call.apply(n,[this].concat(s))||this)._objdataOwn=new S,t.plantToSpawn=NaN,t.spawnedPlant=void 0,e(t,"digSound",v,i(t)),t}a(t,n);var r=t.prototype;return r.onObjdataSet=function(n,t){},r.specialPlantOnDisable=function(){this.spawnedPlant&&this.spawnedPlant._intensiveCarrot==this&&(this.spawnedPlant._intensiveCarrot=null,this.spawnedPlant.pushTideListener())},r.readLastDeadPlantInLnC=function(n,t){this.plantToSpawn=t},r.shouldSpeedScale=function(){return 1},r.specialPlantOnSquareChange=function(n,t){if(h.play(this.digSound,1,.3),this.die(),!isNaN(this.plantToSpawn)){var a=null==t?void 0:t.spawnPlantByPlantEnum(this.plantToSpawn,!0,!0,!1,!0,!1);if(a){this.plantToSpawn=NaN,a._intensiveCarrot=this,this.spawnedPlant=a,a.anmControl.body.color=new u(255,255,255,0);var e=a.toughness;a.health=e*this.objdataOwn.HealthReturns,a.onDamaged(0,e,a.health)}}},r.animationListener=function(n){switch(n.name){case"open":this.spawnedPlant&&this.spawnedPlant._intensiveCarrot==this&&(this.spawnedPlant._intensiveCarrot=null,this.spawnedPlant.pushTideListener())}},s(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),t}(p)).prototype,"digSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=f))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/JackOLantern.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./GroundFire.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./NodePools.ts","./jackOLanternFoodFireParticle.ts","./SoundRescourses.ts"],(function(t){var n,o,i,e,r,a,s,h,c,l,u,d,f,g,p,m,y,S,C,b,D,E,P;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,s=t._decorator,h=t.AudioClip,c=t.Prefab},function(t){l=t.Plant,u=t.PlantProps},function(t){d=t.GroundFireColorEnum,f=t.GroundFireSpreadStyleEnum},function(t){g=t.Rectangle,p=t.ZombiePool,m=t.TombPool},function(t){y=t.Square},function(t){S=t.ZombieDamageDetails,C=t.zombieDamageType},function(t){b=t.ArrayGet,D=t.instantiatePooly},function(t){E=t.jackOLanternFoodFireParticle},function(t){P=t.sounds}],execute:function(){var w,L,R,A,v,F,O,_,j,z,T,k,I,x,q,X,G,J,M,Z,H,N,W,B;a._RF.push({},"0bb569MPntDr4CPceVEWXbi","JackOLantern",void 0);var U=s.ccclass,V=s.property,K=function(t){function n(){for(var n,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(n=t.call.apply(t,[this].concat(i))||this).DPS=300,n.DPSPlantfood=300,n.ShootDuration=4.3,n.RechargeTime=5,n.Distance=3,n.PlantfoodFireCount=9,n}return o(n,t),n}(u),Q=(w=U("jackOLanternSound"),L=V([h]),R=V([h]),A=V(h),v=V([h]),F=V([h]),O=V([h]),w((z=n((j=function(){function t(){i(this,"shootStartSay",z,this),i(this,"shootStart",T,this),i(this,"shootLoop",k,this),i(this,"shootEndSay",I,this),i(this,"shootEnd",x,this),i(this,"foodSay",q,this)}var n=t.prototype;return n.playShootStartSay=function(){P.playArray(this.shootStartSay,.5,1)},n.playShootStart=function(){P.playArray(this.shootStart,.5,1)},n.playShootLoop=function(){var t;P.play(this.shootLoop,.5,(null==(t=this.shootLoop)?void 0:t.getDuration())-.1)},n.playShootEndSay=function(){P.playArray(this.shootEndSay,.5,1)},n.playShootEnd=function(){P.playArray(this.shootEnd,.5,1)},n.playFoodSay=function(){P.playArray(this.foodSay,.5,1)},t}()).prototype,"shootStartSay",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=n(j.prototype,"shootStart",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(j.prototype,"shootLoop",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=n(j.prototype,"shootEndSay",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(j.prototype,"shootEnd",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=n(j.prototype,"foodSay",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=j))||_);t("JackOLanternPlant",(X=U("JackOLanternPlant"),G=V(c),J=V(c),M=V(Q),X((N=n((H=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=t.call.apply(t,[this].concat(r))||this).fireAnimation=void 0,n._objdataOwn=new K,i(n,"groundFire",N,e(n)),i(n,"foodFire",W,e(n)),n.groundFireParticles=[],i(n,"soundRes",B,e(n)),n.fireThrowAmount=9,n.switching=!1,n.shooting=!1,n.rechargeDuration=5,n.rechargeCD=0,n.fireStage=0,n.shootDuration=4.3,n._shootEndCD=0,n.detectDistance=3,n.detector=new g,n.waterAnmFadeinTime=0,n}o(n,t);var a=n.prototype;return a.specialPlantOnLoad=function(){this.fireAnimation=this.anmControl.body.armature().getSlot("headfire").childArmature.animation},a.specialPlantOnEnable=function(){this.switching=!1,this.shooting=!1,this.groundFireParticles=[],this.rechargeCD=0,this.fireStage=0,this.shootEndCD=this.shootDuration,this.fireAnimation.play("0",1/0)},a.specialPlantDie=function(t){this.shootEnd(!1)},a.specialPlantFood=function(t){var n=this;this.shootEnd(!1),this.restEnd(!1),this.anmControl.playAnimation("Food",1),this.rechargeCD=0,this.soundRes.playFoodSay();var o=[];if(p.inLawnPool().forEach((function(t){o.length>=n.fireThrowAmount||t.inLnC.isInLawn()&&-1==o.indexOf(t.inLnC)&&o.push(t.inLnC)})),o.length<this.fireThrowAmount&&m.pool().forEach((function(t){o.length>=n.fireThrowAmount||t.inLnC.isInLawn()&&-1==o.indexOf(t.inLnC)&&o.push(t.inLnC)})),o.length<this.fireThrowAmount)for(var i=b.randomize(y.getAllLnC()),e=0;o.length<this.fireThrowAmount&&e<i.length;e++){var r=i[e];-1==o.indexOf(r)&&o.push(r)}o.forEach((function(t){var o=D(n.foodFire);o.parent=t.inLane.prjLayer,o.worldPosition=t.plantPoint.worldPosition;var i=o.getComponent(E);i.dps=n._objdataOwn.DPSPlantfood,n._dmgScale&&(i.dps*=n._dmgScale),i.inLnC=t}))},a.animationListener=function(t){"foodEnd"==t.name?this.foodEnd():"Shoot"==t.name&&this._shoot()},a.waterable=function(){return!this.switching&&!this.shooting&&this.rechargeCD<=0},a.shootStart=function(){this.anmControl.playAnimation("AttackStart",1),this.anmControl.IdleAnim="AttackLoop",this.anmControl.RandomAnim=[],this.switching=!0,this.soundRes.playShootStartSay()},a._shoot=function(){var t;this.shooting=!0;var n=null==(t=this.inLnC)||null==(t=t.righter)?void 0:t.addLaneFire(1/0,10,d.yellow,f.right,9,this.detectDistance,!1,this.groundFire);this.groundFireParticles=n,this.soundRes.playShootStart()},a.shootEnd=function(t){void 0===t&&(t=!0),t&&(this.anmControl.playAnimation("AttackEnd",1),this.switching=!0,this.soundRes.playShootEndSay()),this.shooting&&this.soundRes.playShootEnd(),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.shooting=!1,this.groundFireParticles.forEach((function(t,n){t.duration=.1*n})),this.groundFireParticles=[]},a.restStart=function(){this.switching=!0,this.anmControl.playAnimation("Out",1),this.anmControl.IdleAnim="Idle_Out",this.anmControl.RandomAnim=[],this.rechargeCD=this.rechargeDuration,this.shootEndCD=0},a.restEnd=function(t){void 0===t&&(t=!0),t&&(this.anmControl.playAnimation("Recharge",1),this.switching=!0),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.rechargeCD=0,this.shootEndCD=this.shootDuration},a.onObjdataSet=function(t,n){this.shootDuration=n.ShootDuration,this.rechargeDuration=n.RechargeTime,this.detectDistance=n.Distance,this.fireThrowAmount=n.PlantfoodFireCount},a.animationOnComplete=function(){this.switching=!1},a.specialPlantOnSquareChange=function(t,n){this.shooting&&this.shootEnd(),this.detector=g.createRectangleNodeSide(this.inLnC.node,(this.detectDistance+.5)*y.SquareDisW,y.SquareDisH)},a.detectEnemy=function(){for(var t=this,n=!1,o=this.inLnC,i=0;i<this.detectDistance;i++){var e,r,a,s;if(null!=(r=o=null==(e=o)?void 0:e.righter)&&r.iceTile)return!0;if(9==(null==(a=o)?void 0:a.cIndex)&&null!=(s=this.inLane)&&s.iceTile)return!0}return this.inLane.zombiePool().forEach((function(o){n||o.bodyRec.judgeCrossRec(t.detector)&&(n=!0)})),n||this.inLane.tombPool().forEach((function(o){n||o.bodyRec.judgeCrossRec(t.detector)&&(n=!0)})),n},a.burnEnemies=function(t){var n=this;this._dmgScale&&(t*=this._dmgScale);var o=[],i=[];this.inLane.zombiePool().forEach((function(t){-1==o.indexOf(t)&&t.bodyRecReal.prjX().y>n.worldPositionX&&t.bodyRecReal.judgeCrossRec(n.inLnC.rec)&&o.push(t)})),this.inLane.tombPool().forEach((function(t){-1==i.indexOf(t)&&t.bodyRec.prjX().y>n.worldPositionX&&t.bodyRec.judgeCrossRec(n.inLnC.rec)&&i.push(t)})),this.groundFireParticles.forEach((function(t){var e=t.inLnC.rec;n.inLane.zombiePool().forEach((function(t){-1==o.indexOf(t)&&t.bodyRecReal.judgeCrossRec(e)&&o.push(t)})),n.inLane.tombPool().forEach((function(t){-1==i.indexOf(t)&&t.bodyRec.judgeCrossRec(e)&&i.push(t)}))})),o.forEach((function(n){n.dealDamage(new S(t,!0,!1,!1,null,C.fire))})),i.forEach((function(n){n.dealDamage(t)}))},a.specialPlantOnSheepend=function(){this.shooting&&this.shootEnd()},a.specialPlantUpdate=function(t,n,o){if(!this.fooding&&!this.switching)if(this.rechargeCD<=0){if(this.shooting?(this.burnEnemies(this._objdataOwn.DPS*t),this._cdScale>0&&(this.shootEndCD-=t),this.shootEndCD<=0&&this.shootEnd(),this.soundRes.playShootLoop()):this.shootEndCD<=0?this.restStart():this.shootEndCD=Math.min(this.shootEndCD+t,this.shootDuration),!this.switching){var i=o>0&&this.detectEnemy();i&&!this.shooting?this.shootStart():!i&&this.shooting&&this.shootEnd()}}else this.rechargeCD-=.5*t,this.rechargeCD<=0&&this.restEnd()},r(n,[{key:"shootEndCD",get:function(){return this._shootEndCD},set:function(t){this._shootEndCD=t;for(var n=0;n<=3;n++)if(t<=this.shootDuration/3*n){var o=this.fireStage+0;this.fireStage=3-n;var i=this.fireStage.toString();o!=this.fireStage&&(o>this.fireStage&&0==this.fireStage&&(i="Recharge"),this.fireAnimation.play(i));break}}}]),n}(l)).prototype,"groundFire",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=n(H.prototype,"foodFire",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=n(H.prototype,"soundRes",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Q}}),Z=H))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/jackOLanternFoodFireParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./LnC.ts","./Zombie.ts","./SoundRescourses.ts","./NodePools.ts"],(function(e){var n,i,t,a,o,l,r,s,d,u,c,f,h,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,r=e.AudioClip},function(e){s=e.ParticleSelfdestroy},function(e){d=e.TileType},function(e){u=e.ZombieDamageDetails,c=e.zombieDamageType},function(e){f=e.sounds},function(e){h=e.NodePools,p=e.ArrayGet}],execute:function(){var m,y,S,b,L,g,C,v,D;o._RF.push({},"da443j0zuND9LBTmZC7YR6d","jackOLanternFoodFireParticle",void 0);var P=l.ccclass,w=l.property;e("jackOLanternFoodFireParticle",(m=P("jackOLanternFoodFireParticle"),y=w([r]),S=w([r]),b=w(r),m((C=n((g=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(n=e.call.apply(e,[this].concat(o))||this).shadeSlot=void 0,n.lifeSpan=7.5,n.lifeCD=5,t(n,"spawnSounds",C,a(n)),t(n,"fadeSounds",v,a(n)),t(n,"flameSound",D,a(n)),n.faded=!1,n.inLnC=null,n.dps=300,n}i(n,e);var o=n.prototype;return o.animationOnComplete=function(e){if(this.faded)h.destroyPooly(this.node);else{var n="Idle";n+=Math.floor(2*Math.random()).toString(),this.db.playAnimation(n,1)}},o.specialOnLoad=function(){var e;this.shadeSlot=null==(e=this.db)||null==(e=e.armature())?void 0:e.getSlot("shade")},o.animationListener=function(e){"flame"==e.name&&f.play(this.flameSound,1,.3)},o.specialOnEnable=function(){this.lifeCD=this.lifeSpan,f.play(p.getRandom(this.spawnSounds),1,.3),this.faded=!1;var e="Start";e+=Math.floor(2*Math.random()).toString(),this.db.playAnimation(e,1)},o.fadeAway=function(){this.faded||(f.play(p.getRandom(this.fadeSounds),1,.3),this.db.playAnimation("Fade",1/0),this.faded=!0)},o.update=function(e){var n,i,t,a=this;if(this.lifeCD>0&&(this.lifeCD-=e,this.lifeCD<=0&&this.fadeAway()),!this.faded&&null!=(n=this.inLnC)&&n.isInLawn()){var o,l,r,s=this.inLnC.rec,f=[];null==(o=this.inLnC)||null==(o=o.inLane)||o.zombiePool().forEach((function(e){-1==f.indexOf(e)&&e.bodyRec.judgeCrossRec(s)&&f.push(e)})),f.forEach((function(n){n.dealDamage(new u(a.dps*e,!0,!1,!1,null,c.fire))})),null==(l=this.inLnC)||null==(l=l.tombStone)||l.dealDamage(this.dps*e),null==(r=this.inLnC)||null==(r=r.iceTile)||r.die()}var h=null==(i=this.inLnC)?void 0:i.getTileType(),p=!1;h!=d.sea&&h!=d.sky||(p=!0),null==(t=this.shadeSlot)||t._setDisplayIndex(p?-1:0)},n}(s)).prototype,"spawnSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(g.prototype,"fadeSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=n(g.prototype,"flameSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=g))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/Jalapeno.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./GroundFire.ts","./GroundFiresManager.ts","./SoundRescourses.ts"],(function(n){var t,i,e,r,o,a,s,u,l,d,c,h,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator,s=n.AudioClip},function(n){u=n.CherryBombPlant,l=n.CherryBombProps},function(n){d=n.GroundFireColorEnum,c=n.GroundFireSpreadStyleEnum},function(n){h=n.GroundFiresManager},function(n){p=n.sounds}],execute:function(){var m,y,b,f,v;o._RF.push({},"348e8m5FjRGQpOqtrn3/MP2","Jalapeno",void 0);var g=a.ccclass,F=a.property,P=n("jalapeno",function(){function n(){}return n.burnFromLnC=function(n,t,i,e,r,o,a,s,u,l,p,m,y,b){void 0===r&&(r=10),void 0===o&&(o=d.yellow),void 0===a&&(a=c.cross),void 0===s&&(s=9),void 0===u&&(u=9),void 0===l&&(l=[]),void 0===p&&(p=0),void 0===m&&(m=!1),void 0===y&&(y=!1),void 0===b&&(b=!0);var f=n.addLaneFire(e,r,o,a,s,u),v=new S;return v.groundFires=f,v.damage=t,v.duration=e,v.armorProtection=i,v.zombieWhiteList=l,v.hypnoIncluded=p,v.isDPS=y,v.plantsIncluded=m,v.burnsFlying=b,h.component.registerJalapenoFire(v),v},n}()),S=n("jalapenoFire",(function(){this.groundFires=[],this.recs=[],this.damage=1800,this.duration=3,this.armorProtection=!1,this.dealtZombies=[],this.dealtTombs=[],this.dealtPlants=[],this.isDPS=!1,this.zombieWhiteList=[],this.hypnoIncluded=0,this.plantsIncluded=!1,this.burnsFlying=!0})),w=function(n){function t(){for(var t,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(t=n.call.apply(n,[this].concat(e))||this).Duration=5,t}return i(t,n),t}(l);n("JalapenoPlant",(m=g("JalapenoPlant"),y=F(s),m((v=t((f=function(n){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))||this)._objdataOwn=new w,e(t,"burnSound",v,r(t)),t}return i(t,n),t.prototype.explode=function(){var n=this._objdataOwn.Damage;this._dmgScale&&(n*=this._dmgScale),this.deathAnm="Death",p.play(this.burnSound,1,.1),P.burnFromLnC(this.inLnC,n,!1,this._objdataOwn.Duration,15,d.yellow,c.split,18,9),this.die()},t}(u)).prototype,"burnSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=f))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/JSONs.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelController.ts"],(function(e){var t,r,n,i,l,o,a,s,c,u;return{setters:[function(e){t=e.createClass,r=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.JsonAsset,c=e.Component},function(e){u=e.LevelPlay}],execute:function(){var p,b,m,d,f,P,j,v,h,y,g,A,L,M,Z,G,I;o._RF.push({},"0f436UEidtBjp4rKi+hdKBo","JSONs",void 0);var O=a.ccclass,z=a.property,B=e("PvZ2ObjectContainer",function(){function e(){}return t(e,null,[{key:"CurrentLevel",get:function(){var e;return null!=(e=u.component)&&e.currentLevelObjects?u.component.currentLevelObjects:[]}}]),e}());B.LevelModules=[],B.PlantAlmanac=[],B.ZombieAlmanac=[],B.PlantProps=[],B.ZombieProps=[],B.BoardGridMaps=[],B.GridItemFeatures=[];e("PvZ2Object",function(){function e(){this.aliases=[],this.objclass="",this.objdata={}}return e.getObjects=function(e,t){return t.filter((function(t){return t.aliases&&-1!=t.aliases.indexOf(e)}))},e.getObjectsByRTID=function(e){if(!e.includes("RTID"))return[];var t=e.replace("RTID(","").replace(")","").split("@");if(2!=t.length)return[];var r=t[0],n=t[1],i=B[n];return(null==i?void 0:i.length)>0?this.getObjects(r,i):[]},e}()),p=O("JSONs"),b=z(s),m=z(s),d=z(s),f=z(s),P=z(s),j=z(s),v=z(s),p((g=r((y=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,i(t,"LevelModules",g,l(t)),i(t,"GridItemFeatures",A,l(t)),i(t,"PlantAlmanac",L,l(t)),i(t,"PlantProps",M,l(t)),i(t,"ZombieAlmanac",Z,l(t)),i(t,"ZombieProps",G,l(t)),i(t,"BoardGridMaps",I,l(t)),t}return n(t,e),t.prototype.onLoad=function(){B.LevelModules=this.LevelModules.json.objects,B.PlantAlmanac=this.PlantAlmanac.json.objects,B.PlantProps=this.PlantProps.json.objects,B.ZombieAlmanac=this.ZombieAlmanac.json.objects,B.ZombieProps=this.ZombieProps.json.objects,B.GridItemFeatures=this.GridItemFeatures.json.GRIDITEMS,B.BoardGridMaps=this.BoardGridMaps.json.objects},t}(c)).prototype,"LevelModules",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=r(y.prototype,"GridItemFeatures",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=r(y.prototype,"PlantAlmanac",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=r(y.prototype,"PlantProps",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=r(y.prototype,"ZombieAlmanac",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=r(y.prototype,"ZombieProps",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=r(y.prototype,"BoardGridMaps",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y));o._RF.pop()}}}));

System.register("chunks:///_virtual/KernelPult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CabbagePult.ts"],(function(t){var n,e,a,r,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){r=t.CabbagePultPlant,o=t.CabbagePultProps}],execute:function(){var i;e._RF.push({},"81c6aTRPtdNfY/ovuQuiSLQ","KernelPult",void 0);var l=a.ccclass,u=(a.property,function(t){function e(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(n=t.call.apply(t,[this].concat(a))||this).ChanceToButter=.3,n}return n(e,t),e}(o));t("KernelPultPlant",l("KernelPultPlant")(i=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(n=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new u,n}n(e,t);var a=e.prototype;return a._lobCabbageAnimation=function(){var t=Math.random()>this._objdataOwn.ChanceToButter?"Lob":"Lob_Butter";this.anmControl.playAnimation(t,1,.1,Math.max(2.7/this.busy,1))},a.specialAnimationListener=function(t){"Lob_Butter"==t.name&&(this.detectEnemy(!0),this._lob(this.targetLock,this.cabbageMega),this.targetLock=null)},e}(r))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/KeyListener.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ElectronAPI.ts","./SettingWindow.ts","./levelController.ts","./UI.ts","./MouseBlocker.ts","./SoundManager.ts","./SoundsController.ts","./Levels.ts","./FrontYard.ts","./LoaderFlower.ts","./MultiLanguage.ts","./PlayerProperties.ts"],(function(e){var n,t,r,s,a,o,i,c,u,l,h,p,d,f,T,S,g,m,_,L,v,E,M,w,C,I,F,N,y,D,b,R,A,G,K,U,P,Y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,s=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,i=e._decorator,c=e.Prefab,u=e.Label,l=e.UIOpacity,h=e.resources,p=e.director,d=e.Sprite,f=e.Color,T=e.tween,S=e.input,g=e.Input,m=e.instantiate,_=e.find,L=e.Vec3,v=e.KeyCode,E=e.game,M=e.Component},function(e){w=e.default},function(e){C=e.Setting,I=e.SettingWindow},function(e){F=e.LevelPlay},function(e){N=e.setExitToMapScene},function(e){y=e.MouseBlocker},function(e){D=e.SoundManager,b=e.musicType},function(e){R=e.MusicController},function(e){A=e.getLevelJsonAsset},function(e){G=e.FrontYard,K=e.yardType},function(e){U=e.LoaderFlower},function(e){P=e.MultiLanguage},function(e){Y=e.AllPlayerProperties}],execute:function(){var k,H,O,B,W,j,Z,z,x,Q,V,J;o._RF.push({},"2d802LSjHZPFZ2AdbHZD499","KeyListener",void 0);var X=i.ccclass,q=i.property,$=e("CursorStyleEnum",function(e){return e[e.default=0]="default",e[e.soft=1]="soft",e[e.unchanged=2]="unchanged",e}({}));e("KeyListener",(k=X("KeyListener"),H=q(c),O=q(U),B=q(u),W=q(l),k(((J=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))||this).canvasWidget=void 0,r(n,"fpsShower",z,s(n)),n.fpsLabel=void 0,r(n,"loaderFlower",x,s(n)),r(n,"gameTipLabel",Q,s(n)),n.gameTipTime=0,n.gameTipChildren=void 0,r(n,"screenSplash",V,s(n)),n.screenColorTweening=!1,n._screenColorTween=null,n.fpsInSec=[],n.fpsCD=1,n}t(n,e);var o=n.prototype;return o.gameTip=function(e,n,t){if(void 0===n&&(n=5),void 0===t&&(t=null),this.gameTipLabel){var r=P.getString(e,!1);this.gameTipString(r,n,t)}},o.gameTipString=function(e,n,t){var r;if(void 0===n&&(n=5),void 0===t&&(t=null),this.gameTipLabel&&null!=e&&e.length){var s=e;this.gameTipLabel.string=s,this.gameTipTime=n,this.gameTipLabel.node.parent.active=!0,null==(r=this.gameTipChildren)||r.destroy(),this.gameTipChildren=null,t&&(t.parent=this.gameTipLabel.node.parent.getChildByName("BGT"),this.gameTipChildren=t)}},n.gameTip=function(e,n,t){void 0===n&&(n=5),void 0===t&&(t=null),this.cp.gameTip(e,n,t)},n.gameTipString=function(e,n,t){void 0===n&&(n=5),void 0===t&&(t=null),this.cp.gameTipString(e,n,t)},o.flowerOn=function(){this.loaderFlower&&(U.loadedTime=0,this.loaderFlower.node.active=!0,this.loaderFlower.db.playAnimation("Spawn",1/0))},o.flowerOff=function(){this.loaderFlower&&(this.loaderFlower.node.active=!0,this.loaderFlower.db.playAnimation("Leave",1/0))},n.goToWorldmap=function(e){var n=this;this.lastScene=this.currentScene,this.currentScene=function(t){n.goToWorldmap(e)},D.unLoadMusic(),G.unLoadLawns(),Y.getTrophyProgressProps(),D.loadMusic(["WorldMap"],["All"],!1,(function(){n.gotoScene("worldMapScene",e)}))},n.goToMain=function(e){var n=this;this.lastScene=this.currentScene,this.currentScene=function(t){n.goToMain(e)},D.unLoadMusic(),G.unLoadLawns(),D.loadMusic([],[],!1,(function(){n.gotoScene("mainScene",e)}))},n.goToAlmanac=function(e){var n=this;this.lastScene=this.currentScene,this.currentScene=function(t){n.goToAlmanac(e)},D.unLoadMusic(),G.unLoadLawns(),this.gotoScene("almanacScene",e)},n.goToStore=function(e){var n=this;this.lastScene=this.currentScene,this.currentScene=function(t){n.goToStore(e)},D.unLoadMusic(),G.unLoadLawns(),this.gotoScene("storeScene",e)},n.goToZenGarden=function(e){var n=this;this.lastScene=this.currentScene,this.currentScene=function(t){n.goToZenGarden(e)},D.unLoadMusic(),G.unLoadLawns(),this.gotoScene("zenGardenScene",e)},n.goToGame=function(e,n){var t=this;this.isInGame||D.unLoadMusic(),F.getUpgradeProps(),this.lastScene=this.currentScene;var r=["Always"],s=["All"],a=!1,o=[],i=[K.modern];e.forEach((function(e){var n,t=F.getLevelDefinition(e).objdata,c=F.getLevelModule(e,t.Modules),u=c.some((function(e){return"ZombossBattleModuleProperties"==e.objclass})),l=c.find((function(e){return"RhythmGameProperties"==e.objclass}));if(l){var h=l.objdata,p=b[h.MusicName];isNaN(p)||o.push(p)}else u?r.push("Zomboss"):null!=t&&t.SandBoxMode?(r.push("MiniGame_A","MiniGame_B","Normal","Zomboss"),a=!0):"Normal"==(null==t?void 0:t.MusicType)?r.push("Normal"):"MiniGame_A"==(null==t?void 0:t.MusicType)?r.push("MiniGame_A"):"MiniGame_B"==(null==t?void 0:t.MusicType)?r.push("MiniGame_B"):null!=t&&t.IsDangerRoomMiniGame||null!=t&&t.IsDangerRoom?r.push("MiniGame_A","MiniGame_B"):r.push("Normal");if(null!=(n=t.StageModuleOptions)&&n.length)t.StageModuleOptions.forEach((function(e){var n=G.getFrontYardEnumByRTID(e);i.push(n);var t=G.getLawnFeature(n);-1==s.indexOf(t.MUSIC)&&s.push(t.MUSIC)}));else if(t.StageModule){var d=G.getFrontYardEnumByRTID(t.StageModule);i.push(d);var f=G.getLawnFeature(d);-1==s.indexOf(f.MUSIC)&&s.push(f.MUSIC)}})),G.loadLawns(i,a,(function(){D.loadMusic(r,s,a,(function(){D.loadMusicDirectly(o,(function(){t.gotoScene("inGameScene",n),t.isInGame=!0}))}))}))},n.goToLastScene=function(e){var n;void 0===e&&(e=null),null==(n=G.currentLawn)||null==(n=n.node)||n.destroy(),this.lastScene(e)},n.restartScene=function(e){void 0===e&&(e=null),this.currentScene(e)},n.gotoScene=function(e,t){var r;(null==(r=this.cp)?void 0:r.screenSplash)&&(this.cp.screenSplash.opacity=255),n.screenColorTweening||(this.isInGame=!1,h.loadScene(e,null,(function(e,n){e||p.runScene(n)})))},n.goToLevel=function(e,t,r,s){var a=this;if(void 0===t&&(t=[]),void 0===s&&(s=!0),!n.screenColorTweening)if(F.setLevelData(e,t),N(p.getScene().name),s)this.darken((function(){var n=[];e.forEach((function(e){n.push(A(e).json.objects)})),a.goToGame(n,r)}));else{this.cp.screenSplash&&(this.cp.screenSplash.opacity=255);var o=[];e.forEach((function(e){o.push(A(e).json.objects)})),this.goToGame(o,r)}},n.darken=function(e){this.cp.flowerOn(),this.cp.darken(e)},o.darken=function(e){var n=this;if(!this.screenColorTweening)if(this.screenSplash){var t,r,s;null!=(t=this.screenSplash)&&t.getComponent(y)||null==(r=this.screenSplash)||r.addComponent(y),this.screenSplash.node.active=!0,this.screenColorTweening=!0;var a=this.screenSplash.getComponent(d);a&&(a.color=new f(0,0,0,255)),this.screenSplash.opacity=0,null==(s=this._screenColorTween)||s.stop(),this._screenColorTween=T(this.screenSplash).to(1,{opacity:255}).call((function(){n.screenColorTweening=!1,e()})).start(),T(R).to(1,{_volumeScalePause:0}).start()}else e()},o.lighten=function(){var e=this;if(this.screenSplash){var n;this.loaderFlower.node.active=!0,this.screenSplash.node.active=!0;var t=this.screenSplash.getComponent(y);t&&t.destroy();var r=this.screenSplash.getComponent(d);r&&(r.color=new f(0,0,0,255)),this.screenSplash.opacity=255,null==(n=this._screenColorTween)||n.stop(),this._screenColorTween=T(this.screenSplash).to(1,{}).to(1,{opacity:0}).call((function(){e.flowerOff(),e.screenSplash.node.active=!1})).start()}},o.onLoad=function(){S.on(g.EventType.KEY_DOWN,this.onKeyDown,this),S.on(g.EventType.KEY_UP,this.onKeyUp,this),n.cp=this},o.start=function(){this.lighten();var e=m(this.fpsShower);e.parent=_("Canvas"),e.worldPosition=new L(0,0,0),this.fpsLabel=e.getComponent(u);var t=C.getSettings().cursor;isNaN(t)&&(t=$.default),n.loadCursor(t),R._volumeScalePause=1},n.keycodeToString=function(e){switch(e){case v.ESCAPE:return"Escape";case v.F1:return"F1";case v.F2:return"F2";case v.F3:return"F3";case v.F4:return"F4";case v.F5:return"F5";case v.F6:return"F6";case v.F7:return"F7";case v.F8:return"F8";case v.F9:return"F9";case v.F10:return"F10";case v.F11:return"F11";case v.F12:return"F12";case v.INSERT:return"Insert";case v.DELETE:return"Delete";case v.HOME:return"Home";case v.END:return"End";case v.PAGE_UP:return"PgUp";case v.PAGE_DOWN:return"PgDn";case v.DIGIT_0:return"0";case v.DIGIT_1:return"1";case v.DIGIT_2:return"2";case v.DIGIT_3:return"3";case v.DIGIT_4:return"4";case v.DIGIT_5:return"5";case v.DIGIT_6:return"6";case v.DIGIT_7:return"7";case v.DIGIT_8:return"8";case v.DIGIT_9:return"9";case v.EQUAL:return"=";case v.BACKSPACE:return"BackSpace";case v.TAB:return"Tab";case v.CAPS_LOCK:return"CapsLk";case v.SHIFT_LEFT:return"Left Shift";case v.SHIFT_RIGHT:return"Right Shift";case v.CTRL_LEFT:return"Left Ctrl";case v.CTRL_RIGHT:return"Right Ctrl";case v.ALT_LEFT:return"Left Alt";case v.ALT_RIGHT:return"Right Alt";case v.SPACE:return"Space";case v.ARROW_LEFT:return"Left";case v.ARROW_RIGHT:return"Right";case v.ARROW_UP:return"Up";case v.ARROW_DOWN:return"Down";case v.KEY_Q:return"Q";case v.KEY_W:return"W";case v.KEY_E:return"E";case v.KEY_R:return"R";case v.KEY_T:return"T";case v.KEY_Y:return"Y";case v.KEY_U:return"U";case v.KEY_I:return"I";case v.KEY_O:return"O";case v.KEY_P:return"P";case v.KEY_A:return"A";case v.KEY_S:return"S";case v.KEY_D:return"D";case v.KEY_F:return"F";case v.KEY_G:return"G";case v.KEY_H:return"H";case v.KEY_J:return"J";case v.KEY_K:return"K";case v.KEY_L:return"L";case v.KEY_Z:return"Z";case v.KEY_X:return"X";case v.KEY_C:return"C";case v.KEY_V:return"V";case v.KEY_B:return"B";case v.KEY_N:return"N";case v.KEY_M:return"M";case v.ENTER:return"Enter";case v.BRACKET_LEFT:return"[";case v.BRACKET_RIGHT:return"]";case v.BACKSLASH:return"\\";case v.SEMICOLON:return";";case v.QUOTE:return"'";case v.COMMA:return",";case v.PERIOD:return".";case v.SLASH:return"/";case v.NUM_LOCK:return"NumLk";case v.NUM_DIVIDE:return"Num /";case v.NUM_PLUS:return"Num +";case v.NUM_MULTIPLY:return"Num *";case v.NUM_SUBTRACT:return"Num -";case v.NUM_DECIMAL:return"Num .";case v.NUM_ENTER:return"Num Enter";case v.NUM_MULTIPLY:return"Num *";case v.NUM_0:return"Num 0";case v.NUM_1:return"Num 1";case v.NUM_2:return"Num 2";case v.NUM_3:return"Num 3";case v.NUM_4:return"Num 4";case v.NUM_5:return"Num 5";case v.NUM_6:return"Num 6";case v.NUM_7:return"Num 7";case v.NUM_8:return"Num 8";case v.NUM_9:return"Num 9"}return""},n.loadCursor=function(e){var n="cursor";switch(e){case $.default:n="cursor";break;case $.soft:n="cursor_soft";break;default:e=$.unchanged}e==$.unchanged?E.canvas.style.cursor="":h.load(n,(function(e,n){var t=n.nativeUrl;E.canvas.style.cursor="url("+t+") , auto"})),I.cursor=e},o.update=function(e){var n=1/E.deltaTime;if(this.fpsCD>0&&(this.fpsInSec.push(n),this.fpsCD-=e),this.fpsCD<=0){var t=0;this.fpsCD=1,this.fpsInSec.forEach((function(e,n,r){t+=e/r.length})),this.fpsInSec=[];var r="";I.showFPS&&(r="FPS: "+Math.round(t).toString()),this.fpsLabel&&(this.fpsLabel.string=r)}this.screenSplash&&(this.screenSplash.node.position=new L(0,0,this.screenSplash.node.position.z)),this.gameTipTime-=.0166667,this.gameTipLabel&&this.gameTipTime<=0&&(this.gameTipLabel.node.parent.active=!1)},o.onKeyDown=function(e){switch(e.keyCode){case v.F11:case v.F4:I.fullScreen();break;case v.F12:w.openDevTools();break;case v.F10:break;case v.INSERT:w.closeDevTools();break;case v.CTRL_LEFT:case v.CTRL_RIGHT:n.ctrlDown=!0;break;case v.SHIFT_LEFT:case v.SHIFT_RIGHT:n.shiftDown=!0;break;case v.ALT_LEFT:case v.ALT_RIGHT:n.altDown=!0;break;case v.NUM_ENTER:n.numEnterDown=!0}},o.onKeyUp=function(e){switch(e.keyCode){case v.CTRL_LEFT:case v.CTRL_RIGHT:n.ctrlDown=!1;break;case v.SHIFT_LEFT:case v.SHIFT_RIGHT:n.shiftDown=!1;break;case v.ALT_LEFT:case v.ALT_RIGHT:n.altDown=!1;break;case v.NUM_ENTER:n.numEnterDown=!1}},a(n,null,[{key:"screenColorTweening",get:function(){return this.cp&&this.cp.screenColorTweening}}]),n}(M)).cp=null,J.isInGame=!1,J.lastScene=function(e){},J.currentScene=function(e){},J.ctrlDown=!1,J.shiftDown=!1,J.altDown=!1,J.numEnterDown=!1,z=n((Z=J).prototype,"fpsShower",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(Z.prototype,"loaderFlower",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=n(Z.prototype,"gameTipLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=n(Z.prototype,"screenSplash",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=Z))||j));o._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Armors.ts"],(function(e){var o,t,n,r,i;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator},function(e){r=e.Zombie},function(e){i=e.armorEnum}],execute:function(){var c;t._RF.push({},"cbe10vRMZ5LzpEqODGorh/U","KongfuBasicZombie",void 0);var u=n.ccclass;n.property,e("KongfuBasicZombie",u("KongfuBasicZombie")(c=function(e){function t(){for(var o,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(o=e.call.apply(e,[this].concat(n))||this).helmetThereSlot=void 0,o}o(t,e);var n=t.prototype;return n.specialZombieOnLoad=function(){this.helmetThereSlot=this.body.body.armature().getSlot("HELMET_THERE_HEAD")},n.judgeHelmetThere=function(){var e=!1;this.armors.forEach((function(o){e||o.ID==i.kongfu_armor3&&o.stage<2&&(e=!0)})),this.helmetThereSlot&&(this.helmetThereSlot.displayIndex=e?0:-1)},n.playSpecialZombieDieForced=function(){this.judgeHelmetThere()},n.onDamaged=function(e,o,t){this.judgeHelmetThere()},n.onArmorDamaged=function(e,o){this.judgeHelmetThere()},n.onArmorThrown=function(e){this.judgeHelmetThere()},n.onArmorAdded=function(e){this.judgeHelmetThere()},n.specialZombieOnEnable=function(){this.judgeHelmetThere()},t}(r))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuChiZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Square.ts","./FutureMechFootballZombie.ts","./SoundRescourses.ts"],(function(i){var t,n,e,a,o,r,h,s,c,l,u,d,f;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,a=i.assertThisInitialized,o=i.createClass},function(i){r=i.cclegacy,h=i._decorator,s=i.AudioClip},function(i){c=i.Zombie,l=i.ZombieProps},function(i){u=i.Square},function(i){d=i.footballmech},function(i){f=i.sounds}],execute:function(){var b,p,g,v,C,w,m;r._RF.push({},"25dd3ArlwFC2INV9Ekx2eVu","KongfuChiZombie",void 0);var y=h.ccclass,S=h.property,D=function(i){function t(){for(var t,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(t=i.call.apply(i,[this].concat(e))||this).ChiInterval=7,t.ChiIntervalStart=4,t}return n(t,i),t}(l);i("KongfuChiZombie",(b=y("KongfuChiZombie"),p=S(s),g=S(s),b((w=t((C=function(i){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=i.call.apply(i,[this].concat(o))||this,e(t,"chargeSound",w,a(t)),e(t,"chiSound",m,a(t)),t._objdataOwn=new D,t.chiCD=6,t}n(t,i);var r=t.prototype;return r.onObjdataSet=function(i){this.chiCD=this.objdataOwn.ChiIntervalStart},r.areaChiable=function(){var i=this,t=!1;return this.inLane.plantPool().forEach((function(n){t||n.eaterDetectable&&!n.invincible&&(i.reversed?-1:1)*(i.shadeSocket.worldPosition.x-n.worldPositionX)>0&&(t=!0)})),t},r.playSpecialZombieDie=function(i){this.switching&&this.judgeDeath(.2)},r.specialZombieOnEnable=function(){this.chiCD=this.objdataOwn.ChiIntervalStart},r._chi=function(){var i=this;if(this.isInLawn()&&this.inLane&&this.isAlive()&&!this.reversed&&!this.hypno)for(var t=function(){var t=u.getLnC(i.lIndex,n),e=!0;if(t.getAllPlants().forEach((function(t){e&&(t.canBeChied()||(e=!1,t.onChiedFailed(i)))})),!e)return 1;var a=t.getAllPlants();if(a.length){var o=a[0];d.pushPlantRight(o,0)}},n=this.cIndex;n>=0&&!t();n--);},r.onReversedSet=function(i){i&&this.switching&&(this.switching=!1,this.detectPlant(.01))},r.chiAnimation=function(){this.correctShadeWP(),this.chiCD=this.objdataOwn.ChiInterval,this.switching=!0,this.walking=!1,this.body.playAnimation("Absorb")},r.specialAnimationListener=function(i){"absorb"==i.name?(this._chi(),f.play(this.chiSound,1,.5)):"charge"==i.name&&f.play(this.chargeSound,1,.7)},r.specialZombieUpdate=function(i,t,n){var e;!this.hypno&&this.isInLawn()&&!this.reversed&&this.walking&&(null==(e=this.inLnC)?void 0:e.cIndex)>2&&this.areaChiable()&&(this.chiCD>0&&(this.chiCD-=i),this.chiCD<=0&&this.chiAnimation())},o(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),t}(c)).prototype,"chargeSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(C.prototype,"chiSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=C))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuHammerZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./Character.ts"],(function(t){var n,e,i,o,a,r,s,u,h,c,m,l;return{setters:[function(t){n=t.inheritsLoose,e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,u=t.AudioClip},function(t){h=t.ZombieProps,c=t.Zombie},function(t){m=t.sounds},function(t){l=t.CharacterType}],execute:function(){var p,d,y,b,g,w,f;r._RF.push({},"bf343WWxIZGua012JXDDgtc","KongfuHammerZombie",void 0);var D=s.ccclass,C=s.property,S=t("KongfuHammerProps",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).HammerDuration=3,n.RestDuration=3,n}return n(e,t),e}(h));t("KongfuHammerZombie",(p=D("KongfuHammerZombie"),d=C(u),y=C([u]),p((w=e((g=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(n=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new S,n.hammerCountDown=0,n.restingCountDown=0,i(n,"rotateSound",w,o(n)),i(n,"hitSounds",f,o(n)),n}n(e,t);var r=e.prototype;return r.commonShotPopOnTouch=function(t){return this.restingCountDown>0||(this.shouldSpeedScale()<=0||(this.hammerCountDown>0?!t.canbeJesterReversed||0!=t.gravity||0!=t.bodyLinearVelocity||(t.linearVelocity.negative(),t.targetLocked=null,t.enemyType=this.hypno?l.zombie:l.plant,m.playArray(this.hitSounds,.5,.1),!1):!(this.hammerCountDown<=0&&!this.switching)||(t.canbeJesterReversed&&0==t.gravity&&0==t.bodyLinearVelocity&&t.linearVelocity.x*(this.reversed?-1:1)>0&&Math.abs(t.linearVelocity.y/t.linearVelocity.x)<=1&&(this.switching=!0,this.walking=!1,this.correctShadeWP(),this.body.playAnimation("RotateStart",1)),!0)))},r.specialAnimationListener=function(t){"rotateStart"==t.name?(this.body.playAnimation("RotateLoop",1/0),this.hammerCountDown=this.objdataOwn.HammerDuration):"rest"==t.name&&(this.body.playAnimation("Resting",1/0),this.restingCountDown=this.objdataOwn.RestDuration),this.hammerZombieAnimationListenerAdd(t)},r.hammerZombieAnimationListenerAdd=function(t){},r.playSpecialZombieDie=function(t){this.switching&&(this.judgeDeath(.2),this.switching=!1)},r.specialZombieUpdate=function(t,n,e){this.hammerCountDown>0&&(this.hammerCountDown-=t,t>0&&m.play(this.rotateSound,1,.25),this.hammerCountDown<=0&&(this.body.playAnimation("RotateEnd",1/0,.2),this.walking=!1,this.restingCountDown=1/0)),this.restingCountDown>0&&(this.restingCountDown-=t,this.restingCountDown<=0&&(this.switching=!1,this.detectPlant(.01)))},r.specialZombieOnEnable=function(){this.hammerCountDown=0,this.restingCountDown=0},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(c)).prototype,"rotateSound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(g.prototype,"hitSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=g))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/Lane.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombies.ts","./Square.ts","./NodePools.ts","./Particles.ts","./Projectiles.ts","./Character.ts","./SoundRescourses.ts","./ParticleSelfdestroy.ts","./Tombs.ts"],(function(e){var t,i,n,o,s,r,a,l,h,c,u,d,p,f,m,y,L,b,g,w,v,P,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){r=e.cclegacy,a=e._decorator,l=e.instantiate,h=e.Vec3,c=e.dragonBones,u=e.Vec2,d=e.find,p=e.Component},function(e){f=e.zombies,m=e.ZombieEnum},function(e){y=e.Square},function(e){L=e.instantiatePooly},function(e){b=e.particle},function(e){g=e.projectileRes},function(e){w=e.Character},function(e){v=e.sounds},function(e){P=e.ParticleSelfdestroy},function(e){C=e.TombEnum}],execute:function(){var I,x,S,T,D;r._RF.push({},"8064d2YiT1BVZfACEdbiboA","Lane",void 0);var j=a.ccclass,z=a.property;e("Lane",(I=j("Lane"),x=z(Number),I((D=t((T=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))||this).Lower=null,t.tileLayer=null,t.tileLiquidLayer=null,t.foodPlantLayer=null,t.floorY=0,t.midY=0,t.toLeft=null,t.toRight=null,t.zombieLayer=null,t.hypnoZombieLayer=null,t.prjLayer=null,t.tombLayer=null,t.glitterLayer=null,t.icecubeLayer=void 0,t.iceTile=void 0,t.iceTiles=[],t.UpperLane=null,t.LowerLane=null,t.hurrikaleDuration=0,t.isSea=!1,t._laneLnCs=[],t.haveDeepWater=!1,n(t,"LaneIndex",D,o(t)),t.JitterSpawnZombieRoute=null,t.zombies=[],t.hypnoZombies=[],t.plantUpperLayer=void 0,t.plants=[],t.tombStones=[],t.zombieSpawnOffset=0,t.fenceHere=void 0,t.fenceThere=void 0,t._fenceIgnited=!1,t.plantProjectiles=[],t.mower=void 0,t.spawnPoint=void 0,t.meltCountdown=0,t}i(t,e);var r=t.prototype;return r.setHurrikaleDuration=function(e){this.hurrikaleDuration=e>this.hurrikaleDuration?e:this.hurrikaleDuration},r.hurrikaleBlowing=function(){return this.hurrikaleDuration>0},r.chillWind=function(e,t){var i,n=this;if(void 0===t&&(t=.15),this.isInLawn()){var o=L(b.chillWind());o.parent=this.prjLayer,o.worldPosition=y.getSquareWorldPosition(this.LaneIndex,4).toVec3().add3f(0,-20,0);var s=o.getComponent(P);null==(i=s.db)||i.playAnimation(e?"left":"right");for(var r=function(){var i=y.getLnC(n.LaneIndex,e?a:8-a);n.scheduleOnce((function(){i.iceblockPrepareLevel+=2}),t*(a+2))},a=0;a<9;a++)r();return{PSD:s}}},r.readHaveDeepWater=function(){this.haveDeepWater=this.laneLnCs.some((function(e){return!!e.deepwater}))},r.isInLawn=function(){return this.LaneIndex>=0&&this.LaneIndex<=4},r.addZombie=function(e){e.hypno?-1==this.hypnoZombies.indexOf(e)&&this.hypnoZombies.push(e):-1==this.zombies.indexOf(e)&&this.zombies.push(e)},r.deleteZombie=function(e){var t=this.zombies.indexOf(e);-1!=t&&this.zombies.splice(t,1);var i=this.hypnoZombies.indexOf(e);-1!=i&&this.hypnoZombies.splice(i,1)},r.zombiePool=function(){return this.zombies.concat()},r.hypnoZombiePool=function(){return this.hypnoZombies.concat()},r.addPlant=function(e){-1==this.plants.indexOf(e)&&this.plants.push(e)},r.deletePlant=function(e){var t=this.plants.indexOf(e);-1!=t&&this.plants.splice(t,1)},r.plantPool=function(){return this.plants.concat()},r.addTomb=function(e){-1==this.tombStones.indexOf(e)&&this.tombStones.push(e)},r.deleteTomb=function(e){var t=this.tombStones.indexOf(e);-1!=t&&this.tombStones.splice(t,1)},r.tombPool=function(){return this.tombStones.filter((function(e){return e.isAlive()}))},r.icecubePool=function(){return this.tombStones.filter((function(e){return e.ID==C.iceblock_plant||e.ID==C.iceblock_zombie}))},r.addCowboyFence=function(){var e=this,t=l(b.cowboyFence().FenceHere),i=l(b.cowboyFence().FenceThere),n=y.getSquareWorldPosition(this.LaneIndex,8,1.2,1),o=.45;[t,i].forEach((function(t){t.parent=e.node,t.worldPosition=new h(n.x,n.y),t.scale=new h(o,o,o)})),t.setSiblingIndex(this.node.children.length-1),i.setSiblingIndex(0),this.fenceHere=t.getComponent(c.ArmatureDisplay),this.fenceThere=i.getComponent(c.ArmatureDisplay),this.fenceIgnited=!1},r.camelTouchRegrouper=function(){},r.addPlantPrj=function(e){-1==this.plantProjectiles.indexOf(e)&&this.plantProjectiles.push(e)},r.deletePlantPrj=function(e){var t=this.plantProjectiles.indexOf(e);-1!=t&&this.plantProjectiles.splice(t,1)},r.prjPool=function(){return this.plantProjectiles.concat()},r.spawnMower=function(e){if(!this.mower){var t=y.getSquareWorldPosition(0,0,0).x-.66*y.SquareDisW,i=this.floorY-y.SquareDisH/4,n=g.getProjectile(e);n.parent=this.prjLayer;var o=n.getComponent(w);o.height=0,o.worldPosition=new u(t,i),o.linearVelocity=new u(0,0),o.bodyLinearVelocity=0,o.gravity=0;var s=L(b.mowerSpawn());s.parent=this.prjLayer,s.worldPosition=new h(t,i,0),this.mower=o,v.playMowerSpawn()}},r.addIceTile=function(e){-1==this.iceTiles.indexOf(e)&&this.iceTiles.push(e)},r.deleteIceTile=function(e){var t=this.iceTiles.indexOf(e);-1!=t&&this.iceTiles.splice(t,1)},r.clearIce=function(){this.iceTiles.concat().forEach((function(e){e.die()})),this.iceTiles=[]},r.lateUpdate=function(e){this.zombieSpawnOffset=0},r.onLoad=function(){var e,i;this.node.children.length&&(this.Lower=d("Canvas/FrontYard/tiles/"+this.node.name),this.tileLiquidLayer=d("Canvas/FrontYard/tileLiquid/"+this.node.name),this.tileLayer=d("Canvas/FrontYard/tiles/"+this.node.name),this.toLeft=this.node.getChildByName("toLeft"),this.toRight=this.node.getChildByName("toRight"),this.UpperLane=null==(e=y.getLane(this.LaneIndex-1))?void 0:e.getComponent(t),this.LowerLane=null==(i=y.getLane(this.LaneIndex+1))?void 0:i.getComponent(t),this.foodPlantLayer=this.node.getChildByName("food"),this.zombieLayer=this.node.getChildByName("zombies"),this.hypnoZombieLayer=this.node.getChildByName("hypnoZombies"),this.LaneIndex>=-1&&this.LaneIndex<=5?(this.prjLayer=this.node.getChildByName("prj"),this.tombLayer=this.node.getChildByName("tomb")):(this.prjLayer=this.node,this.tombLayer=this.node),this.glitterLayer=this.node.getChildByName("glitter"),this.plantUpperLayer=this.node.getChildByName("plantUpper"),this.icecubeLayer=this.node.getChildByName("icecube"),this.spawnPoint=this.node.getChildByName("SpawnPoint"),this.floorY=this.spawnPoint?this.spawnPoint.worldPosition.y:0);this.plants=[],this.zombies=[],this.iceTiles=[],this.plantProjectiles=[],this.tombStones=[]},r.summonBobsledTeam=function(){f.createZombie(this.LaneIndex,m.modern_bobSled_team)},r.iceListener=function(e){if(this.meltCountdown>0){var t=this.meltCountdown+0;this.meltCountdown-=e,this.iceTiles.length||(this.meltCountdown=0),(t>75&&this.meltCountdown<=75||t>55&&this.meltCountdown<=55||t>35&&this.meltCountdown<=35||t>15&&this.meltCountdown<=15)&&this.iceTile&&this.iceTile.length>1.8*y.SquareDisW&&this.summonBobsledTeam()}this.meltCountdown<=0&&this.clearIce()},r.update=function(e){this.iceListener(e),this.fenceIgnited=this.zombiePool().length<=0,this.hurrikaleDuration>0&&(this.hurrikaleDuration-=e)},s(t,[{key:"laneLnCs",get:function(){var e;if(null==(e=this._laneLnCs)||!e.length){for(var t=[],i=0;i<9;i++){var n=y.getLnC(this.LaneIndex,i);-1==t.indexOf(n)&&t.push(n)}this._laneLnCs=t}return this._laneLnCs}},{key:"fenceIgnited",get:function(){return this._fenceIgnited},set:function(e){var t;e!=this._fenceIgnited&&(null==(t=this.fenceThere)||t.playAnimation(e?"Ignite":"Out",1/0));this._fenceIgnited=e}}]),t}(p)).prototype,"LaneIndex",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-2}}),S=T))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/LaserBean.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./LnC.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./Zombie.ts","./NodePools.ts","./Particles.ts"],(function(o){var t,i,e,n,a,s,r,l,h,d,c,f,u,m,p,S,b,g,P,w,y;return{setters:[function(o){t=o.applyDecoratedDescriptor,i=o.inheritsLoose,e=o.initializerDefineProperty,n=o.assertThisInitialized,a=o.createClass},function(o){s=o.cclegacy,r=o._decorator,l=o.Node,h=o.Prefab,d=o.AudioClip,c=o.Vec2,f=o.Vec3},function(o){u=o.Plant,m=o.PlantProps},function(o){p=o.TileType},function(o){S=o.Rectangle},function(o){b=o.Square},function(o){g=o.sounds},function(o){P=o.ZombieDamageDetails},function(o){w=o.instantiatePooly},function(o){y=o.particle}],execute:function(){var v,C,x,D,L,F,_,A,O,R,E,j,H,I,z;s._RF.push({},"a37f4cixElPLrEGGPlSjbe2","LaserBean",void 0);var X=r.ccclass,T=r.property,M=function(o){function t(){for(var t,i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return(t=o.call.apply(o,[this].concat(e))||this).Damage=40,t.ShootInterval=2.7,t.ShootIntervalAdditional=.15,t.DamagePlantfood=1800,t}return i(t,o),t}(m);o("LaserBeanPlant",(v=X("LaserBeanPlant"),C=T(l),x=T(l),D=T(h),L=T(h),F=T(d),_=T(d),v((R=t((O=function(o){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=o.call.apply(o,[this].concat(a))||this).detector=new S,t._objdataOwn=new M,t.shooting=!1,t.shootCD=0,t.foodHitOldx=0,t._foodShootFromXOffset=0,t.foodShootArmatures=[],t.switching=!1,t.foodShooting=!1,t.foodShotZombies=[],t.foodShotTombs=[],e(t,"foodHitPoint",R,n(t)),e(t,"beamPoint",E,n(t)),e(t,"beamParticle",j,n(t)),e(t,"dirtParticle",H,n(t)),e(t,"shootSound",I,n(t)),e(t,"foodSound",z,n(t)),t}i(t,o);var s=t.prototype;return s.specialPlantOnSquareChange=function(o,t){this.detector=S.createRectangleNodeSide(t.node,b.SquareDisW*(9-t.cIndex),b.SquareDisH)},s.detectEnemies=function(){var o=this,t=!1;return this.inLane.zombiePool().forEach((function(i){var e;t||null!=(e=o.detector)&&e.judgeCrossRec(i.bodyRecForShooter)&&(t=!0)})),!!t||(this.inLane.tombPool().forEach((function(i){var e;t||null!=(e=o.detector)&&e.judgeCrossRec(i.bodyRec)&&(t=!0)})),t)},s.animationListener=function(o){"foodEnd"==o.name?(this.foodEnd(),this.switching=!0,this.anmControl.playAnimation("FoodEnd",1)):"foodStart"==o.name?(this.anmControl.playAnimation("Food",1/0),this.foodShooting=!0):"shoot"==o.name&&this._shoot()},s.waterable=function(){return!this.switching&&!this.shooting},s.animationOnComplete=function(){this.switching=!1,this.shooting=!1},s._shoot=function(){var o=this,t=this._objdataOwn.Damage;this._dmgScale&&(t*=this._dmgScale),this.inLane.zombiePool().forEach((function(i){i.bodyRecForShooter&&i.bodyRecForShooter.prjX().y>=o.worldPositionX&&i.dealDamage(new P(t,!0,!1,!0))})),this.inLane.tombPool().forEach((function(i){i.bodyRec&&i.bodyRec.prjX().y>=o.worldPositionX&&i.dealDamage(t)}))},s.specialPlantOnEnable=function(){this.switching=!1,this.shootCD=0,this.shooting=!1},s.specialPlantOnLoad=function(){var o=this;this.foodShootArmatures=[],this.anmControl.body.armature().getSlots().forEach((function(t){t.name.includes("_FS")&&t.childArmature&&o.foodShootArmatures.push(t.childArmature)})),this._foodShootFromXOffset=this.foodHitPoint.worldPosition.x-this.node.worldPosition.x},s.specialPlantFood=function(o){this.foodShooting=!1,this.anmControl.playAnimation("FoodStart",1/0,0,1),g.play(this.foodSound,1,.1),this.foodHitOldx=this.foodShootFromX,this.foodShotZombies=[],this.foodShotTombs=[],this.switching=!1},s.specialFloawerpotHeightScale=function(){return this.fooding&&this.foodShooting?0:1},s.specialPlantUpdateForce=function(o,t,i){var e=this;if(this.fooding){if(this.foodShooting){var n=this.foodHitPoint.worldPosition.x,a=b.judgeCIndex(n),s=b.getLnC(this.lIndex,a).getTileType(),r="Sky";s==p.water||s==p.sea?r="Water":s!=p.floor&&s!=p.deck||(r="Floor"),this.foodShootArmatures.forEach((function(o){o&&o.animation.lastAnimationName!=r&&o.animation.play(r,1/0)}));var l=S.createRectangleCenter(new c((n+this.foodHitOldx)/2,this.worldPositionY),b.SquareDisW/2+n-this.foodHitOldx,1e4),h=this._objdataOwn.DamagePlantfood;this._dmgScale&&(h*=this._dmgScale),this.inLane.zombiePool().forEach((function(o){l.judgeCrossRec(o.bodyRecReal)&&(-1==e.foodShotZombies.indexOf(o)&&(o.dealDamage(new P(h,!0,!1,!0)),null!=o&&o.isAlive()&&e.foodShotZombies.push(o)))})),this.inLane.tombPool().forEach((function(o){l.judgeCrossRec(o.bodyRec)&&(-1==e.foodShotTombs.indexOf(o)&&(o.dealDamage(h),null!=o&&o.isAlive()&&e.foodShotTombs.push(o)))}));for(var d=b.SquareDisW,u=Math.floor(Math.abs(this.foodHitOldx-this.foodShootFromX)/d),m=Math.floor(Math.abs(n-this.foodShootFromX)/d),g=0;g<Math.abs(m-u);g++){var v=this.foodShootFromX+u*(g+1)*d,C=b.getLnC(this.lIndex,b.judgeCIndex(v)).getTileType();if(C==p.deck||C==p.floor){var x=w(this.dirtParticle);x.parent=this.inLane.zombieLayer,x.setSiblingIndex(0),x.worldPosition=new f(v,this.worldPositionY,10)}else C==p.sea?y.spawnSeaSplash(this.lIndex,new f(v,this.worldPositionY,10)):C==p.water&&y.spawnWaterSplash(this.lIndex,new f(v,this.worldPositionY,10))}this.foodHitOldx=n}}else this.foodShootArmatures.forEach((function(o){o&&o.animation.play("Floor",1/0)}))},s.specialPlantUpdate=function(o,t,i){if(this.fooding);else if(!this.switching)if(this.shootCD>0)this.shootCD-=o;else if(i>0&&this.detectEnemies()){var e=this._objdataOwn.ShootInterval+this._objdataOwn.ShootIntervalAdditional*Math.random();this._cdScale&&(e*=this._cdScale),this.shootCD=e,this.anmControl.playAnimation("Shoot",1,0,Math.max(1,.5/e)),g.play(this.shootSound,1,.2);var n=w(this.beamParticle);n.parent=this.inLane.prjLayer,n.worldPosition=this.beamPoint.worldPosition,this.shooting=!0}},a(t,[{key:"foodShootFromX",get:function(){return this.worldPositionX}}]),t}(u)).prototype,"foodHitPoint",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(O.prototype,"beamPoint",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(O.prototype,"beamParticle",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(O.prototype,"dirtParticle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(O.prototype,"shootSound",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(O.prototype,"foodSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=O))||A));s._RF.pop()}}}));

System.register("chunks:///_virtual/LavaGuava.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./LnC.ts","./Zombie.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./FrontYard.ts","./levelController.ts"],(function(e){var a,t,n,o,i,r,s,l,c,d,u,f,h,p,y,b,m,g,v,L,C,k,P,w,S,R,D;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.createClass},function(e){r=e.cclegacy,s=e._decorator,l=e.AudioClip,c=e.Prefab,d=e.tween,u=e.Vec3,f=e.dragonBones,h=e.Color},function(e){p=e.Plant,y=e.PlantProps},function(e){b=e.sounds},function(e){m=e.TileType,g=e.TileLiquidEnum},function(e){v=e.ZombieDamageDetails,L=e.zombieDamageType},function(e){C=e.Rectangle},function(e){k=e.Square},function(e){P=e.ArrayGet,w=e.NodePools,S=e.instantiatePooly},function(e){R=e.FrontYard},function(e){D=e.LevelPlay}],execute:function(){var A,_,I,E,z,F,O,T,x,j,q,H,M,G,N,B,U,W,Y,Z,J,K,V,Q,X,$;r._RF.push({},"716adkK7fJODIr9d8LE5tti","LavaGuava",void 0);var ee=s.ccclass,ae=s.property,te=function(e){function a(){for(var a,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(a=e.call.apply(e,[this].concat(n))||this).ExplosionDamage=200,a.PlantFoodDurationSeconds=10,a.PlantFoodDPS=100,a.LavaLifeSpan=12,a}return t(a,e),a}(y),ne=(A=ee("LavaGuavaSound"),_=ae([l]),I=ae([l]),E=ae([l]),z=ae([l]),F=ae([l]),O=ae([l]),T=ae([l]),x=ae([l]),A((H=a((q=function(){function e(){n(this,"shoot",H,this),n(this,"shootSay",M,this),n(this,"ready",G,this),n(this,"foodSay",N,this),n(this,"foodHit",B,this),n(this,"pour",U,this),n(this,"blop",W,this),n(this,"melt",Y,this)}var a=e.prototype;return a.playShoot=function(){b.playArray(this.shoot,1,.1),b.playArray(this.shootSay,1,.1)},a.playReady=function(){b.playArray(this.ready,1,.1)},a.playFoodSay=function(){b.playArray(this.foodSay,1,.1)},a.playFoodHit=function(){b.playArray(this.foodHit,1,.1)},a.playPour=function(){b.playArray(this.pour,1,.1)},a.playBlop=function(){b.playArray(this.blop,1,.1)},a.playMelt=function(){b.playArray(this.melt,1,.1)},e}()).prototype,"shoot",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=a(q.prototype,"shootSay",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=a(q.prototype,"ready",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=a(q.prototype,"foodSay",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=a(q.prototype,"foodHit",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=a(q.prototype,"pour",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=a(q.prototype,"blop",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=a(q.prototype,"melt",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=q))||j),oe=function(){function e(){this.db=void 0,this.inLnC=void 0,this.oldAnmName=void 0}return e.prototype.getIdleAnmList=function(e,a){var t=e.righter,n=e.getTileType(),o=["Idle_M0","Idle_M1"],i=t.getTileType();return a?o=["Idle_L"]:R.getTidePos()==e.cIndex?o=["Idle_M0_half","Idle_M1_half"]:n==m.water?o=["Idle_M_water"]:null!=t&&t.isInLawn()&&i!=m.sky&&i!=m.sea&&i!=m.deck||(o=["Idle_R"]),o},e}();e("LavaGuavaPlant",(Z=ee("LavaGuavaPlant"),J=ae(ne),K=ae(c),Z((X=a((Q=function(e){function a(){for(var a,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return a=e.call.apply(e,[this].concat(i))||this,n(a,"soundRes",X,o(a)),a._objdataOwn=new te,a.foodCD=1/0,a.foodCracks=[],n(a,"crackP",$,o(a)),a}t(a,e);var r=a.prototype;return r.onObjdataSet=function(e,a){},r.specialPlantUpdate=function(e,a,t){this.fooding||this.sheepend||this.detectEnemy(),this.fooding&&(this._updateCracks(e),this.foodCD-=e,this.foodCD<=0&&this.foodEnd())},r.detectEnemy=function(){var e,a=this,t=!1;null==(e=this.inLane)||e.zombiePool().forEach((function(e){t||e.shouldSpeedScale()*e.randomSpeed>0&&e.bodyRec.judgeCrossRec(a.inLnC.rec)&&(t=!0)})),t&&this.die()},r.deathTimeScale=function(){return 1.2},r.specialPlantOnEnable=function(){this.damagable=!1,this.shadeAlphaScale=1,this.eaterDetectable=!1,this.smasherDetectable=!1},r._updateCracks=function(e){var a=this;this.foodCracks.concat().forEach((function(e){var t=e.inLnC.getTileType();if(t==m.deck||t==m.sky||t==m.sea){a.killCrack(e);var n=a.foodCracks.indexOf(e);-1!=n&&a.foodCracks.splice(n,1)}else{var o=e.getIdleAnmList(e.inLnC,e.inLnC.cIndex==a.cIndex);if(-1==o.indexOf(e.oldAnmName)){var i=P.getRandom(o);e.oldAnmName=i,e.db.playAnimation(i,1/0)}}}));var t=new v(this.objdataOwn.PlantFoodDPS*e*this._dmgScale,!0,!1,!1,null,L.fire);this.inLane.zombiePool().forEach((function(e){!e.flying&&a.foodCracks.some((function(a){return a.inLnC.lIndex==e.lIndex&&a.inLnC.rec.judgeCrossRec(e.bodyRecReal)}))&&e.dealDamage(t)})),this.foodCracks.forEach((function(e){var a;null==(a=e.inLnC.tombStone)||a.dealDamage(t.damage)}))},r.killCrack=function(e){var a=e.db.node.scale.x,t=d(e.db.color).to(.75,{}).to(.25,{a:255},{easing:"quadOut"}).start(),n=d(e.db.node).to(1,{scale:new u(a,.001,1)},{easing:"quadIn"}).call((function(){t.stop(),n.stop(),w.destroyPooly(e.db.node)})).start()},r._foodHit=function(){var e=this;this.foodCracks=[],this.foodCD=this.objdataOwn.PlantFoodDurationSeconds;for(var a=this.plantInLnC,t=0,n=function(){var n=a.getTileType();if(n==m.sky||n==m.sea||n==m.deck)return 1;var o=new oe;o.inLnC=a;var i=P.getRandom(o.getIdleAnmList(a,a.cIndex==e.cIndex));o.oldAnmName=i;var r=S(e.crackP);r.parent=k.lavaGuavaCrackLayer,r.worldPosition=a.node.worldPosition;var s=k.SquareDisW/156;r.scale=new u(s,.01,1);var l=r.getComponent(f.ArmatureDisplay);l.timeScale=.8+.4*Math.random(),o.db=l,l.playAnimation(i,1/0),l.color=new h(255,255,255,0);var c=d(l.color).to(.25,{a:255},{easing:"quadOut"}).start(),p=d(l.node).to(1+.1*t,{scale:new u(s,.5,1)},{easing:"quadOut"}).call((function(){p.stop(),c.stop()})).start();e.foodCracks.push(o),a=a.righter,t++};null!=(o=a)&&o.isInLawn();){var o;if(n())break}},r._foodCrackEnd=function(){var e=this;this.soundRes.playMelt(),this.foodCracks.forEach((function(a){e.killCrack(a)})),this.foodCracks=[]},r.specialPlantFoodEnd=function(){this._foodCrackEnd(),this.foodCD=1/0,this.anmControl.playAnimation("FoodEnd",1)},r.specialPlantFood=function(e){this.anmControl.playAnimation("FoodStart",1/0)},r.animationListener=function(e){switch(e.name){case"lava":var a;this.shadeAlphaScale=0,null==(a=this.inLnC)||a.addTileLiquid(g.deadlyLava,this.objdataOwn.LavaLifeSpan);break;case"ready":this.soundRes.playReady();break;case"shoot":this.soundRes.playShoot();break;case"pour":this.soundRes.playPour();break;case"blop":this.soundRes.playBlop();break;case"foodSay":this.soundRes.playFoodSay();break;case"foodHit":this._foodHit(),D.shakeScreen(),this.soundRes.playFoodHit(),this.soundRes.playPour();break;case"damage":var t=new v(this.objdataOwn.ExplosionDamage*this._dmgScale,!0,!1,!1,null,L.fire);if(!this.inLane||!this.inLnC)return;var n=C.createRectangleNodeCenter(this.inLnC.node,3*k.SquareDisW,3*k.SquareDisH),o=[];this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(e){-1==o.indexOf(e)&&e.bodyRecReal.judgeCrossRec(n)&&o.push(e)})),o.forEach((function(e){e.dealDamage(t)})),this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(e){e.bodyRec.judgeCrossRec(n)&&e.dealDamage(t.damage)}))}},i(a,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),a}(p)).prototype,"soundRes",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ne}}),$=a(Q.prototype,"crackP",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=Q))||V));r._RF.pop()}}}));

System.register("chunks:///_virtual/lawn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Square.ts","./SoundsController.ts","./LnC.ts","./SoundManager.ts","./levelController.ts","./Sunflower.ts","./SandBoxLevelSettingWindow.ts","./SoundRescourses.ts"],(function(e){var n,i,t,a,o,r,l,c,s,u,p,h,b,d,m,f,y,w,O,g,M,v,A,S,U,D;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,l=e._decorator,c=e.Enum,s=e.UITransform,u=e.Prefab,p=e.AudioClip,h=e.AudioSource,b=e.instantiate,d=e.find,m=e.assetManager,f=e.Vec2,y=e.Component},function(e){w=e.ArrayGet},function(e){O=e.Square},function(e){g=e.SoundFXController},function(e){M=e.TileType},function(e){v=e.WorldMusic},function(e){A=e.LevelPlay},function(e){S=e.sunflower},function(e){U=e.SandBoxLevelSettingWindow},function(e){D=e.sounds}],execute:function(){var L,R,T,_,C,E,z,P,I,N,V,q,B,F,k,x,W;r._RF.push({},"d459cG8REdFa6yufUgn/5Zy","lawn",void 0);var X=l.ccclass,G=l.property;c(v);e("lawn",(L=X("lawn"),R=G(s),T=G(Boolean),_=G(u),C=G(u),E=G([p]),z=G([p]),P=G([p]),L((V=n((N=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=e.call.apply(e,[this].concat(o))||this,t(n,"zombieShower",V,a(n)),n.oldSquaresTypes=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],t(n,"atNight",q,a(n)),n.atNight_=!1,t(n,"lawnUpper",B,a(n)),n.lawnUpper_=null,t(n,"lawnThereUpper",F,a(n)),n.lawnThereUpper_=null,n.worldMusic=v.Modern,n.audioSource=void 0,t(n,"ambienceLoop",k,a(n)),n.ambienceLoopDOM=[],t(n,"ambienceOccasional",x,a(n)),n.ambienceOccasionalDOM=[],n.busyAmbOcc=0,t(n,"ambienceRare",W,a(n)),n.ambienceRareDOM=[],n.busyAmbRare=0,n.ID=0,n}i(n,e);var r=n.prototype;return r.onLoad=function(){this.getComponent(h)||this.addComponent(h),this.audioSource=this.getComponent(h)},r.initialize=function(){var e=this;this.lawnUpper&&(this.lawnUpper_=b(this.lawnUpper),this.lawnUpper_.parent=d("Canvas/LawnCommon/LawnUpper"),this.lawnUpper_.worldPosition=this.node.worldPosition,this.lawnUpper_.worldScale=this.node.worldScale),this.lawnThereUpper&&(this.lawnThereUpper_=b(this.lawnThereUpper),this.lawnThereUpper_.parent=this.node.parent.parent.getChildByName("upper"),this.lawnThereUpper_.worldPosition=this.node.worldPosition,this.lawnThereUpper_.worldScale=this.node.worldScale),[-2,-1,0,1,2,3,4,5].forEach((function(e){[-2,-1,0,1,2,3,4,5,6,7,8,9].forEach((function(n){var i;null==(i=O.getLnC(e,n))||i.setTileType(M.floor)}))})),[-2,-1,0,1,2,3,4,5].forEach((function(e){O.getLaneComponent(e).isSea=!1})),this.specialInitialize(),[0,1,2,3,4].forEach((function(n){[0,1,2,3,4,5,6,7,8].forEach((function(i){var t,a=null==(t=O.getLnC(n,i))?void 0:t.getTileType();a&&(e.oldSquaresTypes[n][i]=a)}))}))},r.onDisable=function(){var e,n;null==(e=this.lawnUpper_)||e.destroy(),null==(n=this.lawnThereUpper_)||n.destroy(),this.lawnUpper_=null,this.lawnThereUpper_=null,this.ambienceLoopDOM.forEach((function(e){m.releaseAsset(e)})),this.ambienceLoopDOM=[],this.ambienceOccasionalDOM.forEach((function(e){m.releaseAsset(e)})),this.ambienceOccasionalDOM=[],this.ambienceRareDOM.forEach((function(e){m.releaseAsset(e)})),this.ambienceRareDOM=[]},r.specialInitialize=function(){},r.playAmbience=function(){var e=this.getComponent(h);e.volume=.6*g.SoundFXVolume,this.ambienceLoopDOM.length&&(e.clip=w.getRandom(this.ambienceLoopDOM),e.play(),e.loop=!1)},r.playAmbienceRare=function(){var e=10+Math.round(10*Math.random());this.busyAmbRare=60*e,D.playArray(this.ambienceRareDOM,1)},r.playAmbienceOccasional=function(){var e=5+Math.round(5*Math.random());this.busyAmbOcc=60*e,D.playArray(this.ambienceOccasionalDOM,1)},r.onEnable=function(){this.atNight_=this.atNight,this.getComponent(h)||this.addComponent(h)},r.dropSun=function(e){var n;if(void 0===e&&(e=50),U.skySunDrop){var i=Math.round(300*Math.random()),t=Math.round(200*Math.random()),a=new f(O.getSquareWorldPosition(2,4).x-150+i,O.getSquareWorldPosition(2,4).y-150+t);if(null!=(n=A.component)&&n.sunbombProps){var o=S.dropOneSunBomb(new f(a.x,a.y));o.linearVelocity=new f(0,0),o.bodyLinearVelocity=-3,o.gravity=0,o.height=700-t}else{S.produceSun(e,a,700-t,!1).forEach((function(e){e.linearVelocity=new f(0,0),e.bodyLinearVelocity=-3,e.gravity=0}))}}},r.start=function(){var e=this;this.ambienceLoopDOM=[],this.ambienceLoop.forEach((function(n){m.loadRemote(n.nativeUrl,{audioLoadMode:p.AudioType.DOM_AUDIO},(function(n,i){var t;i&&(null==(t=e.ambienceLoopDOM)||t.push(i))}))})),this.ambienceOccasionalDOM=[],this.ambienceOccasional.forEach((function(n){m.loadRemote(n.nativeUrl,{audioLoadMode:p.AudioType.DOM_AUDIO},(function(n,i){var t;i&&(null==(t=e.ambienceOccasionalDOM)||t.push(i))}))})),this.ambienceRareDOM=[],this.ambienceRare.forEach((function(n){m.loadRemote(n.nativeUrl,{audioLoadMode:p.AudioType.DOM_AUDIO},(function(n,i){var t;i&&(null==(t=e.ambienceRareDOM)||t.push(i))}))}))},r.specialLawnUpdate=function(e){},r.update=function(e){var n=this.getComponent(h);n.playing?n.volume=.6*g.SoundFXVolume:this.playAmbience(),this.busyAmbRare>0&&(this.busyAmbRare-=60*e),this.busyAmbRare<=0&&(this.busyAmbRare=0,this.ambienceRare.length&&this.playAmbienceRare()),this.busyAmbOcc>0&&(this.busyAmbOcc-=60*e),this.busyAmbOcc<=0&&(this.busyAmbOcc=0,this.ambienceOccasional.length&&this.playAmbienceOccasional()),this.specialLawnUpdate(e)},o(n,[{key:"PlankRows",get:function(){return[]},set:function(e){}},{key:"SeaRows",get:function(){return[0,1,2,3,4]}}]),n}(y)).prototype,"zombieShower",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=n(N.prototype,"atNight",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=n(N.prototype,"lawnUpper",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(N.prototype,"lawnThereUpper",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(N.prototype,"ambienceLoop",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(N.prototype,"ambienceOccasional",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=n(N.prototype,"ambienceRare",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=N))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/LawnMower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./FrontYard.ts","./SoundRescourses.ts","./levelController.ts","./Character.ts","./UI.ts","./Mouse.ts"],(function(e){var t,i,n,a,s,o,r,l,c,h,u,d,p,f,m,y,w,g,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,s=e.createClass},function(e){o=e.cclegacy,r=e._decorator,l=e.AudioClip,c=e.Sprite,h=e.dragonBones,u=e.Vec2,d=e.tween},function(e){p=e.commonShot},function(e){f=e.FrontYard},function(e){m=e.sounds},function(e){y=e.LevelPlay},function(e){w=e.CharacterType},function(e){g=e.UIInGame},function(e){b=e.Mouse}],execute:function(){var S,v,M,L,T,I,R,_,C;o._RF.push({},"86d7b6q8DBBkaS7T/MqkW7o","LawnMower",void 0);var P=r.ccclass,x=r.property;e("LawnMower",(S=P("LawnMower"),v=x(l),M=x([c]),L=x(h.ArmatureDisplay),S((R=t((I=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this).popWhenStatic=!1,t.canDiveUnderHeight0=!0,n(t,"attackSound",R,a(t)),t._pressed=!1,t._pressedTime=0,t.maxPressTime=1,n(t,"launchCircs",_,a(t)),t.fallenIntoSea=!1,n(t,"waterSplash",C,a(t)),t}i(t,e);var o=t.prototype;return o.characterOnEnable=function(){this.initialize(),this.canbeJesterReversed=!1,this.fallenIntoSea=!1,this.linearVelocity=new u,this.bodyLinearVelocity=0,this.gravity=0,this.bodyOmega=0,this.node.angle=0,this.db.playAnimation("Idle",1/0),this.enemyType=w.zombie,this.waterSplash&&(this.waterSplash.node.active=!1),this.pressedTime=0},o.animationListener=function(e){"switchingFalse"==e.name&&(this.switching=!1,this.linearVelocity=new u(7,0),this.db.playAnimation("Attack",1/0))},o.launch=function(){var e;this.inLane.mower=null,this.switching=!0,null==(e=y.component)||e.onMowerLose(this.lIndex),this.db.playAnimation("Trans",1/0),m.play(this.attackSound,1,.1)},o.detectEnemy=function(e){var t=this;if(!this.switching&&this.inLane&&!this.fallenIntoSea){var i=this.enemyType==w.zombie,n=i?this.inLane.zombiePool():this.inLane.hypnoZombiePool(),a=this.bodyRec();n.forEach((function(e){if(!t.switching&&e.isRealZombie&&a.judgeCrossRec(e.bodyRecReal)){if(!t.linearVelocity.length())return void t.launch();e.meetMower(t.linearVelocity.x>0)}})),i&&this.inLane.tombPool().forEach((function(e){a.judgeCrossRec(e.bodyRec)&&e.die()}))}},o.specialUpdate=function(e){this._pressed&&y.ManualMower&&y.gaming&&-1==g.index&&this.linearVelocity.length()<=0&&this.bodyRec().judgeInRecP(b.position.clone())?this.pressedTime+=e:(this.pressedTime=0,this._pressed=!1)},o.onMouseDown=function(){y.ManualMower>0&&y.gaming&&-1==g.index&&(this._pressed=!0)},o.hitFloor=function(e){this.waterSplash&&(this.waterSplash.node.active=!1)},o.hitSea=function(){var e,t=this;if(!this.fallenIntoSea){this.fallenIntoSea=!0;var i=null==(e=f.currentLawn)||null==(e=e.node)?void 0:e.getChildByName("Lane"+this.lIndex.toString());i&&this.node.setParent(i,!0),this.bodyOmega=-3-3*Math.random(),this.linearVelocity.x/=2,d(this).to(.5,{height:-40},{easing:"quadIn"}).call((function(){t.defaultHitSea()})).start()}},o.hitWater=function(){this.waterSplash&&(this.waterSplash.node.active=!0)},s(t,[{key:"pressedTime",get:function(){return this._pressedTime},set:function(e){var t=this;this.launchCircs.forEach((function(i){i.node.active=e>0,i.fillRange=e/t.maxPressTime})),e>this.maxPressTime&&(this.launch(),this._pressed=!1,y.ManualMower--),this._pressedTime=e}}]),t}(p)).prototype,"attackSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(I.prototype,"launchCircs",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(I.prototype,"waterSplash",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=I))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/lawnPirate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./lawn.ts","./Square.ts","./LnC.ts","./levelController.ts","./UI.ts","./SoundRescourses.ts"],(function(e){var n,t,a,i,s,o,l,c,r,u,h,k,p,f,L,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.createClass},function(e){o=e.cclegacy,l=e._decorator,c=e.dragonBones,r=e.Node,u=e.AudioClip},function(e){h=e.lawn},function(e){k=e.Square},function(e){p=e.TileType},function(e){f=e.LevelPlay},function(e){L=e.UIInGame},function(e){d=e.sounds}],execute:function(){var w,D,P,y,g,m,v,C,R,b,A;o._RF.push({},"3f6296qtA9AC6TtFNKlvPXc","lawnPirate",void 0);var S=l.ccclass,T=l.property;e("lawnPirate",(w=S("lawnPirate"),D=T(c.ArmatureDisplay),P=T(r),y=T(u),g=T(u),w((C=n((v=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return(n=e.call.apply(e,[this].concat(s))||this).Lane0Deck=!1,n.Lane1Deck=!1,n.Lane2Deck=!1,n.Lane3Deck=!1,n.Lane4Deck=!1,a(n,"cannonGuide",C,i(n)),a(n,"buttons",R,i(n)),a(n,"plankBreak",b,i(n)),a(n,"plankAdd",A,i(n)),n}t(n,e);var o=n.prototype;return o.setCannonGuide=function(e){this.cannonGuide.node.active=e},o.addPlankRow=function(e){var n=this.PlankRows;-1==this.PlankRows.indexOf(e)&&e>=0&&e<=4&&(n.push(e),d.play(this.plankAdd,1,0)),this.PlankRows=n},o.removePlankRow=function(e){var n=this.PlankRows,t=this.PlankRows.indexOf(e);-1!=t&&(n.splice(t,1),d.play(this.plankBreak,1,0)),this.PlankRows=n},o.switchLanePlank=function(e){-1!=this.PlankRows.indexOf(e)?this.removePlankRow(e):this.addPlankRow(e)},o.switchLane0Plank=function(){this.switchLanePlank(0)},o.switchLane1Plank=function(){this.switchLanePlank(1)},o.switchLane2Plank=function(){this.switchLanePlank(2)},o.switchLane3Plank=function(){this.switchLanePlank(3)},o.switchLane4Plank=function(){this.switchLanePlank(4)},o.specialInitialize=function(){this.PlankRows=[0,1,2,3,4]},o.specialLawnUpdate=function(e){this.buttons.active=f.sandBoxModeOn&&!L.uiingame.uiHidden},s(n,[{key:"PlankRows",get:function(){return[].concat(this.Lane0Deck?[0]:[],this.Lane1Deck?[1]:[],this.Lane2Deck?[2]:[],this.Lane3Deck?[3]:[],this.Lane4Deck?[4]:[])},set:function(e){this.Lane0Deck=-1!=e.indexOf(0),this.Lane1Deck=-1!=e.indexOf(1),this.Lane2Deck=-1!=e.indexOf(2),this.Lane3Deck=-1!=e.indexOf(3),this.Lane4Deck=-1!=e.indexOf(4);for(var n=[this.Lane0Deck,this.Lane1Deck,this.Lane2Deck,this.Lane3Deck,this.Lane4Deck],t=0;t<n.length;t++){if(n[t]){k.getLaneComponent(t).isSea=!1;for(var a=5;a<9;a++)k.getLnC(t,a).setTileType(p.deck)}else{k.getLaneComponent(t).isSea=!0;for(var i=5;i<9;i++)k.getLnC(t,i).setTileType(p.sea)}[-1,5].forEach((function(e){k.getLaneComponent(e).isSea=!0})),this.getComponent(c.ArmatureDisplay).armature().getSlot("DECKSHADE"+t.toString()).displayIndex=n[t]?0:-1,this.node.getChildByName("Lane"+t.toString()).getComponent(c.ArmatureDisplay).playAnimation(n[t]?"On":"Off")}k.getLnC(-1,0).setTileType(p.sea),k.getLnC(5,0).setTileType(p.sea)}},{key:"SeaRows",get:function(){return[].concat(this.Lane0Deck?[]:[0],this.Lane1Deck?[]:[1],this.Lane2Deck?[]:[2],this.Lane3Deck?[]:[3],this.Lane4Deck?[]:[4])}}]),n}(h)).prototype,"cannonGuide",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(v.prototype,"buttons",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=n(v.prototype,"plankBreak",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(v.prototype,"plankAdd",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/lawnSky.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Square.ts","./LnC.ts","./lawn.ts"],(function(n){var e,t,w,i,r,o,s,c;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,w=n._decorator,i=n.Vec2},function(n){r=n.Square},function(n){o=n.LnC,s=n.TileType},function(n){c=n.lawn}],execute:function(){var u;t._RF.push({},"7b7f5kDzBFOA7szLKIjO+gU","lawnSky",void 0);var a=w.ccclass;w.property,n("lawnSky",a("lawnSky")(u=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var w=t.prototype;return w.skyTiles=function(){return[new i(-1,0),new i(5,0),new i(0,9),new i(0,3),new i(0,4),new i(0,5),new i(0,6),new i(0,7),new i(0,8),new i(1,3),new i(1,4),new i(1,5),new i(1,6),new i(1,7),new i(1,8),new i(2,3),new i(2,4),new i(2,5),new i(2,6),new i(2,7),new i(2,8),new i(3,3),new i(3,4),new i(3,5),new i(3,6),new i(3,7),new i(3,8),new i(4,3),new i(4,4),new i(4,5),new i(4,6),new i(4,7),new i(4,8)]},w.specialInitialize=function(){this.skyTiles().forEach((function(n){r.getSquare(n.x,n.y).getComponent(o).setTileType(s.sky)}))},t}(c))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/levelController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FrontYard.ts","./Cards.ts","./UI.ts","./SoundRescourses.ts","./ShovelUIController.ts","./SunCount.ts","./PlantFoodCount.ts","./Zombies.ts","./Zombie.ts","./NodePools.ts","./Tombs.ts","./Square.ts","./LnC.ts","./Plants.ts","./lawnPirate.ts","./SoundsController.ts","./SoundManager.ts","./Conveyor.ts","./PowerupFingers.ts","./PlayerProperties.ts","./CharacterManager.ts","./Particles.ts","./Droppings.ts","./Prizes.ts","./levelPrize.ts","./LevelTaskCount.ts","./DangerroomCardChooser.ts","./MultiLanguage.ts","./Tiles.ts","./foodLinkTile.ts","./Shovel.ts","./GridItem.ts","./SettingWindow.ts","./LevelObjectiveScreen.ts","./Projectiles.ts","./Character.ts","./Sunflower.ts","./Levels.ts","./KeyListener.ts","./Trophies.ts","./JSONs.ts"],(function(e){var n,t,a,i,o,r,s,l,u,h,c,d,m,g,v,p,f,P,w,S,b,C,M,y,N,L,T,W,B,D,E,R,I,_,G,x,k,Z,F,A,O,j,z,U,H,V,Y,J,K,X,q,Q,$,ee,ne,te,ae,ie,oe,re,se,le,ue,he,ce,de,me,ge,ve,pe,fe,Pe,we,Se,be,Ce,Me,ye,Ne,Le,Te,We,Be,De,Ee;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.createClass,a=e.initializerDefineProperty,i=e.inheritsLoose,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Node,u=e.Label,h=e.Color,c=e.ProgressBar,d=e.Sprite,m=e.JsonAsset,g=e.Camera,v=e.UITransform,p=e.Vec3,f=e.tween,P=e.instantiate,w=e.Vec2,S=e.HALF_PI,b=e.AudioSource,C=e.Component},function(e){M=e.FrontYard,y=e.yardType,N=e.JamStyle},function(e){L=e.Cards},function(e){T=e.UIInGame},function(e){W=e.sounds},function(e){B=e.ShovelUIController},function(e){D=e.SunCount},function(e){E=e.PlantFoodCount},function(e){R=e.zombies,I=e.ZombieEnum},function(e){_=e.zombieDamageType,G=e.Zombie},function(e){x=e.ArrayGet,k=e.instantiatePooly,Z=e.NodePools},function(e){F=e.tombs,A=e.TombEnum},function(e){O=e.Square},function(e){j=e.LnCSpawnZombieStyleEnum,z=e.LnC,U=e.TileType},function(e){H=e.plants,V=e.PlantEnum},function(e){Y=e.lawnPirate},function(e){J=e.MusicController},function(e){K=e.MusicSortEnum,X=e.SoundManager,q=e.musicType},function(e){Q=e.Conveyor,$=e.ConveyorPlant},function(e){ee=e.PowerupFingers},function(e){ne=e.AllPlayerProperties,te=e.EndlessZoneProperties,ae=e.EndlessZoneMiniGameProperties,ie=e.ZombieKillProgress,oe=e.WorldMapSceneDisplayEnum,re=e.LevelProgress},function(e){se=e.ZombiePool,le=e.TombPool,ue=e.PlantPool},function(e){he=e.particle},function(e){ce=e.droppings},function(e){de=e.prizeRes},function(e){me=e.levelPrize},function(e){ge=e.LevelTaskCountModeEnum},function(e){ve=e.DangerroomCardChooser},function(e){pe=e.MultiLanguage},function(e){fe=e.TileEnum},function(e){Pe=e.FoodLinkTileTypeEnum},function(e){we=e.Shovel},function(e){Se=e.GridItem,be=e.GridItemEnum,Ce=e.GridItemPool},function(e){Me=e.Setting},function(e){ye=e.LevelObjectiveScreen},function(e){Ne=e.ProjectileEnum},function(e){Le=e.CharacterType},function(e){Te=e.sunflower},function(e){We=e.getLevelJsonAsset},function(e){Be=e.KeyListener},function(e){De=e.UpgradeEnum},function(e){Ee=e.PvZ2Object}],execute:function(){var Re,Ie,_e,Ge,xe,ke,Ze,Fe,Ae,Oe,je,ze,Ue,He,Ve,Ye,Je,Ke,Xe,qe,Qe,$e,en,nn,tn,an,on,rn,sn,ln,un,hn,cn,dn,mn,gn,vn,pn,fn,Pn,wn,Sn,bn,Cn,Mn,yn,Nn,Ln,Tn,Wn,Bn,Dn,En,Rn,In,_n,Gn,xn,kn,Zn,Fn,An,On,jn,zn,Un,Hn,Vn,Yn,Jn,Kn,Xn;r._RF.push({},"69a37XH3A9DBa468NxIslYS","levelController",void 0);var qn=s.ccclass,Qn=s.property,$n=e("ValueRange",(Re=qn("ValueRange"),Ie=Qn(Number),_e=Qn(Number),Re((ke=n((xe=function(){function e(e,n){a(this,"Max",ke,this),a(this,"Min",Ze,this),this.Max=e,this.Min=n}return e.getRandomFromRange=function(e){return Math.random()*(e.Max-e.Min)+e.Min},e.getProgress=function(e,n,t,a){void 0===t&&(t=!0),void 0===a&&(a=!0);var i=(n-e.Min)/(e.Max-e.Min);return t&&i<0&&(i=0),a&&i>1&&(i=1),1},e.getFromRangeByProgress=function(e,n){return n*(e.Max-e.Min)+e.Min},e.getRandomIntegerFromRange=function(e){return Math.floor(Math.random()*(e.Max-e.Min+1))+Math.floor(e.Min)},e}()).prototype,"Max",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ze=n(xe.prototype,"Min",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ge=xe))||Ge)),et=function(){function e(){this.zombie=null,this.arriveTime=0,this.timeBeforeArrive=0,this.x0=0,this.xt=0,this.dead=!1,this.passed=!1}var n=e.prototype;return n.pass=function(){this.passed||(this.passed=!0,W.playRhythmHit())},n.update=function(e){var n=this.x0+(this.xt-this.x0)/this.timeBeforeArrive*(e-this.arriveTime+this.timeBeforeArrive);this.zombie.worldPositionX=n,e+.1>this.arriveTime&&this.pass()},e}(),nt=function(){function e(){this.TimeBeforeFirst=new $n(1,1),this.TimeBetween=new $n(1,1),this.Repeat=new $n(1,1),this.RewardWhenEnded=!1,this.SuppressRewardState=!1,this.EndingWave=NaN,this.Events=["RTID(Wave1@CurrentLevel)"],this.CD=0,this.leftTime=0}var n=e.prototype;return n.initialize=function(){this.CD=$n.getRandomFromRange(this.TimeBeforeFirst),this.leftTime=$n.getRandomIntegerFromRange(this.Repeat),0==this.leftTime&&(this.leftTime=1/0)},n.update=function(e,n){this.leftTime>0&&(this.SuppressRewardState&&n.setLevelVictoryCountDown(.1),this.CD-=e,this.CD<=0&&(this.CD=$n.getRandomFromRange(this.TimeBetween),n.getModule(this.Events).forEach((function(e){n.readWave(e)})),this.leftTime--)),this.leftTime<=0&&this.RewardWhenEnded&&(n.levelVictoryCountDown=0,n.judgeVictory())},e}(),tt=(Fe=qn("Cannon Point Shower"),Ae=Qn(l),Oe=Qn(u),je=Qn(u),Fe((He=n((Ue=function(){a(this,"PointParent",He,this),a(this,"Target",Ve,this),a(this,"Current",Ye,this)}).prototype,"PointParent",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=n(Ue.prototype,"Target",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye=n(Ue.prototype,"Current",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=Ue))||ze),at=function(){this.SuppressObjectiveTip=!1,this.BaseMovementRate=80,this.BaseZombieKillScore=100,this.BufferDistance=50,this.ComboBrackets=[{AudioCue:"Play_CrazyDave_Short",Exclamations:["[DAVE_CANNONMINIGAME_3_KILLED_1]","[DAVE_CANNONMINIGAME_3_KILLED_2]","[DAVE_CANNONMINIGAME_3_KILLED_3]"],MessageColor:{mAlpha:255,mBlue:220,mGreen:255,mRed:220},ScoreMultiplier:2,ZombiesKilled:3},{AudioCue:"Play_CrazyDave_Scream",Exclamations:["[DAVE_CANNONMINIGAME_5_KILLED_1]","[DAVE_CANNONMINIGAME_5_KILLED_2]","[DAVE_CANNONMINIGAME_5_KILLED_3]"],MessageColor:{mAlpha:255,mBlue:255,mGreen:220,mRed:220},ScoreMultiplier:3,ZombiesKilled:5},{AudioCue:"Play_CrazyDave_Scream2",Exclamations:["[DAVE_CANNONMINIGAME_8_KILLED_1]","[DAVE_CANNONMINIGAME_8_KILLED_2]","[DAVE_CANNONMINIGAME_8_KILLED_3]"],MessageColor:{mAlpha:255,mBlue:220,mGreen:240,mRed:255},ScoreMultiplier:4,ZombiesKilled:8},{AudioCue:"Play_CrazyDave_Crazy",Exclamations:["[DAVE_CANNONMINIGAME_12_KILLED_1]","[DAVE_CANNONMINIGAME_12_KILLED_2]","[DAVE_CANNONMINIGAME_12_KILLED_3]"],MessageColor:{mAlpha:255,mBlue:200,mGreen:200,mRed:255},ScoreMultiplier:5,ZombiesKilled:12}],this.Lanes=[],this.MaxRewardGold=50,this.MinRewardGold=0,this.MinScore=5e3,this.RowHasCannon=[1,1,1,1,1],this.SlowdownMovementRate=45},it=function(){function e(){this.InitialPotionCount=4,this.MaxPotionCount=15,this.PotionSpawnTimer={Max:8,Min:4},this.PotionTypes=["zombiepotion_speed","zombiepotion_toughness"],this._cd=0,this.spawnedPotions=[]}var n=e.prototype;return n.gameStart=function(){var e=this;this.resetCD();for(var n=[],t=Math.ceil(this.MaxPotionCount/5)+1,a=0;a<t&&a<9;a++)for(var i=9-a,o=0;o<5;o++)for(var r=O.getLnC(o,i),s=0;s<i+1;s++)n.push(r);var l=this.InitialPotionCount;x.randomize(n).forEach((function(n){if(!(l<=0)){var t=H.getPlantEnumByString(x.getRandom(e.PotionTypes)),a=n.spawnPlantByPlantEnum(t,!0,!0,!1,!1);a&&(l--,e.spawnedPotions.push(a))}}))},n.resetCD=function(){this._cd=this.PotionSpawnTimer.Min+Math.random()*(this.PotionSpawnTimer.Max-this.PotionSpawnTimer.Min)},n.update=function(e){var n=this;if(this.spawnedPotions.concat().forEach((function(e){if(!e.isAlive()){var t=n.spawnedPotions.indexOf(e);-1!=t&&n.spawnedPotions.splice(t,1)}})),this._cd>0&&(this._cd-=e),this._cd<=0&&(this.resetCD(),this.spawnedPotions.length<this.MaxPotionCount))for(var t=!1,a=function(e){if(t)return 1;x.randomize([0,1,2,3,4]).forEach((function(a){if(!t){var i=O.getLnC(a,8-e),o=H.getPlantEnumByString(x.getRandom(n.PotionTypes)),r=i.spawnPlantByPlantEnum(o,!0,!0,!1,!1);r&&(t=!0,n.spawnedPotions.push(r))}}))},i=0;i<9&&!a(i);i++);},e}(),ot=e("SunBombProperties",(function(){this.PlantBombExplosionRadius=25,this.ZombieBombExplosionRadius=80,this.PlantDamage=1e3,this.ZombieDamage=500})),rt=function(){this.SuppressParticle=!1,this.List=[]},st=function(){this.ID=V.Peashooter,this.NewObjdata={}},lt=function(){this.SuppressFlagZombie=!1,this.MinNextWaveHealthPercentage=.5,this.MaxNextWaveHealthPercentage=.7,this.FlagWaveInterval=1,this.IgnoreFlagCarriers=!1,this.WaveCount=0,this.WaveSpendingPointIncrement=10,this.WaveSpendingPoints=100,this.Waves=[],this.ZombieCountdownFirstWaveSecs=10},ut=function(){this.l=-1,this.c=-1,this.tombEnum=A.tutorial},ht=(Je=qn("inGameSceneToolTips"),Ke=Qn(u),Xe=Qn(u),Je(($e=n((Qe=function(){function e(){a(this,"LetsRock",$e,this),a(this,"PresetLetsRock",en,this)}return e.prototype.setString=function(){this.LetsRock&&(this.LetsRock.string=pe.getString(pe.lyrics.InGameScene.LetsRock,!1)),this.PresetLetsRock&&(this.PresetLetsRock.string=pe.getString(pe.lyrics.InGameScene.PresetLetsRock,!1))},e}()).prototype,"LetsRock",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),en=n(Qe.prototype,"PresetLetsRock",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=Qe))||qe),ct=function(){this.ColumnEnd=8,this.ColumnStart=0,this.GroupSize=1,this.SpiderCount=0,this.SpiderZombie=I.future_imp,this.TimeBeforeFullSpawn=4,this.TimeBetweenGroups=1,this.ZombieFallTime=1.5,this._leftTimeBetweenGroups=0},dt=function(){function e(){this.SunCD=2,this.SunCountdownBase=6,this.SunCountdownRange=3,this.SunCountdownIncreasePerSun=.1,this.SunCountdownMax=12,this.ListenToLawn=!1,this.Value=50,this.dropped=0}return e.prototype.deal=function(e){if((!this.ListenToLawn||!M.currentLawn.atNight_)&&(this.SunCD-=e,this.SunCD<=0)){var n=this.SunCountdownBase+this.dropped*this.SunCountdownIncreasePerSun+this.SunCountdownRange*Math.random();this.SunCD=Math.min(this.SunCountdownMax,n),M.currentLawn.dropSun(this.Value),this.dropped++}},e}(),mt=e("LevelPlay",function(){function e(){}return e.getUpgradeProps=function(){this.SunShovelRate=0,this.StartingSunBoost=0,this.FirstAidSupplied=!1,this.PlantfoodRefresh=!1,this.BaseSeedSlotcount=6,this.BasePFSlotcount=3,this.ManualMower=0;for(var e=0;e<De.amount;e++){var n=ne.getUpgradeProgressByID(e);if(n.progress>0&&n.enabled)switch(de.upgradeFeature()[e].UPGRADETYPE){case"starting_sun":this.StartingSunBoost+=25;break;case"pf_slot":this.BasePFSlotcount=Math.min(this.BasePFSlotcount+1,5);break;case"firstaid":this.FirstAidSupplied=!0;break;case"refresh":this.PlantfoodRefresh=!0;break;case"sunshovel":this.SunShovelRate+=.25;break;case"seedslot":this.BaseSeedSlotcount=Math.min(this.BaseSeedSlotcount+1,8);break;case"manual_mower":this.ManualMower++}}},e.getLevelModule=function(e,n){var t;if(void 0===n&&(n=[]),!isNaN(null==(t=n)?void 0:t.length)){var a=[];return n.forEach((function(n){if(n){var t="CurrentLevel";n.includes("@LevelModules")&&(t="LevelModules");var i=n.concat(),o=i.indexOf("RTID("),r=i.indexOf("@"+t+")"),s="";-1!=o&&(s=i.slice(o+5,r)),("CurrentLevel"==t||"LevelModules"==t)&&e.forEach((function(e){-1==a.indexOf(e)&&e.aliases&&-1!=e.aliases.indexOf(s)&&a.push(e)}))}})),a}},e.gameStart=function(){this.component.gameStart()},e.gameWarn=function(e,n,t,a,i,o,r,s){void 0===n&&(n=6),void 0===t&&(t=4),void 0===a&&(a=.5),void 0===i&&(i=.33),void 0===o&&(o=new h(255,0,0,0)),void 0===r&&(r=1),void 0===s&&(s=new h(0,0,0,255)),this.component.gamingWarn(e,n,t,a,i,o,r,s)},e.shakeScreen=function(e){void 0===e&&(e=.2),this.component.shakeScreen(e)},e.setLevelData=function(e,n){this.levelData=We(x.getRandom(e)).json,this.thisLevelsID=e.concat(),this.nextLevelsID=n.concat()},e.getLevelDefinition=function(e){return e.find((function(e){if("LevelDefinition"==e.objclass)return!0}))},e.getLevelName=function(e){var n=null,t=this.getLevelDefinition(e);if(t){var a=t.objdata.NameMultiLanguage,i=t.objdata.Name;a&&(i=pe.getString(a,!1));var o=pe.getStringByPropsWithoutTricks("LevelName",i);o||(o=i),n=o=this.levelNameReplacer(o,t)}return n||""},e.levelNameReplacer=function(e,n){var t,a,i,o,r;null!=(t=n.objdata)&&null!=(t=t.PlantToIntroduce)&&t.length&&(e=null==(r=e)?void 0:r.replace("<PLANTNAME>",pe.getString(H.getPlantFeature(H.getPlantEnumByString(n.objdata.PlantToIntroduce)).NAME)));return(e=null==(i=e=null==(a=e)?void 0:a.replace("<LEVELNUMBER>",(+n.objdata.LevelNumber).toString()))?void 0:i.replace("<PLAYERNAME>",null==(o=ne.currentPlayer)?void 0:o.name))||(e=""),e},e.getLevelDescription=function(e){var n=null,t=this.getLevelDefinition(e);if(t){var a=t.objdata.DescriptionMultiLanguage,i=t.objdata.Description;a&&(i=pe.getString(a,!1));var o=pe.getStringByPropsWithoutTricks("LevelDescription",i);o||(o=i),n=o=this.levelNameReplacer(o,t)}return n||""},t(e,null,[{key:"CannonMinigameProps",get:function(){var e;return null==(e=this.component)?void 0:e.cannonMinigameProperties}},{key:"UnlockAll",get:function(){return this.component&&this.component.UnlockAll}},{key:"PointLayer",get:function(){var e;return null==(e=this.component)?void 0:e.pointLayer}},{key:"maxTideDistance",get:function(){return this.component&&M.haveTideKelp()?this.component.maxTideDistance:9}},{key:"zombieDamageReceiveScale",get:function(){return this.component?this.component.zombieDamageReceiveScale:1}},{key:"gaming",get:function(){return this.component&&this.component.node.active&&this.component.gaming}},{key:"gameStarted",get:function(){return!!this.component&&this.component.gameStarted},set:function(e){this.component.gameStarted=e}}]),e}());mt.component=void 0,mt.screenFlashColors=[],mt.screenFlashLeftColor=new h(255,255,255,0),mt.SunShovelRate=0,mt.StartingSunBoost=0,mt.FirstAidSupplied=!1,mt.PlantfoodRefresh=!1,mt.BaseSeedSlotcount=6,mt.BasePFSlotcount=3,mt.ManualMower=0,mt.sandBoxModeOn=!1,mt.letsRocked=!1,mt.chooseCardMode=!1,mt.levelData=null,mt.thisLevelsID=[],mt.nextLevelsID=[],mt.rhythmMusicClip=void 0;e("levelController",(nn=qn("levelController"),tn=Qn(ht),an=Qn(u),on=Qn(c),rn=Qn(d),sn=Qn(d),ln=Qn(d),un=Qn(tt),hn=Qn(l),cn=Qn(c),dn=Qn(u),mn=Qn(u),gn=Qn(m),vn=Qn(l),pn=Qn(ve),fn=Qn(we),Pn=Qn(c),wn=Qn([l]),Sn=Qn(g),bn=Qn(l),Cn=Qn(l),Mn=Qn(v),yn=Qn(ye),Nn=Qn(m),nn((Wn=n((Tn=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(n=e.call.apply(e,[this].concat(i))||this)._levelWorldName="",a(n,"tooltips",Wn,o(n)),a(n,"inGameWarnLabel",Bn,o(n)),n._warnLabelA=0,n.gameWarnTween=[],a(n,"levelProgressBar",Dn,o(n)),a(n,"levelProgressHead",En,o(n)),a(n,"waveFlag",Rn,o(n)),n.waveFlags=[],a(n,"screenFlash",In,o(n)),n._comment="Tutorial",n.currentLevelObjects=[],n.levelModulesObjects=[],n.graveProps=[],n.waveManagerProps=new lt,n.currentWave=-1,n.currentBigWave=-1,n.conveyor=!1,n.haveWater=!1,n._maxTideDistance=0,n.initialZombies=[],n.levelSchedulers=[],n.plantMustProtectCount=0,n._plantUnderProtectCount=0,n.potionModules=[],n.imitaterExcludePlantList=[],n.presetSeedToChoose=[],n.presetSeedBank=[],n.ExcludeListSunProducers=!1,n.sunDropper=null,n.currentMowerLanes=[!0,!0,!0,!0,!0],n.mowerLanes=[!0,!0,!0,!0,!0],n.mowerEntryAnimDuration=2.5,n.haveMower=!1,n.mowerType=Ne.mower_modern,n.plantModifiers=[],a(n,"cannonPointShower",_n,o(n)),n.cannonPointShowerTween=null,n.cannonMinigameProperties=null,n.currentCannonPoint=0,n._cannonPointUsedForCountDown=-1,a(n,"pointLayer",Gn,o(n)),n.ExcludePlantList=[],n.UnlockAll=!1,n.PowerUpsForceShow=!1,n.PowerUpsTip=!1,n.PowerUpsForceHide=!1,n.PFSlotsShow=!1,n.sunbombProps=null,n.isCowboyMinigame=!1,n.cowboyMinigameWaiting=!1,n.fightAlonePlant=void 0,n.fightAlonePlantIndex=0,n.fightAlonePlantList=[],n.fightAlonePlantPoint=0,a(n,"fightAloneProgressBar",xn,o(n)),n.zombieDamageReceiveScale=1,n.SuppressedDynamicZombieWaves=[],a(n,"levelNameLabel",kn,o(n)),n.levelNameString=void 0,a(n,"levelDescriptionLabel",Zn,o(n)),n.levelDescriptionString=void 0,n.difficulty=6,n.waveSpawnZombies=[],n.maxCamelTouchType=8,n.lastPushedCamel=NaN,a(n,"Level",Fn,o(n)),n.rocked=!1,n.levelVictoryCountDown=1,n.spiderRainProps=[],n.waveToughness=1,n._zombiesInThisWave=[],n._metZombies=[],n.nextWaveZombieHealthPercentage=.5,n.waveZombieDamageCountdown=4,n.nextWaveCountdown=0,n.isFinalWave=!1,n.rallyBW=[],n._defaultZombieCountdownFirstWaveSecs=15,n.RestartWhenExit=!1,n.isDangerroom=!1,n.dangerroomMaxFlagWaves=2,n.dangerroomProperties=[],n.dangerroomLevel=new te,n.dangerroomPPEnum=NaN,n.dangerroomExcludePlantList=[],n.dgr_zombieJitterSpawnList=[],n.isDangerroomMiniGame=!1,n.dangerroomMiniGameProperties=[],n.dangerroomMiniGameLevel=new ae,n.dangerroomMiniGamePPEnum=NaN,n.camelComboCount=0,n.camelComboOn=!1,n.foodAllWhenGameStarted=!1,n.rhythmZombies=[],n.rhythmGameProps=void 0,n.rhythmAudioSource=void 0,n.rhythmMusicCountDown=0,n.rhythmPlayStarted=!1,n.rhythmTimeOld=0,n.onlyLanesForRandomSpawn=[0,1,2,3,4],n.gameStarted=!1,n.lastStandGameStartButtonOldPos=new p,a(n,"lastStandGameStartButton",An,o(n)),n.showShovel=!0,n.showPlantfood=!0,a(n,"dangerroomCardChooser",On,o(n)),n.viewingLawn=!1,a(n,"viewButton",jn,o(n)),n.viewLawnDisabled=!1,n.lastStandPrepareStarted=!1,n.bossZombie=null,n.bossProps=null,n.bossMovable=!1,a(n,"bossHealthProgressBar",zn,o(n)),n.zombossHPNotches=[],n.screenShakeVec=new p,n._uiPos=new p(0,0,0),a(n,"uiFollowingCamera",Un,o(n)),a(n,"camera",Hn,o(n)),a(n,"ui",Vn,o(n)),a(n,"uiUpper",Yn,o(n)),n.levelDescriptionCD=5,n.prizeSpawnWP=null,n.gameWon=!1,n.gameLost=!1,n.gameOver=!1,n._cannonVic=!1,n.levelDefinition={},a(n,"zombieDisplayer",Jn,o(n)),n.zombiesOnDisplayed=[],n._zombiesToShow=[],a(n,"levelObjectiveShower",Kn,o(n)),n.lastStand=!1,n.chickenThrowers=[],n.startingMusic=NaN,n.growingTime=0,n.PLANTWarnString="",a(n,"levelModuleJson",Xn,o(n)),n}i(n,e);var r=n.prototype;return r.getLevelName=function(e){var n,t,a=null==e?void 0:e.Name,i=pe.getStringByPropsWithoutTricks("LevelName",a);i||(i=pe.getString(null==e?void 0:e.NameMultiLanguage,!1)),i||(i=e.Name);var o,r=null==e?void 0:e.LevelNumber;if(!isNaN(r)&&null!=r)if(this.isDangerroomMiniGame){this.getDangerroomMiniGameProperties();r=this.dangerroomMiniGameLevel.level}else if(this.isDangerroom){this.getDangerroomProperties();r=this.dangerroomLevel.level}(i=null==(n=i)?void 0:n.replace("<LEVELNUMBER>",r?r.toString():""),null!=e&&null!=(t=e.PlantToIntroduce)&&t.length)&&(i=null==(o=i)?void 0:o.replace("<PLANTNAME>",pe.getString(H.getPlantFeature(H.getPlantEnumByString(e.PlantToIntroduce)).NAME)));return i||""},r.gamingWarn=function(e,n,t,a,i,o,r,s){void 0===e&&(e="A HUGE WAVE OF ZOMBIES IS APPROACHING!"),void 0===n&&(n=5),void 0===t&&(t=4),void 0===a&&(a=.5),void 0===i&&(i=.33),void 0===o&&(o=new h(255,0,0,0)),void 0===r&&(r=1),void 0===s&&(s=new h(0,0,0,255)),this.inGameWarnLabel.string=e,this.gameWarnTween.forEach((function(e){e.stop()})),this.gameWarnTween=[],this.inGameWarnLabel.color=o,this.inGameWarnLabel.outlineColor=s,this.inGameWarnLabel.node.scale=new p(t,t,t),this.gameWarnTween.push(f(this.inGameWarnLabel.node).to(i,{scale:new p(a,a,a)}).call((function(){switch(r){case 1:W.playReadyOrSet();break;case 2:case 3:W.playSandStormWarn();break;case 4:W.playFinalWave();break;default:W.playHugeWave()}})).start(),f(this).to(i/2,{warnLabelA:255}).to(i/2+n,{}).to(.33,{warnLabelA:0}).start())},r.setLevelProgressBar=function(){var e;if(!isNaN(null==(e=this.waveManagerProps)||null==(e=e.Waves)?void 0:e.length)){this.waveFlags=[],this.levelProgressBar.node.active=!0,this.waveFlags.unshift(this.waveFlag);for(var n=this.waveManagerProps.Waves.length/this.waveManagerProps.FlagWaveInterval,t=1;t<n;t++){var a=P(this.waveFlag.node);a.parent=this.waveFlag.node.parent,a.position=new p(2*-this.waveFlag.node.parent.position.x/n*t,this.waveFlag.node.position.y,0),this.waveFlags.unshift(a.getComponent(d))}this.levelProgressBar.node.active=!1}},r.setScreenColor=function(){var e=new h(0,0,0,0);mt.screenFlashColors.forEach((function(n){e.r+=n.r,e.g+=n.g,e.b+=n.b,e.a+=n.a})),mt.screenFlashLeftColor.a>0&&(e.r+=mt.screenFlashLeftColor.r,e.g+=mt.screenFlashLeftColor.g,e.b+=mt.screenFlashLeftColor.b,e.a+=mt.screenFlashLeftColor.a),mt.screenFlashColors=[],this.screenFlash.color=e},r.initialGraveSpawn=function(){var e;if(!(+(null==(e=this.graveProps)?void 0:e.length)<=0)){var n=this.graveProps.concat();this.schedule((function(){var e=x.getRandom(n);e&&(O.getLnC(e.l,e.c).addTomb(e.tombEnum,!1,!1),n.splice(n.indexOf(e),1))}),1/this.graveProps.length,this.graveProps.length,.01),this.graveProps=[]}},r.setWaveProperties=function(e){var n,t,a,i=this.waveManagerProps;null!=e&&null!=(n=e.FlagWaveVeteranOverrideTypes)&&n.length&&(this.rallyBW=e.FlagWaveVeteranOverrideTypes),null!=e&&e.SuppressFlagZombie&&(i.SuppressFlagZombie=!0),null!=e&&e.MinNextWaveHealthPercentage&&(i.MinNextWaveHealthPercentage=e.MinNextWaveHealthPercentage),null!=e&&e.MaxNextWaveHealthPercentage&&(i.MaxNextWaveHealthPercentage=e.MaxNextWaveHealthPercentage),null!=e&&e.IgnoreFlagCarriers&&(i.IgnoreFlagCarriers=!0),null!=e&&null!=(t=e.SpawnRows)&&t.length&&(this.onlyLanesForRandomSpawn=e.SpawnRows),null!=e&&e.Waves&&(i.Waves=e.Waves),i.WaveCount=i.Waves.length,+(null==e?void 0:e.FlagWaveInterval)&&(i.FlagWaveInterval=+e.FlagWaveInterval),null!=e&&e.ZombieCountdownFirstWaveSecs?i.ZombieCountdownFirstWaveSecs=e.ZombieCountdownFirstWaveSecs:i.ZombieCountdownFirstWaveSecs=this.defaultZombieCountdownFirstWaveSecs,null!=e&&e.WaveSpendingPointIncrement&&(i.WaveSpendingPointIncrement=e.WaveSpendingPointIncrement),null!=e&&e.WaveSpendingPoints&&(i.WaveSpendingPoints=e.WaveSpendingPoints),null!=e&&null!=(a=e.SuppressedDynamicZombieWaves)&&a.length&&(this.SuppressedDynamicZombieWaves=e.SuppressedDynamicZombieWaves)},r.waveEventStatistic=function(){var e=this;this.waveManagerProps.Waves.forEach((function(n){n.forEach((function(n){var t=n.replace("RTID(","").replace("@CurrentLevel)","");e.currentLevelObjects.forEach((function(n){if(n.aliases&&-1!=n.aliases.indexOf(t)){var a=n.objdata;switch(n.objclass){case"TidalChangeWaveActionProps":var i,o=+(null==(i=a.TidalChange)?void 0:i.ChangeAmount);!isNaN(o)&&o>e._maxTideDistance&&(e._maxTideDistance=o);break;case"SpawnZombiesJitteredWaveActionProps":case"StormZombieSpawnerProps":case"SpawnZombiesFromGroundSpawnerProps":var r;null==a||null==(r=a.Zombies)||r.forEach((function(n){n.Type&&e._zombiesToShow.push(R.getZombieEnumByRTID(n.Type))}));break;case"ParachuteRainZombieSpawnerProps":case"SpiderRainZombieSpawnerProps":if(!isNaN(+a.SpiderCount)&&a.SpiderZombieName)for(var s=0;s<+a.SpiderCount;s++)e._zombiesToShow.push(R.getZombieEnumByString(a.SpiderZombieName));break;case"RaidingPartyZombieSpawnerProps":if(!isNaN(+a.SwashbucklerCount))for(var l=0;l<+a.SwashbucklerCount;l++)e._zombiesToShow.push(I.pirate_swashbuckler);break;case"StormZombieSpawnerProps":var u;null==(u=a.Zombies)||u.forEach((function(n){e._zombiesToShow.push(R.getZombieEnumByRTID(n.Type))}));break;case"BeachStageEventZombieSpawnerProps":if(!isNaN(+a.ZombieCount)&&a.ZombieName)for(var h=0;h<+a.ZombieCount;h++)e._zombiesToShow.push(R.getZombieEnumByString(a.ZombieName));break;case"SpawnZombiesFromGridItemSpawnerProps":var c;null==(c=a.Zombies)||c.forEach((function(n){e._zombiesToShow.push(R.getZombieEnumByRTID(n.Type))}))}}}))}))})),M.haveTide()&&M.addTideKelp(9-this._maxTideDistance)},r.setWaveManagerModuleProperties=function(e){var n;null!=e&&e.WaveManagerProps&&(this.readModule([e.WaveManagerProps]),null!=e&&null!=(n=e.DynamicZombies)&&n.length&&this.generateDynamicZombieSpawnWaves(e.DynamicZombies,"DynamicZombies"))},r.setLevelOfTheDayModuleProperties=function(e){var n=this.waveManagerProps.WaveCount;isNaN(+e.WavesPerFlag)||(n=+e.WavesPerFlag),this.waveManagerProps.FlagWaveInterval=n,this.readModule([null==e?void 0:e.WaveManagerProps]);var t={PointIncrementPerWave:e.PointIncrementPerWave,StartingPoints:e.StartingPoints,StartingWave:0,ZombiePool:e.ZombiePool};if(t)for(var a=[t,t,t,t,t,t,t],i=this.generateDynamicZombieSpawnWaves(a,"PointSpawnZombies"),o=e.PlantfoodToSpawnCount;o>0&&i.length;)o--,x.getRandom(i).objdata.AdditionalPlantfood++},r.setFrozenPlants=function(e){var n;null==e||null==(n=e.InitialPlantPlacements)||n.forEach((function(e){if(!isNaN(+e.GridX)&&!isNaN(+e.GridY)&&!(e.GridX<0||e.GridX>8||e.GridY<0||e.GridY>4)){var n=e.GridX,t=e.GridY,a=O.getLnC(t,n);if(null==a?void 0:a.spawnPlantByPlantEnum(H.getPlantEnumByString(e.TypeName)))switch(e.Condition){case"icecubed":a.iceblockSpawn(!0)}}}))},r.setFrozenZombies=function(e){var n,t=this;null==e||null==(n=e.InitialZombiePlacements)||n.forEach((function(e){if(!isNaN(+e.GridX)&&!isNaN(+e.GridY)&&!(e.GridX<0||e.GridX>8||e.GridY<0||e.GridY>4)){var n=e.GridX,a=e.GridY,i=O.getLnC(a,n),o=null==i?void 0:i.spawnZombie(R.getZombieEnumByString(e.TypeName),j.directPut,!0,.5,0);if(null!=o&&o.length)switch(t.initialZombies=t.initialZombies.concat(o),o.forEach((function(e){e.walking=!1,e.playIdle(0,0)})),e.Condition){case"icecubed":var r=i.iceblockSpawn(!1);o.forEach((function(e){e.iceblock=r}))}}}))},r.setPiratePlanks=function(e){var n,t=null==(n=M.currentLawn)?void 0:n.getComponent(Y);if(t){var a,i=[];null!=e&&null!=(a=e.PlankRows)&&a.length&&(i=e.PlankRows),this.scheduleOnce((function(){t.PlankRows=i}),0)}},r.setStartingGraveStones=function(e){var n,t=this,a=null==e?void 0:e.GravestoneCount,i=(null==e?void 0:e.SpawnColumnEnd)-1,o=(null==e?void 0:e.SpawnColumnStart)-1,r=null==e?void 0:e.SpawnRowEnd,s=null==e?void 0:e.SpawnRowStart;a=isNaN(a)?0:a,i=isNaN(i)?8:i,o=isNaN(o)?0:o,r=isNaN(r)?4:r,s=isNaN(s)?0:s;var l=F.getTombEnumByRTID(null==e?void 0:e.Type);isNaN(l)&&(l=F.getTombEnumByLawn(M.currentLawnYardType));for(var u=[],h=s;h<=r;h++)for(var c=o;c<=i;c++){var d=O.getLnC(h,c);null!=d&&d.isInLawn()&&u.push(d)}u=x.randomize(u);for(var m=0;m<a&&m<u.length;m++){var g=u[m];if(!g)return;var v=new ut;v.c=g.cIndex,v.l=g.lIndex,v.tombEnum=l,this.graveProps.push(v)}null==(n=e.ForceSpawnData)||n.forEach((function(e){if(!isNaN(e.GridX)&&!isNaN(e.GridY)&&!(e.GridX<0||e.GridX>8||e.GridY<0||e.GridY>4)){var n=NaN;e.TypeName&&(n=F.getTombEnumByGridItemID(Se.getGridItemEnumByCodeName(e.TypeName)));var a=e.GridX,i=e.GridY,o=new ut;o.c=a,o.l=i,o.tombEnum=isNaN(n)?l:n,t.graveProps.push(o)}}))},r.setBowlingMinigameProperties=function(e){var n=+e.BowlingFoulLine;if(!isNaN(n)){M.addBowlingLine(n+1);for(var t=n+1;t<9;t++)for(var a=0;a<5;a++){var i;null==(i=O.getLnC(a,t))||i.setOccupied(1/0)}this.showPlantfood=!1,this.showShovel=!1,e.SuppressObjectiveTip||(this.PLANTWarnString=pe.getString(pe.lyrics.InGameScene.GamingWarn.Roll),T.uiingame.pushGamePreStartTip(pe.getStringByPropsWithoutTricks("InGameScene","Challenge","Bowling")))}},r.updateLevelSchedulers=function(e){var n=this;this.levelSchedulers.concat().forEach((function(t){if(t.update(e,n),t.leftTime<=0){var a=n.levelSchedulers.indexOf(t);-1!=a&&n.levelSchedulers.splice(a,1)}}))},r.setLevelSchedulers=function(e){var n,t=new nt;null!=(n=e.Events)&&n.length&&(t.Events=e.Events,e.Repeat&&(t.Repeat=e.Repeat,e.TimeBetween&&(t.TimeBetween=e.TimeBetween,e.TimeBeforeFirst&&(t.TimeBeforeFirst=e.TimeBeforeFirst,isNaN(e.EndingWave)||(t.EndingWave=e.EndingWave),e.SuppressRewardState&&(t.SuppressRewardState=!0),e.RewardWhenEnded&&(t.RewardWhenEnded=!0),t.initialize(),this.levelSchedulers.push(t)))))},r.onLoseDarken=function(){this.isDangerroomMiniGame?(ne.getDangerRoomMiniGameProperty(this.dangerroomMiniGamePPEnum,!0),ne.savePP()):this.isDangerroom&&(ne.getDangerRoomProperty(this.dangerroomPPEnum,!0),ne.savePP())},r.setProtectThePlant=function(e){var n,t,a=this;isNaN(null==(n=e.Plants)?void 0:n.length)||(null==(t=e.Plants)||t.forEach((function(n){var t=H.getPlantEnumByString(n.PlantType),i=n.GridX,o=n.GridY;if(!isNaN(i)&&!isNaN(o)){var r=O.getSquare(o,i).getComponent(z);if(r.isInLawn()){var s=r.spawnPlantByPlantEnum(t,!0);s&&(s.endangered=!0),null!=s&&s.enabled&&a._plantUnderProtectCount++}isNaN(e.MustProtectCount)?a.plantMustProtectCount=a._plantUnderProtectCount:a.plantMustProtectCount=e.MustProtectCount}})),e.SuppressObjectiveTip||T.uiingame.pushGamePreStartTip(pe.getStringByPropsWithoutTricks("InGameScene","Challenge","PlantProtection")))},r.setFoodLinkTiles=function(e){var n;null==(n=e.LinkedTiles)||n.forEach((function(e){if(e.Group){var n=e.Location,t=O.getLnC(n.mY,n.mX);if(null!=t&&t.isInLawn()){var a=0;switch(e.Group){case"beta":a=H.TileTurnipType==Pe.beta?Pe.epsilon:Pe.beta;break;case"delta":a=H.TileTurnipType==Pe.delta?Pe.epsilon:Pe.delta;break;case"gamma":a=H.TileTurnipType==Pe.gamma?Pe.epsilon:Pe.gamma;break;case"epsilon":a=H.TileTurnipType;break;case"alpha":default:a=H.TileTurnipType==Pe.alpha?Pe.epsilon:Pe.alpha}t.putTile(fe.foodLinker,{ID:a,PropagationDelay:isNaN(+e.PropagationDelay)?0:+e.PropagationDelay},!1)}}}))},r.setTrapTiles=function(e){var n;null==(n=e.TrapTiles)||n.forEach((function(e){if(e.Group){var n=e.Location,t=O.getLnC(n.mY,n.mX);if(null!=t&&t.isInLawn()){var a=fe.trap_firetile;switch(e.Group){case"boulder_forward":a=fe.trap_bouldertile_forward;break;case"boulder_backward":a=fe.trap_bouldertile_backward;break;default:a=fe.trap_firetile}t.putTile(a,{RecoverDelay:e.RecoverDelay},!1)}}}))},r.setRailcart=function(e){var n,t,a=NaN;e.RailcartType&&(a=Se.getGridItemEnumByCodeName(e.RailcartType)),a||(a=NaN),null==e||null==(n=e.Rails)||n.forEach((function(e){var n=null==e?void 0:e.Column,t=null==e?void 0:e.RowStart,i=null==e?void 0:e.RowEnd;if(!(isNaN(n)||isNaN(t)||isNaN(i))){for(var o=[],r=t;r<=i;r++){var s=1;r==t?s=0:r==i&&(s=2);var l=O.getLnC(r,n).addRail(s,a);o.push(l)}o.forEach((function(e){e.group=o.concat()}))}})),null==e||null==(t=e.Railcarts)||t.forEach((function(e){var n=e.Column,t=e.Row;isNaN(n)||isNaN(t)||O.getLnC(t,n).addCart(a)}))},r.setSunUsedLimitProps=function(e){isNaN(null==e?void 0:e.MaximumSun)||(null==e?void 0:e.MaximumSun)<0||T.uiingame.pushLevelTask(ge.SunCostLimit,e)},r.setSimultaneousPlantsProps=function(e){isNaN(null==e?void 0:e.MaximumPlants)||(null==e?void 0:e.MaximumPlants)<0||T.uiingame.pushLevelTask(ge.PlantCountLimit,e)},r.setPlantsLostProps=function(e){isNaN(null==e?void 0:e.MaximumPlantsLost)||(null==e?void 0:e.MaximumPlantsLost)<0||T.uiingame.pushLevelTask(ge.PlantLoseLimit,e)},r.setKillZombiesInTimeProps=function(e){isNaN(null==e?void 0:e.Time)||(null==e?void 0:e.Time)<0||isNaN(null==e?void 0:e.ZombiesToKill)||(null==e?void 0:e.ZombiesToKill)<0||T.uiingame.pushLevelTask(ge.ZombieKillCountDown,e)},r.setSpendSunHoldoutProps=function(e){isNaN(null==e?void 0:e.HoldoutSeconds)||(null==e?void 0:e.HoldoutSeconds)<0||T.uiingame.pushLevelTask(ge.SunCostCountDownLimit,e)},r.setSunProducedProps=function(e){isNaN(null==e?void 0:e.TargetSun)||(null==e?void 0:e.TargetSun)<0||T.uiingame.pushLevelTask(ge.SunProduceRequest,e)},r.setMoldColonies=function(e){var n,t;if(null!=e&&e.Locations){var a,i=null==(a=Ee.getObjectsByRTID(e.Locations)[0])?void 0:a.objdata;if(i){var o=i.Values;null==o||o.forEach((function(e,n){null==e||e.forEach((function(e,t){console.log(e),e>0&&O.getLnC(n,t).addMold()}))}))}}null==e||null==(n=e.MoldedSquares)||n.forEach((function(e){isNaN(e.GridX)||isNaN(e.GridY)||O.getLnC(e.GridY,e.GridX).addMold()})),null==e||null==(t=e.MoldMatrix)||t.forEach((function(e,n){if(!(n>4))for(var t=0;t<e.length&&t<9;t++)+e[t]&&O.getLnC(n,t).addMold()})),e.SuppressObjectiveTip||T.uiingame.pushGamePreStartTip(pe.getStringByPropsWithoutTricks("InGameScene","Challenge","MoldColonies"))},r.setFlowerLine=function(e){for(var n=e.TargetDistance,t=Math.floor(n),a=n-t,i=[],o=pe.getStringByPropsWithoutTricks("InGameScene","Challenge","FlowerLine"),r=0;r<5;r++){var s=O.getLnC(r,t).addFlower(a);i.push(s)}i.forEach((function(e){e.group=i,e.tip=o})),e.SuppressObjectiveTip||T.uiingame.pushGamePreStartTip(pe.getStringByPropsWithoutTricks("InGameScene","Challenge","FlowerLine"))},r.setCamelMinigameProps=function(e){this.PowerUpsForceHide=!0,this.defaultZombieCountdownFirstWaveSecs=4,this.PLANTWarnString=pe.getString(pe.lyrics.InGameScene.GamingWarn.Match),isNaN(e.CardTypesUsed)||(this.maxCamelTouchType=Math.min(this.maxCamelTouchType,e.CardTypesUsed)),e.ComboCounter&&(this.camelComboOn=!0),e.SuppressObjectiveTip||T.uiingame.pushGamePreStartTip(pe.getStringByPropsWithoutTricks("InGameScene","Challenge","CamelTouch"))},r.setBeatTheLevel=function(e){var n,t,a;if(null!=(n=e.DescriptiveName)&&n.includes("FINALE")){var i=pe.getStringByPropsWithoutTricks("InGameScene","Challenge","SurviveMassiveAttack");i=i.replace("<WORLDNAME>",this._levelWorldName),e.SuppressObjectiveTip||T.uiingame.pushGamePreStartTip(i)}null==e||null==(t=e.Descriptions)||t.forEach((function(e){e.length&&T.uiingame.pushGamePreStartTip(e)})),null==e||null==(a=e.DescriptionsMultilanguage)||a.forEach((function(e){var n=pe.getString(e,!1);n.length&&T.uiingame.pushGamePreStartTip(n)}))},r.setPotions=function(e){var n,t,a,i=new it;isNaN(+e.InitialPotionCount)||(i.InitialPotionCount=+e.InitialPotionCount),isNaN(+e.MaxPotionCount)||(i.MaxPotionCount=+e.MaxPotionCount),isNaN(+(null==(n=e.PotionSpawnTimer)?void 0:n.Max))||(i.PotionSpawnTimer.Max=+e.PotionSpawnTimer.Max),isNaN(+(null==(t=e.PotionSpawnTimer)?void 0:t.Min))||(i.PotionSpawnTimer.Max=+e.PotionSpawnTimer.Min),null!=(a=e.PotionTypes)&&a.length&&(i.PotionTypes=e.PotionTypes,e.SuppressObjectiveTip||T.uiingame.pushGamePreStartTip(pe.getStringByPropsWithoutTricks("InGameScene","Challenge","Potion")),this.potionModules.push(i))},r.setImitaterPlantList=function(e){var n,t,a=this.imitaterExcludePlantList.concat(),i=!1;"true"==(null==e?void 0:e.ExcludeListSunProducers)&&(i=!0);for(var o=0;o<V.amount;o++){var r,s,l,u,h=H.getPlantFeature(o);(i&&-1!=h.TYPE.indexOf("sunProducer")||null!=e&&null!=(r=e.RandomPlantExcludeList)&&r.length&&-1!=(null==e||null==(s=e.RandomPlantExcludeList)?void 0:s.indexOf(h.CODENAME))||null!=e&&null!=(l=e.RandomPlantIncludeList)&&l.length&&-1==(null==e||null==(u=e.RandomPlantIncludeList)?void 0:u.indexOf(h.CODENAME)))&&a.push(o)}null!=(n=e.ExtraRandomPlantExcludeList)&&n.length&&e.ExtraRandomPlantExcludeList.forEach((function(e){var n=H.getPlantEnumByString(e,!1);isNaN(n)||-1!=a.indexOf(n)||a.push(n)})),null!=(t=e.AllowedRandomPlantsInExcludeList)&&t.length&&e.AllowedRandomPlantsInExcludeList.forEach((function(e){var n=H.getPlantEnumByString(e,!1),t=a.indexOf(n);-1!=t&&a.splice(t,1)})),this.imitaterExcludePlantList=a},r.setSunDropper=function(e){var n=new dt;n.Value=isNaN(+(null==e?void 0:e.Value))?n.Value:+e.Value,n.SunCD=isNaN(+(null==e?void 0:e.InitialSunDropDelay))?n.SunCD:+e.InitialSunDropDelay,n.SunCountdownBase=isNaN(+(null==e?void 0:e.SunCountdownBase))?n.SunCountdownBase:+e.SunCountdownBase,n.SunCountdownRange=isNaN(+(null==e?void 0:e.SunCountdownRange))?n.SunCountdownRange:+e.SunCountdownRange,n.SunCountdownIncreasePerSun=isNaN(+(null==e?void 0:e.SunCountdownIncreasePerSun))?n.SunCountdownIncreasePerSun:+e.SunCountdownIncreasePerSun,n.SunCountdownMax=isNaN(+(null==e?void 0:e.SunCountdownMax))?n.SunCountdownMax:+e.SunCountdownMax,n.ListenToLawn=!!e.ListenToLawn,this.sunDropper=n},r.onMowerLose=function(e){this.currentMowerLanes[e]&&(this.currentMowerLanes[e]=!1)},r.setMowerProps=function(e){var n;if(!isNaN(e.MowerEntryAnimDuration)&&e.MowerEntryAnimDuration>=0&&null!=(n=e.ResourceGroupNames)&&n.length){var t;this.haveMower=!0,this.mowerEntryAnimDuration=e.MowerEntryAnimDuration,null!=(t=e.MowerRows)&&t.length&&(this.mowerLanes=e.MowerRows.concat());var a=Ne.mower_modern;switch(e.ResourceGroupNames[0]){case"EgyptMowerGroup":a=Ne.mower_egypt;break;case"PirateMowerGroup":a=Ne.mower_pirate;break;case"WestMowerGroup":a=Ne.mower_cowboy;break;case"FutureMowerGroup":a=Ne.mower_future;break;case"DarkMowerGroup":a=Ne.mower_dark;break;case"BeachMowerGroup":a=Ne.mower_beach;break;case"IceageMowerGroup":a=Ne.mower_iceage;break;case"LostCityMowerGroup":a=Ne.mower_lostcity;break;case"EightiesMowerGroup":a=Ne.mower_eighties;break;case"DinoMowerGroup":a=Ne.mower_dino}this.mowerType=a}},r.setPlantModifiers=function(e){var n,t=new rt;e.SuppressParticle&&(t.SuppressParticle=!0),null!=e&&null!=(n=e.List)&&n.length&&(e.List.forEach((function(e){var n=H.getPlantEnumByString(e.Type,!1);if(!(n<0)&&e.NewObjdata){var a=new st;a.ID=n,a.NewObjdata=e.NewObjdata,t.List.push(a)}})),this.plantModifiers.push(t))},r.setInitialGridItemProperties=function(e){var n,t,a=this;null==e||null==(n=e.InitialGridItemMatrixes)||n.forEach((function(e){var n=Se.getGridItemEnumByCodeName(e.TypeName);n&&e.GridMatrix.forEach((function(e,t){for(var i=0;i<e.length&&i<9;i++)if(+e[i]){var o=O.getLnC(t,i);if(o.isInLawn()){switch(n){case be.deepwater:case be.shallowwater:a.haveWater=!0}o.placeGridItem(n)}}}))})),null==e||null==(t=e.InitialGridItemPlacements)||t.forEach((function(e){var n=Se.getGridItemEnumByCodeName(e.TypeName);if(n){var t=O.getLnC(e.GridY,e.GridX);t.isInLawn()&&t.placeGridItem(n)}}))},r.addCannonPoint=function(e){var n;if(this.cannonMinigameProperties){var t=this.currentCannonPoint;this.currentCannonPoint+=e,null==(n=this.cannonPointShowerTween)||n.stop(),this.cannonPointShowerTween=f(this).to(.5,{cannonPointUsedForCountDown:this.currentCannonPoint}).start();var a=this.cannonMinigameProperties.MinScore;t<a&&this.currentCannonPoint>a&&W.playLevelTaskComplete();var i=this.currentCannonPoint>=a?"":pe.getDirectQuote("[CANNON_POINT_TARGET]")+pe.getNumberWithThousandComma(a);this.cannonPointShower.Target.string=i}},r.judgeCannonVictory=function(){if(!this.cannonMinigameProperties)return!0;var e=this.cannonMinigameProperties.MinScore,n=this.currentCannonPoint>=e;return n||T.uiingame.loseDarken(null,"",pe.getStringByPropsWithoutTricks("InGameScene","Challenge","CannonAway")),n},r.setCannonMinigameProperties=function(e){var n,t=new at;Object.getOwnPropertyNames(t).forEach((function(n){var a=e[n];a&&(t[n]=a)})),this.defaultZombieCountdownFirstWaveSecs=4,this.cannonPointShower.PointParent.active=!0,this.PLANTWarnString=pe.getString(pe.lyrics.InGameScene.GamingWarn.Fire),this.PowerUpsForceHide=!0,t.RowHasCannon.forEach((function(e,n){e&&n<=4&&O.getLnC(n,1).spawnPlantByPlantEnum(V.CoconutCannon,!0,!0,!1,!1)})),e.SuppressObjectiveTip||T.uiingame.pushGamePreStartTip(pe.getStringByPropsWithoutTricks("InGameScene","Challenge","CannonAway")),t.Lanes.forEach((function(e,n){if(!(n>4)){var a=[];e.SplinePoints.forEach((function(e){var n=O.transFrom_ox_To_gx(e.x),t=O.transFrom_oy_To_gy(e.y);a.push(new w(n,t))})),O.getLaneComponent(n).JitterSpawnZombieRoute={BaseMovementRate:t.BaseMovementRate,BufferDistance:t.BufferDistance,SplinePoints:a}}}));var a=null==(n=M.currentLawn)?void 0:n.getComponent(Y);a&&(a.setCannonGuide(!0),this.scheduleOnce((function(){a.PlankRows=[]}),0)),this.cannonMinigameProperties=t,this.addCannonPoint(0)},r.setSeedBank=function(e){var n,t,a,i,o=this;if("true"==(null==e?void 0:e.ExcludeListSunProducers)&&(this.ExcludeListSunProducers=!0),isNaN(null==e||null==(n=e.PlantExcludeList)?void 0:n.length)||0==(null==e||null==(t=e.PlantExcludeList)?void 0:t.length)||(this.ExcludePlantList=e.PlantExcludeList),isNaN(null==e||null==(a=e.PlantBlackList)?void 0:a.length)||0==(null==e||null==(i=e.PlantBlackList)?void 0:i.length)||(this.ExcludeListSunProducers=!0,this.ExcludePlantList=this.ExcludePlantList.concat(e.PlantBlackList)),"chooser"==(null==e?void 0:e.SelectionMethod)){var r,s;if(this.isDangerroom||(L.cardsController.plantsCanBeChosen=ne.getObtainedPlantEnumList()),!isNaN(null==e||null==(r=e.PlantIncludeList)?void 0:r.length)){var l=[];e.PlantIncludeList.forEach((function(e){var n=H.getPlantEnumByString(e,!1);isNaN(n)||l.push(n)})),L.cardsController.plantsCanBeChosen=l,e.UnlockAll&&(this.UnlockAll=!0)}+e.OverrideSeedSlotsCount>0&&(L.cardsController.overrideSeedSlotsCount=+e.OverrideSeedSlotsCount),mt.chooseCardMode=!0,null!=e&&null!=(s=e.PresetPlantList)&&s.length&&e.PresetPlantList.forEach((function(e){var n=H.getPlantEnumByString(e.PlantType);-1==o.presetSeedToChoose.indexOf(n)&&o.presetSeedToChoose.push(n),-1==L.cardsController.plantsCanBeChosen.indexOf(n)&&L.cardsController.plantsCanBeChosen.push(n)}))}else if("preset"==(null==e?void 0:e.SelectionMethod)){var u;e.SuppressObjectiveTip||T.uiingame.pushGamePreStartTip(pe.getStringByPropsWithoutTricks("InGameScene","Challenge","GivenPlants")),mt.chooseCardMode=!1,null!=e&&null!=(u=e.PresetPlantList)&&u.length&&(L.cardsController.maxSlotCount=e.PresetPlantList.length,e.PresetPlantList.forEach((function(e){o.presetSeedBank.push(H.getPlantEnumByString(e.PlantType))})))}else mt.chooseCardMode=!1,L.cardsController.maxSlotCount=0},r.setConveyor=function(e){var n;this.conveyor=!0,L.cardsController.maxSlotCount=0,E.component.rotate(!1),mt.chooseCardMode=!1,this.defaultZombieCountdownFirstWaveSecs=4;var t=Q.component;t.dropDelayConditions=e.DropDelayConditions,t.plantList=[],null==(n=e.InitialPlantList)||n.forEach((function(e){var n=new $;e.ToolType?n.PlantType=H.getPlantEnumByString(e.ToolType):n.PlantType=H.getPlantEnumByString(e.PlantType),isNaN(+e.MinCount)||(n.MinCount=+e.MinCount),isNaN(+e.MinWeightFactor)||(n.MinWeightFactor=+e.MinWeightFactor),isNaN(+e.MaxCount)||(n.MaxCount=+e.MaxCount),isNaN(+e.MaxWeightFactor)||(n.MaxWeightFactor=+e.MaxWeightFactor),isNaN(+e.Weight)||(n.Weight=+e.Weight),isNaN(+e.MaxCountCooldownSeconds)||(n.MaxCountCooldownSeconds=+e.MaxCountCooldownSeconds),isNaN(+e.MinCountCooldownSeconds)||(n.MinCountCooldownSeconds=+e.MinCountCooldownSeconds),null!=e&&e.ForceBoosted&&(n.ForceBoosted=!0),t.plantList.push(n)})),t.speedConditions=e.SpeedConditions},r.setLastStand=function(e){this.lastStand=!0,this.defaultZombieCountdownFirstWaveSecs=4,isNaN(e.StartingSun)||D.component.setSunCount(e.StartingSun),isNaN(e.StartingPlantfood)?E.component.setPlantFoodNum(0):E.component.setPlantFoodNum(e.StartingPlantfood),e.SuppressObjectiveTip||T.uiingame.pushGamePreStartTip(pe.getStringByPropsWithoutTricks("InGameScene","Challenge","LastStand"))},r.setPowerUpsTutorials=function(e){this.PowerUpsForceShow=!0,e.ShowTips&&(this.PowerUpsTip=!0)},r.setChallenges=function(e){var n=null==e?void 0:e.Challenges[0];this.readModule(n)},r.setZombossBattleModuleProperties=function(e){this.bossProps=e,this.startingMusic=K.ZombossIntro;for(var n=null==e?void 0:e.ReservedColumnCount,t=0;!isNaN(n)&&t<n;t++)for(var a=0;a<5;a++)O.getLnC(a,8-t).setOccupied(1/0);if(null!=this.bossProps){var i;this.bossMovable=!1;var o=R.getZombieEnumByString(this.bossProps.ZombossMechType),r=this.bossProps.ZombossSpawnGridPosition.mY,s=this.bossProps.ZombossSpawnGridPosition.mX,l=null==(i=O.getLnC(r,s))?void 0:i.spawnZombie(o,j.directPut);l[0].isBoss=!0,this.bossZombie=l[0]}},r.setSunBombProperties=function(e){var n=new ot;isNaN(+e.PlantBombExplosionRadius)||(n.PlantBombExplosionRadius=+e.PlantBombExplosionRadius),isNaN(+e.PlantDamage)||(n.PlantDamage=+e.PlantDamage),isNaN(+e.ZombieBombExplosionRadius)||(n.ZombieBombExplosionRadius=+e.ZombieBombExplosionRadius),isNaN(+e.ZombieDamage)||(n.ZombieDamage=+e.ZombieDamage),this.sunbombProps=n,e.SuppressObjectiveTip||T.uiingame.pushGamePreStartTip(pe.getStringByPropsWithoutTricks("InGameScene","Challenge","SunBomb"))},r.cowboyMinigameStopWaiting=function(){this.cowboyMinigameWaiting=!1,this.moveCameraReturn(),se.pool().forEach((function(e){e.bodyRecHiddenCD=.2,e.playWalk(),e.detectPlant(.001)}))},r.setCowboyMinigameProperties=function(e){this.isCowboyMinigame=!0,this.currentWave=0,this.waveZombieDamageCountdown=0;for(var n=0;n<5;n++)O.getLaneComponent(n).addCowboyFence();e.SuppressObjectiveTip||T.uiingame.pushGamePreStartTip(pe.getStringByPropsWithoutTricks("InGameScene","Challenge","SurviveAttack"))},r.dealFightAlonePlantProgress=function(e){if(!(this.fightAlonePlantIndex>=this.fightAlonePlantList.length-1)){var n=1,t=this.fightAlonePlantList[this.fightAlonePlantIndex];isNaN(+t.FullPoint)||(n=+t.FullPoint),this.fightAlonePlantPoint+=e;var a=this.fightAlonePlantPoint/n;a>=1&&(this.switchFightAlonePlantIndex(this.fightAlonePlantIndex+1),a=0),this.fightAloneProgressBar.progress=a}},r.switchFightAlonePlantIndex=function(e){if(this.fightAlonePlant&&!(e>=this.fightAlonePlantList.length)){var n=this.fightAlonePlantList[e],t=this.fightAlonePlant.plantInLnC;this.fightAlonePlant.die(!1,!1,!1,!1),this.fightAlonePlant.node.destroy(),this.fightAlonePlant=t.spawnPlantByPlantEnum(H.getPlantEnumByString(n.Type),!1,!1,!1,!1,!1),this.fightAlonePlant.fightAloneStrengthen(n.UpgradeDetails);var a=k(he.strengthenPlant());a.parent=t.plantPoint,a.setSiblingIndex(0),W.playPlantStrengthen(),a.worldPosition=t.node.worldPosition,this.fightAlonePlantPoint=0,this.fightAlonePlantIndex=e,e==this.fightAlonePlantList.length-1&&(this.fightAloneProgressBar.node.active=!1)}},r.setFutureMinigameProperties=function(e){if(!this.fightAlonePlant){var n=+e.Position.mX,t=+e.Position.mY;if(!isNaN(n)&&!isNaN(t)){var a=null==e?void 0:e.PlantUpgradeList;if(null!=a&&a.length){var i=O.getLnC(t,n);if(null!=i&&i.isInLawn()){this.fightAlonePlantList=a;var o=i.spawnPlantByPlantEnum(V.Sunflower,!1,!1,!1,!1,!1);this.fightAlonePlant=o,this.switchFightAlonePlantIndex(0),this.PFSlotsShow=!0,this.fightAloneProgressBar.node.active=!0,this.fightAloneProgressBar.node.worldPosition=this.fightAlonePlant.node.worldPosition.clone().add(new p(0,-20,0)),this.fightAloneProgressBar.progress=0,e.SuppressObjectiveTip||T.uiingame.pushGamePreStartTip(pe.getStringByPropsWithoutTricks("InGameScene","Challenge","SurviveFightAlone"))}}}}},r.setZombiesAteYourBrainsProperties=function(e){var n=-1/0;isNaN(+e.ZombieWinPositionX)||(n=+e.ZombieWinPositionX);var t=!1;e.ZombieDiesInsteadOfWinning&&(t=!0),O.zombieDieInsteadOfWinning=t,O.zombieWinX=O.transFrom_ox_To_gx(n+200)},r.generateDynamicZombieSpawnWaves=function(e,n){var t=this,a=e[this.difficulty];if(a&&!(isNaN(a.PointIncrementPerWave)||isNaN(a.StartingPoints)||isNaN(a.StartingWave))&&a.ZombiePool){var i=this.waveManagerProps.FlagWaveInterval,o=[];return this.waveManagerProps.Waves.forEach((function(e,r){var s=r+1;if(!(a.StartingWave>r||-1!=t.SuppressedDynamicZombieWaves.indexOf(s))){var l="Wave"+s.toString()+n,u=[];a.ZombiePool.forEach((function(e){u.push(R.getZombieEnumByRTID(e))}));var h=a.StartingPoints+a.PointIncrementPerWave*(r-a.StartingWave);s%i==0&&(h*=2.5);var c=R.getZombiesWithNamesAndPoint(u,h,!0),d=[];c.forEach((function(e){d.push({Type:"RTID("+R.getZombieFeature(e).CODENAME+"@ZombieTypes)"})}));var m=new Ee;m.aliases=[l],m.objclass="SpawnZombiesJitteredWaveActionProps",m.objdata={AdditionalPlantfood:0,Zombies:d},t.currentLevelObjects.push(m),e.push("RTID("+l+"@CurrentLevel)"),o.push(m)}})),o}},r.onDisable=function(){},r.getModule=function(e){return void 0===e&&(e=[]),mt.getLevelModule(this.currentLevelObjects,e)},r.readModule=function(e){var n,t=this;void 0===e&&(e=[]),isNaN(null==(n=e)?void 0:n.length)||e.forEach((function(e){e&&Ee.getObjectsByRTID(e).forEach((function(e){t.readObj(e)}))}))},r.readObj=function(e){var n=null==e?void 0:e.objclass,t=null==e?void 0:e.objdata;switch(n){case"LevelSchedulerProps":this.setLevelSchedulers(t);break;case"LevelDefinition":this.setLevelDefinition(t);break;case"WaveManagerProperties":this.setWaveProperties(t);break;case"RhythmGameProperties":this.setRhythmProps(t);break;case"LevelEscalationModuleProperties":case"LevelOfTheDayModuleProperties":this.setLevelOfTheDayModuleProperties(t);break;case"WaveManagerModuleProperties":this.setWaveManagerModuleProperties(t);break;case"InitialPlantProperties":this.setFrozenPlants(t);break;case"InitialZombieProperties":this.setFrozenZombies(t);break;case"SeedBankProperties":this.setSeedBank(t);break;case"ConveyorSeedBankProperties":this.setConveyor(t);break;case"PiratePlankProperties":this.setPiratePlanks(t);break;case"GravestoneProperties":this.setStartingGraveStones(t);break;case"BowlingMinigameProperties":this.setBowlingMinigameProperties(t);break;case"LastStandMinigameProperties":this.setLastStand(t);break;case"ProtectThePlantChallengeProperties":this.setProtectThePlant(t);break;case"PowerTileProperties":this.setFoodLinkTiles(t);break;case"TrapTileProperties":this.setTrapTiles(t);break;case"RailcartProperties":var a,i;if(this.setRailcart(t),null!=e&&null!=(a=e.objdata)&&null!=(a=a.DynamicRailCarts)&&a.length)this.setRailcart(null==e||null==(i=e.objdata)?void 0:i.DynamicRailCarts[this.difficulty]);break;case"CamelMinigameProperties":this.setCamelMinigameProps(t);break;case"RandomImitaterProperties":this.setImitaterPlantList(t);break;case"PowerupTutorialIntroProperties":this.setPowerUpsTutorials(t);break;case"ZombossBattleModuleProperties":this.setZombossBattleModuleProperties(t);break;case"StarChallengeModuleProperties":this.setChallenges(t);break;case"StarChallengeSunUsedProps":this.setSunUsedLimitProps(t);break;case"StarChallengeSimultaneousPlantsProps":this.setSimultaneousPlantsProps(t);break;case"StarChallengePlantsLostProps":this.setPlantsLostProps(t);break;case"StarChallengeKillZombiesInTimeProps":this.setKillZombiesInTimeProps(t);break;case"StarChallengeSpendSunHoldoutProps":this.setSpendSunHoldoutProps(t);break;case"StarChallengeSunProducedProps":this.setSunProducedProps(t);break;case"MoldColonyChallengeProps":this.setMoldColonies(t);break;case"StarChallengeZombieDistanceProps":this.setFlowerLine(t);break;case"TideProperties":this.setTideProperties(t);break;case"SunDropperProperties":this.setSunDropper(t);break;case"LawnMowerProperties":this.setMowerProps(t);break;case"SunBombChallengeProperties":this.setSunBombProperties(t);break;case"CowboyMinigameProperties":this.setCowboyMinigameProperties(t);break;case"FutureMinigameProperties":this.setFutureMinigameProperties(t);break;case"ZombiesAteYourBrainsProperties":this.setZombiesAteYourBrainsProperties(t);break;case"StarChallengeBeatTheLevelProps":this.setBeatTheLevel(t);break;case"ZombiePotionModuleProperties":this.setPotions(t);break;case"PlantModifierProperties":this.setPlantModifiers(t);break;case"InitialGridItemProperties":this.setInitialGridItemProperties(t);break;case"CannonMinigameProperties":this.setCannonMinigameProperties(t)}},r.setTutorialLabel=function(e){!isNaN(+e.LifeSpan)&&e.LifeSpan&&(e.StringMultiLanguage?Be.gameTip(e.StringMultiLanguage,+e.LifeSpan):e.String&&Be.gameTipString(e.String,+e.LifeSpan))},r.setTideProperties=function(e){var n=null==e?void 0:e.StartingWaveLocation;if(!isNaN(n)){n>this._maxTideDistance&&(this._maxTideDistance=n);var t=9-n;M.addTide(t),this.haveWater=!0}},r.readLevelJson=function(){var e=this,n=this.Level.json,t=[];mt.thisLevelsID.forEach((function(e){t.push(We(e).json)})),mt.levelData&&(n=x.getRandom([JSON.parse(JSON.stringify(mt.levelData))].concat(t))),this.currentLevelObjects=JSON.parse(JSON.stringify(n.objects)),this.levelNameString=mt.getLevelName(this.currentLevelObjects),this.levelDescriptionString=mt.getLevelDescription(this.currentLevelObjects),this.currentLevelObjects.concat().forEach((function(n){"LevelDefinition"==(null==n?void 0:n.objclass)&&e.setLevelDefinition(null==n?void 0:n.objdata)})),this.waveEventStatistic()},r.setLevelDefinition=function(e){var n;if(this.levelDefinition=e,null!=e&&e.SandBoxMode&&(mt.sandBoxModeOn=e.SandBoxMode),null!=e&&e.ForceToRestart&&(this.RestartWhenExit=!0),mt.sandBoxModeOn){var t=x.getRandom([K.CYS_Start,K.UltimateBattle,K.DemonstrateMinigame]);this.startingMusic=t}else switch(null==e?void 0:e.MusicType){case"MiniGame_A":this.startingMusic=K.UltimateBattle;break;case"MiniGame_B":this.startingMusic=K.DemonstrateMinigame;break;default:this.startingMusic=K.CYS_Start}this.levelNameLabel.string="",this.isDangerroom=null==e?void 0:e.IsDangerRoom,this.isDangerroomMiniGame=null==e?void 0:e.IsDangerRoomMiniGame;var a=y.modern;this.levelNameString=this.getLevelName(e),a=null!=e&&null!=(n=e.StageModuleOptions)&&n.length?M.getFrontYardEnumByRTID(x.getRandom(null==e?void 0:e.StageModuleOptions)):M.getFrontYardEnumByRTID(null==e?void 0:e.StageModule),this.lastStand||(isNaN(+e.StartingSun)?D.component.setSunCount(50+mt.StartingSunBoost):D.component.setSunCount(e.StartingSun+mt.StartingSunBoost)),M.changeFrontYard(a);var i=M.getWorldMapLyricsByLawn(a);this._levelWorldName=pe.getString(i.Name,!1),this.isDangerroomMiniGame?this.setDangerroomMiniGameWaves():this.isDangerroom&&this.setDangerroomWaves(),this.readModule(null==e?void 0:e.Modules)},r.setLevelVictoryCountDown=function(e){this.levelVictoryCountDown=e>this.levelVictoryCountDown?e:this.levelVictoryCountDown},r.readWave_addSchedulers=function(e){var n,t=new nt;null!=(n=e.Events)&&n.length&&(t.Events=e.Events,e.Repeat&&(t.Repeat=e.Repeat,e.TimeBetween&&(t.TimeBetween=e.TimeBetween,isNaN(e.EndingWave)||(t.EndingWave=e.EndingWave),e.TimeBeforeFirst&&(t.TimeBeforeFirst=e.TimeBeforeFirst,e.SuppressRewardState&&(t.SuppressRewardState=!0),e.RewardWhenEnded&&(t.RewardWhenEnded=!0),t.initialize(),this.levelSchedulers.push(t)))))},r.readWave_spawnZombies=function(e){var n,t=this;null==(n=e.NotificationEvents)||n.forEach((function(e){switch(e){case"jam_punk":case"jam_pop":case"jam_rap":case"jam_metal":case"jam_ballad":case"jam_8bit":case"jam_clear":M.setStageEffect(N[e])}}));var a=e.Zombies,i=j.dirtSpawn;switch(e.Style){case"appear":i=j.directPut;break;case"sandstorm":i=j.sandStorm;break;case"snowstorm":i=j.snowStorm}var o=0;null==a||a.forEach((function(e){var n=NaN,a=e.Type,r=R.getZombieEnumByRTID(a);if(-1!=(o=isNaN(+e.Row)?"???"==e.Row?R.getLessZombieLane([0,1,2,3,4],r):"previous"==e.Row?o:NaN:+e.Row-1)){n=isNaN(+e.Column)?NaN:+e.Column-1,e.Type&&(a=e.Type);var s=O.getLnC(o,n);if(s.isInLawn()){var l=i;switch(e.Style){case"appear":l=j.directPut;break;case"sandstorm":l=j.sandStorm;break;case"snowstorm":l=j.snowStorm}var u=s.spawnZombie(r,l,!0,isNaN(e.xScale)?.5:e.xScale);isNaN(+e.CarrySun)||(u[0].haveSun=+e.CarrySun),u.forEach((function(n){e.Reversed?n.reversed=!0:t.registerZombieInThisWave(n),n.judgeInLnC()}))}else{var h=R.createZombie(o,r,{},!0);(O.getLnC(0,9).getTileType()!=U.sky||h.currentFlyZombie)&&h.judgeInLnC(),"prev"==e.Row&&(h.worldPositionX+=h.prevDistance()),t.registerZombieInThisWave(h),isNaN(+e.CarrySun)||(h.haveSun=+e.CarrySun),h.additionalZombies().forEach((function(e){t.registerZombieInThisWave(e)}))}}}));for(var r=0;r<5;r++)O.getLaneComponent(r).zombieSpawnOffset=0},r.readWave_spawnGravestones=function(e){var n=e.GravestonePool,t=x.randomize(e.SpawnPositionsPool),a=[];null==n||n.forEach((function(e,n){var i=1;isNaN(+e.Count)||(i=+e.Count);var o=F.getTombEnumByRTID(e.Type);isNaN(o)&&(o=F.getTombEnumByLawn(M.currentLawnYardType));for(var r=0;i>0&&r<(null==t?void 0:t.length);){var s=t[r],l=s.mX;isNaN(l)&&(l=Math.floor(9*Math.random()));var u=s.mY;isNaN(u)&&(u=Math.floor(5*Math.random())),r++;var h=O.getLnC(u,l);h.addTomb(o,!0,!1,!0)&&(i--,a.push(h))}})),a.forEach((function(e){e.bounceAllPlants()})),W.playTombRiseMagical()},r.readWave_spawnZombiesFromGround=function(e){var n=this,t=null==e?void 0:e.Zombies;if(!isNaN(null==t?void 0:t.length)){var a=+(null==e?void 0:e.ColumnEnd),i=+(null==e?void 0:e.ColumnStart),o=+(null==e?void 0:e.RowEnd),r=+(null==e?void 0:e.RowStart);a=isNaN(a)?8:a,i=isNaN(i)?0:i,o=isNaN(o)?4:o,r=isNaN(r)?0:r;var s=[];t.forEach((function(e){var n,t=R.getZombieEnumByRTID(null==e?void 0:e.Type),l=null==(n=O.getRandomLnC(r,o,i,a))?void 0:n.spawnZombie(t,j.dirtSpawn,!0,Math.random());s=s.concat(l)})),s.forEach((function(e){n.registerZombieInThisWave(e)}))}},r.readWave_spawnZombiesLowTide=function(e){var n=this,t=+e.GroupSize;if(t){var a=+e.ZombieCount;if(a){var i=Math.ceil(a/t),o=e.ZombieName;if(o){var r=R.getZombieEnumByString(o),s=+(null==e?void 0:e.ColumnEnd),l=+(null==e?void 0:e.ColumnStart);s=isNaN(s)?8:s,l=isNaN(l)?0:l,s>8&&(s=8),l<0&&(l=0);var u=+e.TimeBeforeFullSpawn;u||(u=.1);var h=+e.TimeBetweenGroups;h||(h=.25);var c=h*i+u+.1;this.setLevelVictoryCountDown(c),this.schedule((function(){for(var e=0;e<t&&e<a;e++){var i=R.getLessZombieLane([0,1,2,3,4]),o=Math.round(Math.random()*(s-l))+l,u=O.getLnC(i,o);if(null!=u&&u.isInLawn())u.spawnZombie(r,j.dirtSpawn,!0,Math.random()).forEach((function(e){n.registerZombieInThisWave(e)}))}a-=t}),h,i,u),M.playLowTide()}}}},r.readWave_modifyConveyor=function(e){var n,t,a,i;isNaN(null==e||null==(n=e.Add)?void 0:n.length)||(null==e||null==(a=e.Add)||a.forEach((function(e){var n=0;n=e.ToolType?H.getPlantEnumByString(e.ToolType):H.getPlantByRTID(e.Type);var t=1/0,a=1,i=-1,o=1,r=40,s=0,l=0;isNaN(+e.MaxCount)||(t=+e.MaxCount),isNaN(+e.MaxWeightFactor)||(a=+e.MaxWeightFactor),isNaN(+e.MinCount)||(i=+e.MinCount),isNaN(+e.MinWeightFactor)||(o=+e.MinWeightFactor),isNaN(+e.Weight)||(r=+e.Weight),isNaN(+e.MaxCountCooldownSeconds)||(s=+e.MaxCountCooldownSeconds),isNaN(+e.MinCountCooldownSeconds)||(l=+e.MinCountCooldownSeconds);var u=new $;u.PlantType=n,u.MaxCount=t,u.MaxWeightFactor=a,u.MinCount=i,u.MinWeightFactor=o,u.Weight=r,u.MaxCountCooldownSeconds=s,u.MinCountCooldownSeconds=l,Q.component.addCard(u)})));isNaN(null==e||null==(t=e.Remove)?void 0:t.length)||(null==e||null==(i=e.Remove)||i.forEach((function(e){var n=H.getPlantByRTID(e.Type);Q.component.removeCard(n)})))},r.readWave_raidingParty=function(e){var n=this,t=isNaN(e.GroupSize)?5:e.GroupSize,a=isNaN(e.SwashbucklerCount)?1:e.SwashbucklerCount,i=isNaN(e.TimeBetweenGroups)?1:e.TimeBetweenGroups,o=Math.ceil(a/t);if(!(o<=0)){mt.gameWarn(pe.getString(pe.lyrics.InGameScene.WaveEvent.RaidingParty),5,4,.5,.33,new h(155,93,40,0),3,new h(58,13,0,255));var r=i+.8*(t-1);this.setLevelVictoryCountDown(r*o+1),this.schedule((function(){n.schedule((function(){if(!(n.gameWon||a<=0)){var e=R.createZombie(Math.floor(5*Math.random()),I.pirate_swashbuckler);(O.getLnC(0,9).getTileType()!=U.sky||e.currentFlyZombie)&&e.judgeInLnC(),n.registerZombieInThisWave(e),a--}}),.8,t,.1)}),r,o,.1)}},r.readWave_stormZombies=function(e){var n,t=this,a=4,i=8,o=0,r=4,s=2,l=2;isNaN(+(null==e?void 0:e.ColumnEnd))||(i=+e.ColumnEnd),isNaN(+(null==e?void 0:e.ColumnStart))||(a=+e.ColumnStart),isNaN(+(null==e?void 0:e.RowEnd))||(r=+e.RowEnd),isNaN(+(null==e?void 0:e.RowStart))||(o=+e.RowStart),isNaN(+(null==e?void 0:e.GroupSize))||(s=+e.GroupSize),isNaN(+(null==e?void 0:e.TimeBetweenGroups))||(l=+e.TimeBetweenGroups);var u=[],c=j.sandStorm,d=new h(255,184,0,0),m=new h(117,52,0,255),g=pe.getString(pe.lyrics.InGameScene.WaveEvent.Sandstorm);switch(e.Type){case"snowstorm":c=j.snowStorm,g=pe.getString(pe.lyrics.InGameScene.WaveEvent.Snowstorm),d=new h(255,255,255,0),m=new h(0,173,255,255)}if(mt.gameWarn(g,5,4,.5,.33,d,3,m),isNaN(null==(n=e.Zombies)?void 0:n.length)||e.Zombies.forEach((function(e){u.push(R.getZombieEnumByRTID(e.Type))})),u.length){var v=u.concat(),p=0,f=Math.ceil(u.length/s);this.setLevelVictoryCountDown(1+l*f),this.schedule((function(){if(!(p>=f)){for(var e=0;e<s&&v.length>0;e++){var n,l=x.getRandom(v);v.splice(v.indexOf(l),1);for(var u=[],h=o;h<=r;h++)u.push(h);var d=R.getLessZombieLane(u),m=a+Math.floor((i-a)*Math.random()),g=null==(n=O.getLnC(d,m))?void 0:n.spawnZombie(l,c,!0,.5+.5*Math.random());null==g||g.forEach((function(e){t.registerZombieInThisWave(e),e.judgeInLnC()}))}p++}}),l,f,3)}},r.readWave_tideChange=function(e){var n,t=+(null==e||null==(n=e.TidalChange)?void 0:n.ChangeAmount);if(!isNaN(t)){var a=9-t;M.moveTide(a)}},r.readWave_chillWind=function(e){var n,t=this;e.BlastCount||(e.BlastCount=1);var a=!1;null==e||null==(n=e.Winds)||n.forEach((function(n,i){if(!isNaN(+n.Row)){a=!0;var o="left"==n.Direction,r=O.getLaneComponent(n.Row);t.scheduleOnce((function(){for(var n=0;n<e.BlastCount;n++)r.chillWind(o)}),.5*i)}})),a&&W.playChillWindSound()},r._dealSpiderRains=function(e){var n=this;this.spiderRainProps.length>0&&(this.setLevelVictoryCountDown(.1),this.spiderRainProps.concat().forEach((function(t){if(t.ZombieFallTime>0)t.ZombieFallTime-=e;else{if(t.TimeBeforeFullSpawn>0&&(t.TimeBeforeFullSpawn-=e,t._leftTimeBetweenGroups-=e,t._leftTimeBetweenGroups<=0)){t._leftTimeBetweenGroups=t.TimeBetweenGroups;for(var a=0;a<t.GroupSize&&t.SpiderCount>0;a++){var i=Math.floor(Math.random()*(t.ColumnEnd-t.ColumnStart+1))+t.ColumnStart-1,o=Math.floor(5*Math.random()),r=O.getLnC(o,i);if(r.isInLawn())r.spawnZombie(t.SpiderZombie,j.dirtSpawn,!0,.5).forEach((function(e){e.judgeInLnC(),t.SpiderCount--}))}}if(t.TimeBeforeFullSpawn<=0||t.SpiderCount<=0){var s=n.spiderRainProps.indexOf(t);-1!=s&&n.spiderRainProps.splice(s,1)}}})))},r.readWave_spiderRain=function(e){var n=isNaN(+(null==e?void 0:e.ColumnStart))?0:+e.ColumnStart,t=isNaN(+(null==e?void 0:e.ColumnEnd))?8:+e.ColumnEnd,a=isNaN(+(null==e?void 0:e.GroupSize))?1:+e.GroupSize,i=isNaN(+(null==e?void 0:e.SpiderCount))?1:+e.SpiderCount,o=R.getZombieEnumByString(e.SpiderZombieName),r=isNaN(+(null==e?void 0:e.TimeBeforeFullSpawn))?1:+e.TimeBeforeFullSpawn,s=isNaN(+(null==e?void 0:e.ZombieFallTime))?1:+e.ZombieFallTime,l=isNaN(+(null==e?void 0:e.TimeBetweenGroups))?1:+e.TimeBetweenGroups,u=new ct;u.ColumnEnd=t,u.ColumnStart=n,u.GroupSize=a,u.SpiderCount=i,u.SpiderZombie=o,u.TimeBeforeFullSpawn=r,u.TimeBetweenGroups=l,u.ZombieFallTime=s,this.spiderRainProps.push(u)},r.readWave_waveWarning=function(e){var n=e.String;if(e.StringMultiLanguage&&(n=pe.getString(e.StringMultiLanguage)),n){var t=new h(isNaN(e.LabelR)?255:e.LabelR,isNaN(e.LabelG)?255:e.LabelG,isNaN(e.LabelB)?255:e.LabelB,isNaN(e.LabelAInit)?0:e.LabelAInit),a=new h(isNaN(e.OutLineR)?0:e.OutLineR,isNaN(e.OutLineG)?0:e.OutLineG,isNaN(e.OutLineB)?0:e.OutLineB,255),i=0;switch(e.Sound){case"ReadySet":i=1;break;case"Plant":i=2;break;case"SandStorm":i=3;break;case"FinalWave":i=4}this.gamingWarn(n,isNaN(e.Duration)?5:e.Duration,isNaN(e.LabelInitScale)?4:e.LabelInitScale,isNaN(e.LabelTargetScale)?.5:e.LabelTargetScale,isNaN(e.InitTime)?.5:e.InitTime,t,i,a)}},r.readWave_spawnZombiesFromGridItems=function(e){var n,t=this,a=e.Zombies;if(null!=a&&a.length){var i=[];if(null==e||null==(n=e.GridTypes)||n.forEach((function(e){var n=Se.getGridItemEnumByRTID(e);n&&i.push(n)})),i.length){var o=+e.ZombieSpawnWaitTime;o||(o=.2),this.setLevelVictoryCountDown(1.2*o);var r=+e.AdditionalPlantfood;isNaN(r)&&(r=0),this.scheduleOnce((function(){var e=[],n=[];i.forEach((function(e){Ce.poolByID(e).forEach((function(e){n.push(e)}))})),x.randomize(n).forEach((function(n,t){if(!(t>=a.length)){var i=R.getZombieEnumByRTID(a[t].Type);n.zombieSpawn(i,j.dirtSpawn).forEach((function(n){e.push(n)}))}})),e.forEach((function(e){t.registerZombieInThisWave(e)})),x.randomize(e).forEach((function(e){r>0&&!e.objdataOwnOrg.CannotCarryPlantfoodsInWaves&&(e.havePlantfood=!0,r--)}))}),o)}}},r.readWave_missileLocate=function(e){var n,t=+e.MissileFallCountdown;if(!isNaN(t)){null==e||null==(n=e.Locations)||n.forEach((function(e){var n=+e.mX,t=+e.mY,a=O.getLnC(t,n);null!=a&&a.isInLawn()&&O.locatePrjOnLnC(a,Ne.zomboss_missile_future,5,Le.plant)}));var a=+e.MissileCount;if(!isNaN(a)){for(var i=isNaN(+e.RowStart)?0:+e.RowStart,o=isNaN(+e.RowEnd)?4:+e.RowEnd,r=isNaN(+e.ColumnStart)?0:+e.ColumnStart,s=isNaN(+e.ColumnEnd)?8:+e.ColumnEnd,l=[],u=i;u<=o;u++)for(var h=r;h<=s;h++){var c=O.getLnC(u,h);null!=c&&c.isInLawn()&&l.push(c)}(l=x.randomize(l)).forEach((function(e,n){n>=a||O.locatePrjOnLnC(e,Ne.zomboss_missile_future,5,Le.plant)}))}}},r.readWave=function(e){var n=e.objdata;switch(null==e?void 0:e.objclass){case"WaveSchedulerProps":this.readWave_addSchedulers(n);break;case"SpawnZombiesJitteredWaveActionProps":this.readWave_spawnZombies(n);break;case"SpawnGravestonesWaveActionProps":this.readWave_spawnGravestones(n);break;case"SpawnZombiesFromGroundSpawnerProps":this.readWave_spawnZombiesFromGround(n);break;case"BeachStageEventZombieSpawnerProps":this.readWave_spawnZombiesLowTide(n);break;case"ModifyConveyorWaveActionProps":this.readWave_modifyConveyor(n);break;case"RaidingPartyZombieSpawnerProps":this.readWave_raidingParty(n);break;case"StormZombieSpawnerProps":this.readWave_stormZombies(n);break;case"TidalChangeWaveActionProps":this.readWave_tideChange(n);break;case"ParachuteRainZombieSpawnerProps":case"SpiderRainZombieSpawnerProps":this.readWave_spiderRain(n);break;case"WaveWarningProps":this.readWave_waveWarning(n);break;case"SpawnZombiesFromGridItemSpawnerProps":this.readWave_spawnZombiesFromGridItems(n);break;case"MissileLocateWaveActionProps":this.readWave_missileLocate(n);break;case"FrostWindWaveActionProps":this.readWave_chillWind(n);break;case"TutorialLabelProperties":this.setTutorialLabel(n)}switch(null==n?void 0:n.WaveStartMessage){case"[WARNING_GRAVESTONE_SPAWN]":mt.gameWarn(pe.getString(pe.lyrics.InGameScene.WaveEvent.Necromancy),5,4,.5,.33,new h(235,0,255,0),3,new h(0,21,85,255));break;case"[WARNING_JETPACKRAIN]":mt.gameWarn(pe.getString(pe.lyrics.InGameScene.WaveEvent.JetpackRain),5,4,.5,.33,new h(255,112,0,0),3,new h(0,42,173,255));break;case"[WARNING_PILOTRAIN]":mt.gameWarn(pe.getString(pe.lyrics.InGameScene.WaveEvent.PilotRain),5,4,.5,.33,new h(202,255,253,0),3,new h(0,34,48,255));break;case"[WARNING_SPIDERRAIN]":mt.gameWarn(pe.getString(pe.lyrics.InGameScene.WaveEvent.SpiderRain),5,4,.5,.33,new h(255,214,0,0),3,new h(82,82,82,255));break;case"[WARNING_SAPSPAWN]":mt.gameWarn(pe.getString(pe.lyrics.InGameScene.WaveEvent.SapSpawn),5,4,.5,.33,new h(255,184,0,0),3,new h(255,92,0,255));break;case"[WARNING_MISSILE]":mt.gameWarn(pe.getString(pe.lyrics.InGameScene.WaveEvent.MissileLocate),5,4,.5,.33,new h(255,184,0,0),3,new h(0,0,0,255));break;case"[WARNING_LOW_TIDE]":mt.gameWarn(pe.getString(pe.lyrics.InGameScene.WaveEvent.LowTide),5,4,.5,.33,new h(0,255,255,0),3,new h(0,82,121,255));break;case"[WARNING_PARACHUTERAIN]":mt.gameWarn(pe.getString(pe.lyrics.InGameScene.WaveEvent.ParachuteRain),5,4,.5,.33,new h(255,102,0,0),3,new h(1,110,119,255))}},r.conveyorOnPlantSpliced=function(e,n){var t;this.isCowboyMinigame&&(e.hide(),null==(t=ee.component)||t.show(),this.cowboyMinigameStopWaiting(),this.viewButton.node.active=!1)},r.meetZombie=function(e){var n=ne.getZombieKilledByID(e.OID);(n.progress<=0&&(n.progress=ie.met_unknown),n.progress<=ie.met_unknown)&&(-1==this._metZombies.indexOf(e.OID)&&this._metZombies.push(e.OID))},r.registerZombieInThisWave=function(e){this.cowboyMinigameWaiting&&(e.bodyRecHiddenCD=1/0,e.playIdle(Math.random())),e.spawnedWave=this.currentWave,e.objdataOwn.IgnoredInWaves||(this._zombiesInThisWave.push(e),this.waveToughness+=e.toughness)},r.bigWave=function(e){var n=X.component.currentMusicSort;switch(n){case K.Stage1_Start:case K.Stage2_Start:case K.Stage3_Start:case K.Stage4_Start:case K.Stage1_LP:case K.Stage2_LP:case K.Stage3_LP:case K.Stage4_LP:e?n=K.Stage4_Start:n==K.Stage3_Start||n==K.Stage3_LP||n==K.Stage1_Start||n==K.Stage1_LP?n=K.Stage2_Start:n!=K.Stage2_Start&&n!=K.Stage2_LP||(n=K.Stage3_Start),J.switchMusicSort(n,!1,!0)}this.gamingWarn(pe.getString(pe.lyrics.InGameScene.GamingWarn.HugeWave),5,4,.5,.33,new h(255,0,0,0),0)},r.judgeWaveCount=function(e){var n,t=this;this.waveToughness=.01,this._zombiesInThisWave=[],f(this).to(.8,{levelProgressPercentage:(this.currentWave+1)/this.waveManagerProps.Waves.length},{easing:"cubicInOut"}).start(),this.nextWaveCountdown=this.isCowboyMinigame?1/0:5*Math.random()+25,(this.currentWave+1)%this.waveManagerProps.FlagWaveInterval==0&&(this.nextWaveCountdown+=10),null==(n=this.waveManagerProps.Waves[this.currentWave])||n.forEach((function(e){t.currentLevelObjects.forEach((function(n){var a;null!=n&&null!=(a=n.aliases)&&a.length&&n.aliases.forEach((function(a){if("RTID(".concat(a).concat("@CurrentLevel)")==e){var i=t.waveManagerProps.Waves.length;t.levelSchedulers.concat().forEach((function(e){for(;e.EndingWave<0;)e.EndingWave+=i;for(;e.EndingWave>=i;)e.EndingWave-=i;if(e.EndingWave==t.currentWave){var n=t.levelSchedulers.indexOf(e);-1!=n&&t.levelSchedulers.splice(n,1)}})),t.readWave(n),t.addPlantFood(n.objdata)}}))}))})),this.nextWaveZombieHealthPercentage=this.isCowboyMinigame?0:Math.random()*(this.waveManagerProps.MaxNextWaveHealthPercentage-this.waveManagerProps.MinNextWaveHealthPercentage)+this.waveManagerProps.MinNextWaveHealthPercentage,this.waveZombieDamageCountdown=this.isCowboyMinigame?0:Math.random()+4,this.currentWave++},r.nextWave=function(){var e=this;if(this.isCowboyMinigame&&(this.cowboyMinigameWaiting=!0),-1==this.currentWave){var n=this.waveManagerProps.ZombieCountdownFirstWaveSecs;n||(n=this.defaultZombieCountdownFirstWaveSecs),this.nextWaveCountdown=n,this.waveZombieDamageCountdown=n,this.currentWave=0}else if(this.currentWave>=0){var t=0==this.currentWave;this.nextWaveCountdown=1/0,this.nextWaveZombieHealthPercentage=-1/0,this.waveZombieDamageCountdown=1/0,t&&(this.levelProgressBar.node.active=!0,W.playAwooga());var a,i,o,r=this.currentWave+1==this.waveManagerProps.Waves.length,s=(this.currentWave+1)%this.waveManagerProps.FlagWaveInterval==0&&0!=this.currentWave||r,l=this.isCowboyMinigame?0:5;if(r&&this.setLevelVictoryCountDown(l+.5),this.waveManagerProps.Waves[this.currentWave])if(s){var u=(this.currentWave+1)/this.waveManagerProps.FlagWaveInterval-1;this.bigWave(r),this.scheduleOnce((function(){if(r&&(e.gamingWarn(pe.getString(pe.lyrics.InGameScene.GamingWarn.FinalWave),5,4,.5,.33,new h(255,0,0,0),4),e.isFinalWave=!0,e.levelVictoryCountDown=1,T.uiingame.warnLevelTask(ge.SunCostCountDownLimit),T.uiingame.warnLevelTask(ge.SunProduceRequest),T.uiingame.warnLevelTask(ge.ZombieKillCountDown)),e.judgeWaveCount(!0),!e.waveManagerProps.SuppressFlagZombie){var n=!1;e.rallyBW[u]&&(n=!0);var t=R.createZombie(null,n?M.getLawnRallyZombie(M.currentLawn.ID):M.getLawnFlagZombie(M.currentLawn.ID));(O.getLnC(0,9).getTileType()!=U.sky||t.currentFlyZombie)&&t.judgeInLnC(),e.registerZombieInThisWave(t)}if(W.playAwooga(),e.waveFlags.length){var a=e.waveFlags[0];a.getComponent(v).setContentSize(21,74);var i=null==a?void 0:a.node.getChildByName("flagFan");f(i).to(1,{position:new p(i.position.x,14,0)},{easing:"cubicInOut"}).start(),e.waveFlags.splice(0,1)}}),l)}else this.judgeWaveCount(!1);if(this.isCowboyMinigame)null==Q||null==(a=Q.component)||a.show(),null==ee||null==(i=ee.component)||i.hide(),null==Q||null==(o=Q.component)||o.sendOnePlantImmediately(),t||this.moveCameraToRightNReturn(),this.viewingLawn=!1,this.viewButton.node.active=!0,this.viewButton.index=0,this.viewButton.select()}},r.dgr_getNumberByBound=function(e,n,t,a){var i,o,r=+(null==e?void 0:e.SlopeCoefficient);r||(r=0);var s=+(null==e||null==(i=e.LowerLimit)?void 0:i.Value);(isNaN(s)||s<a)&&(s=a);var l=+(null==e||null==(o=e.UpperLimit)?void 0:o.Value);(isNaN(l)||l>t)&&(l=t);var u=+(null==e?void 0:e.YIntercept);u||(u=0);var h=u+n*r;return h>l&&(h=l),h<s&&(h=s),h},r.dgr_getRandomIntegerBetween=function(e,n){var t=e+Math.floor((n-e+1)*Math.random());return Math.floor(t)},r.dgr_frostWindDesigner=function(e,n){var t=this,a=e.LevelRange,i=e.LaneCountMin,o=e.LaneCountMax,r=e.WavePercent,s=e.DoubleBlastPercent,l=(n-a.Min)/(a.Max-a.Min);l>1?l=1:l<0&&(l=0);var u=(i.Max-i.Min)*l+i.Min,h=(o.Max-o.Min)*l+o.Min,c=(r.Max-r.Min)*l+r.Min,d=(s.Max-s.Min)*l+s.Min;this.waveManagerProps.Waves.forEach((function(e,n){if(Math.random()<c/100){var a="Wave"+(n+1).toString()+"FrostWindEvent0";e.push("RTID("+a+"@CurrentLevel)");for(var i=[],o=x.randomize([0,1,2,3,4]),r=t.dgr_getRandomIntegerBetween(u,h),s=0;s<r&&s<o.length;s++)i.push({Direction:"right",Row:o[s]});var l={objdata:{Winds:i,BlastCount:Math.random()<d/100?2:1},objclass:"FrostWindWaveActionProps",aliases:[a]};t.currentLevelObjects.push(l)}}))},r.dge_iceblockDesigner=function(e,n){var t=e.LevelRange,a=(n-t.Min)/(t.Max-t.Min);a>1?a=1:a<0&&(a=0);var i=e.PlantColumnMin,o=e.PlantColumnMax,r=(o.Max-o.Min)*a+o.Min,s=(i.Max-i.Min)*a+i.Min,l=e.ZombieColumnMin,u=e.ZombieColumnMax,h=(u.Max-u.Min)*a+u.Min,c=(l.Max-l.Min)*a+l.Min,d=e.BlocksMin,m=e.BlocksMax,g=(m.Max-m.Min)*a+m.Min,v=(d.Max-d.Min)*a+d.Min,p=this.dgr_getRandomIntegerBetween(v,g),f=e.PctGoodBlocks,P=this.dgr_getRandomIntegerBetween(f.Min,f.Max),w=Math.floor(p*P/100),S=p-w,b=e.PlantTypeNames,C=e.ZombieTypeNames;if(null!=b&&b.length&&null!=C&&C.length){for(var M=[],y=s;y<=r;y++)for(var N=0;N<5;N++){var L=O.getLnC(N,y);null!=L&&L.isInLawn()&&M.push(L)}(M=x.randomize(M)).forEach((function(e){if(!(w<=0)){var n=H.getPlantEnumByString(x.getRandom(b));e.spawnPlantByPlantEnum(n,!0,!0,!1)&&(e.iceblockSpawn(!0),w--)}}));for(var T=[],W=c;W<=h;W++)for(var B=0;B<5;B++){var D=O.getLnC(B,W);null!=D&&D.isInLawn()&&T.push(D)}T=x.randomize(T),console.log(M,w,T,S,p),T.forEach((function(e){if(!(S<=0)){var n=e.iceblockSpawn(!1);if(n&&n.ID==A.iceblock_zombie){S--;var t=R.getZombieEnumByString(x.getRandom(C));e.spawnZombie(t,j.directPut).forEach((function(e){e.iceblock=n}))}}}))}},r.dgr_waveGenerator=function(e,n){var t,a,i,o=this,r=[];null==e||null==(t=e.MustContainZombie)||t.forEach((function(e){var n=R.getZombieEnumByRTID(e);r.push(n)}));var s=0;isNaN(null==e?void 0:e.MinDynamicZombieType)||(s=Math.max(e.MinDynamicZombieType,s));var l=null==e||null==(a=e.ZombiePool)?void 0:a.length;isNaN(null==e?void 0:e.MaxDynamicZombieType)||(l=Math.min(e.MaxDynamicZombieType,l));var u=s+Math.floor(Math.random()*(l-s+1)),h=+e.MaxPointPerWave;isNaN(h)&&(h=1/0);for(var c=[],d=0;d<this.waveManagerProps.WaveCount;d++)c.push(d);for(var m=null!=e&&e.SuppressPlantfood?0:Math.min(Math.ceil(4*(S-Math.atan(30*n))/S),c.length),g=[],v=x.randomize(c),p=0;p<m;p++)g.push(v[p]);for(var f=null==e?void 0:e.StartingPoints,P=(null==e?void 0:e.BasePointIncrementPerLevel)*n,w=Math.min(h,f+((null==e?void 0:e.BasePointIncrementPerWave)+P)*this.waveManagerProps.WaveCount),b=x.randomize(null==e?void 0:e.ZombiePool),C=0;C<u;C++){var M=R.getZombieEnumByRTID(b[C]);R.getZombieWavePointCost(M)<=w&&r.push(M)}var y=null==e?void 0:e.ZombiePool;null!=e&&null!=(i=e.MustContainZombie)&&i.length&&(y=y.concat(e.MustContainZombie)),this.dgr_zombieJitterSpawnList=y.map((function(e){return R.getZombieEnumByRTID(e)}));for(var N=function(){var n="Wave"+(L+1).toString();o.waveManagerProps.Waves.push(["RTID("+n+"@CurrentLevel)"]);var t=[n],a=0;-1!=g.indexOf(L)&&a++;var i=Math.min(h,f+((null==e?void 0:e.BasePointIncrementPerWave)+P)*L);(L+1)%o.waveManagerProps.FlagWaveInterval==0&&(a++,i*=2.5);var s=R.getZombiesWithNamesAndPoint(r,i,!0),l=[];s.forEach((function(e){var n=-1!=[I.egypt_camel_touch,I.egypt_camel_onehump_touch,I.egypt_camel_twohump_touch,I.egypt_camel_threehump_touch,I.egypt_camel_manyhump_touch].indexOf(e);l.push({Type:"RTID("+R.getZombieFeature(e).CODENAME+"@ZombieTypes)",Row:n?"???":void 0,Column:n?7+Math.floor(2*Math.random()):void 0})}));var u={aliases:t,objclass:"SpawnZombiesJitteredWaveActionProps",objdata:{AdditionalPlantfood:null!=e&&e.SuppressPlantfood?0:a,Zombies:l}};o.currentLevelObjects.push(u)},L=0;L<this.waveManagerProps.WaveCount;L++)N()},r.dgr_gravestoneGenerator=function(e,n){var t=null==e?void 0:e.MinGravestoneCount,a=null==e?void 0:e.BaseGravestoneCountPerLevel,i=null==e?void 0:e.MaxGeneratedGravestones,o=null==e?void 0:e.MinStartingGravestoneSpawnCol,r=null==e?void 0:e.MaxStartingGravestoneSpawnCol,s=null==e?void 0:e.MaxStartingGravestoneSpawnColOffsetPerLevel,l=null==e?void 0:e.MinEndingGravestoneSpawnCol,u=null==e?void 0:e.MaxEndingGravestoneSpawnCol,h=null==e?void 0:e.MaxEndingGravestoneSpawnColOffsetPerLevel;if(!(isNaN(t)||isNaN(a)||isNaN(i)||isNaN(o)||isNaN(r)||isNaN(s)||isNaN(l)||isNaN(u)||isNaN(h))){var c=null;this.currentLevelObjects.forEach((function(e){"GravestoneProperties"==e.objclass&&(c=e.objdata)})),c&&(c.GravestoneCount=Math.min(i,t+a*n),c.SpawnColumnStart=Math.max(o,r+s*n),c.SpawnColumnEnd=Math.max(l,u+h*n))}},r.dgr_gravestoneWaveSpawnGenerator=function(e,n){var t=null==e?void 0:e.WaveMinPerFlag,a=null==e?void 0:e.WaveMaxPerFlagBase,i=null==e?void 0:e.WaveMaxPerFlagIncrementPerLevel,o=null==e?void 0:e.WaveMaxPerFlagSlope,r=null==e?void 0:e.GravestonesMinPerSpawnEvent,s=null==e?void 0:e.GravestonesMaxPerSpawnEventBase,l=null==e?void 0:e.GravestonesMaxPerSpawnEventIncrementPerLevel,u=null==e?void 0:e.GravestonesMaxPerSpawnEventSlope,h=null==e?void 0:e.BeneficialGravestonesPerSpawnEventMin,c=null==e?void 0:e.BeneficialGravestonesPerSpawnEventMax,d=null==e?void 0:e.ChanceThatBeneficialGravestoneIsPlantfoodNotSun,m=null==e?void 0:e.GravestoneSpawnColumnMax,g=null==e?void 0:e.GravestoneSpawnColumnMinBase,v=null==e?void 0:e.GravestoneSpawnColumnMinIncrementPerLevel,p=null==e?void 0:e.GravestoneSpawnColumnMinLowerLimit,f=null==e?void 0:e.GravestoneSpawnColumnMinUpperLimit;if(!(isNaN(t)||isNaN(a)||isNaN(i)||isNaN(o)||isNaN(r)||isNaN(s)||isNaN(l)||isNaN(u)||isNaN(h)||isNaN(c)||isNaN(d)||isNaN(m)||isNaN(g)||isNaN(v)||isNaN(p)||isNaN(f))){var P=this.waveManagerProps.FlagWaveInterval;if(!P)return;for(var w=this.waveManagerProps.WaveCount/P,S=[],b=0;b<P;b++)S.push(b);for(var C=[],M=0;M<w;M++)for(var y=Math.min(a+i*n,o),N=Math.min(P,(y-t)*Math.random()+t),L=x.randomize(S),T=0;T<N&&T<L.length;T++)C.push(this.waveManagerProps.Waves[M*P+L[T]]);for(var W=0;W<C.length;W++){var B=this.waveManagerProps.Waves.indexOf(C[W]),D="Wave"+(B+1).toString()+"GravestoneEvent0";this.waveManagerProps.Waves[B].push("RTID("+D+"@CurrentLevel)");var E=Math.min(s+l*n,u),R=Math.floor((E-r)*Math.random()+r),I=Math.floor((c-h)*Math.random()+h);R-=I;for(var _=0,G=0;G<I;G++)Math.random()<d&&(_++,I--);var k=Math.ceil(g+v*n);k>f?k=f:k<p&&(k=p);for(var Z=[],F=k;F<m;F++)for(var A=0;A<5;A++)Z.push({mX:F,mY:A});this.currentLevelObjects.push({aliases:[D],objclass:"SpawnGravestonesWaveActionProps",objdata:{GravestonePool:[{Count:R,Type:"RTID(gravestone_dark@GridItemTypes)"},{Count:I,Type:"RTID(gravestoneSunOnDestruction@GridItemTypes)"},{Count:_,Type:"RTID(gravestonePlantfoodOnDestruction@GridItemTypes)"}],SpawnPositionsPool:Z}})}}},r.dgr_necromancyEventGenerator=function(e,n){var t=null==e?void 0:e.WaveMinPerFlag,a=null==e?void 0:e.WaveMaxPerFlagBase,i=null==e?void 0:e.WaveMaxPerFlagIncrementPerLevel,o=null==e?void 0:e.WaveMaxPerFlagSlope,r=null==e?void 0:e.ZombieMinPerNecromancy,s=null==e?void 0:e.ZombieMaxPerNecromancyBase,l=null==e?void 0:e.ZombieMaxPerNecromancyIncrementPerLevel,u=null==e?void 0:e.ZombieMaxPerNecromancySlope,h=e.SpawnZombieType;if(!isNaN(t)&&!isNaN(a)&&!isNaN(i)&&!isNaN(o)&&!isNaN(r)&&!isNaN(s)&&!isNaN(l)&&!isNaN(u)&&h){var c=this.waveManagerProps.FlagWaveInterval;if(!c)return;for(var d=this.waveManagerProps.WaveCount/c,m=[],g=0;g<c;g++)m.push(g);for(var v=[],p=0;p<d;p++)for(var f=Math.min(a+i*n,o),P=Math.min(c,(f-t)*Math.random()+t),w=x.randomize(m),S=0;S<P&&S<w.length;S++)v.push(this.waveManagerProps.Waves[p*c+w[S]]);for(var b=0;b<v.length;b++){var C=this.waveManagerProps.Waves.indexOf(v[b]),M="Wave"+(C+1).toString()+"GraveSpawnEvent0";this.waveManagerProps.Waves[C].push("RTID("+M+"@CurrentLevel)");for(var y=Math.min(u,s+l*n),N=Math.floor((y-r)*Math.random()+r),L=[],T=0;T<N;T++)L.push({Type:"RTID("+h+"@ZombieTypes)"});this.currentLevelObjects.push({aliases:[M],objclass:"SpawnZombiesFromGridItemSpawnerProps",objdata:{GridTypes:["RTID(gravestone_dark@GridItemTypes)","RTID(gravestoneSunOnDestruction@GridItemTypes)","RTID(gravestonePlantfoodOnDestruction@GridItemTypes)"],WaveStartMessage:"[WARNING_GRAVESTONE_SPAWN]",Zombies:L,ZombieSpawnWaitTime:1}})}}},r.dgr_sandstormDesigner=function(e,n,t,a){void 0===t&&(t="sandstorm"),void 0===a&&(a="mummy");var i=+(null==e?void 0:e.BaseSandstormCount),o=+(null==e?void 0:e.BaseSandstormCountPerLevel),r=+(null==e?void 0:e.MinSandstormCountPerLevel),s=+(null==e?void 0:e.MaxSandstormsPerFlagWave),l=+(null==e?void 0:e.BaseSandstormZombiesCount),u=+(null==e?void 0:e.BaseSandstormZombiesCountPerLevel),h=+(null==e?void 0:e.MinSandstormZombiesCountPerLevel),c=+(null==e?void 0:e.MaxSandstormZombies),d=+(null==e?void 0:e.MinStartingSandstormSpawnCol),m=+(null==e?void 0:e.MaxStartingSandstormSpawnCol),g=+(null==e?void 0:e.MaxStartingSandstormSpawnColOffsetPerLevel),v=+(null==e?void 0:e.MinEndingSandstormSpawnCol),p=+(null==e?void 0:e.MaxEndingSandstormSpawnCol),f=+(null==e?void 0:e.MaxEndingSandstormSpawnColOffsetPerLevel),P=+(null==e?void 0:e.BaseSandstormStartWave);if(!(isNaN(i)||isNaN(o)||isNaN(r)||isNaN(s)||isNaN(l)||isNaN(u)||isNaN(h)||isNaN(c)||isNaN(d)||isNaN(m)||isNaN(g)||isNaN(v)||isNaN(p)||isNaN(f)||isNaN(P))){var w=Math.max(r,i+o*n),S=Math.max(d,m+g*n),b=Math.max(v,p+f*n),C=Math.min(l+u*n,c),M=this.waveManagerProps.FlagWaveInterval;if(!M)return;for(var y=this.waveManagerProps.WaveCount/M,N=this.waveManagerProps.Waves.concat(),L=[],T=[],W=0;W<M;W++)T.push(W);for(var B=0;B<y;B++)for(var D=x.randomize(T),E=this.dgr_getRandomIntegerBetween(0,s),R=0;R<E&&R<D.length;R++)L.push(N[B*M+D[R]]);if(0==C)return;for(var I=P;I<this.waveManagerProps.Waves.length;I++)N.push(this.waveManagerProps.Waves[I]);for(var _=[],G=0;G<C;G++)_.push({Type:"RTID("+a+"@ZombieTypes)"});for(var k=0;k<L.length&&k<w;k++){var Z=this.waveManagerProps.Waves.indexOf(L[k]),F="Wave"+(k+1).toString()+"StormEvent0";this.waveManagerProps.Waves[Z].push("RTID("+F+"@CurrentLevel)"),this.currentLevelObjects.push({aliases:[F],objclass:"StormZombieSpawnerProps",objdata:{ColumnEnd:Math.ceil(b-1),ColumnStart:Math.ceil(S-1),GroupSize:3,TimeBetweenGroups:1,Type:t,Zombies:_}})}}},r.dgr_plankDesigner=function(e,n){var t=x.getRandom(null==e?void 0:e.PlankLayouts);if(t){for(var a=[],i=0;i<5;i++)"1"==t[i]&&a.push(i);var o=null;this.currentLevelObjects.forEach((function(e){"PiratePlankProperties"==e.objclass&&(o=e.objdata)})),o&&(o.PlankRows=a)}},r.dgr_raidingPartyDesigner=function(e,n){var t=null==e?void 0:e.BasePartyCount,a=null==e?void 0:e.BasePartyCountPerLevel,i=null==e?void 0:e.BasePartyZombiesCount,o=null==e?void 0:e.BasePartyZombiesCountPerLevel,r=null==e?void 0:e.MaxPartyZombies,s=null==e?void 0:e.MaxPartyCount,l=null==e?void 0:e.BasePartyStartWave;if(!(isNaN(t)||isNaN(a)||isNaN(s)||isNaN(i)||isNaN(o)||isNaN(r)||isNaN(l))){var u=Math.min(s,Math.floor(t+a*n));if(u<=0)return;var h=Math.min(r,i+o*n);if(h<=0)return;for(var c=[],d=l;d<this.waveManagerProps.Waves.length;d++)c.push(this.waveManagerProps.Waves[d]);for(var m=x.randomize(c),g=0;g<m.length&&g<u;g++){var v=this.waveManagerProps.Waves.indexOf(m[g]),p="Wave"+(g+1).toString()+"RaidingPartyEvent0";this.waveManagerProps.Waves[v].push("RTID("+p+"@CurrentLevel)"),this.currentLevelObjects.push({aliases:[p],objclass:"RaidingPartyZombieSpawnerProps",objdata:{GroupSize:11,SwashbucklerCount:Math.floor(h),TimeBetweenGroups:1}})}}},r.dgr_railcartDesigner=function(e,n){var t=null==e?void 0:e.Layouts;if(t){var a=null==e?void 0:e.BaseRailcartCount,i=null==e?void 0:e.BaseRailcartCountPerLevel,o=null==e?void 0:e.MaxGeneratedRailcarts,r=null;if(this.currentLevelObjects.forEach((function(e){"RailcartProperties"==e.objclass&&(r=e.objdata)})),r&&!isNaN(a)&&!isNaN(i)&&!isNaN(o)){for(var s=Math.ceil(Math.random()*Math.min(a+i*n,o)),l=[],u=0;u<9;u++)l.push(u);for(var h=[],c=x.randomize(l),d=0;d<s;d++)for(var m=c[d],g="0",v=0,p=0,f=x.getRandom(t),P=0;P<=5;P++)if(!f[P]||f[P]!=g){p=P-1;var w="0"!=g;g=f[P],v<p&&w&&h.push({Column:m,RowEnd:p,RowStart:v}),"0"!=g&&(v=P)}var S=[];h.forEach((function(e){var n=e.Column,t=e.RowStart+Math.floor((e.RowEnd-e.RowStart)*Math.random());S.push({Column:n,Row:t})})),r.Rails=h,r.Railcarts=S}}},r.dgr_spiderRainDesigner=function(e,n,t,a,i){void 0===t&&(t="SpiderRainZombieSpawnerProps"),void 0===a&&(a="future_imp"),void 0===i&&(i="[WARNING_SPIDERRAIN]");var o=+(null==e?void 0:e.BaseSpiderRainCount),r=+(null==e?void 0:e.BaseSpiderRainZombiesCountPerLevel),s=+(null==e?void 0:e.BaseSpiderRainZombieCount),l=+(null==e?void 0:e.BaseSpiderRainCountPerLevel),u=+(null==e?void 0:e.MaxSpiderRainZombies),h=+(null==e?void 0:e.MaxSpiderRainCount),c=+(null==e?void 0:e.BaseSpiderRainStartWave);if(!(isNaN(o)||isNaN(r)||isNaN(s)||isNaN(l)||isNaN(u)||isNaN(h)||isNaN(c))){var d=Math.min(h,Math.floor(o+l*n));if(d<=0)return;var m=Math.min(u,s+r*n);if(m<=0)return;for(var g=[],v=c;v<this.waveManagerProps.Waves.length;v++)g.push(this.waveManagerProps.Waves[v]);for(var p=x.randomize(g),f=0;f<p.length&&f<d;f++){var P=this.waveManagerProps.Waves.indexOf(p[f]),w="Wave"+(f+1).toString()+"SpiderRainEvent0";this.waveManagerProps.Waves[P].push("RTID("+w+"@CurrentLevel)"),this.currentLevelObjects.push({aliases:[w],objclass:t,objdata:{ColumnEnd:7,ColumnStart:4,GroupSize:1,SpiderCount:Math.ceil(m),TimeBeforeFullSpawn:6,SpiderZombieName:a,TimeBetweenGroups:.2,WaveStartMessage:i,ZombieFallTime:1.5}})}}},r.dgr_powerTileDesigner=function(e,n){var t=+e.ColumnCount,a=+e.MaxTileSetCount,i=+e.BaseTileSetCount,o=+e.BaseTileSetCountPerLevel,r=e.TileSetLayouts;if(!(isNaN(r.length)||isNaN(t)||isNaN(a)||isNaN(i)||isNaN(o))){var s=null;if(this.currentLevelObjects.forEach((function(e){"PowerTileProperties"==e.objclass&&(s=e.objdata)})),s){for(var l=Math.ceil(Math.random()*Math.min(Math.ceil(a),Math.ceil(i+o*n))),u=x.randomize(r),h=[],c=0;c<t;c++)for(var d=0;d<5;d++)h.push(O.getLnC(d,c));h=x.randomize(h);var m=[],g=[],v=0;h.forEach((function(e){if(!(v>=l)){var n=[],t=e.cIndex,a=e.lIndex,i=!1;u.forEach((function(e,o){if(!(i||v>=l)){var r=!0;e.forEach((function(o,s){if(!(!r||v>=l||i))for(var u=0;u<o.length;u++)if("0"!=o[u]){var h=t+u,c=a+s,d=O.getLnC(c,h);if(!d.isInLawn()||-1!=m.indexOf(d)){n=[],r=!1;break}m.push(d);var g="alpha";switch(v%Pe.amount){case Pe.alpha:g="alpha";break;case Pe.beta:g="beta";break;case Pe.delta:g="delta";break;case Pe.gamma:g="gamma";break;case Pe.epsilon:g="epsilon"}if(console.log(v%Pe.amount,g),n.push({Group:g+"",Location:{mX:h,mY:c},PropagationDelay:1.5}),u+1==o.length&&s+1==e.length){i=!0,v++,r=!1;break}}}))}})),i&&(g=g.concat(n))}})),this.setFoodLinkTiles({LinkedTiles:g})}}},r.dgr_tideDesginer=function(e,n){var t,a,i,o,r,s,l,u,h,c,d,m,g,v,p,f,P,w,S,b,C,M,y=this.dgr_getRandomIntegerBetween(this.dgr_getNumberByBound(null==e||null==(t=e.StartingTideLevel)?void 0:t.LowerBound,n,9,0),this.dgr_getNumberByBound(null==e||null==(a=e.StartingTideLevel)?void 0:a.UpperBound,n,9,0));this.getModule(["RTID(Tide@CurrentLevel)"]).forEach((function(e){var n;isNaN(+(null==e||null==(n=e.objdata)?void 0:n.StartingWaveLocation))||(e.objdata.StartingWaveLocation=y)}));var N=this.dgr_getRandomIntegerBetween(this.dgr_getNumberByBound(null==e||null==(i=e.FinalTideLevel)?void 0:i.LowerBound,n,9,0),this.dgr_getNumberByBound(null==e||null==(o=e.FinalTideLevel)?void 0:o.UpperBound,n,9,0)),L=this.dgr_getRandomIntegerBetween(this.dgr_getRandomIntegerBetween(this.dgr_getNumberByBound(null==e||null==(r=e.MaximumTideLevel)?void 0:r.LowerBound,n,9,0),this.dgr_getNumberByBound(null==e||null==(s=e.MaximumTideLevel)?void 0:s.UpperBound,n,9,0)),this.dgr_getRandomIntegerBetween(this.dgr_getNumberByBound(null==e||null==(l=e.MinimumTideLevel)?void 0:l.LowerBound,n,9,0),this.dgr_getNumberByBound(null==e||null==(u=e.MinimumTideLevel)?void 0:u.UpperBound,n,9,0))),T=this.dgr_getRandomIntegerBetween(this.dgr_getNumberByBound(null==e||null==(h=e.MinimumTideDelta)?void 0:h.LowerBound,n,9,0),this.dgr_getNumberByBound(null==e||null==(c=e.MinimumTideDelta)?void 0:c.UpperBound,n,9,0)),W=this.dgr_getRandomIntegerBetween(this.dgr_getNumberByBound(null==e||null==(d=e.MaximumTideDelta)?void 0:d.LowerBound,n,9,0),this.dgr_getNumberByBound(null==e||null==(m=e.MaximumTideDelta)?void 0:m.UpperBound,n,9,0)),B=this.dgr_getNumberByBound(null==e||null==(g=e.LowTideEventsPerFlagWave)?void 0:g.LowerBound,n,1/0,0),D=this.dgr_getNumberByBound(null==e||null==(v=e.LowTideEventsPerFlagWave)?void 0:v.UpperBound,n,1/0,0),E=this.dgr_getRandomIntegerBetween(this.dgr_getNumberByBound(null==e||null==(p=e.LowTideStartLevel)?void 0:p.LowerBound,n,1/0,0),this.dgr_getNumberByBound(null==e||null==(f=e.LowTideStartLevel)?void 0:f.UpperBound,n,1/0,0)),R=this.dgr_getNumberByBound(null==e||null==(P=e.LowTideRecedeAmount)?void 0:P.LowerBound,n,9,0),I=this.dgr_getNumberByBound(null==e||null==(w=e.LowTideRecedeAmount)?void 0:w.UpperBound,n,9,0),_=this.waveManagerProps.FlagWaveInterval;if(_){for(var G=this.waveManagerProps.WaveCount/_,k=this.waveManagerProps.Waves.concat(),Z=[],F=[],A=null==e?void 0:e.BasicLowTideZombieType,O=this.dgr_getNumberByBound(null==e||null==(S=e.BasicLowTideZombiesPerLowTideEvent)?void 0:S.LowerBound,n,1/0,0),j=this.dgr_getNumberByBound(null==e||null==(b=e.BasicLowTideZombiesPerLowTideEvent)?void 0:b.UpperBound,n,1/0,0),z=null==e?void 0:e.SpecialLowTideZombieTypes,U=this.dgr_getNumberByBound(null==e||null==(C=e.SpecialLowTideZombiesPerLowTideEvent)?void 0:C.LowerBound,n,1/0,0),H=this.dgr_getNumberByBound(null==e||null==(M=e.SpecialLowTideZombiesPerLowTideEvent)?void 0:M.UpperBound,n,1/0,0),V=[],Y=0;Y<_;Y++)V.push(Y);for(var J=0;J<G;J++)for(var K=x.randomize(V),X=this.dgr_getRandomIntegerBetween(B,D),q=0;q<X&&q<K.length;q++)F.push(k[J*_+K[q]]);for(var Q=0;Q<F.length&&Q<L&&n>=E;Q++){var $=this.waveManagerProps.Waves.indexOf(F[Q]);Z.push($)}var ee=y;this._maxTideDistance=Math.max(this._maxTideDistance,ee);for(var ne=x.randomize(k),te=0;te<ne.length&&te<L;te++){var ae=this.waveManagerProps.Waves.indexOf(ne[te]),ie="Wave"+(te+1).toString()+"TidalChangeEvent0";this.waveManagerProps.Waves[ae].push("RTID("+ie+"@CurrentLevel)");var oe=ee;if(-1!=Z.indexOf(ae)){(ee-=this.dgr_getRandomIntegerBetween(R,I))<0&&(ee=0);var re=this.dgr_getRandomIntegerBetween(O,j);if(A&&re){var se="Wave"+(te+1).toString()+"LowTideEvent0";this.waveManagerProps.Waves[ae].push("RTID("+se+"@CurrentLevel)");var le={aliases:[se],objclass:"BeachStageEventZombieSpawnerProps",objdata:{WaveStartMessage:"[WARNING_LOW_TIDE]",TimeBeforeFullSpawn:.5,TimeBetweenGroups:.25,ColumnEnd:10-ee,ColumnStart:10-oe,ZombieCount:re,GroupSize:3,ZombieName:A}};this.currentLevelObjects.push(le)}var ue=this.dgr_getRandomIntegerBetween(U,H);if(null!=z&&z.length&&ue){var he="Wave"+(te+1).toString()+"LowTideEvent1";this.waveManagerProps.Waves[ae].push("RTID("+he+"@CurrentLevel)");var ce={aliases:[he],objclass:"BeachStageEventZombieSpawnerProps",objdata:{WaveStartMessage:"[WARNING_LOW_TIDE]",TimeBeforeFullSpawn:.5,TimeBetweenGroups:.25,ColumnEnd:10-ee,ColumnStart:10-oe,ZombieCount:re,GroupSize:1,ZombieName:x.getRandom(z)}};this.currentLevelObjects.push(ce)}}else(ee+=this.dgr_getRandomIntegerBetween(W,T))>N&&(ee=N),ee<0&&(ee=0);this._maxTideDistance=Math.max(this._maxTideDistance,ee);var de={aliases:[ie],objclass:"TidalChangeWaveActionProps",objdata:{TidalChange:{ChangeAmount:ee,ChangeType:"absolute"}}};this.currentLevelObjects.push(de)}}},r.dgr_lilypadPlacer=function(e,n){var t,a,i,o,r,s,l=this.dgr_getRandomIntegerBetween(this.dgr_getNumberByBound(null==e||null==(t=e.NumberOfLilypads)?void 0:t.LowerBound,n,1/0,0),this.dgr_getNumberByBound(null==e||null==(a=e.NumberOfLilypads)?void 0:a.UpperBound,n,1/0,0)),u=this.dgr_getRandomIntegerBetween(this.dgr_getNumberByBound(null==e||null==(i=e.MinimumLilypadColumn)?void 0:i.LowerBound,n,8,0),this.dgr_getNumberByBound(null==e||null==(o=e.MinimumLilypadColumn)?void 0:o.UpperBound,n,8,0)),h=this.dgr_getRandomIntegerBetween(this.dgr_getNumberByBound(null==e||null==(r=e.MaximumLilypadColumn)?void 0:r.LowerBound,n,8,0),this.dgr_getNumberByBound(null==e||null==(s=e.MaximumLilypadColumn)?void 0:s.UpperBound,n,8,0));u<9-this.maxTideDistance&&(u=9-this.maxTideDistance);for(var c=[],d=0;d<5;d++)for(var m=u;m<=h;m++)c.push({GridX:m,GridY:d,TypeName:"lilypad"});for(var g=x.randomize(c),v=[],p=0;p<l&&p<g.length;p++)v.push(g[p]);var f=new Ee;f.aliases=["LilypadPlacement"],f.objclass="InitialGridItemProperties",f.objdata={InitialGridItemPlacements:v},this.getModule(["RTID(LilypadPlacement@CurrentLevel)"]).forEach((function(e){e.objdata=f.objdata}))},r.dgr_sliderTileDesigner=function(e,n){var t;null==(t=x.getRandom(e.SliderTileLayouts).Layout)||t.forEach((function(e){var n=O.getLnC(e.GridY,e.GridX);null!=n&&n.isInLawn()&&n.placeGridItem(Se.getGridItemEnumByCodeName(e.TypeName))}))},r.dgr_conveyorDesigner=function(e,n){var t=this,a=this.getModule(["RTID(ConveyorBelt@CurrentLevel)"]),i=[];e.InitialPlantList.forEach((function(e){var a=t.dgr_getNumberByBound(null==e?void 0:e.MaxCount,n,1/0,0),o=t.dgr_getNumberByBound(null==e?void 0:e.MinCount,n,1/0,0),r=t.dgr_getNumberByBound(null==e?void 0:e.MaxWeightFactor,n,1/0,0),s=t.dgr_getNumberByBound(null==e?void 0:e.MinWeightFactor,n,1/0,1),l=t.dgr_getNumberByBound(null==e?void 0:e.Weight,n,1/0,0);i.push({MaxCount:Math.round(a),MaxWeightFactor:Math.round(r),MinCount:Math.round(o),MinWeightFactor:Math.round(s),Weight:Math.round(l),PlantType:e.PlantType})})),console.log(i),a.forEach((function(e){e.objdata.InitialPlantList=i}))},r.dgr_gridItemPatternPlacer=function(e,n){var t=e.GridItemSpawnerPatterns;if(null!=t&&t.length){var a=mt.getLevelModule(this.currentLevelObjects,[x.getRandom(t)]);if(a.length){var i=x.getRandom(a);this.readObj(i)}}},r.dgr_jamDesigner=function(e,n){var t=this,a=$n.getProgress(e.LevelRange,n),i=$n.getFromRangeByProgress(e.JamTypesMin,a),o=$n.getFromRangeByProgress(e.JamTypesMax,a),r=$n.getRandomIntegerFromRange(new $n(i,o)),s=["jam_punk","jam_pop","jam_rap","jam_8bit"];n>=e.LevelToIntroduceMetalJam&&s.push("jam_metal");for(var l=x.randomize(s).filter((function(e,n){return n<r})),u=$n.getFromRangeByProgress(e.FirstJamWavesMin,a),h=$n.getFromRangeByProgress(e.FirstJamWavesMax,a),c=$n.getRandomIntegerFromRange(new $n(u,h)),d=$n.getFromRangeByProgress(e.NextJamWavesMin,a),m=$n.getFromRangeByProgress(e.NextJamWavesMax,a),g=$n.getProgress(e.ZombieAddLevelRange,n),v=$n.getFromRangeByProgress(e.JamZombiesToReplaceMin,g),p=$n.getFromRangeByProgress(e.JamZombiesToReplaceMax,g),f=this.waveManagerProps.Waves,P=c,w=0,S=function(){var e=f[P],n=$n.getRandomIntegerFromRange(new $n(d,m)),a=$n.getRandomIntegerFromRange(new $n(v,p)),i=x.getRandom(l),o=t.dgr_zombieJitterSpawnList.filter((function(e){var n;return(null==(n=R.getZombieProps(e))?void 0:n.JamStyle)==i}));P+=n,t.getModule(e).filter((function(e){return"SpawnZombiesJitteredWaveActionProps"==e.objclass})).map((function(e){return e.objdata})).forEach((function(e){var n,t;if(null!=(n=e.NotificationEvents)&&n.length||(e.NotificationEvents=[]),null==(t=e.NotificationEvents)||t.push(i),o.length>0){var r=e.Zombies,s=[];null!=r&&r.length&&x.randomize(r).forEach((function(e,n){n<a&&(e.Type="RTID("+R.getZombieFeature(x.getRandom(o)).CODENAME+"@ZombieTypes)"),s.push(e)})),e.Zombies=s}})),w++};P<f.length&&w<100;)S()},r.readDangerroomDesigners=function(e,n){var t=this;null==e||e.forEach((function(e){var a=null==e?void 0:e.objdata;switch(null==e?void 0:e.objclass){case"DangerRoomJitteredWaveGenerator":t.dgr_waveGenerator(a,n);break;case"DangerRoomGravestoneGenerator":t.dgr_gravestoneGenerator(a,n);break;case"DangerRoomGravestoneEventGenerator":t.dgr_gravestoneWaveSpawnGenerator(a,n);break;case"DangerRoomNecromancyEventGenerator":t.dgr_necromancyEventGenerator(a,n);break;case"DangerRoomSandstormDesigner":t.dgr_sandstormDesigner(a,n);break;case"DangerRoomSnowstormDesigner":t.dgr_sandstormDesigner(a,n,"snowstorm","iceage");break;case"DangerRoomPlankDesigner":t.dgr_plankDesigner(a,n);break;case"DangerRoomRaidingPartyDesigner":t.dgr_raidingPartyDesigner(a,n);break;case"DangerRoomRailcartDesigner":t.dgr_railcartDesigner(a,n);break;case"DangerRoomSpiderRainDesigner":t.dgr_spiderRainDesigner(a,n);break;case"DangerRoomParachuteRainDesigner":t.dgr_spiderRainDesigner(a,n,"ParachuteRainZombieSpawnerProps","lostcity_lostpilot","[WARNING_PARACHUTERAIN]");break;case"DangerRoomPowerTileDesigner":t.dgr_powerTileDesigner(a,n);break;case"DangerRoomBeachTideChanger":t.dgr_tideDesginer(a,n);break;case"DangerRoomBeachLilypadPlacer":t.dgr_lilypadPlacer(a,n);break;case"DangerRoomSliderTileDesigner":t.dgr_sliderTileDesigner(a,n);break;case"GridItemPatternPlacer":t.dgr_gridItemPatternPlacer(a,n);break;case"DangerRoomConveyorDesignerProperties":t.dgr_conveyorDesigner(a,n);break;case"DangerRoomFreezingWindDesigner":t.dgr_frostWindDesigner(a,n);break;case"DangerRoomIceBlockDesigner":t.dge_iceblockDesigner(a,n);break;case"DangerRoomJamDesigner":t.dgr_jamDesigner(a,n)}}))},r.setDangerroomWaves=function(e){void 0===e&&(e=this.dangerroomProperties),this.waveManagerProps=new lt,this.waveManagerProps.FlagWaveInterval=10,this.waveManagerProps.WaveCount=Math.ceil(Math.random()*Math.min(this.dangerroomMaxFlagWaves,this.dangerroomLevel.level/4))*this.waveManagerProps.FlagWaveInterval;var n=this.dangerroomLevel.level;this.readDangerroomDesigners(e,n)},r.saveDangerroomPlayerProperties=function(e){void 0===e&&(e=!1),e?(this.dangerroomLevel.level++,this.dangerroomLevel.plantChosen=!1,this.dangerroomLevel.plantfood=E.plantFoodNum,this.dangerroomLevel.mower=this.currentMowerLanes.concat()):this.dangerroomLevel.plantfood=Math.max(this.dangerroomLevel.plantfood,E.plantFoodNum)},r.getDangerroomProperties=function(){var e=this,n=[],t=null;if(this.currentLevelObjects.forEach((function(e){"DangerRoomModuleProperties"==e.objclass&&(t=e.objdata)})),this.UnlockAll=!0,t.WorldSpecificProperties){var a,i,o,r,s=NaN;switch(t.WorldSpecificProperties){case"RTID(EgyptDangerRoomProps@PropertySheets)":s=oe.egypt;break;case"RTID(PirateDangerRoomProps@PropertySheets)":s=oe.pirate;break;case"RTID(CowboyDangerRoomProps@PropertySheets)":s=oe.cowboy;break;case"RTID(FutureDangerRoomProps@PropertySheets)":s=oe.future;break;case"RTID(DarkDangerRoomProps@PropertySheets)":s=oe.dark;break;case"RTID(BeachDangerRoomProps@PropertySheets)":s=oe.beach;break;case"RTID(IceageDangerRoomProps@PropertySheets)":s=oe.iceage;break;case"RTID(LostcityDangerRoomProps@PropertySheets)":s=oe.lostcity;break;case"RTID(EightiesDangerRoomProps@PropertySheets)":s=oe.eighties}this._uiPos=this.camera.node.position.clone(),this.dangerroomPPEnum=s,this.dangerroomLevel=ne.getDangerRoomProperty(s),null!=(a=t)&&a.SuppressMiniGameMusic?this.startingMusic=K.CYS_Start:this.startingMusic=this.dangerroomLevel.level%2==0?K.DemonstrateMinigame:K.UltimateBattle;var l,u=[];null==(i=t)||null==(i=i.InitialPlants)||i.forEach((function(e){u.push(H.getPlantEnumByString(e))}));for(var h=0;h<u.length;h++)ne.pushPlantToEndlessProperty(u[h],this.dangerroomLevel);if(L.cardsController.plantsCanBeChosen=H.reorderPlants(this.dangerroomLevel.obtainedPlants),null==(o=t)||null==(o=o.LevelDesigners)||o.forEach((function(t){var a=t.concat(),i=a.indexOf("RTID("),o=a.indexOf("@CurrentLevel)"),r="";-1!=i&&(r=a.slice(i+5,o)),e.currentLevelObjects.forEach((function(e){var t;-1!=(null==(t=e.aliases)?void 0:t.indexOf(r))&&n.push(e)}))})),this.dangerroomExcludePlantList=[],null!=(r=t)&&r.ExcludePlants)(null==(l=t)?void 0:l.ExcludePlants).forEach((function(n){var t=H.getPlantEnumByString(n);null!=t&&e.dangerroomExcludePlantList.push(t)}));this.mowerLanes=this.dangerroomLevel.mower.concat()}return this.dangerroomMaxFlagWaves=+t.MaxFlagWave?+t.MaxFlagWave:4,this.dangerroomProperties=n,n},r.getDangerroomMiniGameProperties=function(){var e=this,n=[],t=null;if(this.UnlockAll=!0,this.currentLevelObjects.forEach((function(e){"DangerRoomMiniGameModuleProperties"==e.objclass&&(t=e.objdata)})),t.WorldSpecificProperties){var a,i,o=NaN;switch(t.WorldSpecificProperties){case"RTID(EgyptDangerRoomMiniGameProps@PropertySheets)":o=oe.egypt;break;case"RTID(PirateDangerRoomMiniGameProps@PropertySheets)":o=oe.pirate;break;case"RTID(CowboyDangerRoomMiniGameProps@PropertySheets)":o=oe.cowboy;break;case"RTID(FutureDangerRoomMiniGameProps@PropertySheets)":o=oe.future;break;case"RTID(DarkDangerRoomMiniGameProps@PropertySheets)":o=oe.dark;break;case"RTID(BeachDangerRoomMiniGameProps@PropertySheets)":o=oe.beach;break;case"RTID(IceageDangerRoomMiniGameProps@PropertySheets)":o=oe.iceage;break;case"RTID(LostcityDangerRoomMiniGameProps@PropertySheets)":o=oe.lostcity;break;case"RTID(EightiesDangerRoomMiniGameProps@PropertySheets)":o=oe.eighties}this.dangerroomMiniGamePPEnum=o,this.dangerroomMiniGameLevel=ne.getDangerRoomMiniGameProperty(o),null==(a=t)||null==(a=a.LevelDesigners)||a.forEach((function(t){var a=t.concat(),i=a.indexOf("RTID("),o=a.indexOf("@CurrentLevel)"),r="";-1!=i&&(r=a.slice(i+5,o)),e.currentLevelObjects.forEach((function(e){var t;-1!=(null==(t=e.aliases)?void 0:t.indexOf(r))&&n.push(e)}))})),null!=(i=t)&&i.SuppressMiniGameMusic?this.startingMusic=K.CYS_Start:this.startingMusic=this.dangerroomMiniGameLevel.level%2==0?K.DemonstrateMinigame:K.UltimateBattle}return this.dangerroomMaxFlagWaves=+t.MaxFlagWave?+t.MaxFlagWave:2,this.dangerroomMiniGameProperties=n,n},r.saveDangerroomMiniGamePlayerProperties=function(e){void 0===e&&(e=!1),e&&this.dangerroomMiniGameLevel.level++},r.addCamelCombo=function(){if(this.camelComboOn){switch(this.camelComboCount++,this.camelComboCount){case 1:case 2:W.playLevelTaskWarn();break;case 3:W.playLevelTaskComplete()}if(this.camelComboCount>=3){this.clearCamelCombo();for(var e=[],n=2;n<9;n++)for(var t=0;t<5;t++)e.push(O.getLnC(t,n));[O.getLnC(1,0),O.getLnC(3,0)].concat(x.randomize(e)).forEach((function(e,n){n<4&&e.explodeCherry3x3(1800)}))}}},r.clearCamelCombo=function(){0!=this.camelComboCount&&this.scheduleOnce((function(){W.playPowerUpCD(0)}),.3),this.camelComboCount=0},r.setDangerroomMiniGameWaves=function(e){void 0===e&&(e=this.dangerroomMiniGameProperties),this.waveManagerProps=new lt,this.waveManagerProps.FlagWaveInterval=10,this.waveManagerProps.SuppressFlagZombie=!0;var n=this.maxCamelTouchType;this.maxCamelTouchType=Math.max(3,Math.min(n,1+Math.ceil(this.dangerroomMiniGameLevel.level/5))),this.waveManagerProps.WaveCount=Math.ceil(Math.random()*Math.min(this.dangerroomMaxFlagWaves,this.dangerroomMiniGameLevel.level/4))*this.waveManagerProps.FlagWaveInterval;var t=this.dangerroomMiniGameLevel.level;this.readDangerroomDesigners(e,t)},r.setRhythmProps=function(e){if(!isNaN(+e.TargetColumn)){var n=mt.rhythmMusicClip,t=q[e.MusicName];if(isNaN(t)||(n=X.bgms[t].clip),M.addBowlingLine(+e.TargetColumn+1,!1),n&&!this.rhythmAudioSource){this.rhythmAudioSource=this.addComponent(b),this.rhythmAudioSource.clip=n,this.rhythmAudioSource.stop(),this.rhythmAudioSource.loop=!1;for(var a=0;a<5;a++){O.getLnC(a,+e.TargetColumn).spawnPlantByPlantEnum(V.PhatBeetRhythm,!0,!0,!1,!1)}var i=0;e.Zombies.forEach((function(e){var n=e.ArriveTime-e.TimeBeforeArrive;n<=i&&(i=n)})),this.rhythmMusicCountDown=-i,this.PLANTWarnString=pe.getStringByProps("InGameScene","GamingWarn","Music"),T.uiingame.s2xButton.node.active=!1,this.PowerUpsForceHide=!0,this.rhythmAudioSource.volume=J.MusicVolume,this.rhythmGameProps=e}}},r.rhythmUpdate=function(e){var n,t,a,i,o=this;this.rhythmMusicCountDown>0&&(this.rhythmMusicCountDown-=e);var r=this.rhythmTime;r+=this.rhythmGameProps.TimeOffset,this.rhythmMusicCountDown<=0&&this.rhythmAudioSource&&!this.rhythmPlayStarted&&(this.rhythmAudioSource.play(),this.rhythmAudioSource.loop=!1,this.rhythmPlayStarted=!0),this.rhythmAudioSource.volume=J.MusicVolume,null==(n=this.rhythmGameProps)||null==(n=n.Events)||null==(n=n.concat())||n.forEach((function(e){if(r>=e.Time){o.getModule(e.Events).forEach((function(e){o.readWave(e)}));var n=o.rhythmGameProps.Events.indexOf(e);-1!=n&&o.rhythmGameProps.Events.splice(n,1)}}));var s=O.getSquareWorldPosition(0,this.rhythmGameProps.TargetColumn,1).x;null==(t=this.rhythmGameProps)||null==(t=t.Zombies)||null==(t=t.concat())||t.forEach((function(e){if(r>=e.ArriveTime-e.TimeBeforeArrive){var n=O.getLaneComponent(+e.Row),t=n.spawnPoint.worldPosition.x,a=R.createZombie(n.LaneIndex,R.getZombieEnumByString(e.Type),{},!1),i=new et;i.x0=t,i.xt=s,i.zombie=a,i.arriveTime=e.ArriveTime,i.timeBeforeArrive=e.TimeBeforeArrive,a.playIdle(),a.switching=!0,a.isRhythm=!0,o.rhythmZombies.push(i);var l=o.rhythmGameProps.Zombies.indexOf(e);-1!=l&&o.rhythmGameProps.Zombies.splice(l,1)}})),this.rhythmZombies.concat().forEach((function(e){if(e.dead){e.pass();var n=o.rhythmZombies.indexOf(e);-1!=n&&o.rhythmZombies.splice(n,1)}else e.update(r)})),(null==(a=this.rhythmAudioSource)||!a.playing)&&(null==(i=T.uiingame)||!i.paused)&&this.rhythmZombies.length<=0&&this.rhythmGameProps.Zombies.length<=0&&this.judgeVictory();var l,u,h=this.rhythmGameProps.BPM/60,c=Math.floor((this.rhythmTimeOld-this.rhythmGameProps.BeatStartTime)*h),d=Math.floor((r-this.rhythmGameProps.BeatStartTime)*h);d>c&&(d%this.rhythmGameProps.BeatsPerBar==0?null==(l=O.component)||null==(l=l.rhythmBig)||l.playAnimation("Play",1/0):null==(u=O.component)||null==(u=u.rhythmSmall)||u.playAnimation("Play",1/0));this.rhythmTimeOld=r},r.addPlantFood=function(e){var n,t=0;if(isNaN(null==e?void 0:e.AdditionalPlantfood)||(t+=e.AdditionalPlantfood),!isNaN(null==e||null==(n=e.DynamicPlantfood)?void 0:n.length)){var a=+e.DynamicPlantfood[this.difficulty];isNaN(a)||(t=a)}for(var i=this._zombiesInThisWave.concat(),o=[];i.length>0&&t>0;){var r=x.getRandom(i);r.objdataOwnOrg.CannotCarryPlantfoodsInWaves?o.push(r):(r.havePlantfood=!0,t--),i.splice(i.indexOf(r),1)}for(;t>0&&o.length>0;){var s=x.getRandom(o);s.havePlantfood=!0,t--,o.splice(o.indexOf(s))}},r.gameStart=function(){if(!this.gameStarted){this.currentMowerLanes=this.mowerLanes.concat(),this.spawnMowers(),this.levelNameLabel.string=this.levelNameString,this.viewButton.node.active=!1,this.zombiesOnDisplayed.forEach((function(e){e.playDie(!0,null,!1,_.physicle,!1,!1,!1),Z.destroyPooly(e.node)})),this.zombiesOnDisplayed=[],T.gameStart(),M.levelPlayStart(),this.gameStarted=!0,L.cardsController.gameStart(),this.showShovel&&(L.cardsController.maxSlotCount>0||this.conveyor)&&B.gameStart(),ee.gameStart(),this.showPlantfood&&(L.cardsController.maxSlotCount>0||this.conveyor)&&(E.show(this.conveyor,E.keyOn),this.isDangerroom&&E.component.setPlantFoodNum(this.dangerroomLevel.plantfood)),this.PowerUpsForceShow&&this.PowerUpsTip&&Be.gameTipString(pe.getDirectQuote("[POWERUP_TUTORIAL]"),5),this.conveyor&&Q.component.show();var e=X.component.currentMusicSort;e!=K.CYS_LP&&e!=K.CYS_Start||X.component&&(X.component.nextSortToPlay=K.Stage1_Start),this.initialZombies.forEach((function(e){e.detectPlant(.001)})),this.foodAllWhenGameStarted&&O.foodAllPlants(),this.potionModules.forEach((function(e){e.gameStart()}))}},r.judgeMoveCamera=function(){this.uiPos=new p(-70,0,1e3),this.levelDescriptionLabel.string=this.levelDescriptionString;var e=this.dangerroomLevel.plantsToChoose;if(this.isDangerroom&&!this.dangerroomLevel.plantChosen&&!e){e=[];for(var n=ne.getObtainedPlantEnumList(),t=0;t<n.length;t++){var a=n[t];-1==this.dangerroomExcludePlantList.indexOf(a)&&-1==this.dangerroomLevel.obtainedPlants.indexOf(a)&&e.push(a)}e=x.randomize(e)}this.isDangerroom&&!this.dangerroomLevel.plantChosen&&e.length>0?(this.dangerroomCardChooser.obtainedPlants=this.dangerroomLevel.obtainedPlants,this.dangerroomCardChooser.node.active=!0,this.dangerroomCardChooser.giveCards(e)):T.uiingame.preStartTips.length&&!this.cannonMinigameProperties?this.levelObjectiveShower.playStart(T.uiingame.preStartTips,this.levelNameString+pe.getStringByPropsWithoutTricks("LevelObjectiveWindow","Goals")):this.cannonMinigameProperties?(this.uiPos=new p(0,0,1e3),this.readySetPlant()):this.moveCamera()},r.moveCamera=function(){var e=this,n=1;this.isCowboyMinigame&&(this.gameStart(),n=0),this.uiPos=new p(-70,0,1e3),f(this.uiPos).by(n,{x:0}).call((function(){W.playCameraMove(),e.initialGraveSpawn()})).to(2,{x:500},{easing:"cubicInOut"}).call((function(){if(e.zombiesOnDisplayed.length)for(var n=0;n<3;n++)R.playGroan(x.getRandom(e.zombiesOnDisplayed).zombieGroanSoundGroup,.3)})).by(.5,{x:0}).call((function(){e.judgeCardChooser()})).start(),mt.chooseCardMode&&(L.cardsController.plantsCanBeChosen?L.cardsController.overrideSeedSlotsCount?L.cardsController.maxSlotCount=Math.min(8,L.cardsController.plantsCanBeChosen.length,L.cardsController.overrideSeedSlotsCount):L.cardsController.maxSlotCount=Math.min(8,L.cardsController.plantsCanBeChosen.length,mt.BaseSeedSlotcount):L.cardsController.maxSlotCount=mt.BaseSeedSlotcount,L.cardsController.createSeedbank())},r.letsRock=function(){this.rocked||L.cardsController.maxSlotCount!=L.cardsController.seedPackets.length||(this.moveCameraToNormal(),this.viewButton.node.active=!1,W.playLetsRock(),mt.letsRocked=!0,this.rocked=!0,L.cardsController.pullSeedBank(!0))},r.spawnMowers=function(){var e=this;this.haveMower&&(this.haveMower=!1,this.mowerLanes.forEach((function(n,t){n&&e.scheduleOnce((function(){O.getLaneComponent(t).spawnMower(e.mowerType)}),.1*t)})))},r.viewLawnCYS=function(){var e=this;this.viewLawnDisabled||(this.viewingLawn?(this.viewingLawn=!1,this.viewButton&&(this.viewButton.index=0,this.viewButton.select()),this.viewLawnDisabled=!0,f(this.uiPos).to(1,{x:230},{easing:"cubicInOut"}).call((function(){D.show(),e.showPlantfood&&E.show(e.conveyor),L.cardsController.showSeedSlots(),L.cardsController.cardButtons.active=!0,L.cardsController.gameStartButton.node.active=!0,L.cardsController.showSeedBank()})).start()):(this.viewingLawn=!0,this.viewButton&&(this.viewButton.index=1,this.viewButton.select()),f(this.uiPos).to(1,{x:0},{easing:"cubicInOut"}).call((function(){e.viewLawnDisabled=!1})).start(),D.hide(),E.hide(),L.cardsController.hideSeedSlots(),L.cardsController.cardButtons.active=!1,L.cardsController.gameStartButton.node.active=!1,this.viewLawnDisabled=!0))},r.viewLawnCowboyMinigameWaiting=function(){this.viewingLawn?(this.viewButton.index=0,this.viewButton.select(),this.moveCameraReturn(),this.viewingLawn=!1):(this.viewButton.index=1,this.viewButton.select(),this.moveCameraToRight(),this.viewingLawn=!0)},r.viewLawn=function(){this.cowboyMinigameWaiting||this.lastStandPrepareStarted?this.viewLawnCowboyMinigameWaiting():this.viewLawnCYS()},r.readySetPlant=function(){this.lastStand&&(this.lastStandPrepareStarted=!1,this.lastStandGameStartButton.active=!1,T.uiingame.tryChangingIndex(-1),L.cardsController.cardsUIUpperRestart(),this.viewingLawn&&this.moveCameraReturn(),this.viewButton.node.active=!1);var e=mt.component;e.gamingWarn(pe.getString(pe.lyrics.InGameScene.GamingWarn.Ready),3,.4,.45,.2,new h(255,0,0,255),1),e.scheduleOnce((function(){e.gamingWarn(pe.getString(pe.lyrics.InGameScene.GamingWarn.Set),3,.4,.45,.2,new h(255,0,0,255),1),e.scheduleOnce((function(){e.gamingWarn(e.PLANTWarnString,3,.6,.6,.2,new h(255,0,0,255),3),e.scheduleOnce((function(){e.gameStart()}),1)}),.6)}),.6)},r.lastStandStart=function(){(this.lastStandGameStartButton.active=!0,this.lastStandPrepareStarted)||(this.lastStandPrepareStarted=!0,L.cardsController.cardsUIUpperRestart(),mt.component.gamingWarn(pe.getString(pe.lyrics.InGameScene.GamingWarn.PlanYourDefenses),3,.5,.5,.1,new h(255,0,0,255),1),L.cardsController.gameStart(),B.gameStart(!0),T.gameStart(),this.viewButton.node.active=!0)},r.moveCameraToNormal=function(){var e=this;f(this.uiPos).to(2,{x:0},{easing:"cubicInOut"}).call((function(){L.cardsController.maxSlotCount>0&&(null==D||D.show()),e.conveyor||((L.cardsController.maxSlotCount>0||e.PFSlotsShow)&&(null==E||E.show(),e.isDangerroom&&E.component.setPlantFoodNum(e.dangerroomLevel.plantfood)),Z.destroyPooly(Q.component.node)),L.cardsController.maxSlotCount>0&&(L.cardsController.laySlots(),e.presetSeedBank.forEach((function(e){L.cardsController.addCardByPlantEnum(e)})),L.cardsController.showSeedSlots()),L.cardsController.closeSeedbank(),e.lastStand?e.lastStandStart():e.judgeReadySetPlant(),e.scheduleOnce((function(){e.spawnMowers()}),Math.max(e.mowerEntryAnimDuration-2,0))})).start()},r.judgeReadySetPlant=function(){null!=this.bossProps?this.bossMovable=!0:this.gameStarted||this.readySetPlant()},r.fillBossHealthProgressBar=function(e){var n=this;if(this.bossHealthProgressBar.node.active)return this.bossHealthProgressBar;this.zombossHPNotches=[this.bossHealthProgressBar.node.getChildByName("notches").getChildByName("notch")];for(var t=this.zombossHPNotches[0].worldPosition.x-this.bossHealthProgressBar.barSprite.node.worldPosition.x,a=1;a<e;a++){var i=P(this.zombossHPNotches[0]);i.parent=this.zombossHPNotches[0].parent,i.worldPosition=new p(this.zombossHPNotches[0].worldPosition.x-t/e*a,this.zombossHPNotches[0].worldPosition.y,this.zombossHPNotches[0].worldPosition.z),this.zombossHPNotches.push(i)}this.bossHealthProgress=0;var o=this.bossHealthProgressBar.node.position.clone();return this.bossHealthProgressBar.node.position.add(new p(0,T.PocketUI?1e3:-1e3,0)),this.bossHealthProgressBar.node.active=!0,W.playZombossHPFillStart(),f(this.bossHealthProgressBar.node).to(.5,{position:o},{easing:"quadOut"}).call((function(){W.playZombossHPFilling(),f(n).to(2,{bossHealthProgress:1}).call((function(){n.gameStarted||n.readySetPlant()})).start()})).start(),this.bossHealthProgressBar},r.judgeCardChooser=function(){var e=this;mt.chooseCardMode&&!this.gameStarted?f(this.uiPos).to(2,{x:230},{easing:"cubicInOut"}).call((function(){e.cardChooserOn(),e.viewButton.node.active=!0})).start():this.moveCameraToNormal()},r.cardChooserOn=function(){L.cardsController.laySeedBank(),L.cardsController.laySlots(),null==D||D.show(),null==E||E.show(),this.isDangerroom&&E.component.setPlantFoodNum(this.dangerroomLevel.plantfood)},r.shakeScreen=function(e){var n=this;void 0===e&&(e=.2),e-=.2,f(this.screenShakeVec).to(.05,{x:5*(2*Math.random()-1),y:5*(2*Math.random()-1)}).to(.05,{x:5*(2*Math.random()-1),y:5*(2*Math.random()-1)}).to(.05,{x:5*(2*Math.random()-1),y:5*(2*Math.random()-1)}).to(.05,{x:0,y:0}).call((function(){e>0&&n.shakeScreen(e)})).start()},r.judgeNextWave=function(){return!this.isFinalWave&&(this.isCowboyMinigame?!this.cowboyMinigameWaiting&&se.pool().length<=0:(this.nextWaveCountdown<=0||this.waveLeftHealth/this.waveToughness<=this.nextWaveZombieHealthPercentage)&&this.waveZombieDamageCountdown<=0)},r.update=function(e){var n,t,a,i=this;if(!this.gameOver){var o,r=this.gaming;if(!this.levelDescriptionLabel.node.active||null!=(n=this.levelObjectiveShower)&&null!=(n=n.node)&&n.active||(this.levelDescriptionCD-=e,this.levelDescriptionCD<=0&&(this.levelDescriptionLabel.node.active=!1)),this.levelVictoryCountDown>0&&r&&(this.levelVictoryCountDown-=e),r&&(this.chickenThrowers.concat().forEach((function(n){if(n.dealChickening(e),n.chickeningLeftTime<=0){var t=i.chickenThrowers.indexOf(n);i.chickenThrowers.splice(t,1)}})),this.potionModules.forEach((function(n){n.update(e)})),this.updateLevelSchedulers(e)),this.zombiesOnDisplayed.sort((function(e,n){return n.worldPositionY-e.worldPositionY})).forEach((function(e,n){e.node.setParent(i.zombieDisplayer.node,!0),e.node.setSiblingIndex(n)})),this.growingTime+=e,r)null==(o=this.sunDropper)||o.deal(e),this.camelComboOn&&!pe.isWhiteList&&(pe.camelGamingTime+=e,Me.saveSettings()),this.rhythmGameProps&&this.rhythmUpdate(e);if(null!=(t=this.waveManagerProps)&&null!=(t=t.Waves)&&t.length&&(this.waveZombieDamageCountdown>0&&(this.waveZombieDamageCountdown-=e),this.gameStarted&&(this.nextWaveCountdown-=e,this.judgeNextWave()&&this.nextWave())),mt.screenFlashLeftColor.a>0?mt.screenFlashLeftColor.a-=80*e:mt.screenFlashLeftColor.a=0,this.setScreenColor(),this.camera.node.position=this.uiPos.clone().add(this.screenShakeVec),this.uiFollowingCamera.forEach((function(e){e.position=i.uiPos})),this._dealSpiderRains(e),this.waveManagerProps.WaveCount&&this.isFinalWave&&r){var s=[];if(le.pool().concat().forEach((function(e){i.setLevelVictoryCountDown(e.finalWaveVictoryCountdown)})),se.pool().concat().forEach((function(e){if(e.reversed||e.iceblocked||i.setLevelVictoryCountDown(e.finalWaveVictoryCountdown),i.prizeSpawnWP=e.worldPosition.clone(),e.ID==I.egypt_camel_touch){var n=e.camelTouchType,t=s.indexOf(n);-1==t?s.push(n):s.splice(t,1)}})),s.length)O.getLnC(R.getLessZombieLane([0,1,2,3,4],I.egypt_camel_touch),6).spawnZombie(I.egypt_camel_touch,j.dirtSpawn,!0,.5,0,{PresetCamelTouchID:s}).forEach((function(e,n){e.judgeInLnC()}));this.judgeVictory()}null!=(a=this.fightAlonePlant)&&a.isAlive()&&this.fightAloneProgressBar.node.active&&(this.fightAloneProgressBar.node.worldPosition=this.fightAlonePlant.node.worldPosition.clone().add(new p(0,-20,0)))}},r.judgeVictory=function(){this.levelVictoryCountDown<=0&&T.uiingame.judgeLevelTasksVictory()&&this.judgeCannonVictory()&&this.victory(this.prizeSpawnWP)},r.victory=function(e,n){var t=this;if(void 0===n&&(n=!0),!this.gameWon&&!this.gameLost){if(this._metZombies.forEach((function(e){ne.getZombieKilledByID(e).progress=ie.known})),this.cannonMinigameProperties){this._cannonVic=!0,this.levelVictoryCountDown=1/0,this._cannonPointUsedForCountDown=this.currentCannonPoint;var a=O.getSquareWorldPosition(3,4).toVec3(),i=f(this.cannonPointShower.PointParent).to(1,{worldPosition:a,scale:new p(1,1,1)},{easing:"quadInOut"}),o=f(this).to(3,{cannonPointUsedForCountDown:0}).call((function(){t.gameWon=!0,t.spawnPrize(e),ne.savePP(),ue.waterall(),J.switchMusicSort(K.Leave,!1,!1,!0,!0)})),r=f(this.cannonPointShower.Current).to(3,{color:new h(255,255,255,0)});i.then(o).then(r).start()}else this.gameWon=!0,ue.waterall(),n&&J.switchMusicSort(K.Victory,!1,!1,!0,!0),this.spawnPrize(e);mt.thisLevelsID.forEach((function(e){var n=ne.getLevelProgressByID(e);n.progress<re.finished&&(n.progress=re.unlocked_willbeFinished)})),this.saveDangerroomPlayerProperties(!0),this.saveDangerroomMiniGamePlayerProperties(!0),ne.savePP()}},r.spawnPrize=function(e){if(!e){var n=O.getLnC(2,4);e=new w(n.node.worldPosition.x,n.node.worldPosition.y)}var t=k(he.prizeSpawn());t.parent=ce.layer,t.worldPosition=new p(e.x,e.y);var a=de.coinbag(),i=ne.getLevelProgressByID(mt.thisLevelsID.sort((function(e,n){return ne.getLevelProgressByID(n).progress-ne.getLevelProgressByID(e).progress}))[0]);if(this.levelDefinition.FirstRewardType&&this.levelDefinition.FirstRewardParam&&i.progress<re.finished)switch(this.levelDefinition.FirstRewardType){case"unlock_plant":a=de.seedPacket();break;case"upgrade":a=de.upgrade();break;case"worldtrophy":a=de.trophy()}var o=k(a);o.parent=ce.layer;var r=o.getComponent(me);r&&(r.worldPosition=e,null==r||r.leapToPos())},r.onLoad=function(){this.onlyLanesForRandomSpawn=[0,1,2,3,4],mt.component=this,this.isDangerroom=!1,this.isDangerroomMiniGame=!1,this.lastStandGameStartButton.position=T.PocketUI?new p(275,275,0):new p(420,-280,0),this.levelNameLabel.node.position=T.PocketUI?new p(360,230,0):new p(200,-290,0);var e=T.PocketUI?.5:.7;this.levelNameLabel.node.scale=new p(e,e,1),this.bossHealthProgressBar.node.position=this.levelProgressBar.node.position=T.PocketUI?new p(233,275,0):new p(337,-290,0)},r.moveCameraToRightNReturn=function(e){void 0===e&&(e=500),f(this.uiPos).to(2,{x:e},{easing:"cubicInOut"}).to(2,{x:0},{easing:"cubicInOut"}).start()},r.moveCameraToRight=function(e){void 0===e&&(e=500),f(this.uiPos).to(2,{x:e},{easing:"cubicInOut"}).start()},r.moveCameraReturn=function(){f(this.uiPos).to(2,{x:0},{easing:"cubicInOut"}).start()},r.showZombies=function(){var e,n=this;if(!this.isCowboyMinigame&&!this.cannonMinigameProperties){var t=this._zombiesToShow.concat(),a=[];t.forEach((function(e){var n=!1;a.forEach((function(t){n||t.zombieName==e&&(t.amount++,n=!0)})),n||a.push({amount:1,zombieName:e})}));var i=Math.min(3/t.length,.1),o=0;a.forEach((function(e){o+=Math.ceil(i*e.amount)})),a=x.randomize(a);var r=this.zombieDisplayer;null!=(e=M.currentLawn)&&e.zombieShower&&(r=M.currentLawn.zombieShower);var s=r.contentSize,l=r.node.worldPosition.clone().add(new p(-s.width/2,s.height/2,0).multiplyScalar(r.node.worldScale.x)),u=r.node.worldPosition.clone().add(new p(s.width/2,-s.height/2,0).multiplyScalar(r.node.worldScale.x)),h=l.y+0,c=l.y-u.y,d=null;a.forEach((function(e){for(var t=0;t<Math.ceil(e.amount*i);t++){var a=R.getZombie(e.zombieName);a.parent=n.zombieDisplayer.node;var r=a.getComponent(G),s=l.x+(u.x-l.x)*Math.random(),m=c/445*(-45*Math.random()-15)*10/o-(d?Math.max(r.zombieHeight-d.zombieHeight,0):0)+h;m<u.y&&(m=u.y),h=m,r.displayed=!0,r.playIdle(Math.random()),r.worldPosition=new w(s,m),r.additionalZombies().forEach((function(e){e.displayed=!0,e.playIdle(Math.random()),n.zombiesOnDisplayed.push(e)})),n.zombiesOnDisplayed.push(r),d=r}}))}},r.start=function(){this.PLANTWarnString=pe.getString(pe.lyrics.InGameScene.GamingWarn.Plant),this.sunDropper=null,this.levelModulesObjects=this.levelModuleJson.json.objects,this.maxCamelTouchType=8,isNaN(ne.currentPlayer.difficulty)&&(ne.currentPlayer.difficulty=3),this.isFinalWave=!1,this.gameWon=!1,this.gameLost=!1,this.gameOver=!1,this.difficulty=ne.currentPlayer.difficulty+3,this.graveProps=[],this.PowerUpsForceShow=!1,this.ExcludeListSunProducers=!1,this.ExcludePlantList=[],this.lastStandGameStartButton.active=!1,this.lastStandPrepareStarted=!1,this.gameStarted=!1,this.lastStand=!1,this.zombiesOnDisplayed=[],this.conveyor=!1,mt.chooseCardMode=!1,mt.sandBoxModeOn=!1,mt.screenFlashLeftColor=new h(255,255,255,0),this.Level&&(this.readLevelJson(),this.showZombies(),J.switchMusicSort(this.startingMusic)),J.discoPlayed=!1,this.growingTime=0,mt.letsRocked=!mt.chooseCardMode,this.judgeMoveCamera(),this.setLevelProgressBar(),this.tooltips.setString(),this.viewButton.node.active=!1,T.uiingame.setTips()},t(n,[{key:"warnLabelA",get:function(){return this._warnLabelA},set:function(e){var n=this.inGameWarnLabel.color.clone();this.inGameWarnLabel.color=new h(n.r,n.g,n.b,e),this._warnLabelA=e}},{key:"levelProgressPercentage",get:function(){return this.levelProgressBar.progress},set:function(e){var n;this.levelProgressBar.progress=e,null==(n=this.levelProgressHead)||null==(n=n.node)||n.setPosition(this.levelProgressBar.barSprite.node.position.clone().add3f(-this.levelProgressBar.barSprite.getComponent(v).contentSize.width,0,0))}},{key:"maxTideDistance",get:function(){return this._maxTideDistance}},{key:"plantUnderProtectCount",get:function(){return this._plantUnderProtectCount},set:function(e){e<this.plantMustProtectCount&&T.uiingame.loseDarken(null,pe.getStringByPropsWithoutTricks("InGameScene","GameLoseTip","PlantEaten")),this._plantUnderProtectCount=e}},{key:"cannonPointUsedForCountDown",get:function(){return this._cannonPointUsedForCountDown},set:function(e){var n=pe.getDirectQuote("[CANNON_POINT_SCORE]")+pe.getNumberWithThousandComma(e);if(this.cannonPointShower.Current.string=n,this._cannonPointUsedForCountDown>0)for(var t=Math.floor(this._cannonPointUsedForCountDown/2e3)-Math.floor(e/2e3),a=0;a<t&&this._cannonVic;a++){Te.dropOneCoin(this.cannonPointShower.PointParent.worldPosition.toVec2(),Math.random()<.3?1:0).height=80}this._cannonPointUsedForCountDown=e}},{key:"waveLeftHealth",get:function(){var e=0;return this._zombiesInThisWave.forEach((function(n){n.isAlive()&&!n.hypno&&!n.objdataOwn.IgnoredInWaves&&n.health>0&&(e+=n.health)})),e}},{key:"defaultZombieCountdownFirstWaveSecs",get:function(){return this._defaultZombieCountdownFirstWaveSecs},set:function(e){this.waveManagerProps&&(this.waveManagerProps.ZombieCountdownFirstWaveSecs=e),this._defaultZombieCountdownFirstWaveSecs=e}},{key:"rhythmTime",get:function(){return this.rhythmMusicCountDown>0?-this.rhythmMusicCountDown:this.rhythmAudioSource.currentTime}},{key:"bossHealthProgress",get:function(){return this.bossHealthProgressBar.progress},set:function(e){var n=this;this.bossHealthProgressBar.progress=e,this.zombossHPNotches.forEach((function(t){t.active=n.bossHealthProgressBar.totalLength*e*n.bossHealthProgressBar.node.worldScale.x+n.bossHealthProgressBar.barSprite.node.worldPosition.x>t.worldPosition.x}))}},{key:"uiPos",get:function(){return this._uiPos},set:function(e){this.camera.node.position=e,this.uiFollowingCamera.forEach((function(n){n.position=e})),this._uiPos=e}},{key:"gaming",get:function(){return(!this.isCowboyMinigame||!this.cowboyMinigameWaiting)&&(this.gameStarted&&!this.gameLost&&!this.gameOver&&!this.gameWon)}}]),n}(C)).prototype,"tooltips",[tn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bn=n(Tn.prototype,"inGameWarnLabel",[an],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dn=n(Tn.prototype,"levelProgressBar",[on],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),En=n(Tn.prototype,"levelProgressHead",[rn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rn=n(Tn.prototype,"waveFlag",[sn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),In=n(Tn.prototype,"screenFlash",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_n=n(Tn.prototype,"cannonPointShower",[un],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new tt}}),Gn=n(Tn.prototype,"pointLayer",[hn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xn=n(Tn.prototype,"fightAloneProgressBar",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kn=n(Tn.prototype,"levelNameLabel",[dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zn=n(Tn.prototype,"levelDescriptionLabel",[mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fn=n(Tn.prototype,"Level",[gn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),An=n(Tn.prototype,"lastStandGameStartButton",[vn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),On=n(Tn.prototype,"dangerroomCardChooser",[pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jn=n(Tn.prototype,"viewButton",[fn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zn=n(Tn.prototype,"bossHealthProgressBar",[Pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Un=n(Tn.prototype,"uiFollowingCamera",[wn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Hn=n(Tn.prototype,"camera",[Sn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vn=n(Tn.prototype,"ui",[bn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yn=n(Tn.prototype,"uiUpper",[Cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jn=n(Tn.prototype,"zombieDisplayer",[Mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kn=n(Tn.prototype,"levelObjectiveShower",[yn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xn=n(Tn.prototype,"levelModuleJson",[Nn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ln=Tn))||Ln));r._RF.pop()}}}));

System.register("chunks:///_virtual/LevelNodes.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,n,o,a,l,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Prefab,u=e.Component}],execute:function(){var c,s,p,f,g,b,d,m,h,N,y,v,w,z,L;o._RF.push({},"874a2FYkoZC+LHvY/x2+M4w","LevelNodes",void 0);var P=a.ccclass,x=a.property,_=e("levelNodeRes",function(){function e(){}return e.normalNode=function(){return this.res.normalNode},e.gargantuarNode=function(){return this.res.gargantuarNode},e.minigameNode=function(){return this.res.minigameNode},e.epicPortal=function(){return this.res.epicPortal},e.giftbox=function(){return this.res.giftbox},e.path=function(){return this.res.path},e}());_.res=void 0;e("LevelNodes",(c=P("LevelNodes"),s=x(l),p=x(l),f=x(l),g=x(l),b=x(l),d=x(l),c((N=r((h=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,i(r,"normalNode",N,n(r)),i(r,"gargantuarNode",y,n(r)),i(r,"minigameNode",v,n(r)),i(r,"epicPortal",w,n(r)),i(r,"giftbox",z,n(r)),i(r,"path",L,n(r)),r}return t(r,e),r.prototype.onLoad=function(){_.res=this},r}(u)).prototype,"normalNode",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=r(h.prototype,"gargantuarNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=r(h.prototype,"minigameNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=r(h.prototype,"epicPortal",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=r(h.prototype,"giftbox",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=r(h.prototype,"path",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=h))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/LevelObjectiveScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts","./levelController.ts"],(function(e){var i,n,t,o,r,a,l,s,c,u,p,h,m,y;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Label,s=e.UIOpacity,c=e.tween,u=e.Vec3,p=e.instantiate,h=e.Component},function(e){m=e.MultiLanguage},function(e){y=e.LevelPlay}],execute:function(){var f,v,g,b,d,T,w,S,L,j,z,B,C,k,O,P,E,F,N,W;r._RF.push({},"efce8jAa81JtrcA+yEz9jcb","LevelObjectiveScreen",void 0);var _=a.ccclass,A=a.property,D=(f=_("LevelObjectiveScreenToolTips"),v=A(l),g=A(l),f((T=i((d=function(){function e(){t(this,"Title",T,this),t(this,"Continue",w,this)}return e.prototype.start=function(){this.Title.string=m.getStringByPropsWithoutTricks("LevelObjectiveWindow","Title"),this.Continue.string=m.getStringByPropsWithoutTricks("LevelObjectiveWindow","Continue")},e}()).prototype,"Title",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(d.prototype,"Continue",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=d))||b);e("LevelObjectiveScreen",(S=_("LevelObjectiveScreen"),L=A(D),j=A(s),z=A(s),B=A(l),C=A(l),S((P=i((O=function(e){function i(){for(var i,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i=e.call.apply(e,[this].concat(r))||this,t(i,"toolTips",P,o(i)),t(i,"mainScreen",E,o(i)),t(i,"mouseBlocker",F,o(i)),i.playingTween=null,i.faded=!1,t(i,"mission0",N,o(i)),t(i,"screenName",W,o(i)),i.missions=[],i}n(i,e);var r=i.prototype;return r.start=function(){this.toolTips.start()},r.onEnable=function(){this.playingTween=null},r.playStart=function(e,i){var n=this;void 0===i&&(i=""),this.node.active=!0,this.mainScreen.opacity=0,this.mouseBlocker.opacity=0,this.setTips(e,i),this.playingTween=c(this.mouseBlocker).to(1,{opacity:255}).call((function(){n.playingTween=null,n.mainScreen.opacity=255,n.mainScreen.node.position=new u(0,0,0)})).start()},r.playFade=function(){var e,i=this;this.faded=!0,this.mainScreen.opacity=0,this.mainScreen.node.position=new u(0,1e3,0),this.mainScreen.node.active=!1,this.playingTween=c(this.mouseBlocker).to(1,{opacity:0}).call((function(){i.playingTween=null,i.node.active=!1})).start(),null==(e=y.component)||e.moveCamera()},r.continue=function(){this.playingTween||this.playFade()},r.setTips=function(e,i){var n=this;if(void 0===i&&(i=""),this.missions.forEach((function(e,i){var n;i>0&&(null==(n=e.node)||null==(n=n.parent)||n.destroy())})),this.missions=[this.mission0],e.length){var t=[this.mission0];e.forEach((function(e,i){var o=n.mission0;if(i>0){var r=p(n.mission0.node.parent);r.parent=n.mission0.node.parent.parent,o=r.getChildByName(n.mission0.node.name).getComponent(l),t.push(o)}o.string=e})),this.missions=t}else this.mission0.node.parent.parent.parent.active=!1;this.screenName.string=i},i}(h)).prototype,"toolTips",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(O.prototype,"mainScreen",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(O.prototype,"mouseBlocker",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(O.prototype,"mission0",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(O.prototype,"screenName",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=O))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/levelPrize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./Square.ts","./SoundRescourses.ts","./CharacterManager.ts","./Mouse.ts","./UI.ts","./NodePools.ts","./Particles.ts","./ParticleSelfdestroy.ts","./SoundsController.ts","./SoundManager.ts","./Materials.ts"],(function(e){var t,i,o,n,l,r,s,a,c,u,d,h,p,f,g,w,y,P,b,S,v,z,C,m,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,s=e.AudioClip,a=e.Size,c=e.Vec2,u=e.tween,d=e.Vec3,h=e.Color},function(e){p=e.Character},function(e){f=e.Square},function(e){g=e.sounds},function(e){w=e.Rectangle},function(e){y=e.Mouse},function(e){P=e.UIInGame},function(e){b=e.destroyPooly,S=e.instantiatePooly},function(e){v=e.particle},function(e){z=e.ParticleSelfdestroy},function(e){C=e.MusicController},function(e){m=e.MusicSortEnum},function(e){L=e.materialRes}],execute:function(){var T,E,I,M,O,R,x,q,U,A,_;l._RF.push({},"5772bmaeBtG0ZS9CVEYQSIA","levelPrize",void 0);var D=r.ccclass,V=r.property;e("levelPrize",(T=D("levelPrize"),E=V(s),I=V(s),M=V(a),O=V(s),T((q=t((x=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return(t=e.call.apply(e,[this].concat(l))||this).leapTween=[],o(t,"landSound",q,n(t)),o(t,"collectSound",U,n(t)),t.collected=!1,o(t,"bodySize",A,n(t)),t.collectTween=[],t.light=void 0,o(t,"spawnSound",_,n(t)),t}i(t,e);var l=t.prototype;return l.stopLeap=function(){var e;null==(e=this.leapTween)||e.forEach((function(e){e.stop()})),this.leapTween=[]},l.leapToPos=function(e,t,i,o){var n=this;void 0===e&&(e=1),void 0===t&&(t=4),void 0===i&&(i=180),void 0===o&&(o=1.5);var l=f.getLnC(e,t);if(this.stopLeap(),l){var r=new c(l.node.worldPosition.x,l.node.worldPosition.y);this.leapTween.push(u(this).to(o,{worldPositionX:r.x,worldPositionY:r.y}).start(),u(this).to(o/2,{height:i},{easing:"quadOut"}).to(o/2,{height:0},{easing:"quadIn"}).call((function(){n.onLeapEnd(),g.play(n.landSound)})).start())}},l.onLeapEnd=function(){},l.characterOnEnable=function(){var e;(this.collected=!1,this.collectTween=[],this.leapTween=[],g.play(this.spawnSound),this.light)&&(b(null==(e=this.light)?void 0:e.node),this.light=null);this.specialPrizeOnEnable()},l.specialPrizeOnEnable=function(){},l.bodyRec=function(){return w.createRectangleNodeCenter(this.node,this.bodySize.width,this.bodySize.height)},l.collectToWP=function(){return P.uiingame.node.parent.worldPosition},l.collect=function(){var e=this.collectToWP();this.collectTween.forEach((function(e){e.stop()})),this.collectTween=[],this.collectTween.push(u(this).to(4,{worldPositionX:e.x,worldPositionY:e.y,height:0},{easing:"quadInOut"}).start(),u(this.node).by(4,{scale:new d(.3,.3,1)},{easing:"quadInOut"}).call((function(){P.uiingame.victoryExit()})).start()),C.switchMusicSort(m.Leave,!1,!1,!0,!0),this.showPriceLight(),this.specialOnCollected()},l.specialOnCollected=function(){},l.showPriceLight=function(){var e=S(v.prizeCollectLight());e.parent=this.node.parent,e.worldPosition=this.node.worldPosition,e.setSiblingIndex(this.node.getSiblingIndex()),this.light=e.getComponent(z),this.light.db.playAnimation("Play",1)},l.characterUpdate=function(e){this.collected?this.db.color=new h(255,255,255,255):(this.db.color=L.rewardColor,this.bodyRec().judgeCrossLine(y.moveLine)&&(this.collected=!0,this.collect(),g.play(this.collectSound),this.stopLeap())),this.light&&(this.light.node.worldPosition=this.node.worldPosition),this.specialPrizeUpdate(e)},l.specialPrizeUpdate=function(e){},t}(p)).prototype,"landSound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(x.prototype,"collectSound",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(x.prototype,"bodySize",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(70,70)}}),_=t(x.prototype,"spawnSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=x))||R));l._RF.pop()}}}));

System.register("chunks:///_virtual/Levels.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,t,l,r,a,n,o,u;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.initializerDefineProperty,l=i.inheritsLoose,r=i.assertThisInitialized},function(i){a=i.cclegacy,n=i._decorator,o=i.JsonAsset,u=i.Component}],execute:function(){var b,p,s,h,c,g,y,m,w,f,z,_,d,k,v,L,J,A,x,D,P,R,F,I,j,B,C,E,H,M,O,S,T,V,W,q,G,K,N,Q,U,X,Y,Z,$,ii,ei,ti,li,ri,ai,ni,oi,ui,bi,pi,si,hi,ci,gi,yi,mi,wi,fi,zi,_i,di,ki,vi,Li,Ji,Ai,xi,Di,Pi,Ri,Fi,Ii,ji,Bi,Ci,Ei,Hi,Mi,Oi,Si,Ti,Vi,Wi,qi,Gi,Ki,Ni,Qi,Ui,Xi,Yi,Zi,$i,ie,ee,te,le,re,ae,ne,oe,ue,be,pe,se,he,ce,ge,ye,me,we,fe,ze,_e,de,ke,ve,Le,Je,Ae,xe,De,Pe,Re,Fe,Ie,je,Be,Ce,Ee,He,Me,Oe,Se,Te,Ve,We,qe,Ge,Ke,Ne,Qe,Ue,Xe,Ye,Ze,$e,it,et,tt,lt,rt,at,nt,ot,ut,bt,pt,st,ht,ct,gt,yt,mt,wt,ft,zt,_t,dt,kt,vt,Lt,Jt,At,xt,Dt,Pt,Rt,Ft,It,jt,Bt,Ct,Et,Ht,Mt,Ot,St,Tt,Vt,Wt,qt,Gt,Kt,Nt,Qt,Ut,Xt,Yt,Zt,$t,il,el,tl,ll,rl,al,nl,ol,ul,bl,pl,sl,hl,cl,gl,yl,ml,wl,fl,zl,_l,dl,kl,vl,Ll,Jl,Al,xl,Dl,Pl,Rl,Fl,Il,jl,Bl,Cl,El,Hl,Ml,Ol,Sl,Tl,Vl,Wl,ql,Gl,Kl,Nl,Ql,Ul,Xl,Yl,Zl,$l,ir,er,tr,lr,rr,ar,nr,or,ur,br,pr,sr,hr,cr,gr,yr,mr,wr,fr,zr,_r,dr,kr,vr,Lr,Jr,Ar,xr,Dr,Pr,Rr,Fr,Ir,jr,Br,Cr,Er,Hr,Mr,Or,Sr,Tr,Vr,Wr,qr,Gr,Kr,Nr,Qr,Ur,Xr,Yr,Zr,$r,ia,ea,ta,la,ra,aa,na,oa,ua,ba,pa,sa,ha,ca,ga,ya,ma,wa,fa,za,_a,da,ka,va,La,Ja,Aa,xa,Da,Pa,Ra,Fa,Ia,ja,Ba,Ca,Ea,Ha,Ma,Oa,Sa,Ta,Va,Wa,qa,Ga,Ka,Na,Qa,Ua,Xa,Ya,Za,$a,en,tn,ln,rn,an,nn,on,un,bn,pn,sn,hn,cn,gn,yn,mn,wn,fn,zn,_n,dn,kn,vn,Ln,Jn,An,xn,Dn,Pn,Rn,Fn,In,jn,Bn,Cn,En,Hn,Mn,On,Sn,Tn,Vn,Wn,qn,Gn,Kn,Nn,Qn,Un,Xn,Yn,Zn,$n,io,eo,to,lo,ro,ao,no,oo,uo,bo,po,so,ho,co,go,yo,mo,wo,fo,zo,_o,ko,vo,Lo,Jo,Ao,xo,Do,Po,Ro,Fo,Io,jo,Bo,Co,Eo,Ho,Mo,Oo,So,To,Vo,Wo,qo,Go,Ko,No,Qo,Uo,Xo,Yo,Zo,$o,iu,eu,tu,lu,ru,au,nu,ou,uu,bu,pu,su,hu,cu,gu,yu,mu,wu,fu,zu,_u,du,ku,vu,Lu,Ju,Au,xu,Du,Pu,Ru,Fu,Iu,ju,Bu,Cu,Eu,Hu,Mu,Ou,Su,Tu,Vu,Wu,qu,Gu,Ku,Nu,Qu,Uu,Xu,Yu,Zu,$u,ib,eb,tb,lb,rb,ab,nb,ob,ub,bb,pb,sb,hb,cb,gb,yb,mb,wb,fb,zb,_b,db,kb,vb,Lb,Jb,Ab,xb,Db,Pb,Rb,Fb,Ib,jb,Bb,Cb,Eb,Hb,Mb,Ob,Sb,Tb,Vb,Wb,qb,Gb,Kb,Nb,Qb,Ub,Xb,Yb,Zb,$b,ip,ep,tp,lp,rp,ap,np,op,up,bp,pp,sp,hp,cp,gp,yp,mp,wp,fp,zp,_p,dp,kp,vp,Lp,Jp,Ap,xp,Dp,Pp,Rp,Fp,Ip,jp,Bp,Cp,Ep,Hp,Mp,Op,Sp,Tp,Vp,Wp,qp,Gp,Kp,Np,Qp,Up,Xp,Yp,Zp,$p,is,es,ts,ls,rs,as,ns,os,us,bs,ps,ss,hs,cs,gs,ys,ms,ws,fs,zs,_s,ds,ks,vs,Ls,Js,As,xs,Ds,Ps,Rs,Fs,Is,js,Bs,Cs,Es,Hs,Ms,Os,Ss,Ts,Vs,Ws,qs,Gs,Ks,Ns,Qs,Us,Xs,Ys,Zs,$s,ih,eh,th,lh,rh,ah,nh,oh,uh,bh,ph,sh,hh,ch,gh,yh,mh,wh,fh,zh,_h,dh,kh,vh,Lh,Jh,Ah,xh,Dh,Ph,Rh,Fh,Ih,jh,Bh,Ch,Eh,Hh,Mh,Oh,Sh,Th,Vh,Wh,qh,Gh,Kh,Nh,Qh,Uh,Xh,Yh,Zh,$h,ic,ec,tc,lc,rc,ac,nc,oc,uc,bc,pc,sc,hc,cc,gc,yc,mc,wc,fc,zc,_c,dc,kc,vc,Lc,Jc,Ac,xc,Dc,Pc,Rc,Fc,Ic,jc,Bc,Cc,Ec,Hc,Mc,Oc,Sc,Tc,Vc,Wc,qc,Gc,Kc,Nc,Qc,Uc,Xc,Yc,Zc,$c,ig,eg,tg,lg,rg,ag,ng,og,ug,bg,pg,sg,hg,cg,gg,yg,mg,wg,fg,zg,_g,dg,kg,vg,Lg,Jg,Ag,xg,Dg,Pg,Rg,Fg,Ig,jg,Bg,Cg,Eg,Hg,Mg,Og,Sg,Tg,Vg,Wg,qg,Gg,Kg,Ng,Qg,Ug,Xg,Yg,Zg,$g,iy,ey,ty,ly,ry,ay,ny,oy,uy,by,py,sy,hy,cy,gy,yy,my,wy,fy,zy,_y,dy,ky,vy,Ly,Jy,Ay,xy,Dy,Py;i("getLevelJsonAsset",(function(i){return jy.cp.getLevelJsonAsset(i)})),a._RF.push({},"ac992PIdWVOabpaeEaRks95","Levels",void 0);var Ry=n.ccclass,Fy=n.property,Iy=(b=Ry("LevelJsons"),p=Fy(o),s=Fy(o),h=Fy(o),c=Fy(o),g=Fy(o),y=Fy(o),m=Fy(o),w=Fy(o),f=Fy(o),z=Fy(o),_=Fy(o),d=Fy(o),k=Fy(o),v=Fy(o),L=Fy(o),J=Fy(o),A=Fy(o),x=Fy(o),D=Fy(o),P=Fy(o),R=Fy(o),F=Fy(o),I=Fy(o),j=Fy(o),B=Fy(o),C=Fy(o),E=Fy(o),H=Fy(o),M=Fy(o),O=Fy(o),S=Fy(o),T=Fy(o),V=Fy(o),W=Fy(o),q=Fy(o),G=Fy(o),K=Fy(o),N=Fy(o),Q=Fy(o),U=Fy(o),X=Fy(o),Y=Fy(o),Z=Fy(o),$=Fy(o),ii=Fy(o),ei=Fy(o),ti=Fy(o),li=Fy(o),ri=Fy(o),ai=Fy(o),ni=Fy(o),oi=Fy(o),ui=Fy(o),bi=Fy(o),pi=Fy(o),si=Fy(o),hi=Fy(o),ci=Fy(o),gi=Fy(o),yi=Fy(o),mi=Fy(o),wi=Fy(o),fi=Fy(o),zi=Fy(o),_i=Fy(o),di=Fy(o),ki=Fy(o),vi=Fy(o),Li=Fy(o),Ji=Fy(o),Ai=Fy(o),xi=Fy(o),Di=Fy(o),Pi=Fy(o),Ri=Fy(o),Fi=Fy(o),Ii=Fy(o),ji=Fy(o),Bi=Fy(o),Ci=Fy(o),Ei=Fy(o),Hi=Fy(o),Mi=Fy(o),Oi=Fy(o),Si=Fy(o),Ti=Fy(o),Vi=Fy(o),Wi=Fy(o),qi=Fy(o),Gi=Fy(o),Ki=Fy(o),Ni=Fy(o),Qi=Fy(o),Ui=Fy(o),Xi=Fy(o),Yi=Fy(o),Zi=Fy(o),$i=Fy(o),ie=Fy(o),ee=Fy(o),te=Fy(o),le=Fy(o),re=Fy(o),ae=Fy(o),ne=Fy(o),oe=Fy(o),ue=Fy(o),be=Fy(o),pe=Fy(o),se=Fy(o),he=Fy(o),ce=Fy(o),ge=Fy(o),ye=Fy(o),me=Fy(o),we=Fy(o),fe=Fy(o),ze=Fy(o),_e=Fy(o),de=Fy(o),ke=Fy(o),ve=Fy(o),Le=Fy(o),Je=Fy(o),Ae=Fy(o),xe=Fy(o),De=Fy(o),Pe=Fy(o),Re=Fy(o),Fe=Fy(o),Ie=Fy(o),je=Fy(o),Be=Fy(o),Ce=Fy(o),Ee=Fy(o),He=Fy(o),Me=Fy(o),Oe=Fy(o),Se=Fy(o),Te=Fy(o),Ve=Fy(o),We=Fy(o),qe=Fy(o),Ge=Fy(o),Ke=Fy(o),Ne=Fy(o),Qe=Fy(o),Ue=Fy(o),Xe=Fy(o),Ye=Fy(o),Ze=Fy(o),$e=Fy(o),it=Fy(o),et=Fy(o),tt=Fy(o),lt=Fy(o),rt=Fy(o),at=Fy(o),nt=Fy(o),ot=Fy(o),ut=Fy(o),bt=Fy(o),pt=Fy(o),st=Fy(o),ht=Fy(o),ct=Fy(o),gt=Fy(o),yt=Fy(o),mt=Fy(o),wt=Fy(o),ft=Fy(o),zt=Fy(o),_t=Fy(o),dt=Fy(o),kt=Fy(o),vt=Fy(o),Lt=Fy(o),Jt=Fy(o),At=Fy(o),xt=Fy(o),Dt=Fy(o),Pt=Fy(o),Rt=Fy(o),Ft=Fy(o),It=Fy(o),jt=Fy(o),Bt=Fy(o),Ct=Fy(o),Et=Fy(o),Ht=Fy(o),Mt=Fy(o),Ot=Fy(o),St=Fy(o),Tt=Fy(o),Vt=Fy(o),Wt=Fy(o),qt=Fy(o),Gt=Fy(o),Kt=Fy(o),Nt=Fy(o),Qt=Fy(o),Ut=Fy(o),Xt=Fy(o),Yt=Fy(o),Zt=Fy(o),$t=Fy(o),il=Fy(o),el=Fy(o),tl=Fy(o),ll=Fy(o),rl=Fy(o),al=Fy(o),nl=Fy(o),ol=Fy(o),ul=Fy(o),bl=Fy(o),pl=Fy(o),sl=Fy(o),hl=Fy(o),cl=Fy(o),gl=Fy(o),yl=Fy(o),ml=Fy(o),wl=Fy(o),fl=Fy(o),zl=Fy(o),_l=Fy(o),dl=Fy(o),kl=Fy(o),vl=Fy(o),Ll=Fy(o),Jl=Fy(o),Al=Fy(o),xl=Fy(o),Dl=Fy(o),Pl=Fy(o),Rl=Fy(o),Fl=Fy(o),Il=Fy(o),jl=Fy(o),Bl=Fy(o),Cl=Fy(o),El=Fy(o),Hl=Fy(o),Ml=Fy(o),Ol=Fy(o),Sl=Fy(o),Tl=Fy(o),Vl=Fy(o),Wl=Fy(o),ql=Fy(o),Gl=Fy(o),Kl=Fy(o),Nl=Fy(o),Ql=Fy(o),Ul=Fy(o),Xl=Fy(o),Yl=Fy(o),Zl=Fy(o),$l=Fy(o),ir=Fy(o),er=Fy(o),tr=Fy(o),lr=Fy(o),rr=Fy(o),ar=Fy(o),nr=Fy(o),or=Fy(o),ur=Fy(o),br=Fy(o),pr=Fy(o),sr=Fy(o),hr=Fy(o),cr=Fy(o),gr=Fy(o),yr=Fy(o),mr=Fy(o),wr=Fy(o),fr=Fy(o),zr=Fy(o),_r=Fy(o),dr=Fy(o),kr=Fy(o),vr=Fy(o),Lr=Fy(o),Jr=Fy(o),Ar=Fy(o),xr=Fy(o),Dr=Fy(o),Pr=Fy(o),Rr=Fy(o),Fr=Fy(o),Ir=Fy(o),jr=Fy(o),Br=Fy(o),Cr=Fy(o),Er=Fy(o),Hr=Fy(o),Mr=Fy(o),Or=Fy(o),Sr=Fy(o),Tr=Fy(o),Vr=Fy(o),Wr=Fy(o),qr=Fy(o),Gr=Fy(o),Kr=Fy(o),Nr=Fy(o),Qr=Fy(o),Ur=Fy(o),Xr=Fy(o),Yr=Fy(o),Zr=Fy(o),$r=Fy(o),ia=Fy(o),ea=Fy(o),ta=Fy(o),la=Fy(o),ra=Fy(o),aa=Fy(o),na=Fy(o),oa=Fy(o),ua=Fy(o),ba=Fy(o),pa=Fy(o),sa=Fy(o),ha=Fy(o),ca=Fy(o),ga=Fy(o),ya=Fy(o),ma=Fy(o),wa=Fy(o),fa=Fy(o),za=Fy(o),_a=Fy(o),da=Fy(o),ka=Fy(o),va=Fy(o),La=Fy(o),Ja=Fy(o),Aa=Fy(o),xa=Fy(o),Da=Fy(o),Pa=Fy(o),Ra=Fy(o),Fa=Fy(o),Ia=Fy(o),ja=Fy(o),Ba=Fy(o),Ca=Fy(o),Ea=Fy(o),Ha=Fy(o),Ma=Fy(o),Oa=Fy(o),Sa=Fy(o),Ta=Fy(o),Va=Fy(o),Wa=Fy(o),qa=Fy(o),Ga=Fy(o),Ka=Fy(o),Na=Fy(o),Qa=Fy(o),Ua=Fy(o),Xa=Fy(o),Ya=Fy(o),Za=Fy(o),$a=Fy(o),en=Fy(o),tn=Fy(o),ln=Fy(o),rn=Fy(o),an=Fy(o),nn=Fy(o),on=Fy(o),un=Fy(o),bn=Fy(o),pn=Fy(o),sn=Fy(o),hn=Fy(o),cn=Fy(o),gn=Fy(o),yn=Fy(o),mn=Fy(o),wn=Fy(o),fn=Fy(o),zn=Fy(o),_n=Fy(o),dn=Fy(o),kn=Fy(o),vn=Fy(o),Ln=Fy(o),Jn=Fy(o),An=Fy(o),xn=Fy(o),Dn=Fy(o),Pn=Fy(o),Rn=Fy(o),Fn=Fy(o),In=Fy(o),jn=Fy(o),Bn=Fy(o),Cn=Fy(o),En=Fy(o),Hn=Fy(o),Mn=Fy(o),On=Fy(o),Sn=Fy(o),Tn=Fy(o),Vn=Fy(o),Wn=Fy(o),qn=Fy(o),Gn=Fy(o),Kn=Fy(o),Nn=Fy(o),Qn=Fy(o),Un=Fy(o),Xn=Fy(o),Yn=Fy(o),Zn=Fy(o),$n=Fy(o),io=Fy(o),eo=Fy(o),to=Fy(o),lo=Fy(o),ro=Fy(o),ao=Fy(o),no=Fy(o),oo=Fy(o),uo=Fy(o),bo=Fy(o),po=Fy(o),so=Fy(o),ho=Fy(o),co=Fy(o),go=Fy(o),yo=Fy(o),b((fo=e((wo=function(){t(this,"sandbox",fo,this),t(this,"parsnip0",zo,this),t(this,"parsnip1",_o,this),t(this,"parsnip2",ko,this),t(this,"parsnip3",vo,this),t(this,"parsnip4",Lo,this),t(this,"parsnip5",Jo,this),t(this,"doomshroom0",Ao,this),t(this,"doomshroom1",xo,this),t(this,"doomshroom2",Do,this),t(this,"doomshroom3",Po,this),t(this,"doomshroom4",Ro,this),t(this,"doomshroom5",Fo,this),t(this,"electriccurrant0",Io,this),t(this,"electriccurrant1",jo,this),t(this,"electriccurrant2",Bo,this),t(this,"electriccurrant3",Co,this),t(this,"electriccurrant4",Eo,this),t(this,"electriccurrant5",Ho,this),t(this,"strawburst0",Mo,this),t(this,"strawburst1",Oo,this),t(this,"strawburst2",So,this),t(this,"strawburst3",To,this),t(this,"strawburst4",Vo,this),t(this,"strawburst5",Wo,this),t(this,"strawburst6",qo,this),t(this,"strawburst7",Go,this),t(this,"sweetpotato0",Ko,this),t(this,"sweetpotato1",No,this),t(this,"sweetpotato2",Qo,this),t(this,"sweetpotato3",Uo,this),t(this,"sweetpotato4",Xo,this),t(this,"sweetpotato5",Yo,this),t(this,"ghostpepper0",Zo,this),t(this,"ghostpepper1",$o,this),t(this,"ghostpepper2",iu,this),t(this,"ghostpepper3",eu,this),t(this,"vamporcini0",tu,this),t(this,"vamporcini1",lu,this),t(this,"vamporcini2",ru,this),t(this,"vamporcini3",au,this),t(this,"sapfling0",nu,this),t(this,"sapfling1",ou,this),t(this,"sapfling2",uu,this),t(this,"sapfling3",bu,this),t(this,"sapfling4",pu,this),t(this,"sapfling5",su,this),t(this,"sapfling6",hu,this),t(this,"sapfling7",cu,this),t(this,"solartomato0",gu,this),t(this,"solartomato1",yu,this),t(this,"solartomato2",mu,this),t(this,"solartomato3",wu,this),t(this,"solartomato4",fu,this),t(this,"solartomato5",zu,this),t(this,"buttercup0",_u,this),t(this,"buttercup1",du,this),t(this,"buttercup2",ku,this),t(this,"buttercup3",vu,this),t(this,"buttercup4",Lu,this),t(this,"buttercup5",Ju,this),t(this,"plantern0",Au,this),t(this,"plantern1",xu,this),t(this,"plantern2",Du,this),t(this,"plantern3",Pu,this),t(this,"plantern4",Ru,this),t(this,"plantern5",Fu,this),t(this,"iceshroom0",Iu,this),t(this,"iceshroom1",ju,this),t(this,"iceshroom2",Bu,this),t(this,"iceshroom3",Cu,this),t(this,"iceshroom4",Eu,this),t(this,"iceshroom5",Hu,this),t(this,"appease1_0",Mu,this),t(this,"appease1_1",Ou,this),t(this,"appease1_2",Su,this),t(this,"appease1_3",Tu,this),t(this,"appease1_4",Vu,this),t(this,"appease1_5",Wu,this),t(this,"appease1_6",qu,this),t(this,"appease2_0",Gu,this),t(this,"appease2_1",Ku,this),t(this,"appease2_2",Nu,this),t(this,"appease2_3",Qu,this),t(this,"appease2_4",Uu,this),t(this,"appease2_5",Xu,this),t(this,"appease2_6",Yu,this),t(this,"egypt1",Zu,this),t(this,"egypt2",$u,this),t(this,"egypt3",ib,this),t(this,"egypt4",eb,this),t(this,"egypt5",tb,this),t(this,"egypt6",lb,this),t(this,"egypt7",rb,this),t(this,"egypt8",ab,this),t(this,"egypt9",nb,this),t(this,"egypt10",ob,this),t(this,"egypt11",ub,this),t(this,"egypt12",bb,this),t(this,"egypt13",pb,this),t(this,"egypt14",sb,this),t(this,"egypt15",hb,this),t(this,"egypt16",cb,this),t(this,"egypt17",gb,this),t(this,"egypt18",yb,this),t(this,"egypt19",mb,this),t(this,"egypt20",wb,this),t(this,"egypt20_1",fb,this),t(this,"egypt21",zb,this),t(this,"egypt21_1",_b,this),t(this,"egypt22",db,this),t(this,"egypt22_1",kb,this),t(this,"egypt23",vb,this),t(this,"egypt24",Lb,this),t(this,"egypt24_1",Jb,this),t(this,"egypt25",Ab,this),t(this,"egypt26",xb,this),t(this,"egypt27",Db,this),t(this,"egypt28",Pb,this),t(this,"egypt29",Rb,this),t(this,"egypt30",Fb,this),t(this,"egypt31",Ib,this),t(this,"egypt32",jb,this),t(this,"egypt33",Bb,this),t(this,"egypt34",Cb,this),t(this,"egypt35",Eb,this),t(this,"egypt_dangerroom",Hb,this),t(this,"egypt_dangerroom2",Mb,this),t(this,"egypt_dangerroom_minigame",Ob,this),t(this,"pirate1",Sb,this),t(this,"pirate2",Tb,this),t(this,"pirate3",Vb,this),t(this,"pirate4",Wb,this),t(this,"pirate5",qb,this),t(this,"pirate6",Gb,this),t(this,"pirate7",Kb,this),t(this,"pirate8",Nb,this),t(this,"pirate9",Qb,this),t(this,"pirate10",Ub,this),t(this,"pirate11",Xb,this),t(this,"pirate12",Yb,this),t(this,"pirate13",Zb,this),t(this,"pirate14",$b,this),t(this,"pirate15",ip,this),t(this,"pirate16",ep,this),t(this,"pirate17",tp,this),t(this,"pirate18",lp,this),t(this,"pirate18_1",rp,this),t(this,"pirate19",ap,this),t(this,"pirate20",np,this),t(this,"pirate20_1",op,this),t(this,"pirate21",up,this),t(this,"pirate22",bp,this),t(this,"pirate22_1",pp,this),t(this,"pirate23",sp,this),t(this,"pirate23_1",hp,this),t(this,"pirate24",cp,this),t(this,"pirate24_1",gp,this),t(this,"pirate25",yp,this),t(this,"pirate26",mp,this),t(this,"pirate27",wp,this),t(this,"pirate28",fp,this),t(this,"pirate29",zp,this),t(this,"pirate30",_p,this),t(this,"pirate31",dp,this),t(this,"pirate32",kp,this),t(this,"pirate33",vp,this),t(this,"pirate34",Lp,this),t(this,"pirate35",Jp,this),t(this,"pirate_dangerroom",Ap,this),t(this,"pirate_dangerroom2",xp,this),t(this,"cowboy1",Dp,this),t(this,"cowboy2",Pp,this),t(this,"cowboy3",Rp,this),t(this,"cowboy4",Fp,this),t(this,"cowboy5",Ip,this),t(this,"cowboy6",jp,this),t(this,"cowboy7",Bp,this),t(this,"cowboy8",Cp,this),t(this,"cowboy9",Ep,this),t(this,"cowboy10",Hp,this),t(this,"cowboy11",Mp,this),t(this,"cowboy12",Op,this),t(this,"cowboy12_1",Sp,this),t(this,"cowboy13",Tp,this),t(this,"cowboy14",Vp,this),t(this,"cowboy15",Wp,this),t(this,"cowboy16",qp,this),t(this,"cowboy17",Gp,this),t(this,"cowboy18",Kp,this),t(this,"cowboy18_1",Np,this),t(this,"cowboy19",Qp,this),t(this,"cowboy20",Up,this),t(this,"cowboy21",Xp,this),t(this,"cowboy22",Yp,this),t(this,"cowboy22_1",Zp,this),t(this,"cowboy23",$p,this),t(this,"cowboy23_1",is,this),t(this,"cowboy24",es,this),t(this,"cowboy24_1",ts,this),t(this,"cowboy25",ls,this),t(this,"cowboy26",rs,this),t(this,"cowboy27",as,this),t(this,"cowboy28",ns,this),t(this,"cowboy29",os,this),t(this,"cowboy30",us,this),t(this,"cowboy31",bs,this),t(this,"cowboy32",ps,this),t(this,"cowboy33",ss,this),t(this,"cowboy34",hs,this),t(this,"cowboy35",cs,this),t(this,"cowboy_dangerroom",gs,this),t(this,"cowboy_dangerroom2",ys,this),t(this,"future1",ms,this),t(this,"future2",ws,this),t(this,"future3",fs,this),t(this,"future4",zs,this),t(this,"future5",_s,this),t(this,"future6",ds,this),t(this,"future7",ks,this),t(this,"future8",vs,this),t(this,"future9",Ls,this),t(this,"future10",Js,this),t(this,"future10_1",As,this),t(this,"future10_2",xs,this),t(this,"future10_3",Ds,this),t(this,"future10_4",Ps,this),t(this,"future11",Rs,this),t(this,"future12",Fs,this),t(this,"future13",Is,this),t(this,"future14",js,this),t(this,"future15",Bs,this),t(this,"future16",Cs,this),t(this,"future17",Es,this),t(this,"future18",Hs,this),t(this,"future19",Ms,this),t(this,"future20",Os,this),t(this,"future21",Ss,this),t(this,"future22",Ts,this),t(this,"future23",Vs,this),t(this,"future24",Ws,this),t(this,"future25",qs,this),t(this,"future26",Gs,this),t(this,"future27",Ks,this),t(this,"future28",Ns,this),t(this,"future29",Qs,this),t(this,"future30",Us,this),t(this,"future31",Xs,this),t(this,"future32",Ys,this),t(this,"future33",Zs,this),t(this,"future34",$s,this),t(this,"future35",ih,this),t(this,"future_dangerroom",eh,this),t(this,"future_dangerroom2",th,this),t(this,"future_dangerroom_sunbomb",lh,this),t(this,"dark1",rh,this),t(this,"dark2",ah,this),t(this,"dark3",nh,this),t(this,"dark4",oh,this),t(this,"dark5",uh,this),t(this,"dark6",bh,this),t(this,"dark7",ph,this),t(this,"dark8",sh,this),t(this,"dark9",hh,this),t(this,"dark10",ch,this),t(this,"dark11",gh,this),t(this,"dark12",yh,this),t(this,"dark13",mh,this),t(this,"dark14",wh,this),t(this,"dark15",fh,this),t(this,"dark16",zh,this),t(this,"dark17",_h,this),t(this,"dark18",dh,this),t(this,"dark18_1",kh,this),t(this,"dark19",vh,this),t(this,"dark20",Lh,this),t(this,"dark21",Jh,this),t(this,"dark22",Ah,this),t(this,"dark23",xh,this),t(this,"dark24",Dh,this),t(this,"dark25",Ph,this),t(this,"dark26",Rh,this),t(this,"dark27",Fh,this),t(this,"dark28",Ih,this),t(this,"dark29",jh,this),t(this,"dark30",Bh,this),t(this,"dark_dangerroom",Ch,this),t(this,"dark_dangerroom2",Eh,this),t(this,"dark_dangerroom_potion",Hh,this),t(this,"beach1",Mh,this),t(this,"beach2",Oh,this),t(this,"beach3",Sh,this),t(this,"beach4",Th,this),t(this,"beach5",Vh,this),t(this,"beach6",Wh,this),t(this,"beach7",qh,this),t(this,"beach8",Gh,this),t(this,"beach9",Kh,this),t(this,"beach10",Nh,this),t(this,"beach11",Qh,this),t(this,"beach12",Uh,this),t(this,"beach13",Xh,this),t(this,"beach14",Yh,this),t(this,"beach15",Zh,this),t(this,"beach16",$h,this),t(this,"beach17",ic,this),t(this,"beach18",ec,this),t(this,"beach19",tc,this),t(this,"beach20",lc,this),t(this,"beach21",rc,this),t(this,"beach22",ac,this),t(this,"beach23",nc,this),t(this,"beach24",oc,this),t(this,"beach25",uc,this),t(this,"beach26",bc,this),t(this,"beach27",pc,this),t(this,"beach28",sc,this),t(this,"beach29",hc,this),t(this,"beach30",cc,this),t(this,"beach31",gc,this),t(this,"beach32",yc,this),t(this,"beach_dangerroom",mc,this),t(this,"beach_dangerroom_minigame_egypt",wc,this),t(this,"beach_dangerroom_minigame_pirate",fc,this),t(this,"beach_dangerroom_minigame_cowboy",zc,this),t(this,"beach_dangerroom_minigame_future",_c,this),t(this,"beach_dangerroom_minigame_dark",dc,this),t(this,"beach_dangerroom_minigame_beach",kc,this),t(this,"beach_dangerroom_minigame_iceage",vc,this),t(this,"iceage1",Lc,this),t(this,"iceage2",Jc,this),t(this,"iceage3",Ac,this),t(this,"iceage4",xc,this),t(this,"iceage5",Dc,this),t(this,"iceage6",Pc,this),t(this,"iceage7",Rc,this),t(this,"iceage8",Fc,this),t(this,"iceage9",Ic,this),t(this,"iceage10",jc,this),t(this,"iceage11",Bc,this),t(this,"iceage12",Cc,this),t(this,"iceage13",Ec,this),t(this,"iceage14",Hc,this),t(this,"iceage15",Mc,this),t(this,"iceage16",Oc,this),t(this,"iceage17",Sc,this),t(this,"iceage18",Tc,this),t(this,"iceage19",Vc,this),t(this,"iceage20",Wc,this),t(this,"iceage21",qc,this),t(this,"iceage22",Gc,this),t(this,"iceage23",Kc,this),t(this,"iceage24",Nc,this),t(this,"iceage25",Qc,this),t(this,"iceage26",Uc,this),t(this,"iceage27",Xc,this),t(this,"iceage28",Yc,this),t(this,"iceage29",Zc,this),t(this,"iceage30",$c,this),t(this,"iceage31",ig,this),t(this,"iceage32",eg,this),t(this,"iceage33",tg,this),t(this,"iceage34",lg,this),t(this,"iceage35",rg,this),t(this,"iceage36",ag,this),t(this,"iceage37",ng,this),t(this,"iceage38",og,this),t(this,"iceage39",ug,this),t(this,"iceage40",bg,this),t(this,"iceage_dangerroom",pg,this),t(this,"iceage_dangerroom2",sg,this),t(this,"lostcity1",hg,this),t(this,"lostcity2",cg,this),t(this,"lostcity3",gg,this),t(this,"lostcity4",yg,this),t(this,"lostcity5",mg,this),t(this,"lostcity6",wg,this),t(this,"lostcity7",fg,this),t(this,"lostcity8",zg,this),t(this,"lostcity9",_g,this),t(this,"lostcity10",dg,this),t(this,"lostcity11",kg,this),t(this,"lostcity12",vg,this),t(this,"lostcity13",Lg,this),t(this,"lostcity14",Jg,this),t(this,"lostcity15",Ag,this),t(this,"lostcity16",xg,this),t(this,"lostcity17",Dg,this),t(this,"lostcity18",Pg,this),t(this,"lostcity19",Rg,this),t(this,"lostcity20",Fg,this),t(this,"lostcity21",Ig,this),t(this,"lostcity22",jg,this),t(this,"lostcity23",Bg,this),t(this,"lostcity24",Cg,this),t(this,"lostcity25",Eg,this),t(this,"lostcity26",Hg,this),t(this,"lostcity27",Mg,this),t(this,"lostcity28",Og,this),t(this,"lostcity29",Sg,this),t(this,"lostcity30",Tg,this),t(this,"lostcity31",Vg,this),t(this,"lostcity32",Wg,this),t(this,"lostcity_dangerroom",qg,this),t(this,"eighties1",Gg,this),t(this,"eighties2",Kg,this),t(this,"eighties3",Ng,this),t(this,"eighties4",Qg,this),t(this,"eighties5",Ug,this),t(this,"eighties6",Xg,this),t(this,"eighties7",Yg,this),t(this,"eighties8",Zg,this),t(this,"eighties9",$g,this),t(this,"eighties10",iy,this),t(this,"eighties11",ey,this),t(this,"eighties12",ty,this),t(this,"eighties13",ly,this),t(this,"eighties14",ry,this),t(this,"eighties15",ay,this),t(this,"eighties16",ny,this),t(this,"eighties17",oy,this),t(this,"eighties18",uy,this),t(this,"eighties19",by,this),t(this,"eighties20",py,this),t(this,"eighties21",sy,this),t(this,"eighties22",hy,this),t(this,"eighties23",cy,this),t(this,"eighties24",gy,this),t(this,"eighties25",yy,this),t(this,"eighties26",my,this),t(this,"eighties27",wy,this),t(this,"eighties28",fy,this),t(this,"eighties29",zy,this),t(this,"eighties30",_y,this),t(this,"eighties31",dy,this),t(this,"eighties32",ky,this),t(this,"eighties_dangerroom",vy,this)}).prototype,"sandbox",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zo=e(wo.prototype,"parsnip0",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_o=e(wo.prototype,"parsnip1",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ko=e(wo.prototype,"parsnip2",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vo=e(wo.prototype,"parsnip3",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lo=e(wo.prototype,"parsnip4",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jo=e(wo.prototype,"parsnip5",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ao=e(wo.prototype,"doomshroom0",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xo=e(wo.prototype,"doomshroom1",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Do=e(wo.prototype,"doomshroom2",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Po=e(wo.prototype,"doomshroom3",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ro=e(wo.prototype,"doomshroom4",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fo=e(wo.prototype,"doomshroom5",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Io=e(wo.prototype,"electriccurrant0",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jo=e(wo.prototype,"electriccurrant1",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bo=e(wo.prototype,"electriccurrant2",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Co=e(wo.prototype,"electriccurrant3",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eo=e(wo.prototype,"electriccurrant4",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ho=e(wo.prototype,"electriccurrant5",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mo=e(wo.prototype,"strawburst0",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oo=e(wo.prototype,"strawburst1",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),So=e(wo.prototype,"strawburst2",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),To=e(wo.prototype,"strawburst3",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vo=e(wo.prototype,"strawburst4",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wo=e(wo.prototype,"strawburst5",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qo=e(wo.prototype,"strawburst6",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Go=e(wo.prototype,"strawburst7",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ko=e(wo.prototype,"sweetpotato0",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),No=e(wo.prototype,"sweetpotato1",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qo=e(wo.prototype,"sweetpotato2",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uo=e(wo.prototype,"sweetpotato3",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xo=e(wo.prototype,"sweetpotato4",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yo=e(wo.prototype,"sweetpotato5",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zo=e(wo.prototype,"ghostpepper0",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$o=e(wo.prototype,"ghostpepper1",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),iu=e(wo.prototype,"ghostpepper2",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eu=e(wo.prototype,"ghostpepper3",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tu=e(wo.prototype,"vamporcini0",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lu=e(wo.prototype,"vamporcini1",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ru=e(wo.prototype,"vamporcini2",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),au=e(wo.prototype,"vamporcini3",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nu=e(wo.prototype,"sapfling0",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ou=e(wo.prototype,"sapfling1",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uu=e(wo.prototype,"sapfling2",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bu=e(wo.prototype,"sapfling3",[ii],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pu=e(wo.prototype,"sapfling4",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),su=e(wo.prototype,"sapfling5",[ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hu=e(wo.prototype,"sapfling6",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cu=e(wo.prototype,"sapfling7",[ri],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gu=e(wo.prototype,"solartomato0",[ai],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yu=e(wo.prototype,"solartomato1",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mu=e(wo.prototype,"solartomato2",[oi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wu=e(wo.prototype,"solartomato3",[ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fu=e(wo.prototype,"solartomato4",[bi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zu=e(wo.prototype,"solartomato5",[pi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_u=e(wo.prototype,"buttercup0",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),du=e(wo.prototype,"buttercup1",[hi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ku=e(wo.prototype,"buttercup2",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vu=e(wo.prototype,"buttercup3",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lu=e(wo.prototype,"buttercup4",[yi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ju=e(wo.prototype,"buttercup5",[mi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Au=e(wo.prototype,"plantern0",[wi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xu=e(wo.prototype,"plantern1",[fi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Du=e(wo.prototype,"plantern2",[zi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pu=e(wo.prototype,"plantern3",[_i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ru=e(wo.prototype,"plantern4",[di],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fu=e(wo.prototype,"plantern5",[ki],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Iu=e(wo.prototype,"iceshroom0",[vi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ju=e(wo.prototype,"iceshroom1",[Li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bu=e(wo.prototype,"iceshroom2",[Ji],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cu=e(wo.prototype,"iceshroom3",[Ai],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eu=e(wo.prototype,"iceshroom4",[xi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hu=e(wo.prototype,"iceshroom5",[Di],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mu=e(wo.prototype,"appease1_0",[Pi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ou=e(wo.prototype,"appease1_1",[Ri],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Su=e(wo.prototype,"appease1_2",[Fi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tu=e(wo.prototype,"appease1_3",[Ii],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vu=e(wo.prototype,"appease1_4",[ji],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wu=e(wo.prototype,"appease1_5",[Bi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qu=e(wo.prototype,"appease1_6",[Ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gu=e(wo.prototype,"appease2_0",[Ei],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ku=e(wo.prototype,"appease2_1",[Hi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nu=e(wo.prototype,"appease2_2",[Mi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qu=e(wo.prototype,"appease2_3",[Oi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uu=e(wo.prototype,"appease2_4",[Si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xu=e(wo.prototype,"appease2_5",[Ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yu=e(wo.prototype,"appease2_6",[Vi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zu=e(wo.prototype,"egypt1",[Wi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$u=e(wo.prototype,"egypt2",[qi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ib=e(wo.prototype,"egypt3",[Gi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eb=e(wo.prototype,"egypt4",[Ki],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tb=e(wo.prototype,"egypt5",[Ni],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lb=e(wo.prototype,"egypt6",[Qi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rb=e(wo.prototype,"egypt7",[Ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ab=e(wo.prototype,"egypt8",[Xi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nb=e(wo.prototype,"egypt9",[Yi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ob=e(wo.prototype,"egypt10",[Zi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ub=e(wo.prototype,"egypt11",[$i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bb=e(wo.prototype,"egypt12",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pb=e(wo.prototype,"egypt13",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sb=e(wo.prototype,"egypt14",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hb=e(wo.prototype,"egypt15",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cb=e(wo.prototype,"egypt16",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gb=e(wo.prototype,"egypt17",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yb=e(wo.prototype,"egypt18",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mb=e(wo.prototype,"egypt19",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wb=e(wo.prototype,"egypt20",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fb=e(wo.prototype,"egypt20_1",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zb=e(wo.prototype,"egypt21",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_b=e(wo.prototype,"egypt21_1",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),db=e(wo.prototype,"egypt22",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kb=e(wo.prototype,"egypt22_1",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vb=e(wo.prototype,"egypt23",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lb=e(wo.prototype,"egypt24",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jb=e(wo.prototype,"egypt24_1",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ab=e(wo.prototype,"egypt25",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xb=e(wo.prototype,"egypt26",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Db=e(wo.prototype,"egypt27",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pb=e(wo.prototype,"egypt28",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rb=e(wo.prototype,"egypt29",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fb=e(wo.prototype,"egypt30",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ib=e(wo.prototype,"egypt31",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jb=e(wo.prototype,"egypt32",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bb=e(wo.prototype,"egypt33",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cb=e(wo.prototype,"egypt34",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eb=e(wo.prototype,"egypt35",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hb=e(wo.prototype,"egypt_dangerroom",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mb=e(wo.prototype,"egypt_dangerroom2",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ob=e(wo.prototype,"egypt_dangerroom_minigame",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sb=e(wo.prototype,"pirate1",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tb=e(wo.prototype,"pirate2",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vb=e(wo.prototype,"pirate3",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wb=e(wo.prototype,"pirate4",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qb=e(wo.prototype,"pirate5",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gb=e(wo.prototype,"pirate6",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kb=e(wo.prototype,"pirate7",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nb=e(wo.prototype,"pirate8",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qb=e(wo.prototype,"pirate9",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ub=e(wo.prototype,"pirate10",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xb=e(wo.prototype,"pirate11",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yb=e(wo.prototype,"pirate12",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zb=e(wo.prototype,"pirate13",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$b=e(wo.prototype,"pirate14",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ip=e(wo.prototype,"pirate15",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ep=e(wo.prototype,"pirate16",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tp=e(wo.prototype,"pirate17",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lp=e(wo.prototype,"pirate18",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rp=e(wo.prototype,"pirate18_1",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ap=e(wo.prototype,"pirate19",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),np=e(wo.prototype,"pirate20",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),op=e(wo.prototype,"pirate20_1",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),up=e(wo.prototype,"pirate21",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bp=e(wo.prototype,"pirate22",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pp=e(wo.prototype,"pirate22_1",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sp=e(wo.prototype,"pirate23",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hp=e(wo.prototype,"pirate23_1",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cp=e(wo.prototype,"pirate24",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gp=e(wo.prototype,"pirate24_1",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yp=e(wo.prototype,"pirate25",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mp=e(wo.prototype,"pirate26",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wp=e(wo.prototype,"pirate27",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fp=e(wo.prototype,"pirate28",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zp=e(wo.prototype,"pirate29",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_p=e(wo.prototype,"pirate30",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dp=e(wo.prototype,"pirate31",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kp=e(wo.prototype,"pirate32",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vp=e(wo.prototype,"pirate33",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lp=e(wo.prototype,"pirate34",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jp=e(wo.prototype,"pirate35",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ap=e(wo.prototype,"pirate_dangerroom",[wt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xp=e(wo.prototype,"pirate_dangerroom2",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dp=e(wo.prototype,"cowboy1",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pp=e(wo.prototype,"cowboy2",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rp=e(wo.prototype,"cowboy3",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fp=e(wo.prototype,"cowboy4",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ip=e(wo.prototype,"cowboy5",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jp=e(wo.prototype,"cowboy6",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bp=e(wo.prototype,"cowboy7",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cp=e(wo.prototype,"cowboy8",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ep=e(wo.prototype,"cowboy9",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hp=e(wo.prototype,"cowboy10",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mp=e(wo.prototype,"cowboy11",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Op=e(wo.prototype,"cowboy12",[Rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sp=e(wo.prototype,"cowboy12_1",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tp=e(wo.prototype,"cowboy13",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vp=e(wo.prototype,"cowboy14",[jt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wp=e(wo.prototype,"cowboy15",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qp=e(wo.prototype,"cowboy16",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gp=e(wo.prototype,"cowboy17",[Et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kp=e(wo.prototype,"cowboy18",[Ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Np=e(wo.prototype,"cowboy18_1",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qp=e(wo.prototype,"cowboy19",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Up=e(wo.prototype,"cowboy20",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xp=e(wo.prototype,"cowboy21",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yp=e(wo.prototype,"cowboy22",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zp=e(wo.prototype,"cowboy22_1",[Wt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$p=e(wo.prototype,"cowboy23",[qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),is=e(wo.prototype,"cowboy23_1",[Gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),es=e(wo.prototype,"cowboy24",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ts=e(wo.prototype,"cowboy24_1",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ls=e(wo.prototype,"cowboy25",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rs=e(wo.prototype,"cowboy26",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),as=e(wo.prototype,"cowboy27",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ns=e(wo.prototype,"cowboy28",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),os=e(wo.prototype,"cowboy29",[Zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),us=e(wo.prototype,"cowboy30",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bs=e(wo.prototype,"cowboy31",[il],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ps=e(wo.prototype,"cowboy32",[el],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ss=e(wo.prototype,"cowboy33",[tl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hs=e(wo.prototype,"cowboy34",[ll],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cs=e(wo.prototype,"cowboy35",[rl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gs=e(wo.prototype,"cowboy_dangerroom",[al],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ys=e(wo.prototype,"cowboy_dangerroom2",[nl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ms=e(wo.prototype,"future1",[ol],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ws=e(wo.prototype,"future2",[ul],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fs=e(wo.prototype,"future3",[bl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zs=e(wo.prototype,"future4",[pl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_s=e(wo.prototype,"future5",[sl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ds=e(wo.prototype,"future6",[hl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ks=e(wo.prototype,"future7",[cl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vs=e(wo.prototype,"future8",[gl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ls=e(wo.prototype,"future9",[yl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Js=e(wo.prototype,"future10",[ml],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),As=e(wo.prototype,"future10_1",[wl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xs=e(wo.prototype,"future10_2",[fl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ds=e(wo.prototype,"future10_3",[zl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ps=e(wo.prototype,"future10_4",[_l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rs=e(wo.prototype,"future11",[dl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fs=e(wo.prototype,"future12",[kl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Is=e(wo.prototype,"future13",[vl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),js=e(wo.prototype,"future14",[Ll],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bs=e(wo.prototype,"future15",[Jl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cs=e(wo.prototype,"future16",[Al],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Es=e(wo.prototype,"future17",[xl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hs=e(wo.prototype,"future18",[Dl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ms=e(wo.prototype,"future19",[Pl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Os=e(wo.prototype,"future20",[Rl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ss=e(wo.prototype,"future21",[Fl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ts=e(wo.prototype,"future22",[Il],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vs=e(wo.prototype,"future23",[jl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ws=e(wo.prototype,"future24",[Bl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qs=e(wo.prototype,"future25",[Cl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gs=e(wo.prototype,"future26",[El],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ks=e(wo.prototype,"future27",[Hl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ns=e(wo.prototype,"future28",[Ml],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qs=e(wo.prototype,"future29",[Ol],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Us=e(wo.prototype,"future30",[Sl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xs=e(wo.prototype,"future31",[Tl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ys=e(wo.prototype,"future32",[Vl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zs=e(wo.prototype,"future33",[Wl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$s=e(wo.prototype,"future34",[ql],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ih=e(wo.prototype,"future35",[Gl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eh=e(wo.prototype,"future_dangerroom",[Kl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),th=e(wo.prototype,"future_dangerroom2",[Nl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lh=e(wo.prototype,"future_dangerroom_sunbomb",[Ql],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rh=e(wo.prototype,"dark1",[Ul],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ah=e(wo.prototype,"dark2",[Xl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nh=e(wo.prototype,"dark3",[Yl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oh=e(wo.prototype,"dark4",[Zl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uh=e(wo.prototype,"dark5",[$l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bh=e(wo.prototype,"dark6",[ir],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ph=e(wo.prototype,"dark7",[er],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sh=e(wo.prototype,"dark8",[tr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hh=e(wo.prototype,"dark9",[lr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ch=e(wo.prototype,"dark10",[rr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gh=e(wo.prototype,"dark11",[ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yh=e(wo.prototype,"dark12",[nr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mh=e(wo.prototype,"dark13",[or],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wh=e(wo.prototype,"dark14",[ur],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fh=e(wo.prototype,"dark15",[br],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zh=e(wo.prototype,"dark16",[pr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_h=e(wo.prototype,"dark17",[sr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dh=e(wo.prototype,"dark18",[hr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kh=e(wo.prototype,"dark18_1",[cr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vh=e(wo.prototype,"dark19",[gr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lh=e(wo.prototype,"dark20",[yr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jh=e(wo.prototype,"dark21",[mr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ah=e(wo.prototype,"dark22",[wr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xh=e(wo.prototype,"dark23",[fr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dh=e(wo.prototype,"dark24",[zr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ph=e(wo.prototype,"dark25",[_r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rh=e(wo.prototype,"dark26",[dr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fh=e(wo.prototype,"dark27",[kr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ih=e(wo.prototype,"dark28",[vr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jh=e(wo.prototype,"dark29",[Lr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bh=e(wo.prototype,"dark30",[Jr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ch=e(wo.prototype,"dark_dangerroom",[Ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eh=e(wo.prototype,"dark_dangerroom2",[xr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hh=e(wo.prototype,"dark_dangerroom_potion",[Dr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mh=e(wo.prototype,"beach1",[Pr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oh=e(wo.prototype,"beach2",[Rr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sh=e(wo.prototype,"beach3",[Fr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Th=e(wo.prototype,"beach4",[Ir],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vh=e(wo.prototype,"beach5",[jr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wh=e(wo.prototype,"beach6",[Br],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qh=e(wo.prototype,"beach7",[Cr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gh=e(wo.prototype,"beach8",[Er],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kh=e(wo.prototype,"beach9",[Hr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nh=e(wo.prototype,"beach10",[Mr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qh=e(wo.prototype,"beach11",[Or],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uh=e(wo.prototype,"beach12",[Sr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xh=e(wo.prototype,"beach13",[Tr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yh=e(wo.prototype,"beach14",[Vr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zh=e(wo.prototype,"beach15",[Wr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$h=e(wo.prototype,"beach16",[qr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ic=e(wo.prototype,"beach17",[Gr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ec=e(wo.prototype,"beach18",[Kr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tc=e(wo.prototype,"beach19",[Nr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lc=e(wo.prototype,"beach20",[Qr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rc=e(wo.prototype,"beach21",[Ur],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ac=e(wo.prototype,"beach22",[Xr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nc=e(wo.prototype,"beach23",[Yr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oc=e(wo.prototype,"beach24",[Zr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uc=e(wo.prototype,"beach25",[$r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bc=e(wo.prototype,"beach26",[ia],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pc=e(wo.prototype,"beach27",[ea],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sc=e(wo.prototype,"beach28",[ta],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hc=e(wo.prototype,"beach29",[la],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cc=e(wo.prototype,"beach30",[ra],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gc=e(wo.prototype,"beach31",[aa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yc=e(wo.prototype,"beach32",[na],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mc=e(wo.prototype,"beach_dangerroom",[oa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wc=e(wo.prototype,"beach_dangerroom_minigame_egypt",[ua],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fc=e(wo.prototype,"beach_dangerroom_minigame_pirate",[ba],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zc=e(wo.prototype,"beach_dangerroom_minigame_cowboy",[pa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_c=e(wo.prototype,"beach_dangerroom_minigame_future",[sa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dc=e(wo.prototype,"beach_dangerroom_minigame_dark",[ha],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kc=e(wo.prototype,"beach_dangerroom_minigame_beach",[ca],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vc=e(wo.prototype,"beach_dangerroom_minigame_iceage",[ga],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lc=e(wo.prototype,"iceage1",[ya],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jc=e(wo.prototype,"iceage2",[ma],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ac=e(wo.prototype,"iceage3",[wa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xc=e(wo.prototype,"iceage4",[fa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dc=e(wo.prototype,"iceage5",[za],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pc=e(wo.prototype,"iceage6",[_a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rc=e(wo.prototype,"iceage7",[da],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fc=e(wo.prototype,"iceage8",[ka],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ic=e(wo.prototype,"iceage9",[va],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jc=e(wo.prototype,"iceage10",[La],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bc=e(wo.prototype,"iceage11",[Ja],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cc=e(wo.prototype,"iceage12",[Aa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ec=e(wo.prototype,"iceage13",[xa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hc=e(wo.prototype,"iceage14",[Da],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mc=e(wo.prototype,"iceage15",[Pa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oc=e(wo.prototype,"iceage16",[Ra],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sc=e(wo.prototype,"iceage17",[Fa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tc=e(wo.prototype,"iceage18",[Ia],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vc=e(wo.prototype,"iceage19",[ja],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wc=e(wo.prototype,"iceage20",[Ba],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qc=e(wo.prototype,"iceage21",[Ca],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gc=e(wo.prototype,"iceage22",[Ea],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kc=e(wo.prototype,"iceage23",[Ha],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nc=e(wo.prototype,"iceage24",[Ma],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qc=e(wo.prototype,"iceage25",[Oa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uc=e(wo.prototype,"iceage26",[Sa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xc=e(wo.prototype,"iceage27",[Ta],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yc=e(wo.prototype,"iceage28",[Va],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zc=e(wo.prototype,"iceage29",[Wa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$c=e(wo.prototype,"iceage30",[qa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ig=e(wo.prototype,"iceage31",[Ga],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eg=e(wo.prototype,"iceage32",[Ka],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tg=e(wo.prototype,"iceage33",[Na],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lg=e(wo.prototype,"iceage34",[Qa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rg=e(wo.prototype,"iceage35",[Ua],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ag=e(wo.prototype,"iceage36",[Xa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ng=e(wo.prototype,"iceage37",[Ya],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),og=e(wo.prototype,"iceage38",[Za],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ug=e(wo.prototype,"iceage39",[$a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bg=e(wo.prototype,"iceage40",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pg=e(wo.prototype,"iceage_dangerroom",[tn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sg=e(wo.prototype,"iceage_dangerroom2",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hg=e(wo.prototype,"lostcity1",[rn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cg=e(wo.prototype,"lostcity2",[an],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gg=e(wo.prototype,"lostcity3",[nn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yg=e(wo.prototype,"lostcity4",[on],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mg=e(wo.prototype,"lostcity5",[un],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wg=e(wo.prototype,"lostcity6",[bn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fg=e(wo.prototype,"lostcity7",[pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zg=e(wo.prototype,"lostcity8",[sn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_g=e(wo.prototype,"lostcity9",[hn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dg=e(wo.prototype,"lostcity10",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kg=e(wo.prototype,"lostcity11",[gn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vg=e(wo.prototype,"lostcity12",[yn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lg=e(wo.prototype,"lostcity13",[mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jg=e(wo.prototype,"lostcity14",[wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ag=e(wo.prototype,"lostcity15",[fn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xg=e(wo.prototype,"lostcity16",[zn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dg=e(wo.prototype,"lostcity17",[_n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pg=e(wo.prototype,"lostcity18",[dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rg=e(wo.prototype,"lostcity19",[kn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fg=e(wo.prototype,"lostcity20",[vn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ig=e(wo.prototype,"lostcity21",[Ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jg=e(wo.prototype,"lostcity22",[Jn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bg=e(wo.prototype,"lostcity23",[An],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cg=e(wo.prototype,"lostcity24",[xn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eg=e(wo.prototype,"lostcity25",[Dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hg=e(wo.prototype,"lostcity26",[Pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mg=e(wo.prototype,"lostcity27",[Rn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Og=e(wo.prototype,"lostcity28",[Fn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sg=e(wo.prototype,"lostcity29",[In],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tg=e(wo.prototype,"lostcity30",[jn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vg=e(wo.prototype,"lostcity31",[Bn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wg=e(wo.prototype,"lostcity32",[Cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qg=e(wo.prototype,"lostcity_dangerroom",[En],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gg=e(wo.prototype,"eighties1",[Hn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kg=e(wo.prototype,"eighties2",[Mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ng=e(wo.prototype,"eighties3",[On],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qg=e(wo.prototype,"eighties4",[Sn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ug=e(wo.prototype,"eighties5",[Tn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xg=e(wo.prototype,"eighties6",[Vn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yg=e(wo.prototype,"eighties7",[Wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zg=e(wo.prototype,"eighties8",[qn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$g=e(wo.prototype,"eighties9",[Gn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),iy=e(wo.prototype,"eighties10",[Kn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ey=e(wo.prototype,"eighties11",[Nn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ty=e(wo.prototype,"eighties12",[Qn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ly=e(wo.prototype,"eighties13",[Un],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ry=e(wo.prototype,"eighties14",[Xn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ay=e(wo.prototype,"eighties15",[Yn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ny=e(wo.prototype,"eighties16",[Zn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oy=e(wo.prototype,"eighties17",[$n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uy=e(wo.prototype,"eighties18",[io],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),by=e(wo.prototype,"eighties19",[eo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),py=e(wo.prototype,"eighties20",[to],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sy=e(wo.prototype,"eighties21",[lo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hy=e(wo.prototype,"eighties22",[ro],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cy=e(wo.prototype,"eighties23",[ao],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gy=e(wo.prototype,"eighties24",[no],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yy=e(wo.prototype,"eighties25",[oo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),my=e(wo.prototype,"eighties26",[uo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wy=e(wo.prototype,"eighties27",[bo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fy=e(wo.prototype,"eighties28",[po],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zy=e(wo.prototype,"eighties29",[so],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_y=e(wo.prototype,"eighties30",[ho],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dy=e(wo.prototype,"eighties31",[co],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ky=e(wo.prototype,"eighties32",[go],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vy=e(wo.prototype,"eighties_dangerroom",[yo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mo=wo))||mo);var jy=i("LevelJsonAssets",(Ly=Ry("Levels"),Jy=Fy(Iy),Ly(((Py=function(i){function e(){for(var e,l=arguments.length,a=new Array(l),n=0;n<l;n++)a[n]=arguments[n];return(e=i.call.apply(i,[this].concat(a))||this).static=void 0,t(e,"lvJsons",Dy,r(e)),e}l(e,i);var a=e.prototype;return a.onLoad=function(){e.cp=this},a.getLevelJsonAsset=function(i){var e=this.lvJsons[i];return e||(e=this.lvJsons.egypt1),e},e}(u)).cp=void 0,Dy=e((xy=Py).prototype,"lvJsons",[Jy],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Iy}}),Ay=xy))||Ay));a._RF.pop()}}}));

System.register("chunks:///_virtual/LevelTaskCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI.ts","./SoundRescourses.ts","./MultiLanguage.ts","./levelController.ts","./Mouse.ts"],(function(t){var e,i,o,n,a,s,r,l,u,c,h,m,d,p,g,b,S,C,L,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,r=t._decorator,l=t.SpriteFrame,u=t.Sprite,c=t.Label,h=t.ProgressBar,m=t.Color,d=t.Vec3,p=t.tween,g=t.Component},function(t){b=t.UIInGame},function(t){S=t.sounds},function(t){C=t.MultiLanguage},function(t){L=t.LevelPlay},function(t){f=t.Mouse}],execute:function(){var T,P,v,j,w,y,k,O,K,I,Z,D,W,z,M,F,R,U,B,N,q,G,x,_,A,E,H;s._RF.push({},"1fbadP0WfJMW6dxenrWbUfI","LevelTaskCount",void 0);var V=r.ccclass,J=r.property,Q=t("LevelTaskCountModeEnum",function(t){return t[t.PlantCountLimit=0]="PlantCountLimit",t[t.PlantLoseLimit=1]="PlantLoseLimit",t[t.SunCostLimit=2]="SunCostLimit",t[t.SunProduceRequest=3]="SunProduceRequest",t[t.SunCostCountDownLimit=4]="SunCostCountDownLimit",t[t.ZombieKillCountRequest=5]="ZombieKillCountRequest",t[t.ZombieKillCountDown=6]="ZombieKillCountDown",t}({}));t("LevelTaskCount",(T=V("LevelTaskCount"),P=J(l),v=J(l),j=J(l),w=J(l),y=J(l),k=J(l),O=J(l),K=J(l),I=J(u),Z=J(u),D=J(c),W=J(h),T((F=e((M=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,o(e,"plantCountLimit",F,n(e)),o(e,"plantLoseLimit",R,n(e)),o(e,"sunCostLimit",U,n(e)),o(e,"sunProduceRequest",B,n(e)),o(e,"sunCostCountDownLimit",N,n(e)),o(e,"zombieKillCount",q,n(e)),o(e,"completeIcon",G,n(e)),o(e,"failIcon",x,n(e)),o(e,"completeOrFailSlot",_,n(e)),o(e,"icon",A,n(e)),o(e,"count",E,n(e)),o(e,"progress",H,n(e)),e.mode=0,e.objdata=void 0,e.startingObjdata=void 0,e.completed=!1,e.failed=!1,e._red=0,e.warnTween=[],e.tip="",e}i(e,t);var s=e.prototype;return s.complete=function(){this.completed||this.failed||(this.completed=!0,this.count.color=new m(0,255,0,255),this.completeOrFailSlot.spriteFrame=this.completeIcon,S.playLevelTaskComplete())},s.fail=function(){this.failed||this.completed||(b.uiingame.loseDarken(null,"",this.tip),this.failed=!0,this.count.color=new m(255,0,0,255),this.completeOrFailSlot.spriteFrame=this.failIcon,S.playLevelTaskFail())},s.judgeVictory=function(){switch(this.mode){case Q.PlantCountLimit:case Q.PlantLoseLimit:break;case Q.SunCostCountDownLimit:if(!this.completed)return this.fail(),!1;break;case Q.SunCostLimit:break;case Q.SunProduceRequest:if(!this.completed)return this.fail(),!1;break;case Q.ZombieKillCountRequest:break;case Q.ZombieKillCountDown:if(!this.completed)return this.fail(),!1}return!0},s.playWarn=function(){this.completed||this.failed||(this.warnTween.forEach((function(t){t.stop()})),this.icon.node.scale=new d(1.2,1.2,1),this.red=200,this.warnTween=[p(this.icon.node).to(.5,{scale:new d(1,1,1)}).start(),p(this).to(.5,{red:0}).start()],S.playLevelTaskWarn())},s.changeObjdata=function(t,e){var i=this;if(t==this.mode&&!this.completed&&!this.failed)switch(t){case Q.PlantCountLimit:var o,n=this.startingObjdata.MaximumPlants-e.AllPlantCount;null==(o=f.mouseInLnC)||o.readIndex();var a=C.getStringByPropsWithoutTricks("InGameScene","Challenge","Left");this.count.string=a.replace("<COUNT>",n.toString());break;case Q.PlantLoseLimit:if(this.objdata.LeftPlantsToLose--,this.objdata.LeftPlantsToLose<0){this.objdata.LeftPlantsToLose=0;this.startingObjdata.MaximumPlantsLost;this.fail()}else 0==this.objdata.LeftPlantsToLose&&this.playWarn();var s=C.getStringByPropsWithoutTricks("InGameScene","Challenge","Left");this.count.string=s.replace("<COUNT>",this.objdata.LeftPlantsToLose.toString());break;case Q.SunCostCountDownLimit:this.objdata.LeftTime=this.startingObjdata.HoldoutSeconds;break;case Q.SunCostLimit:this.objdata.LeftSun-=e.CostSun,this.objdata.LeftSun<0?(this.fail(),this.objdata.LeftSun=0):this.objdata.LeftSun<=100&&this.playWarn();var r=C.getStringByPropsWithoutTricks("InGameScene","Challenge","Left");this.count.string=r.replace("<COUNT>",this.objdata.LeftSun.toString());break;case Q.SunProduceRequest:this.objdata.SunProduced+=e.SunProduceAdd,this.objdata.SunProduced>=this.startingObjdata.TargetSun&&(this.complete(),this.objdata.SunProduced=this.startingObjdata.TargetSun),this.count.string=this.objdata.SunProduced.toString()+"/"+this.startingObjdata.TargetSun.toString();break;case Q.ZombieKillCountRequest:break;case Q.ZombieKillCountDown:this.scheduleOnce((function(){i.completed||(i.objdata.KilledZombiesCount--,i.progress.progress=i.objdata.KilledZombiesCount/i.startingObjdata.ZombiesToKill,i.count.string=i.objdata.KilledZombiesCount.toString()+"/"+i.startingObjdata.ZombiesToKill.toString())}),this.startingObjdata.Time),this.objdata.KilledZombiesCount++;var l=this.objdata.KilledZombiesCount/this.startingObjdata.ZombiesToKill;l>=1&&this.complete(),this.progress.progress=l,this.count.string=this.objdata.KilledZombiesCount.toString()+"/"+this.startingObjdata.ZombiesToKill.toString()}},s.switchMode=function(t,e){var i;switch(t){case Q.PlantCountLimit:this.icon.spriteFrame=this.plantCountLimit,this.count.node.active=!0,this.progress.node.active=!1;var o=e.MaximumPlants,n=C.getStringByPropsWithoutTricks("InGameScene","Challenge","Left");this.count.string=n.replace("<COUNT>",o.toString()),this.objdata={};var a=C.getStringByPropsWithoutTricks("InGameScene","Challenge","PlantCountLimit");a=(a=a.replace("<PLANTCOUNT>",o.toString())).replace("<S>",o>1?"s":""),this.tip=a;break;case Q.PlantLoseLimit:this.icon.spriteFrame=this.plantLoseLimit,this.count.node.active=!0,this.progress.node.active=!1,this.objdata={LeftPlantsToLose:e.MaximumPlantsLost};var s=this.objdata.LeftPlantsToLose,r=C.getStringByPropsWithoutTricks("InGameScene","Challenge","Left");this.count.string=r.replace("<COUNT>",s.toString());var l=C.getStringByPropsWithoutTricks("InGameScene","Challenge","PlantLoseLimit");l=(l=l.replace("<PLANTCOUNT>",s.toString())).replace("<S>",s>1?"s":""),this.tip=l;break;case Q.SunCostCountDownLimit:this.icon.spriteFrame=this.sunCostCountDownLimit,this.count.node.active=!0,this.progress.node.active=!1;var u=e.HoldoutSeconds;this.count.string=this.getTimeStr(u),this.objdata={LeftTime:u};var c=C.getStringByPropsWithoutTricks("InGameScene","Challenge","SunCostCountdown");c=(c=c.replace("<TIME>",u.toString())).replace("<S>",u>1?"s":""),this.tip=c;break;case Q.SunCostLimit:this.icon.spriteFrame=this.sunCostLimit,this.count.node.active=!0,this.progress.node.active=!1;var h=e.MaximumSun,m=C.getStringByPropsWithoutTricks("InGameScene","Challenge","Left");this.count.string=m.replace("<COUNT>",h.toString()),this.objdata={LeftSun:h};var d=C.getStringByPropsWithoutTricks("InGameScene","Challenge","SunCostLimit");d=d.replace("<SUNCOUNT>",h.toString()),this.tip=d;break;case Q.SunProduceRequest:this.icon.spriteFrame=this.sunProduceRequest,this.count.node.active=!0,this.progress.node.active=!1,this.objdata={SunProduced:0};var p=e.TargetSun;this.count.string=this.objdata.SunProduced.toString()+"/"+p.toString();var g=C.getStringByPropsWithoutTricks("InGameScene","Challenge","SunProduceRequest");g=g.replace("<SUNCOUNT>",p.toString()),this.tip=g;break;case Q.ZombieKillCountRequest:this.icon.spriteFrame=this.zombieKillCount,this.count.node.active=!0,this.progress.node.active=!1;break;case Q.ZombieKillCountDown:this.icon.spriteFrame=this.zombieKillCount,this.count.node.active=!0,this.progress.node.active=!0,this.objdata={KilledZombiesCount:0},this.count.string=this.objdata.KilledZombiesCount.toString()+"/"+e.ZombiesToKill.toString(),this.progress.progress=0;var S=e.ZombiesToKill,L=e.Time,f=C.getStringByPropsWithoutTricks("InGameScene","Challenge","ZombieKillCountDown");f=(f=(f=(f=f.replace("<ZOMBIECOUNT>",S.toString())).replace("<ZS>",S>1?"s":"")).replace("<TIME>",L.toString())).replace("<TS>",L>1?"s":""),this.tip=f}this.mode=t,this.startingObjdata=e,null!=(i=this.tip)&&i.length&&b.uiingame.pushGamePreStartTip(this.tip)},s.getTimeStr=function(t){t<0&&(t=0);var e=Math.floor(t/60),i=e.toString();1==i.length?i="0"+i:0==i.length&&(i="00");var o=t-60*e,n=Math.floor(o).toString();return 1==n.length?n="0"+n:0==n.length&&(n="00"),i+":"+n},s.update=function(t){if(L.gaming&&!this.completed)switch(this.mode){case Q.SunCostCountDownLimit:this.objdata.LeftTime-=t,this.count.string=this.getTimeStr(this.objdata.LeftTime),this.objdata.LeftTime<=0&&this.complete()}},a(e,[{key:"red",get:function(){return this._red},set:function(t){this.icon.color=new m(255,255-t,255-t,255),this.count.color=new m(255,255-t,255-t,255),this._red=t}}]),e}(g)).prototype,"plantCountLimit",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(M.prototype,"plantLoseLimit",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(M.prototype,"sunCostLimit",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(M.prototype,"sunProduceRequest",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(M.prototype,"sunCostCountDownLimit",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(M.prototype,"zombieKillCount",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(M.prototype,"completeIcon",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(M.prototype,"failIcon",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(M.prototype,"completeOrFailSlot",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(M.prototype,"icon",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(M.prototype,"count",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(M.prototype,"progress",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=M))||z));s._RF.pop()}}}));

System.register("chunks:///_virtual/lightningCloud.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./Zombie.ts","./CharacterManager.ts","./NodePools.ts","./SoundRescourses.ts"],(function(t){var i,e,n,o,a,r,s,l,h,u,d,c,g,m,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.AudioClip,l=t.dragonBones},function(t){h=t.Character},function(t){u=t.ZombieDamageDetails,d=t.zombieDamageType},function(t){c=t.ZombiePool,g=t.TombPool},function(t){m=t.ArrayGet},function(t){f=t.sounds}],execute:function(){var b,p,y,T,v,w,S,D,L,P,A;a._RF.push({},"ca725n3XwpDrbvOa/hbYx8P","lightningCloud",void 0);var Z=r.ccclass,z=r.property;t("lightningCloud",(b=Z("lightningCloud"),p=z(Number),y=z(Number),T=z([s]),v=z([s]),b((D=i((S=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(i=t.call.apply(t,[this].concat(a))||this).targetZombie=void 0,i.targetTomb=void 0,i.tweening=null,i.fading=!1,n(i,"dps",D,o(i)),n(i,"liveDuration",L,o(i)),i.leftTime=15,i.switching=!1,n(i,"thunderSound",P,o(i)),n(i,"fadeSound",A,o(i)),i}e(i,t);var a=i.prototype;return a.characterOnLoad=function(){this.db.on(l.EventObject.FRAME_EVENT,this.animationListener,this)},a.hideLightnings=function(t){this.db.armature().getSlots().forEach((function(i){i.name.includes("LIGHTNING")&&i._setDisplayIndex(t)}))},a.getTarget=function(){var t=m.getRandom(c.pool());if(t)this.targetZombie=t;else{var i=m.randomize(g.pool()).find((function(t){return!t.hidden&&!t.hotpotatoTween}));i&&(this.targetTomb=i)}},a.animationListener=function(t){"move"==t.name&&(this.switching=!1,this.db.playAnimation("Idle")),"die"==t.name&&(this.db.playAnimation("Idle"),this.node.destroy())},a.characterOnEnable=function(){this.db.armature().getSlots().forEach((function(t){t.displayIndex=0})),this.fading=!1,this.targetTomb=null,this.targetZombie=null,this.leftTime=this.liveDuration,this.db.playAnimation("Spawn"),this.switching=!0},a.moveToTarget=function(t,i){var e=i.worldPosition.subtract(this.worldPosition),n=1e3*t;if(e.length()>n&&(e=e.normalize().multiplyScalar(n)),this.worldPositionX+=e.x,this.worldPositionY+=e.y,i.worldPosition.subtract(this.worldPosition).length()<=50){e.length()>50&&this.playThunderSound();var o=new u(this.dps*t,!0,!1,!1,null,d.electricity);this.targetZombie?(this.targetZombie.dealDamage(o),this.targetZombie.isAlive()||(this.targetZombie=null)):this.targetTomb&&(this.targetTomb.dealDamage(o.damage),this.targetTomb.isAlive()||(this.targetTomb=null)),this.hideLightnings(0)}else this.hideLightnings(-1)},a.characterOnDisable=function(){var t;null==(t=this.tweening)||t.stop()},a.fade=function(){var t;this.playFadeSound(),null==(t=this.tweening)||t.stop(),this.fading=!0,this.db.playAnimation("Fade"),this.hideLightnings(0)},a.characterOnLaneChange=function(t,i){this.node.setParent(i.prjLayer,!0)},a.characterUpdate=function(t){this.fading||this.switching||(this.targetZombie?this.moveToTarget(t,this.targetZombie):this.targetTomb?this.moveToTarget(t,this.targetTomb):(this.hideLightnings(-1),this.getTarget()),this.leftTime-=t,this.leftTime<=0&&this.fade())},a.playThunderSound=function(){f.playArray(this.thunderSound,1,.1)},a.playFadeSound=function(){f.playArray(this.fadeSound,1,.1)},i}(h)).prototype,"dps",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),L=i(S.prototype,"liveDuration",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),P=i(S.prototype,"thunderSound",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=i(S.prototype,"fadeSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=S))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/LightningReed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Zombie.ts","./NodePools.ts","./CharacterManager.ts","./Square.ts","./Tomb.ts","./lightningCloud.ts","./SoundRescourses.ts"],(function(n){var t,e,o,i,a,r,l,s,u,c,d,p,h,f,g,y,b,m,P,w,S,L,v;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,l=n.AudioClip,s=n.Prefab,u=n.Node,c=n.Vec3,d=n.Vec2,p=n.instantiate},function(n){h=n.Plant,f=n.PlantProps},function(n){g=n.Zombie,y=n.ZombieDamageDetails,b=n.zombieDamageType},function(n){m=n.NodePools},function(n){P=n.Rectangle},function(n){w=n.Square},function(n){S=n.Tomb},function(n){L=n.lightningCloud},function(n){v=n.sounds}],execute:function(){var C,D,x,R,A,_,k,z,j,E,F,O,q,I,N,T,M,U,H,W,B,V;a._RF.push({},"ccf60n8TrRPVbF6qWd8WsSa","LightningReed",void 0);var X=r.ccclass,Z=r.property,Y=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(t=n.call.apply(n,[this].concat(o))||this).Damage=10,t.SplashDamage=10,t.SplashCount=3,t.AttackInterval=.95,t.AttackIntervalAdditional=.1,t.PlantfoodDPS=200,t.PlantfoodDuration=15,t}return e(t,n),t}(f),G=n("lightningreed",function(){function n(){}return n.spawnParticleLink=function(n,t,e,o,i){var a=m.instantiatePooly(e);a.parent=i,a.worldPosition=new c(n.x,n.y),a.angle=Math.atan2(t.y-n.y,t.x-n.x)/Math.PI*180;for(var r=a.getChildByName("tail").worldPosition.clone(),l=new d(r.x-n.x,r.y-n.y),s=new d(t.x-r.x,t.y-r.y),u=0;l.y*s.y+l.x*s.x>0&&u<10;){var p=m.instantiatePooly(e);p.parent=a.parent,p.worldPosition=r,p.angle=a.angle,r=p.getChildByName("tail").worldPosition.clone(),s=new d(t.x-r.x,t.y-r.y),l=new d(r.x-n.x,r.y-n.y),u++}if(o){var h=m.instantiatePooly(o);h.parent=i,h.worldPosition=new c(t.x,t.y,10)}},n}()),J=(C=X("lightningreedSound"),D=Z([l]),x=Z([l]),R=Z([l]),C((k=t((_=function(){function n(){o(this,"attackSound",k,this),o(this,"foodSound",z,this),o(this,"foodEndSound",j,this)}var t=n.prototype;return t.playAttackSound=function(){v.playArray(this.attackSound,1,.2)},t.playFoodSound=function(){v.playArray(this.foodSound,1,.1)},t.playFoodEndSound=function(){v.playArray(this.foodEndSound,1,.1)},n}()).prototype,"attackSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(_.prototype,"foodSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(_.prototype,"foodEndSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=_))||A);n("LightningReedPlant",(E=X("LightningReed"),F=Z(J),O=Z(s),q=Z(s),I=Z(s),N=Z(u),E((U=t((M=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(t=n.call.apply(n,[this].concat(a))||this)._objdataOwn=new Y,o(t,"soundRes",U,i(t)),o(t,"lightningCloud",H,i(t)),t.detector=void 0,o(t,"hitParticle",W,i(t)),o(t,"linkParticle",B,i(t)),o(t,"particleSpawnPoint",V,i(t)),t.busy=0,t}e(t,n);var a=t.prototype;return a.specialPlantOnEnable=function(){},a.animationListener=function(n){"foodEnd"==n.name&&this.foodEnd()},a.playAttack=function(){var n=this;if(this.inLane){var t=this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()),e=this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool());if(t.length<=0&&e.length<=0)return;var o=null,i=1/0;if(t.forEach((function(t){var e=t.bodyRecForShooter,a=e.prjX().x;t.isAlive()&&e.judgeCrossRec(n.detector)&&a<i&&(o=t.node,i=a)})),e.forEach((function(t){var e=t.bodyRec,a=e.prjX().x;null!=t&&t.isAlive()&&e.judgeCrossRec(n.detector)&&a<i&&(o=t.node,i=a)})),o){var a,r;this.anmControl.playAnimation("Attack"),this.soundRes.playAttackSound(),this.busy=this._objdataOwn.AttackInterval+this._objdataOwn.AttackIntervalAdditional*Math.random(),this._cdScale&&(this.busy*=this._cdScale);var l=this.particleSpawnPoint.worldPosition,s=this.spawnParticle(new d(l.x,l.y),o),u=this._objdataOwn.Damage,c=this._objdataOwn.SplashDamage;this._dmgScale&&(u*=this._dmgScale,c*=this._dmgScale),null==(a=o)||null==(a=a.getComponent(g))||a.dealDamage(new y(u,!0,!1,!1,null,b.electricity)),null==(r=o)||null==(r=r.getComponent(S))||r.dealDamage(u);for(var p=[o],h=this._objdataOwn.SplashCount,f=function(){var n=null,t=p[m].getComponent(g),e=p[m].getComponent(S);t&&(n=t),e&&(n=e);var o=P.createRectangleCenter(new d(n.node.worldPosition.x,n.inLane.midY),3*w.SquareDisW,3*w.SquareDisH),i=[].concat(n.inLane.zombiePool(),n.inLane.UpperLane.zombiePool(),n.inLane.LowerLane.zombiePool(),n.inLane.tombPool(),n.inLane.UpperLane.tombPool(),n.inLane.LowerLane.tombPool()),a=null,r=1/0;if(i.forEach((function(n){var t=n.bodyRec,e=t.prjX().x;-1==p.indexOf(n.node)&&t.judgeCrossRec(o)&&e<r&&(a=n.node,r=e)})),!a)return 1;p.push(a)},m=0;m<h&&!f();m++);for(var L=1;L<p.length;L++){var v,C,D=this.spawnParticle(s,p[L]);null==(v=p[L])||null==(v=v.getComponent(g))||v.dealDamage(new y(c,!0,!1,!1,null,b.electricity)),null==(C=p[L])||null==(C=C.getComponent(S))||C.dealDamage(c),s=D}}}},a.specialPlantFood=function(n){this.anmControl.playAnimation("Food");var t=p(this.lightningCloud);t.parent=this.inLane.prjLayer;var e=t.getComponent(L);e.leftTime=this._objdataOwn.PlantfoodDuration,e.dps=this._objdataOwn.PlantfoodDPS,this._dmgScale&&(e.dps*=this._dmgScale),e.worldPosition=this.worldPosition,this.busy=1/0,this.soundRes.playFoodSound()},a.specialPlantFoodEnd=function(){this.busy=0,this.soundRes.playFoodEndSound()},a.setDetector=function(n){this.detector=P.createRectangleNodeSide(n.node,(9-n.cIndex)*w.SquareDisW,3*w.SquareDisH)},a.specialPlantOnSquareChange=function(n,t){this.setDetector(t)},a.spawnParticle=function(n,t){var e=30,o=t.getComponent(g);o?e=o.zombieHeight/2:o=t.getComponent(S);var i=new d(t.worldPosition.x,t.worldPosition.y+e);return G.spawnParticleLink(n,i,this.linkParticle,this.hitParticle,o.inLane.prjLayer),i},a.specialPlantUpdate=function(n,t,e){this.busy>0&&(this.busy-=n),this.busy<=0&&e>0&&(this.busy=0,this.playAttack())},t}(h)).prototype,"soundRes",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new J}}),H=t(M.prototype,"lightningCloud",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(M.prototype,"hitParticle",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(M.prototype,"linkParticle",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(M.prototype,"particleSpawnPoint",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=M))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/LilyPad.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./LnC.ts","./Plants.ts","./GridItem.ts","./Square.ts"],(function(n){var t,i,a,e,l,o,s,r,d,h,p,u,c,m;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,a=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){l=n.cclegacy,o=n._decorator,s=n.Node,r=n.Vec3},function(n){d=n.Plant},function(n){h=n.TileType},function(n){p=n.PlantEnum},function(n){u=n.GridItemEnum,c=n.GridItem},function(n){m=n.Square}],execute:function(){var P,f,C,I,L;l._RF.push({},"1b9c3GHtI9PObuuX4YmxksO","LilyPad",void 0);var y=o.ccclass,g=o.property;n("LilyPadPlant",(P=y("LilyPad"),f=g(s),P((L=t((I=function(n){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=n.call.apply(n,[this].concat(l))||this,a(t,"plantPoint",L,e(t)),t.planted=!1,t._gridItemComponent=void 0,t.oldIdle="",t.oldRand=[],t.animationWatered=!1,t}i(t,n);var l=t.prototype;return l.specialPlantOnSquareChange=function(n,t){var i;this.node.setParent(m.lilypadLayer,!0),null==(i=this._gridItemComponent)||i.setGridItemType([u.lilypad])},l.specialPlantDie=function(n){void 0===n&&(n=!1),n||this.plantInLnC.readTileType(),this.plantInLnC.returnPlantPoint(),this._gridItemComponent.delete()},l.spawnZombie=function(n,t){return!this.inLnC||isNaN(n)||isNaN(t)?[]:this.inLnC.spawnZombie(n,t,!0)},l.specialPlantOnLoad=function(){this.foodParent=m.lilypadLayer,this.getComponent(c)||this.addComponent(c),this._gridItemComponent=this.getComponent(c),this._gridItemComponent._component=this},l.specialPlantFood=function(n){var t=this;n&&[this.plantInLnC,this.plantInLnC.upper,this.plantInLnC.lefter,this.plantInLnC.righter,this.plantInLnC.lower].forEach((function(n){var i,a;(null!=n&&n.isInLawn()&&null!=n&&n.putPlantAvailable(!0,t.ID)&&(null==n||n.spawnPlantByPlantEnum(p.LilyPad)),null!=n&&n.haveLilyPad&&null!=n&&null!=(i=n.lilyPad)&&i.isValid)&&(null==n||null==(a=n.lilyPad)||null==(a=a.getComponent(d))||a.food(!1))})),this.foodEnd()},l.onCommonshotHit=function(n){return!1},l.addPlant=function(){!this.planted&&this.plantInLnC.haveP()&&(this.planted=!0,this.foodable=!1)},l.unPlant=function(){this.planted&&!this.plantInLnC.haveP()&&(this.planted=!1,this.foodable=!0)},l.animationListener=function(n){"FoodEnd"==n.name&&this.foodEnd()},l.specialPlantOnEnable=function(){this.planted=!1,this._gridItemComponent.register(),this.animationWatered=!1,this.oldRand=this.anmControl.RandomAnim,this.oldIdle=this.anmControl.IdleAnim},l.changeAnimation=function(n){n!=h.water||this.animationWatered?n!=h.water&&this.animationWatered&&(this.animationWatered=!1,this.anmControl.IdleAnim=this.oldIdle,this.anmControl.RandomAnim=this.oldRand,this.anmControl.playRandom()):(this.animationWatered=!0,this.anmControl.IdleAnim="Idle_Water",this.anmControl.RandomAnim=["Rand1_Water","Rand2_Water","Rand3_Water","Rand4_Water","Rand5_Water"],this.anmControl.playRandom())},l.getEaterDetectable=function(n){var t,i=this,a=!0;return n==h.water&&(null==(t=this.plantInLnC)||t.getAllPlants().forEach((function(n){a&&n!=i&&n.eaterDetectable&&(a=!1)})),a)},l.specialPlantUpdateForce=function(n,t,i){!this.dead&&this.plantInLnC&&this.plantInLnC.setPPWdPos(this.plantInLnC.plantPoint.worldPosition.clone().add(new r(0,this.plantPoint.worldPosition.y-this.worldPositionY,0)));var a=this.inLnC.getTileType();this.changeAnimation(a),this.eaterDetectable=this.getEaterDetectable(a),!this.planted&&this.plantInLnC.haveP()?this.addPlant():this.planted&&!this.plantInLnC.haveP()&&this.unPlant()},t}(d)).prototype,"plantPoint",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=I))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/LnC.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Square.ts","./UI.ts","./NodePools.ts","./CharacterManager.ts","./Particles.ts","./Plant.ts","./Lane.ts","./SoundRescourses.ts","./Zombie.ts","./levelController.ts","./PlantFoodCount.ts","./Tombs.ts","./Tomb.ts","./Plants.ts","./Sunflower.ts","./GroundFire.ts","./SandBoxLevelSettingWindow.ts","./Zombies.ts","./SandBoxZombieCards.ts","./Cards.ts","./CardFeatureTotal.ts","./PowerupFingers.ts","./LevelTaskCount.ts","./moldSquare.ts","./Tiles.ts","./flowerLine.ts","./railway.ts","./FrontYard.ts","./cart.ts","./Mouse.ts","./Tile.ts","./GridItem.ts","./TileLiquid.ts","./Character.ts","./DarkWizardSheep.ts","./SunCount.ts","./trapTile.ts","./AnimationController.ts","./Materials.ts"],(function(t){var e,i,n,o,a,l,r,s,h,d,c,u,p,f,P,v,m,w,y,g,L,I,S,b,C,T,x,k,D,E,q,_,B,F,A,O,M,G,U,R,N,z,j,W,Y,J,H,Z,X,V,K,Q,$,tt,et,it,nt,ot,at,lt,rt,st,ht,dt;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,o=t._decorator,a=t.Vec3,l=t.find,r=t.dragonBones,s=t.Vec2,h=t.instantiate,d=t.math,c=t.EventMouse,u=t.Color,p=t.Component},function(t){f=t.Square},function(t){P=t.UIInGame},function(t){v=t.NodePools,m=t.instantiatePooly,w=t.ArrayGet},function(t){y=t.Rectangle,g=t.PlantPool},function(t){L=t.groundFireParticles,I=t.tileLiquids,S=t.particle},function(t){b=t.PlantType,C=t.Plant},function(t){T=t.Lane},function(t){x=t.sounds},function(t){k=t.ZombieDamageDetails,D=t.zombieDamageType},function(t){E=t.LevelPlay},function(t){q=t.PlantFoodCount},function(t){_=t.TombEnum,B=t.tombs},function(t){F=t.Tomb},function(t){A=t.plants,O=t.PlantEnum},function(t){M=t.sunflower},function(t){G=t.GroundFireColorEnum,U=t.GroundFire,R=t.GroundFireSpreadStyleEnum},function(t){N=t.SandBoxLevelSettingWindow},function(t){z=t.zombies},function(t){j=t.SandBoxZombieCards},function(t){W=t.Cards},function(t){Y=t.CardFeatureTotal},function(t){J=t.PowerupFingers},function(t){H=t.LevelTaskCountModeEnum},function(t){Z=t.moldSquare},function(t){X=t.TileEnum,V=t.tiles},function(t){K=t.flowerLine},function(t){Q=t.railway},function(t){$=t.FrontYard},function(t){tt=t.cart},function(t){et=t.Mouse},function(t){it=t.Tile},function(t){nt=t.GridItemEnum},function(t){ot=t.TileLiquid},function(t){at=t.CharacterScale},function(t){lt=t.DarkWizardSheep},function(t){rt=t.SunCount},function(t){st=t.trapTile},function(t){ht=t.AnimationController},function(t){dt=t.materialRes}],execute:function(){var ct;n._RF.push({},"d770bq07m9CtYSeiXYu7H9t","LnC",void 0);var ut=o.ccclass,pt=(o.property,t("LnCSpawnZombieStyleEnum",function(t){return t[t.directPut=0]="directPut",t[t.fromLane=1]="fromLane",t[t.dirtSpawn=2]="dirtSpawn",t[t.sandStorm=3]="sandStorm",t[t.snowStorm=4]="snowStorm",t[t.amount=5]="amount",t}({}))),ft=t("TileType",function(t){return t[t.floor=0]="floor",t[t.sky=1]="sky",t[t.water=2]="water",t[t.sea=3]="sea",t[t.deck=4]="deck",t}({})),Pt=t("TileLiquidEnum",function(t){return t[t.none=0]="none",t[t.saplingJuice=1]="saplingJuice",t[t.butterJuice=2]="butterJuice",t[t.cranJellyJuice=3]="cranJellyJuice",t[t.softLava=4]="softLava",t[t.deadlyLava=5]="deadlyLava",t}({}));t("LnC",ut("LnC")(ct=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).iceTile=null,e.cIndex=-2,e.lIndex=-2,e.squareLower=void 0,e.RowParent=void 0,e.UIInGame=null,e.rec=y.createRectangleCenter(new s(0,0),0,0),e.zombieShields=[],e.oldTileLiquid=void 0,e.currentTileLiquid=Pt.none,e.tileLiquidCountdown=0,e._tileType=ft.floor,e.index=0,e.indexPoint=0,e.ghostPoint=null,e._plantPoint=null,e.orgPlantPoint=null,e.particleLowerPoint=null,e.potPoint=null,e.potPointUpper=null,e.vinePoint=null,e.vineBackPoint=null,e.buffParticlePoint=null,e.havePeaBuff=!1,e.peaBuffParticle=null,e.darkBuffParticle=null,e._shadowCD=0,e.plantInSquare=[],e.vineInSquare=[],e.tilePlantInSquare=[],e.imitaterInSquare=[],e.crackedTile=null,e.crackedTileSparkle=null,e._crackleCountdown=0,e.delayMouseDownPlantsOnCart=[],e.tilesInSquare=[],e._hotpotato=void 0,e.gridZombiesInSquare=[],e._tombParent=void 0,e.deadPlant=NaN,e.deadPlantGhost=null,e.sheep=null,e._iceprepare=void 0,e._iceblockPrepareLevel=0,e._lefter=void 0,e._righter=void 0,e._upper=void 0,e._lower=void 0,e.inLane=null,e.floawerPot=void 0,e.lilyPad=void 0,e.ppOldPos=void 0,e._tombStone=void 0,e.selectionDB=void 0,e.mold=null,e.rail=void 0,e.occupied=0,e.verticalElectricCountdown=0,e.verticalElectricDB=void 0,e.verticalElectricFooded=0,e.horizontalElectricCountdown=0,e.horizontalElectricDB=void 0,e.horizontalElectricFooded=0,e.centerElectricCountdown=0,e.centerElectricDB=void 0,e.centerElectricFooded=0,e.electricLineDamage=10,e}e(n,t);var o=n.prototype;return o.depth=function(){return this.deepwater?1.5:this.shallowwater||this.currentTileLiquid!=Pt.none?.1:0},o.addGroundFire=function(t,e,i,n,o){if(void 0===e&&(e=20),void 0===i&&(i=G.yellow),void 0===n&&(n=0),void 0===o&&(o=null),this.isInLawn()){var l=o;l||(l=L.getParticleByGFEnum(i));var r=v.instantiatePooly(l),s=r.getComponent(U);return s.spawnDelay=n,r.parent=this.inLane.prjLayer,r.worldPosition=this.node.worldPosition.clone().add(new a(0,-f.SquareDisH/2,0)),s.height=e,s.duration=t,s.inLnC=this,s}},o.addLaneFire=function(t,e,i,n,o,a,l,r){var s=this;void 0===e&&(e=20),void 0===i&&(i=G.yellow),void 0===n&&(n=R.split),void 0===o&&(o=9),void 0===a&&(a=9),void 0===l&&(l=!1),void 0===r&&(r=null);var h=[],d=[],c=this.addGroundFire(t,e,i,0,r);c&&d.push(c);for(var u=0;u<a;u++){if(n!=R.right){for(var p,f=this,P=0;P<u;P++){var v;f=null==(v=f)?void 0:v.lefter}null!=(p=f)&&p.isInLawn()&&(l||f.tileType!=ft.sky&&f.tileType!=ft.sea)&&h.push(f)}if(n!=R.left){for(var m,w=this,y=0;y<u;y++){var g;w=null==(g=w)?void 0:g.righter}null!=(m=w)&&m.isInLawn()&&(l||w.tileType!=ft.sky&&w.tileType!=ft.sea)&&h.push(w)}if(n==R.cross){for(var L,I,S=this,b=0;b<u;b++){var C;S=null==(C=S)?void 0:C.upper}null!=(L=S)&&L.isInLawn()&&(l||S.tileType!=ft.sky&&S.tileType!=ft.sea)&&h.push(S);for(var T=this,x=0;x<u;x++){var k;T=null==(k=T)?void 0:k.lower}null!=(I=T)&&I.isInLawn()&&(l||T.tileType!=ft.sky&&T.tileType!=ft.sea)&&h.push(T)}}return h.forEach((function(n){if(n!=s){var a=Math.max(Math.abs(n.cIndex-s.cIndex),Math.abs(n.lIndex-s.lIndex))/o,l=n.lIndex==s.lIndex,h=n.addGroundFire(t,e,i,a,r);h.horizontal=l,d.push(h)}})),d},o.onLoad=function(){var t;switch(this.UIInGame=l("Canvas/UIInGame").getComponent(P),this.node.name){case"SquaresThere":this.lIndex=-1;break;case"SquaresHere":this.lIndex=5;break;case"SquaresLeft":this.cIndex=-1;break;case"SquaresRight":this.cIndex=9}this.selectionDB=null==(t=this.node)||null==(t=t.getChildByName("Select"))?void 0:t.getComponent(r.ArmatureDisplay),this.plantInSquare=[],this.rail=null,this.vineInSquare=[],this.tilePlantInSquare=[],this.occupied=0,this.mold=null,this.havePeaBuff=!1,this.peaBuffParticle=null,this.shadowCD=0,this.darkBuffParticle=null,this.tombStone=null,this.indexPoint=0,this.ghostPoint=this.node.getChildByName("PlantPoint")},o.addTileLiquid=function(t,e){if(this.isInLawn()&&(this.tileType==ft.deck||this.tileType==ft.floor)){if(t>this.currentTileLiquid){var i;null==(i=this.oldTileLiquid)||i.die();var n=null;switch(t){case Pt.saplingJuice:n=v.instantiatePooly(I.sapflingJuice());break;case Pt.butterJuice:n=v.instantiatePooly(I.butterJuice());break;case Pt.cranJellyJuice:n=v.instantiatePooly(I.cranJellyJuice());break;case Pt.softLava:n=v.instantiatePooly(I.softLava());break;case Pt.deadlyLava:n=v.instantiatePooly(I.deadlyLava())}n&&(n.parent=this.inLane.tileLiquidLayer,n.worldPosition=this.node.worldPosition,this.oldTileLiquid=n.getComponent(ot),this.tileLiquidCountdown=e,this.oldTileLiquid&&(this.oldTileLiquid.liquidID=t,this.oldTileLiquid.setInLnC(this),this.currentTileLiquid=t,t==Pt.deadlyLava&&this.getAllPlants().forEach((function(t){t.pushTideListener()}))))}else t==this.currentTileLiquid&&(this.tileLiquidCountdown=this.tileLiquidCountdown>e?this.tileLiquidCountdown:e);this.readIndex()}},o.getAllPlants=function(t,e,i){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0);return t?this.vineInSquare.concat(this.plantInSquare,this.imitaterInSquare,i&&this.floawerPot&&this.haveFloawerPot?[this.floawerPot]:[],e&&this.haveLilyPad?[this.lilyPad]:[],this.tilePlantInSquare):this.tilePlantInSquare.concat(e&&this.haveLilyPad&&this.lilyPad?[this.lilyPad]:[],i&&this.floawerPot&&this.haveFloawerPot?[this.floawerPot]:[],this.imitaterInSquare,this.plantInSquare,this.vineInSquare)},o.setTileType=function(t){if(this.tileType!=t){var e=this.tileType;this.tileType=t,e!=t&&this.readTileType(e,t)}},o.readTileType=function(t,e){var i,n=this;void 0===t&&(t=this.tileType),void 0===e&&(e=this.tileType),this.getAllPlants().forEach((function(i){i.onTileTypeChange(n,t,e)})),this.tilesInSquare.forEach((function(t){n.tileExistable(t.tileID,!1)||(t.inLnC=null)}));var o,a=this.tileType==ft.water?"Idle_Water":"Idle";(null==(i=this.crackedTileSparkle)||i.playAnimation(a,1/0),e!=ft.deck&&e!=ft.floor)&&(this.iceTile&&this.iceTile.die(),9==this.cIndex&&[0,1,2,3,4].forEach((function(t){var e;null==(e=f.getLane(t).getComponent(T).iceTile)||e.die()})),null==(o=this.oldTileLiquid)||o.die(),this.oldTileLiquid=null,this.currentTileLiquid=Pt.none,this.tileLiquidCountdown=0);this.tombStone&&!this.tombable(!1,!1)&&this.tombStone.die(),this.readIndex()},o.getTileType=function(){return this.tileType},o.explodeSqudow1x1=function(t){var e,i,n=this,o=y.createRectangleNodeCenter(this.node,2*f.SquareDisW,f.SquareDisH);E.shakeScreen(),null==(e=this.inLane)||e.zombiePool().forEach((function(e){!e.flying&&o.judgeCrossRec(e.bodyRecReal)&&e.dealDamage(new k(t,!1,!1,!1,new s(e.worldPositionX-n.node.worldPosition.x,e.zombieHeight+e.height).normalize().multiplyScalar(25),D.potatoMine,!0,!0))})),null==(i=this.tombStone)||i.dealDamage(t),x.playSpudow();var a=v.instantiatePooly(S.spudow());a.parent=this.inLane.prjLayer,a.worldPosition=this.plantPoint.worldPosition},o.explodeCherry3x3=function(t,e,i,n){var o,l=this;void 0===e&&(e=!1),void 0===i&&(i=null),void 0===n&&(n=null);var r=y.createRectangleNodeCenter(this.node,3*f.SquareDisW,3*f.SquareDisH);E.shakeScreen();var h=[];null==(o=this.inLane)||o.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(t){r.judgeCrossRec(t.bodyRecReal)&&-1==h.indexOf(t)&&h.push(t)})),h.forEach((function(e){var i=new k(t,!1,!1,!1,new s(e.worldPositionX-l.node.worldPosition.x,e.zombieHeight+e.height).normalize().multiplyScalar(25),D.fire,!0,!0);i.bugKiller=!0,e.dealDamage(i)})),this.get3x3().forEach((function(e){var i;null==(i=e.tombStone)||i.dealDamage(t)})),n?x.play(n,1,.1):x.playExplosion(),i||(i=S.explosion(e));var d=v.instantiatePooly(i);if(d.parent=this.inLane.prjLayer,d.worldPosition=this.plantPoint.worldPosition,d.scale=new a(.7,.7,.7),this.tileType==ft.floor||this.tileType==ft.deck||this.tileType==ft.water){var c=v.instantiatePooly(S.explosionRear());c.parent=this.inLane.tileLiquidLayer,c.worldPosition=this.node.worldPosition}},o.explodeSpudow3x3=function(t){var e,i=this,n=y.createRectangleNodeCenter(this.node,3*f.SquareDisW,3*f.SquareDisH);E.shakeScreen();var o=[];null==(e=this.inLane)||e.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(t){!t.flying&&n.judgeCrossRec(t.bodyRecReal)&&-1==o.indexOf(t)&&o.push(t)})),o.forEach((function(e){e.dealDamage(new k(t,!1,!1,!1,new s(e.worldPositionX-i.node.worldPosition.x,e.zombieHeight+e.height).normalize().multiplyScalar(25),D.potatoMine,!0,!0))})),this.get3x3().forEach((function(e){var i;null==(i=e.tombStone)||i.dealDamage(t)})),x.playSpudow(),x.playExplosion();var a=v.instantiatePooly(S.spudowPrimal());a.parent=this.inLane.prjLayer,a.worldPosition=this.plantPoint.worldPosition},o.update=function(t){var e=this;if(this.dealElectric(),this.crackleCountdown>0&&(this.tileType==ft.floor||this.tileType==ft.deck||this.tileType==ft.water?this.crackleCountdown-=t:this.crackleCountdown=0),this.tileLiquidCountdown>0){this.tileLiquidCountdown;this.tileLiquidCountdown-=t;var i;this.tileLiquidCountdown;if(this.currentTileLiquid==Pt.saplingJuice)this.inLane.zombiePool().forEach((function(t){t.flying||t.objdataOwnOrg.CannotBeDetectedBySapfling||!e.rec.judgeCrossRec(t.bodyRecReal)||(t.sapflingCD=4)}));else if(this.currentTileLiquid==Pt.butterJuice){var n=null;this.inLane.zombiePool().forEach((function(t){t.shouldSpeedScale()*t.randomSpeed>0&&!t.flying&&e.rec.judgeCrossRec(t.bodyRecReal)&&(!n||n.bodyRecReal.prjX().x>t.bodyRecReal.prjX().x)&&(n=t)})),n&&(n.setButter(8,!0),this.tileLiquidCountdown=0)}else if(this.currentTileLiquid==Pt.softLava){var o,a,l=new k(50*t,!0,!1,!1,null,D.fire);this.inLane.zombiePool().forEach((function(t){!t.flying&&e.rec.judgeCrossRec(t.bodyRecReal)&&t.dealDamage(l)})),x.playLavaIdle(),null==(o=this.tombStone)||o.dealDamage(l.damage),null==(a=this.iceTile)||a.die()}else if(this.currentTileLiquid==Pt.deadlyLava){var r,s,h=new k(100*t,!0,!1,!1,null,D.fire);this.inLane.zombiePool().forEach((function(t){!t.flyZombie&&e.rec.judgeCrossRec(t.bodyRecReal)&&t.dealDamage(h)})),x.playLavaIdle(),null==(r=this.tombStone)||r.dealDamage(h.damage),null==(s=this.iceTile)||s.die()}if(this.tileLiquidCountdown<=0)this.currentTileLiquid==Pt.deadlyLava&&x.playLavaFade(),this.currentTileLiquid=Pt.none,null==(i=this.oldTileLiquid)||i.die(),this.oldTileLiquid=null,this.readIndex()}if(this.shadowCD>0&&(this.shadowCD-=t),this.occupied>0&&(this.occupied-=.01,this.occupied<=0&&this.readIndex()),this.iceblockPrepareLevel){var d=this.getAllPlants();d.length&&!d.some((function(t){return!t.canbeIceBlocked()}))||(this.iceblockPrepareLevel=0)}},o.addBuff=function(t,e){if(void 0===e&&(e=!0),!(!this.buffParticlePoint||this.lIndex>4||this.lIndex<0||this.cIndex<0||this.cIndex>8))switch(t){case"peaBuff":if(e&&!this.havePeaBuff){this.havePeaBuff=!0;var i=v.instantiatePooly(S.peaBuff());this.peaBuffParticle=i.getComponent(r.ArmatureDisplay),this.peaBuffParticle.playAnimation("Idle"),i.parent=this.particleLowerPoint,i.worldPosition=this.node.worldPosition,i.setSiblingIndex(0)}else!e&&this.havePeaBuff&&(this.havePeaBuff=!1,this.peaBuffParticle.playAnimation("Die"),this.peaBuffParticle=null)}},o.setShadowBuff=function(t,e){void 0===e&&(e=!0);var i=this._shadowCD;this.shadowCD=t>this._shadowCD?t:this._shadowCD,e&&i<=0&&this._shadowCD>0&&x.playTileShadowSpawn()},o.haveP=function(){return this.plantInSquare.length>0||this.vineInSquare.length>0},o.playPlantSpawnParticle=function(){if(this.tileType==ft.floor||this.tileType==ft.deck){var t=v.instantiatePooly(S.plantDirts());t.parent=this.inLane.node,t.worldPosition=this.plantPoint.worldPosition,t.getComponent(r.ArmatureDisplay).playAnimation("Plant",1)}this.tileType==ft.water?x.playPlantOnWater():x.playPlantOnFloor()},o.spawnPlantByPlantEnum=function(t,e,i,n,o,a){var l;if(void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===o&&(o=!0),void 0===a&&(a=!1),this.isInLawn()){var r=this.replantable(t);if(r||!e||this.putPlantAvailable(i,t)){if(!(null!=(l=this.UIInGame)&&l.getLevelTaskStartingObject(H.PlantCountLimit)&&!r&&this.UIInGame.getLevelTaskStartingObject(H.PlantCountLimit).MaximumPlants<=g.getPlantAmount()&&o)){var d;if(r)return r.replant(),null==(d=this.UIInGame)||d.calculateLevelTask(H.PlantCountLimit,{AllPlantCount:g.getPlantAmount()}),n&&this.playPlantSpawnParticle(),r;var c,u=h(a?A.getPlantsInCard(O.Imitater).plantPLANT:A.getPlantsInCard(t).plantPLANT),p=A.getPlantFeature(t),f=b.plant,v=!1,w=!1,y=!1,L=!1,I=!1;this.plantPoint;-1!=p.TYPE.indexOf("vine")?f=b.vine:-1!=p.TYPE.indexOf("floawerPot")?f=b.pot:-1!=p.TYPE.indexOf("lilypad")?f=b.lilyPad:-1!=p.TYPE.indexOf("tile")&&(f=b.tile),-1!=p.TYPE.indexOf("fly")&&(v=!0),-1!=p.TYPE.indexOf("aquatic")&&(w=!0),-1!=p.TYPE.indexOf("deepAquatic")&&(y=!0),-1!=p.TYPE.indexOf("amphibious")&&(L=!0),-1!=p.TYPE.indexOf("potatomine")&&(I=!0);var T=!0,k=u.getComponent(C);k.ID=t;var D=A.getPlantProps(t);D&&(k.objdata=D),k.worldPositionX=this.node.worldPosition.x,k.worldPositionY=this.plantPoint.worldPosition.y;var q=!0,_=!1;if(E.component.plantModifiers.forEach((function(e){_||(q=!e.SuppressParticle,e.List.forEach((function(e){e.ID==t&&(k.modObjdataOwn(e.NewObjdata),_=!0)})))})),k.plantInLnC=this,k.flyingPlant=v,k.aquaticPlant=w,k.deepAquatic=y,k.amphibiousPlant=L,k.potatoPlant=I,k.TYPE=p.TYPE.concat(),k.SUNCOST=D.SunCost,k.toughness=k.objdataOwn.Toughness,k.allowStack=-1!=p.TYPE.indexOf("allowOverlap"),k.getFamily(D.Family),f==b.pot)u.parent=this.potPoint,this.floawerPot=k,null==k||k.anmControl.addPotFront(this.potPointUpper),k.plantType=b.pot;else if(f==b.lilyPad)u.parent=this.potPoint,this.lilyPad=k,k.plantType=b.lilyPad;else if(f==b.vine)u.parent=this.vinePoint,u.setPosition(0,0),null==k||k.anmControl.addVineBack(this.vineBackPoint),this.pushVine(k),k.plantType=b.vine;else if(f==b.tile)u.parent=this.plantPoint,u.setPosition(0,0),T=!1,this.pushTile(k),k.plantType=b.tile;else{var B;u.parent=this.plantPoint,u.setPosition(0,0),null==(B=k.anmControl)||B.addPlantUpper(this.inLane.plantUpperLayer),this.pushPlant(k),k.plantType=b.plant}if(k.worldPosition=new s(k.node.parent.worldPosition.x,k.node.parent.worldPosition.y),k.plantInLnC=this,T&&(null==(c=this.UIInGame)||c.calculateLevelTask(H.PlantCountLimit,{AllPlantCount:g.getPlantAmount()})),k&&n&&this.playPlantSpawnParticle(),a&&k&&(k.willImitateID=this.UIInGame.currentPlantName),null==k||k.readLastDeadPlantInLnC(this,this.deadPlant),k.judgeInLnC(),this.readIndex(),q&&_){var F=m(S.strengthenPlant());F.parent=this.plantPoint,F.worldPosition=this.node.worldPosition,F.setSiblingIndex(0),x.playPlantStrengthen()}return null==k||k.anmControl.readCostume(t),this.deadPlant=NaN,k}P.uiingame.warnLevelTask(H.PlantCountLimit)}}},o.readIndex=function(){var t=this;this.lIndex>=0&&this.lIndex<=4&&this.cIndex>=0&&this.cIndex<=8&&(this.selection(),this.readDeadPlant(),this.plantGhost(),this.tilesInSquare.forEach((function(e){e.onLnCCall(t)})))},o.plantGhost=function(){var t,e,i,n,o,l;if(null==(t=this.ghostPoint)||t.destroyAllChildren(),this.indexPoint)if(null!=(null==(e=this.UIInGame)?void 0:e.currentPlantName)&&(null==(i=this.UIInGame)?void 0:i.index)<=8&&(null==(n=this.UIInGame)?void 0:n.index)>-1&&this.putPlantAvailable(!0,P.uiingame.currentPlantName)&&this.index){var s,c,u,p=h(A.getPlantsInCard(null==(s=this.UIInGame)?void 0:s.currentPlantName).plantDIS);if(!p)return;p.parent=this.ghostPoint,p.worldPosition=this.plantPoint.worldPosition.clone(),null!=(c=P.uiingame)&&c.currentPlantStartingHeight&&(p.worldPosition=new a(p.worldPosition.x,p.worldPosition.y+P.uiingame.currentPlantStartingHeight,p.worldPosition.z)),d.Color.set(p.getChildByName("Body").getComponent(r.ArmatureDisplay).color,255,255,255,150);var v=p.getComponent(ht);v.playRandom(0,0),v.timeScale=0,v.selfFixTimeScale=!0,v.readCostume(null==(u=this.UIInGame)?void 0:u.currentPlantName)}else if(1!=f.lncSelectionMode&&null!=(o=this.UIInGame)&&o.currentSniperPlant&&-4==(null==(l=this.UIInGame)?void 0:l.index)){var m,w=h(null==(m=this.UIInGame)||null==(m=m.currentSniperPlant)?void 0:m.locator);if(!w)return;w.parent=this.ghostPoint,w.worldPosition=this.node.worldPosition,d.Color.set(w.getComponent(r.ArmatureDisplay).color,255,255,255,150),w.getComponent(r.ArmatureDisplay).timeScale=0}},o.onMouseEnter=function(){var t;this.isInLawn()&&(this.indexPoint=1,this.plantGhost(),null==(t=f.component)||t.readIndex())},o.onMouseLeave=function(){var t;this.isInLawn()&&(this.indexPoint=0,this.plantGhost(),null==(t=f.component)||t.readIndex(),this.delayMouseDownPlantsOnCart=[])},o.plantMouseReact=function(t,e){void 0===e&&(e=this.getAllPlants(!1));var i=!1,n=!1,o=e;if(o.forEach((function(e){t.getButton()==c.BUTTON_MIDDLE&&e.foodable&&!e.fooding&&E.gameStarted?q.plantFoodNum>0||N.freePF?e.food()&&(n=!0):q.plantfoodWarn():(i||e.onMouseDown(t))&&(i=!0)})),o.length>0&&E.sandBoxModeOn&&t.getButton()==c.BUTTON_RIGHT&&E.gameStarted){var a=o[o.length-1].ID,l=N.plantList.indexOf(a);if(-1==l)return;W.cardsController.seedPackets.forEach((function(t,e){var i=t.getComponent(Y),n=(l+e)%N.plantList.length;i.cardGrouper(N.plantList[n])}))}return n&&(q.component.plantFoodDec(),this.tilesInSquare.forEach((function(t){t.onFoodedByPlayer()}))),i},o.onMouseUp=function(t){this.isInLawn()&&(t.preventSwallow=!0,this.delayMouseDownPlantsOnCart.forEach((function(e){e.onMouseDown(t)})),this.delayMouseDownPlantsOnCart=[],et.followingCart=null)},o.onMouseDown=function(t,e){var i,n;if(t.preventSwallow=!0,this.isInLawn()){var o,a=null==(i=this.rail)?void 0:i.haveCartInLnC(this);if(-1==P.index&&a&&t.getButton()==c.BUTTON_LEFT)this.delayMouseDownPlantsOnCart=this.getAllPlants(!1),et.followingCart=a;else if(e&&-1==P.index&&this.plantMouseReact(t))return;if(-4==P.index&&t.getButton()==c.BUTTON_LEFT&&E.gameStarted)null==(o=P.uiingame.currentSniperPlant)||o.trigger(this),P.uiingame.MouseListenOffThisTick=!0;if(-5==P.index&&4==J.component.index&&t.getButton()==c.BUTTON_LEFT&&E.gameStarted&&this.explodeCherry3x3(1800,!1),9==P.index&&t.getButton()==c.BUTTON_LEFT&&E.gameStarted){this.spawnZombie(j.component.currentID,N.zombieSpawnStyle,!1,.5,0,{},!0,1==P.uiingame.currentSBZombieDirection,2==P.uiingame.currentSBZombieDirection);P.uiingame.MouseListenOffThisTick=!0}if(this.index){if(t.getButton()==c.BUTTON_LEFT)if(P.index<=8&&this.UIInGame.index>-1){this.spawnPlant();P.uiingame.MouseListenOffThisTick=!0}else-2==P.index?(this.removePlant(),P.uiingame.MouseListenOffThisTick=!0):E.gameStarted&&-3==P.index&&(this.plantfood(),P.uiingame.MouseListenOffThisTick=!0);(P.index<=8&&P.index>-1||-2==P.index)&&(this.index=0,P.uiingame.MouseListenOffThisTick=!0)}null==(n=f.component)||n.readIndex()}},o.onMouseScroll=function(t){var e,i=this,n=t.getScrollY();if(null!=(e=this.rail)&&e.carts){for(var o=[],a=function(t){i.rail.carts.forEach((function(e){e.inLnC.lIndex==t&&o.push(e)}))},l=0;l<5;l++)a(l);n>0?o.forEach((function(t){t.moveUp()})):n<0&&o.reverse().forEach((function(t){t.moveDown()}))}E.sandBoxModeOn&&this.getAllPlants().forEach((function(t){n>0?t.anmControl.rollCostumeUpFree(A.getPlantFeature(t.ID).COSTUME):t.anmControl.rollCostumeDownFree(A.getPlantFeature(t.ID).COSTUME)}))},o.isFloorOrDeck=function(){return this.tileType==ft.floor||this.tileType==ft.deck},o.tilePutable=function(t,e){if(void 0===e&&(e=!0),!this.tileExistable(t,e))return!1;if(this.iceTile)return!1;if(!this.isFloorOrDeck())return!1;if(this.crackleCountdown>0)return!1;if(this.occupied>0)return!1;if(this.tilePlantInSquare.length)return!1;var i=!1;return this.getAllPlants().forEach((function(t){(i||t.endangered)&&(i=!0)})),!i},o.tileExistable=function(t,e){void 0===e&&(e=!0);var i=this._tileType;return t==X.endangered||(i==ft.deck||i==ft.floor)&&(!e||!this.tilesInSquare[0])},o.putTile=function(t,e,i){if(void 0===i&&(i=!0),!i||this.tilePutable(t,!0))switch(t){case X.foodLinker:var n=V.foodLinkTile(e);return n.node.parent=this.inLane.tileLayer,n.tileID=X.foodLinker,n.inLnC=this,this.readIndex(),n;case X.goldtile:var o=m(V.goldTile()).getComponent(it);return o.node.parent=this.inLane.tileLayer,o.tileID=X.goldtile,o.inLnC=this,this.readIndex(),o;case X.trap_bouldertile_forward:case X.trap_bouldertile_backward:var a=m(V.trapBoulderTile()).getComponent(st);a.node.parent=this.inLane.tileLayer,a.tileID=t,a.inLnC=this;var l=+e.RecoverDelay;return isNaN(l)&&(l=7.5),a.triggerInterval=l,this.readIndex(),a;case X.trap_firetile:var r=m(V.trapFireTile()).getComponent(st);r.node.parent=this.inLane.tileLayer,r.tileID=t,r.inLnC=this;var s=+e.RecoverDelay;return isNaN(s)&&(s=7.5),r.triggerInterval=s,this.readIndex(),r;case X.sliderUp:var h=m(V.sliderUpTile()).getComponent(it);return h.node.parent=$.sliderFloaterLayer,h.tileID=X.sliderUp,h.inLnC=this,h;case X.sliderDown:var d=m(V.sliderDownTile()).getComponent(it);return d.node.parent=$.sliderFloaterLayer,d.tileID=X.sliderDown,d.inLnC=this,d;case X.deepwater:var c=m(V.deepWaterTile()).getComponent(it);return c.node.parent=$.sliderLayer,c.tileID=X.deepwater,c.inLnC=this,c;case X.shallowwater:var u=m(V.shallowWaterTile()).getComponent(it);return u.node.parent=this.inLane.tileLiquidLayer,u.tileID=X.shallowwater,u.inLnC=this,u}},o.removeTiles=function(){this.tilesInSquare.concat().forEach((function(t){t.inLnC=null}))},o.putPlantAvailable=function(t,e,i){var n,o;void 0===t&&(t=!0),void 0===e&&(e=P.uiingame.currentPlantName),void 0===i&&(i=!0);var a=null==(n=A.getPlantFeature(e))?void 0:n.TYPE;if(e==O.Imitater)return!0;if(this.mold||this.slider||this.sheep||this.occupied>0||!this.isInLawn()||null==a||!a.length||!this.kingAllowPlant(e)||this._crackleCountdown>0||t&&this.currentTileLiquid==Pt.softLava||this.currentTileLiquid==Pt.deadlyLava)return!1;if(P.index>=0&&P.index<=8&&null!=(o=this.UIInGame)&&o.getLevelTaskStartingObject(H.PlantCountLimit)&&this.UIInGame.getLevelTaskStartingObject(H.PlantCountLimit).MaximumPlants<=g.getPlantAmount())return P.uiingame.warnLevelTask(H.PlantCountLimit),!1;var l=!1;-1!=a.indexOf("allowOverlap")&&(l=!0);var r=!1;return-1!=a.indexOf("deepAquatic")&&(r=!0),-1!=a.indexOf("deadPlant")?this.regeneratable():-1!=a.indexOf("plant")?this.plantable(t&&!l,e,i):-1!=a.indexOf("aquatic")?this.kelpable(t&&!l,e,i,r):-1!=a.indexOf("potion")?this.potionable(t&&!l,e,i):-1!=a.indexOf("vine")?this.vineable(t&&!l,e,i):-1!=a.indexOf("floawerPot")?this.floawerPotable(t&&!l,e,i):-1!=a.indexOf("lilypad")?this.lilyPadable(t&&!l,e,i):-1!=a.indexOf("spikeweed")?this.spikeweedable(t&&!l,e,i):-1!=a.indexOf("potatomine")?this.potatomineable(t&&!l,e,i):-1!=a.indexOf("gravebuster")?this.gravebusterable(t&&!l,e,i):-1!=a.indexOf("hotpotato")?this.hotpotatoable(t&&!l,e,i):-1!=a.indexOf("fly")?this.flyable(t&&!l,e,i):-1!=a.indexOf("amphibious")?this.swimmable(t&&!l,e,i):-1!=a.indexOf("powertile")?this.tilePutable(X.foodLinker,!0):-1!=a.indexOf("goldtile")&&this.tilePutable(X.goldtile,!0)},o.plantable=function(t,e,i){var n;void 0===i&&(i=!0);var o=!0;return this.plantInSquare.forEach((function(t){o&&(t.allowStack&&e!=t.ID||(o=!1))})),!(t&&!o||this.rail&&null==(null==(n=this.rail)?void 0:n.haveCartInLnC(this))||this.tombStone||i&&this.tileType==ft.water&&!this.haveLilyPad&&!this.haveFloawerPot||i&&this.tileType==ft.sky&&!this.haveFloawerPot||this.iceTile||this.tileType==ft.sea)},o.vineable=function(t,e,i){var n;return!(t&&this.vineInSquare.length>0||this.rail&&null==(null==(n=this.rail)?void 0:n.haveCartInLnC(this))||this.tombStone||i&&this.tileType==ft.water&&!this.haveLilyPad&&!this.haveFloawerPot||i&&this.tileType==ft.sky&&!this.haveFloawerPot||this.iceTile||this.tileType==ft.sea)},o.isDeepWater=function(){return this.deepwater||$.getTidePos()<=this.cIndex},o.kelpable=function(t,e,i,n){var o;void 0===t&&(t=!0),void 0===n&&(n=!1);var a=!0;return this.plantInSquare.forEach((function(t){a&&(t.allowStack&&e!=t.ID||(a=!1))})),(!n||this.isDeepWater())&&!(t&&!a||this.rail&&null==(null==(o=this.rail)?void 0:o.haveCartInLnC(this))||this.tombStone||this.haveLilyPad||this.haveFloawerPot||this.iceTile)&&(!i||this.tileType==ft.water)},o.floawerPotable=function(t,e,i){return!(t&&this.vineInSquare.length>0||t&&this.plantInSquare.length>0||this.haveLilyPad||t&&this.haveFloawerPot||this.rail||this.tombStone||i&&this.tileType==ft.sea||this.iceTile)},o.flyable=function(t,e,i){var n;void 0===t&&(t=!0);var o=!0;return this.plantInSquare.forEach((function(t){o&&(t.allowStack||(o=!1))})),!(t&&!o||this.rail&&null==(null==(n=this.rail)?void 0:n.haveCartInLnC(this))||this.tombStone||i&&this.tileType==ft.sea||this.iceTile)},o.swimmable=function(t,e,i){var n;void 0===t&&(t=!0);var o=!0;return this.plantInSquare.forEach((function(t){o&&(t.allowStack||(o=!1))})),!(t&&!o||this.rail&&null==(null==(n=this.rail)?void 0:n.haveCartInLnC(this))||this.tombStone||i&&this.tileType==ft.sea||i&&this.tileType==ft.sky&&!this.haveFloawerPot||this.iceTile)},o.lilyPadable=function(t,e,i){var n;void 0===t&&(t=!0);var o=!1;return t&&this.getAllPlants(!0,!1,!1).forEach((function(t){o||(t.aquaticPlant||t.potatoPlant)&&(o=!0)})),!(t&&this.haveLilyPad||this.haveFloawerPot||this.rail&&null==(null==(n=this.rail)?void 0:n.haveCartInLnC(this))||this.tombStone||o||this.cIndex<9-E.maxTideDistance&&!this.deepwater&&!this.shallowwater||i&&this.tileType==ft.sea||i&&this.tileType==ft.sky||this.iceTile)},o.spikeweedable=function(t,e,i){return void 0===t&&(t=!0),this.plantable(t,e,i)&&!this.haveLilyPad&&!this.haveFloawerPot},o.potionable=function(t,e,i){return void 0===t&&(t=!0),this.plantable(t,e,i)&&!(t&&this.getAllPlants().length)},o.potatomineable=function(t,e,i){return void 0===t&&(t=!0),this.plantable(t,e,i)&&!this.haveLilyPad&&(this.tileType!=ft.deck||this.haveFloawerPot)},o.gravebusterable=function(t,e,i){var n;return null!=this.tombStone&&(null==(n=this.tombStone)?void 0:n.bustable)&&this.getAllPlants().length<=0&&(!i||this.isFloorOrDeck())},o.hotpotatoable=function(t,e,i){var n;return!this._hotpotato&&null!=this.tombStone&&(null==(n=this.tombStone)?void 0:n.hotpotato)&&!this.tombStone.hotpotatoTween},o.replantable=function(t){for(var e=this.getAllPlants(!0),i=0;i<e.length;i++)if(e[i].ID==t&&e[i]._replantableForLnC())return e[i];return null},o.kingAllowPlant=function(t){var e=!0;return this.gridZombiesInSquare.forEach((function(i){e&&(e=!i.allowPlantInSquare(t))})),e},o.spawnZombie=function(t,e,i,n,o,a,l,r,h){void 0===e&&(e=pt.fromLane),void 0===i&&(i=!0),void 0===n&&(n=.5),void 0===o&&(o=0),void 0===a&&(a=null),void 0===l&&(l=!0),void 0===r&&(r=!1),void 0===h&&(h=!1);var d=z.createZombie(this.inLane.LaneIndex,t,a,e==pt.fromLane,r,h);if(e==pt.directPut||e==pt.dirtSpawn)x.playDirtRise(!1,i),d.worldPosition=new s(this.node.worldPosition.x+f.SquareDisW*(n-.5),d.shadeWorldPosition.y),d.judgeInLnC();else if(e==pt.sandStorm||e==pt.snowStorm){var c=0;e==pt.snowStorm&&(c=1),d.playSandStorm(this.node.worldPosition.x+f.SquareDisW*(n-.5),c)}var u=d.additionalZombies();return e!=pt.directPut&&e!=pt.dirtSpawn||d.onPutDirectly(this),e==pt.dirtSpawn&&d.playDirtSpawn(o,l),[d].concat(u).forEach((function(t){t.correctDepth(1e3)})),[d].concat(u)},o.regeneratable=function(){return!isNaN(this.deadPlant)&&this.putPlantAvailable(!0,this.deadPlant,!0)},o.showDeadPlant=function(){var t=this.regeneratable();if(t&&!this.deadPlantGhost){var e=h(A.getPlantsInCard(this.deadPlant).plantDIS);e.parent=this.node,e.worldPosition=this.plantPoint.worldPosition.clone();var i=e.getComponent(ht);null!=i&&i.body&&(i.body.color=new u(255,255,255,255),i.body.customMaterial=dt.greyMaterial),this.deadPlantGhost=e}else!t&&this.deadPlantGhost&&this.hideDeadPlant()},o.hideDeadPlant=function(){if(this.deadPlantGhost){var t=this.deadPlantGhost;this.deadPlantGhost=null,t.destroy()}},o.readDeadPlant=function(){var t,e=null==(t=P.uiingame)?void 0:t.currentPlantName;if(P.index>=0&&!isNaN(e)){var i,n=A.getPlantFeature(e);n&&-1!=(null==(i=n.TYPE)?void 0:i.indexOf("deadPlant"))?this.showDeadPlant():this.hideDeadPlant()}else this.hideDeadPlant()},o.sheepen=function(t){if(!this.sheep&&t){var e=this.getAllPlants();if(e.length){var i=m(t);i.parent=this.inLane.prjLayer;var n=i.getComponent(lt);return n.worldPositionX=this.node.worldPosition.x,n.worldPositionY=this.plantPoint.worldPosition.y,n.judgeInLnC(),e.forEach((function(t){t.sheepen()})),this.readIndex(),n}}},o.octopusSpawn=function(){return this.octopus?this.octopus:this.getAllPlants().length?this.addTomb(_.squid,!1,!1,!0):null},o.unsheepen=function(){this.sheep=null,this.getAllPlants().forEach((function(t){t.unsheepen()})),this.readIndex()},o.iceblockable=function(){var t=this.getAllPlants();return this.tombStone||!t.length||t.some((function(t){return!t.canbeIceBlocked()}))},o.iceblockSpawn=function(t){return this.iceblock?this.iceblock:this.addTomb(t?_.iceblock_plant:_.iceblock_zombie,!1,!1,!0)},o._sLefter=function(){return this.isInLawn()?f.getLnC(this.lIndex,this.cIndex-1):f.getLnC(-2,-2)},o._sRighter=function(){return this.isInLawn()?f.getLnC(this.lIndex,this.cIndex+1):f.getLnC(-2,-2)},o._sUpper=function(){return this.isInLawn()?f.getLnC(this.lIndex-1,this.cIndex):f.getLnC(-2,-2)},o._sLower=function(){return this.isInLawn()?f.getLnC(this.lIndex+1,this.cIndex):f.getLnC(-2,-2)},o.setPPWdPos=function(t){var e;null==(e=this.orgPlantPoint)||e.setWorldPosition(new a(t.x,t.y,0))},o.returnPlantPoint=function(){var t=this;this.haveFloawerPot&&this.haveLilyPad||(this.getAllPlants().forEach((function(e){e.height=0,e.worldPosition=new s(t.ppOldPos.x,t.ppOldPos.y)})),this.orgPlantPoint.worldPosition=this.ppOldPos)},o.get3x3=function(){var t,e,i,n,o=[];return[null==this||null==(t=this.upper)?void 0:t.lefter,null==this?void 0:this.upper,null==this||null==(e=this.upper)?void 0:e.righter,null==this?void 0:this.lefter,this,null==this?void 0:this.righter,null==this||null==(i=this.lower)?void 0:i.lefter,null==this?void 0:this.lower,null==this||null==(n=this.lower)?void 0:n.righter].forEach((function(t){t&&o.push(t)})),o},o.plantHeat=function(t){var e=!1;if(this.get3x3().forEach((function(i){var n;i.iceTile&&(e=!0,i.iceTile.die()),null!=(n=i.tombStone)&&n.hotpotato&&(e=!0,i.tombStone.dealDamage(t.GridItemDamage)),i.iceblockPrepareLevel&&(e=!0,i.iceblockPrepareLevel--)})),this.isInLawn()){var i=y.createRectangleNodeCenter(this.node,3*f.SquareDisW,3*f.SquareDisH);[this.inLane,this.inLane.UpperLane,this.inLane.LowerLane].forEach((function(t){null!=t&&t.isInLawn()&&t.zombiePool().forEach((function(t){var n,o;(null==t||null==(n=t.armors)?void 0:n.length)>0&&null!=(o=t.armors[0])&&o.isIce&&i.judgeCrossRec(t.bodyRecReal)&&(e=!0,t.dealDamageAccordingToBowlingLevel(1,new k(0,!0,!1)))}))}))}if(8==this.cIndex&&[this.inLane,this.inLane.UpperLane,this.inLane.LowerLane].forEach((function(t){t.iceTile&&(e=!0,t.iceTile.die())})),e){var n=v.instantiatePooly(S.plantHeat());n.parent=l("Canvas/LawnCommon/Shade"),n.worldPosition=this.node.worldPosition}return e},o.isInLawn=function(){return this.lIndex>=0&&this.cIndex>=0&&this.lIndex<=4&&this.cIndex<=8},o.bounceAllPlants=function(){var t=this;this.getAllPlants().forEach((function(e){for(var i=[e.plantInLnC],n=null,o=[e.plantInLnC],a=0;i.length<45&&!n&&a<45;){a++;var l=o.concat();o=[],l.forEach((function(t){n||w.randomize(t.get3x3()).forEach((function(t){n||-1!=i.indexOf(t)||(t.putPlantAvailable(!0,e.ID)?n=t:(o.push(t),i.push(t)))}))}))}n&&n!=t?e.leapTo(n,.5,100,!0,!1):e.throwAway(Math.random()>.5)}))},o.placeGridItem=function(t){switch(t){case nt.lilypad:this.spawnPlantByPlantEnum(O.LilyPad,!0,!0,!1,!0);break;case nt.goopuddle:this.addTileLiquid(Pt.cranJellyJuice,1/0);break;case nt.slider_up:this.putTile(X.sliderUp,{},!0);break;case nt.slider_down:this.putTile(X.sliderDown,{},!0);break;case nt.deepwater:this.putTile(X.deepwater,{},!0);break;case nt.shallowwater:this.putTile(X.shallowwater,{},!0);break;case nt.goldtile:this.putTile(X.goldtile,{},!0)}},o.tombable=function(t,e){var i;return void 0===t&&(t=!0),void 0===e&&(e=!0),!(this.getAllPlants().length>0&&e||this.tombStone&&t||this.rail||this.sheep||this.octopus&&t||this.iceblock&&t||null!=(i=this.gridZombiesInSquare)&&i.length||this.slider||this.tileType!=ft.deck&&this.tileType!=ft.water&&this.tileType!=ft.floor)},o.addTomb=function(t,e,i,n,o,a){var l;if(void 0===e&&(e=!0),void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===o&&(o=!0),void 0===a&&(a=!0),this.tombable(!0,!n)&&(!o||this.isInLawn())){var r=v.instantiatePooly(B.getTomb(t));r.parent=this.inLane.tombLayer;var h=r.getComponent(F);if(h.worldPosition=new s(this.plantPoint.worldPosition.x,this.plantPoint.worldPosition.y),h.setInLnC(this),h.ID=t,a&&h.playSpawnParticle(),i&&x.playTombRiseHeavy(),h.judgeInLnC(),null==(l=h.GridItemCP)||l.setGridItemType([nt.gravestone,t+nt.gravestone+1]),e){var d=v.instantiatePooly(S.graveSpawn());d.parent=this.inLane.tombLayer,d.worldPosition=r.worldPosition}return h}},o.pushPlant=function(t){-1==this.plantInSquare.indexOf(t)&&this.plantInSquare.push(t)},o.pushVine=function(t){-1==this.vineInSquare.indexOf(t)&&this.vineInSquare.push(t)},o.pushTile=function(t){-1==this.tilePlantInSquare.indexOf(t)&&this.tilePlantInSquare.push(t)},o.spawnPlant=function(){if(this.putPlantAvailable(!0,P.uiingame.currentPlantName)||this.replantable(this.UIInGame.currentPlantName)){var t=this.UIInGame.currentPlantName,e=this.spawnPlantByPlantEnum(t,!1,!0,!0,!0,this.UIInGame.isImitator);return this.UIInGame.currentPlantBoosted&&e.food(),this.UIInGame.spawnPlantCost(),this.UIInGame.plantKeyCool=2,this.UIInGame.index=-1,this.UIInGame.tryChangingIndex(-1),this.readIndex(),this.UIInGame.currentPlantBoosted=!1,e}return null},o.removePlant=function(){var t,e=this,i=0,n=!1;if(!this.sheep){if(this.octopus&&E.sandBoxModeOn&&(this.octopus.die(),n=!0),this.iceblock&&E.sandBoxModeOn&&(this.iceblock.die(),n=!0),this.vineInSquare.length&&!n&&this.vineInSquare.concat().forEach((function(t){if(t.shovelable()){t.shovelDropSun&&(E.component.lastStandPrepareStarted?i+=t.suncost:i+=t.suncost*E.SunShovelRate),n=!0;var o=e.vineInSquare.indexOf(t);-1!=o&&e.vineInSquare.splice(o,1),t.die(!1),t.node.destroy()}})),this.plantInSquare.length&&!n){var o=!0;this.plantInSquare.concat().forEach((function(t){o&&(t.allowStack||(o=!1))})),this.plantInSquare.concat().forEach((function(t){if(t.allowStack==o&&t.shovelable()){t.shovelDropSun&&(E.component.lastStandPrepareStarted?i+=t.suncost:i+=t.suncost*E.SunShovelRate),n=!0;var a=e.plantInSquare.indexOf(t);-1!=a&&e.plantInSquare.splice(a,1),t.die(!1),t.node.destroy()}}))}if(this.haveFloawerPot&&!n){var a,l=this.floawerPot;if(l.shovelable())l.shovelDropSun&&(E.component.lastStandPrepareStarted?i+=l.suncost:i+=l.suncost*E.SunShovelRate),this.returnPlantPoint(),n=!0,null==l||l.die(!1),null==l||null==(a=l.node)||a.destroy()}if(this.haveLilyPad&&!n){var s,h=this.lilyPad;if(h.shovelable())h.shovelDropSun&&(E.component.lastStandPrepareStarted?i+=h.suncost:i+=h.suncost*E.SunShovelRate),this.returnPlantPoint(),n=!0,null==h||h.die(!1),null==h||null==(s=h.node)||s.destroy()}if(E.sandBoxModeOn&&!n&&(this.crackleCountdown&&(this.crackleCountdown=0,n=!0),this.tileLiquidCountdown>0&&(this.tileLiquidCountdown=.01,n=!0),this.iceTile&&(this.iceTile.die(),n=!0),this.tombStone&&(this.tombStone.die(),n=!0),this.tilesInSquare.length>0&&!n&&(n=!0,this.removeTiles())),n){if(i>0&&null!=(t=rt.component)&&t.shown)M.produceSun(i,this.plantPoint.worldPosition.toVec2(),0,!1).forEach((function(t){t.collect()}));if(this.tileType==ft.floor||this.tileType==ft.deck){var d=v.instantiatePooly(S.plantDirts());d.parent=this.inLane.node,d.worldPosition=this.plantPoint.worldPosition,d.getComponent(r.ArmatureDisplay).playAnimation("Remove",1)}this.haveFloawerPot&&this.floawerPot,this.tileType==ft.water?x.playShovelDigWater():x.playShovelDig(),this.UIInGame.index=-1,this.UIInGame.tryChangingIndex(-1),this.selection()}}},o.foodable=function(){var t=!1;return this.getAllPlants().forEach((function(e){t||!e.foodable||e.fooding||e.sheepend||(t=!0)})),t},o.plantfood=function(){var t=!1;this.getAllPlants(!1).forEach((function(e){e.foodable&&!e.fooding&&(q.plantFoodNum>0||N.freePF?e.food()&&(t=!0):q.plantfoodWarn())})),t&&(this.UIInGame.index=-1,this.UIInGame.tryChangingIndex(-1),q.component.plantFoodDec(),this.tilesInSquare.forEach((function(t){t.onFoodedByPlayer()})))},o.start=function(){var t,e,i=this;(this.schedule((function(){var t;i.tileLiquidCountdown>0&&i.currentTileLiquid==Pt.cranJellyJuice&&(i.inLane.zombiePool().forEach((function(t){!t.flying&&i.rec.judgeCrossRec(t.bodyRecReal)&&t.dealDamage(new k(10,!0,!1,!1,null,D.physicle))})),null==(t=i.tombStone)||t.dealDamage(10))}),.5,1/0,0),this.node.getChildByName("Select").getComponent(r.ArmatureDisplay).playAnimation("Nope"),this.plantPoint)&&(this.inLane&&(this.plantPoint.worldPosition=new a(this.plantPoint.worldPosition.x,this.inLane.floorY,10)),null==(t=this.orgPlantPoint)||t.setWorldPosition(this.plantPoint.worldPosition),null==(e=this.potPoint)||e.setWorldPosition(this.plantPoint.worldPosition));this.ppOldPos=this.orgPlantPoint?this.orgPlantPoint.worldPosition.clone():new a(0,0,0),f.moveCrossing(-1,-1)},o.standardize=function(){this._lefter=this._sLefter(),this._righter=this._sRighter(),this._upper=this._sUpper(),this._lower=this._sLower()},o.selection=function(){var t,e,i;if(this.index=0,(this.putPlantAvailable(!0,P.uiingame.currentPlantName)||this.replantable(P.uiingame.currentPlantName))&&P.index>=0&&P.index<=8)this.index=1;else if(1==(null==(t=f.component)?void 0:t.indexShovel)){var n=!1;this.getAllPlants().forEach((function(t){n||(n=t.shovelable())})),(n||E.sandBoxModeOn&&(this.iceTile||this.crackleCountdown>0||this.tombStone||this.tileLiquidCountdown>0||this.tilesInSquare[0]||this.octopus||this.iceblock))&&(this.index=1)}else(this.foodable()&&1==(null==(e=f.component)?void 0:e.indexPF)||9==P.index||-4==P.index&&1==this.indexPoint)&&(this.index=1);if(0==this.index)null==(i=this.selectionDB)||i.playAnimation("Nope");else if(1==this.index&&0==this.indexPoint){var o;null==(o=this.selectionDB)||o.playAnimation(0==f.lncSelectionMode?"Slow":"Nope")}else if(1==this.index&&1==this.indexPoint){var a;null==(a=this.selectionDB)||a.playAnimation(0==f.lncSelectionMode?"Fast":"Nope")}},o.addMold=function(){if(!this.mold&&this.isInLawn()){var t=m(V.mold());t.parent=this.inLane.tombLayer,t.setSiblingIndex(0),this.mold=t.getComponent(Z),this.mold.worldPosition=new s(this.node.worldPosition.x,this.node.worldPosition.y)}},o.addFlower=function(t){void 0===t&&(t=0);var e=m(V.flower());e.parent=this.inLane.node,e.setSiblingIndex(0);var i=e.getComponent(K);return i.worldPosition=new s(this.node.worldPosition.x+(t-.5)*f.SquareDisW,this.node.worldPosition.y),i},o.addRail=function(t,e){var i;if(void 0===e&&(e=nt.none),!this.rail){var n="Mid";0==t?n="Up":2==t&&(n="Down"),isNaN(e)&&(e=$.getLawnRailCart($.currentLawnYardType));var o="Frontyard";switch(e){case nt.railcart_egypt:o="Egypt";break;case nt.railcart_pirate:o="Pirate";break;case nt.railcart_cowboy:o="Cowboy";break;case nt.railcart_future:o="Future";break;case nt.railcart_dark:o="Dark";break;case nt.railcart_sky:o="Sky";break;default:e=nt.railcart_tutorial,o="Frontyard"}var a=m(V.rail());return a.parent=$.railLayer,this.rail=a.getComponent(Q),this.rail.tileID=X.rail,this.rail.inLnC=this,this.rail.db.playAnimation(n+o),this.rail.pos=t,null==(i=this.rail)||null==(i=i.gridItemCP)||i.setGridItemType([nt.rail,e-nt.railcart-nt.rail]),this.rail}},o.addCart=function(t){var e,i;if(void 0===t&&(t=NaN),null==(e=this.rail)||!e.haveCartInLnC(this)){isNaN(t)&&(t=$.getLawnRailCart($.currentLawnYardType));var n="Frontyard";switch(t){case nt.railcart_egypt:n="Egypt";break;case nt.railcart_pirate:n="Pirate";break;case nt.railcart_cowboy:n="Cowboy";break;case nt.railcart_future:n="Future";break;case nt.railcart_dark:n="Dark";break;case nt.railcart_sky:n="Sky";break;default:t=nt.railcart_tutorial,n="Frontyard"}var o=m(V.cart());o.parent=$.cartLayer,o.worldPosition=this.node.worldPosition;var a=o.getComponent(tt);return a.inLnC=this,a.db.playAnimation(n,1),a.tileID=X.cart,this.rail&&this.rail.group.forEach((function(t){t.carts.push(a)})),null==a||null==(i=a.gridItemCP)||i.setGridItemType([nt.railcart,t]),a}},o.setOccupied=function(t){var e=this.occupied;this.occupied=this.occupied>t?this.occupied:t,this.occupied>0&&e<=0&&this.readIndex()},o.setElectricLine=function(t,e,i,n,o){if(o&&!(e<=0)){this.electricLineDamage=Math.max(i,this.electricLineDamage);var l=(1==t?f.SquareDisW:f.SquareDisH)/200;if(1==t){if(this.horizontalElectricCountdown=this.horizontalElectricCountdown>e?this.horizontalElectricCountdown:e,!this.horizontalElectricDB&&e>0){var s=m(o);s.parent=f.electricLineLayer,s.worldScale=new a(l,l,l),s.worldPosition=this.node.worldPosition,s.angle=90,this.horizontalElectricDB=s.getComponent(r.ArmatureDisplay),this.horizontalElectricDB.playAnimation("normal"+Math.floor(3*Math.random()).toString()),this.horizontalElectricFooded=0}n&&(this.horizontalElectricFooded<=0&&this.horizontalElectricDB.playAnimation("food"+Math.floor(3*Math.random()).toString()),this.horizontalElectricFooded=2)}else if(2==t){if(this.verticalElectricCountdown=this.verticalElectricCountdown>e?this.verticalElectricCountdown:e,!this.verticalElectricDB&&e>0){var h=m(o);h.parent=f.electricLineLayer,h.worldScale=new a(l,l,l),h.worldPosition=this.node.worldPosition,h.angle=0,this.verticalElectricDB=h.getComponent(r.ArmatureDisplay),this.verticalElectricDB.playAnimation("normal"+Math.floor(3*Math.random()).toString()),this.verticalElectricFooded=0}n&&(this.verticalElectricFooded<=0&&this.verticalElectricDB.playAnimation("food"+Math.floor(3*Math.random()).toString()),this.verticalElectricFooded=2)}else if(0==t){if(this.verticalElectricCountdown=0,this.horizontalElectricCountdown=0,this.centerElectricCountdown=this.centerElectricCountdown>e?this.centerElectricCountdown:e,!this.centerElectricDB&&e>0){var d=m(o);d.parent=f.electricLineLayer,d.worldPosition=this.node.worldPosition,this.centerElectricDB=d.getComponent(r.ArmatureDisplay),this.centerElectricDB.playAnimation("normal"),this.centerElectricFooded=0}n&&(this.centerElectricFooded<=0&&this.centerElectricDB.playAnimation("food"),this.centerElectricFooded=2)}}},o.dealElectric=function(){var t,e,i;this.horizontalElectricCountdown>0&&(this.horizontalElectricCountdown--,this.horizontalElectricFooded>0&&(this.horizontalElectricFooded--,this.horizontalElectricFooded<=0&&(null==(t=this.horizontalElectricDB)||t.playAnimation("normal"+Math.floor(3*Math.random()).toString()),this.electricLineDamage=0)));(this.horizontalElectricCountdown<=0&&(this.electricLineDamage=0,this.horizontalElectricDB&&(v.destroyPooly(this.horizontalElectricDB.node),this.horizontalElectricDB=null)),this.verticalElectricCountdown>0)&&(this.verticalElectricCountdown--,this.verticalElectricFooded>0&&(this.verticalElectricFooded--,this.verticalElectricFooded<=0&&(null==(e=this.verticalElectricDB)||e.playAnimation("normal"+Math.floor(3*Math.random()).toString()),this.electricLineDamage=0)));(this.verticalElectricCountdown<=0&&(this.electricLineDamage=0,this.verticalElectricDB&&(v.destroyPooly(this.verticalElectricDB.node),this.verticalElectricDB=null)),this.centerElectricCountdown>0)&&(this.centerElectricCountdown--,this.centerElectricFooded>0&&(this.centerElectricFooded--,this.centerElectricFooded<=0&&(null==(i=this.centerElectricDB)||i.playAnimation("normal"),this.electricLineDamage=0)));this.centerElectricCountdown<=0&&(this.electricLineDamage=0,this.centerElectricDB&&(v.destroyPooly(this.centerElectricDB.node),this.centerElectricDB=null))},i(n,[{key:"slider",get:function(){return this.tilesInSquare.find((function(t){return t.tileID==X.sliderDown||t.tileID==X.sliderUp}))}},{key:"deepwater",get:function(){return this.tilesInSquare.find((function(t){return t.tileID==X.deepwater}))}},{key:"shallowwater",get:function(){return this.tilesInSquare.find((function(t){return t.tileID==X.shallowwater}))}},{key:"tileType",get:function(){if(this.deepwater||this.shallowwater)return ft.water;var t=$.getTidePos();return!isNaN(t)&&this.cIndex>=0&&(this.cIndex>=t||this.lIndex<=-1||this.lIndex>=5)?ft.water:this._tileType},set:function(t){this._tileType=t}},{key:"plantPoint",get:function(){return this._plantPoint?this._plantPoint:this.node},set:function(t){this._plantPoint=t}},{key:"shadowCD",get:function(){return this._shadowCD},set:function(t){if(t>0&&this._shadowCD<=0){var e=v.instantiatePooly(S.darkBuff());this.darkBuffParticle=e.getComponent(r.ArmatureDisplay),e.parent=this.inLane.node,e.worldPosition=this.node.worldPosition,e.setSiblingIndex(0),this.darkBuffParticle.playAnimation("Start")}else if(t<=0&&this._shadowCD>0){var i;null==(i=this.darkBuffParticle)||i.armature().animation.fadeIn("End",.2,1),this.darkBuffParticle=null}this._shadowCD=t}},{key:"haveLilyPad",get:function(){var t,e;return(null==(t=this.lilyPad)?void 0:t.isAlive())&&(null==(e=this.lilyPad.node)?void 0:e.active)}},{key:"haveFloawerPot",get:function(){var t,e;return(null==(t=this.floawerPot)?void 0:t.isAlive())&&(null==(e=this.floawerPot.node)?void 0:e.active)}},{key:"crackleCountdown",get:function(){return this._crackleCountdown},set:function(t){var e,i,n,o=t>90,a=this._crackleCountdown>90,l=o!=a||t>0&&this._crackleCountdown<=0;if(t>0&&this._crackleCountdown<=0&&(this.tileType==ft.floor||this.tileType==ft.deck||this.tileType==ft.water)){if(!this.crackedTile){var s=v.instantiatePooly(I.brokenTile());s.parent=f.crackleLayer,s.worldPosition=this.node.worldPosition,this.crackedTile=s.getComponent(r.ArmatureDisplay)}if(!this.crackedTileSparkle){var h=v.instantiatePooly(I.brokenTileSparkles());h.parent=this.inLane.tombLayer,h.setSiblingIndex(0),h.worldPosition=this.node.worldPosition,this.crackedTileSparkle=h.getComponent(r.ArmatureDisplay);var d=this.tileType==ft.water?"Idle_Water":"Idle";this.crackedTileSparkle.armature().animation.gotoAndPlayByProgress(d,Math.random(),1/0)}this.crackedTile.playAnimation("Spawn"),this._crackleCountdown=t,this.getAllPlants().forEach((function(t){t.pushTideListener()})),this.readIndex()}l&&(null==(e=this.crackedTile)||e.armature().getSlot("BG")._setDisplayIndex(o?1:0),null==(i=this.crackedTileSparkle)||i.armature().getSlots().forEach((function(t){t.name.includes("_P1")&&t._setDisplayIndex(o?0:-1)})));t<=0&&(null==(n=this.crackedTile)||n.playAnimation("Fade"),this.crackedTile=null,this._crackleCountdown=0,this.readIndex(),this.crackedTileSparkle&&v.destroyPooly(this.crackedTileSparkle.node),this.crackedTileSparkle=null);this._crackleCountdown=t}},{key:"FoodLinkTile",get:function(){return this.tilesInSquare.find((function(t){return t.tileID==X.foodLinker}))}},{key:"GoldTile",get:function(){return this.tilesInSquare.find((function(t){return t.tileID==X.goldtile}))}},{key:"TrapTiles",get:function(){return this.tilesInSquare.filter((function(t){return-1!=[X.trap_bouldertile_backward,X.trap_bouldertile_forward,X.trap_firetile].indexOf(t.tileID)}))}},{key:"tombParent",get:function(){return this._tombParent?this._tombParent:this.plantPoint},set:function(t){this._tombParent=t}},{key:"octopus",get:function(){var t;return(null==(t=this.tombStone)?void 0:t.ID)==_.squid?this.tombStone:null}},{key:"iceblockPrepareLevel",get:function(){return this._iceblockPrepareLevel},set:function(t){var e=t=Math.floor(t);t>0&&this.iceblockable()&&(t=0),this.iceblock&&this.iceblock.heal(150*e);var i=this.getAllPlants();t>0&&i.length>0?(this._iceprepare||(this._iceprepare=m(S.plantIcePrepare()).getComponent(r.ArmatureDisplay),this._iceprepare.node.parent=this.inLane.prjLayer,this._iceprepare.node.worldScale=new a(at,at,at),this._iceprepare.node.worldPosition=this.plantPoint.worldPosition),t<=2?this._iceprepare.playAnimation("Idle"+(t-1).toString()):(this.iceblockSpawn(!0),x.playPlantIceblockedSound(),this.iceblockPrepareLevel=0)):(t=0,this._iceprepare&&(v.destroyPooly(this._iceprepare.node),this._iceprepare=null)),this._iceblockPrepareLevel=t}},{key:"iceblock",get:function(){var t,e;return(null==(t=this.tombStone)?void 0:t.ID)==_.iceblock_plant||(null==(e=this.tombStone)?void 0:e.ID)==_.iceblock_zombie?this.tombStone:null}},{key:"lefter",get:function(){return this._lefter||(this._lefter=this._sLefter()),this._lefter}},{key:"righter",get:function(){return this._righter||(this._righter=this._sRighter()),this._righter}},{key:"upper",get:function(){return this._upper||(this._upper=this._sUpper()),this._upper}},{key:"lower",get:function(){return this._lower||(this._lower=this._sLower()),this._lower}},{key:"tombStone",get:function(){var t;return null!=(t=this._tombStone)&&t.isAlive()?this._tombStone:(this._tombStone=null,null)},set:function(t){this._tombStone=t}}]),n}(p))||ct);n._RF.pop()}}}));

System.register("chunks:///_virtual/LnCLower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LnC.ts","./CharacterManager.ts","./Square.ts"],(function(e){var t,n,o,i,r,a,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.Component},function(e){r=e.LnC},function(e){a=e.Rectangle},function(e){s=e.Square}],execute:function(){var c;n._RF.push({},"c96e7eFeARCFaBPaweP0RNp","LnCLower",void 0);var l=o.ccclass;o.property,e("LnCLower",l("LnCLower")(c=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).SquareUpper=void 0,t}return t(n,e),n.prototype.standardize=function(e){this.SquareUpper=e;var t=e.getComponent(r);t.squareLower=this,this.node.setWorldPosition(this.SquareUpper.getWorldPosition()),t.particleLowerPoint=this.node.getChildByName("ParticleLowerPoint"),t.plantPoint=this.node.getChildByName("PlantPoint"),t.orgPlantPoint=this.node.getChildByName("OrgPlantPoint"),t.potPoint=this.node.getChildByName("PotPoint"),t.potPointUpper=this.node.getChildByName("PotPointUpper"),t.vinePoint=this.node.getChildByName("VinePointUpper"),t.vineBackPoint=this.node.getChildByName("VinePointLower"),t.tombParent=this.node.getChildByName("TombParent"),t.buffParticlePoint=this.node.getChildByName("BuffParticle"),t.rec=a.createRectangleNodeCenter(t.node,s.SquareDisW,s.SquareDisH)},n}(i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/LoaderFlower.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,n,a,i,l,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,l=e.dragonBones,c=e.Component}],execute:function(){var s,u,d,p,f,m;a._RF.push({},"2311b53jGxBYYgnt5uJjUln","LoaderFlower",void 0);var h=i.ccclass,v=i.property;e("LoaderFlower",(s=h("LoaderFlower"),u=v(l.ArmatureDisplay),s(((m=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,o(t,"db",f,n(t)),t}r(t,e);var a=t.prototype;return a.onLoad=function(){var e=this;this.db.on(l.EventObject.FRAME_EVENT,(function(t){"die"==t.name&&(e.node.active=!1)}),this)},a.update=function(e){this.db.armature().getSlots().forEach((function(e){var r=e.childArmature;if(r){var o=r.animation.lastAnimationState.name;r.animation.gotoAndPlayByTime(o,t.loadedTime,1/0)}})),t.loadedTime+=e},t}(c)).loadedTime=0,f=t((p=m).prototype,"db",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=p))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/LostcityBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./ZombieAshParticle.ts","./SoundRescourses.ts","./Plant.ts"],(function(t){var i,e,n,a,s,o,l,r,h,u,g,c,b,d,p,y,f,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,s=t.createClass},function(t){o=t.cclegacy,l=t._decorator,r=t.AudioClip,h=t.Prefab,u=t.Vec3},function(t){g=t.zombieDamageType,c=t.ZombieDamageDetails,b=t.Zombie,d=t.ZombieProps},function(t){p=t.instantiatePooly},function(t){y=t.ZombieAshParticle},function(t){f=t.sounds},function(t){m=t.PlantType}],execute:function(){var _,S,w,P,A,v,B,k,D,Z,j,H,R,L,O;o._RF.push({},"48c57lP7aBLIZMDuR6GM8Yo","LostcityBasicZombie",void 0);var C=l.ccclass,E=l.property,I=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(i=t.call.apply(t,[this].concat(n))||this).BugToughness=0,i.BuggedSPS=.4,i}return e(i,t),i}(d);t("LostcityBasicZombie",(_=C("LostcityBasicZombie"),S=E([r]),w=E([r]),P=E([r]),A=E([r]),v=E(h),B=E(h),_((Z=i((D=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return(i=t.call.apply(t,[this].concat(s))||this)._objdataOwn=new I,i._objdataOwnOrg=new I,i._bugHealth=0,n(i,"bugSplatSounds",Z,a(i)),n(i,"bugIdleSounds",j,a(i)),n(i,"bugRiseSounds",H,a(i)),n(i,"bugUnriseSounds",R,a(i)),n(i,"bugSplat",L,a(i)),n(i,"bugAsh",O,a(i)),i.risen=!1,i._bugged=!1,i._bug_bp0_slots=[],i._bug_bp1_slots=[],i}e(i,t);var o=i.prototype;return o.onObjdataSet=function(t){this.objdataOwnOrg.BugToughness>0?this.bugged=!0:this.bugged=!1},o.leftHealthForBonkChoy=function(){return this.bugged?this.bugHealth:this.totalHealth()},o.specialZombieOnEnable=function(){this.risen=!1;var t=this.bugHealth>0;this._bugged=!t,this.bugged=t,this.bugHealth=this.bugHealth},o.extraHealth=function(){return this.bugged?this.bugHealth:0},o.specialZombieUpdateForced=function(t,i,e){this.bugged&&f.playArray(this.bugIdleSounds,1,NaN,.5)},o.dealDamage=function(t){if(this.invincible)return this.health;if(t.armorProtection&&this.bugged){if(t.damage>0&&this._setHurtingOnDamaged(),this.bugHealth-=t.damage,this.bugHealth<=0){this.bugged=!1,this.switching=!0,this.walking=!1,this.flying=!0,this.body.playAnimation("Land",1,0);var i=!1;switch(t.damageType){case g.electricity:i=!0;case g.fire:case g.ray:this.playBugAsh(i);break;default:this.playBugSplat()}return t.bugKiller?(this.playDie(!1,t.damageDirection,!0,t.damageType,!0,!0,!0),0):this.health}return this.health+this.bugHealth}return this.dealNormalDamage(t)},o.beforeAshPlayed=function(t){this.bugged&&this.playBugAsh(t)},o.buggedDetectPlant=function(t){var i;if(0!=t)if(this.inLane){if(this.detectPlantOn()){var e=this.plantDetectorRec,n=null,a=null,s=null;if(!this.ignorePlants())if(this.hypno){var o=1/0;this.inLane.zombiePool().forEach((function(t){var i=t.bodyRec.prjX().x;i<o&&t.bodyRec.judgeCrossRec(e)&&(o=i,a=t)})),o=1/0,this.inLane.tombPool().forEach((function(t){var i=t.bodyRec.prjX().x;i<o&&t.bodyRec.judgeCrossRec(e)&&(o=i,s=t)}))}else{var l=!1;this.inLane.plantPool().forEach((function(t){if(t.eaterDetectable&&!t.short_&&e.judgeCrossRec(t.bodyRec)){if(l)return;n&&t.plantType!=m.vine&&t.plantType!=m.plant&&t.plantType!=m.lilyPad&&t.plantType!=m.pot||l||(n=t,l=t.tall_)}}));var r=-1/0;this.inLane.hypnoZombiePool().forEach((function(t){var i=t.bodyRec.prjX().y;i>r&&t.bodyRec.judgeCrossRec(e)&&(r=i,a=t)}))}if(null!=(i=n)&&i.tall_||a||s)if(this.risen)this.unrise();else{var h=new c(this.dps*t,!0,!1,!1,null);a?a.eatByZombie(h,this):s?s.dealDamage(h.damage):n&&n.eat(h.damage,this),this.playEat(t)}else n&&!n.tall_?this.risen||this.rise():this.risen?this.unrise():this.playWalk()}}else this.playWalk()},o.rise=function(){this.risen||(this.switching=!0,this.risen=!0,this.walking=!1,this.body.playAnimation("Rise_Bug",1),this.body.WalkAnm="Walk_Bug_Risen",this.correctShadeWP(),f.playArray(this.bugRiseSounds,1,NaN,.1))},o.unrise=function(){this.risen&&(this.switching=!0,this.walking=!1,this.body.playAnimation("Unrise_Bug",1),this.body.WalkAnm="Walk_Bug",this.risen=!1,this.correctShadeWP(),f.playArray(this.bugUnriseSounds,1,NaN,.1))},o.detectPlant=function(t){this.bugged?this.buggedDetectPlant(t):this.defaultDetectPlant(t)},o.playSpecialZombieDie=function(t){this.bugged&&(this.playBugSplat(),this._flying=!1,this.judgeDeath(0))},o.playBugSplat=function(){var t,i=p(this.bugSplat);f.playArray(this.bugSplatSounds,1,.3),i.parent=null==(t=this.inLane)?void 0:t.prjLayer,i.worldPosition=this.node.worldPosition;var e=this._scaleForCharacter;i.scale=new u(e,Math.abs(e),1)},o.playBugAsh=function(t,i){void 0===i&&(i=this.worldPosition);var e=p(this.bugAsh);if(e){e.parent=this.node.parent,e.setSiblingIndex(this.node.getSiblingIndex());var n,a=e.getComponent(y);if(this.smartShadeHider?a.inLnC=this.shadeInLnC:a.inLnC=this.inLnC,a.characterComponent.worldPosition=i,a.characterComponent.height=this.height,a.characterComponent.depth=this.depth,a.characterComponent.scale=this.scale,a.height=this.height,t)null==(n=a.db)||n.playAnimation("Shock",1/0),f.playZombieShock();else a.playAsh()}},o.specialZombieOnLoad=function(){var t=this;this.db.armature().getSlots().forEach((function(i){i.name.includes("_BP0")?t._bug_bp0_slots.push(i):i.name.includes("_BP1")&&t._bug_bp1_slots.push(i)}))},o.onButtered=function(t){if(this.bugged){var i=new c(this.bugHealth,!0,!0,!0,null,g.physicle);this.dealDamage(i),this.butterStun=0}},o.walkSpeedScaleExtra=function(){return this.bugged?this.objdataOwn.BuggedSPS/this.squarePerSec:1},o.lockedTimeScale=function(){return this.switching?1:NaN},o.walkTimeScale=function(t,i,e){return this.bugged?1:this.defaultWalkTimeScale(t,i,e)},s(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwn}},{key:"bugHealth",get:function(){return this._bugHealth},set:function(t){t>this.objdataOwnOrg.BugToughness/2?(this._bug_bp0_slots.forEach((function(t){t._setDisplayIndex(0)})),this._bug_bp1_slots.forEach((function(t){t._setDisplayIndex(-1)}))):(this._bug_bp0_slots.forEach((function(t){t._setDisplayIndex(-1)})),this._bug_bp1_slots.forEach((function(t){t._setDisplayIndex(0)}))),this._bugHealth=t}},{key:"bugged",get:function(){return this._bugged},set:function(t){t&&!this.bugged?(this.risen=!1,this.flyZombie=!0,this.currentFlyZombie=!0,this._flying=!0,this.body.IdleAnm="Idle_Bug",this.body.WalkAnm="Walk_Bug",this.body.EatAnm="Eat_Bug",this.bugHealth=this.objdataOwnOrg.BugToughness,this.walking&&this.isAlive()&&this.replayAnimation()):!t&&this.bugged&&(this.risen=!1,this.flyZombie=!1,this.currentFlyZombie=!1,this._flying=!1,this.body.IdleAnm="Idle",this.body.WalkAnm="Walk",this.body.EatAnm="Eat",this.bugHealth=0,this.walking&&this.isAlive()&&this.replayAnimation()),this._bugged=t}}]),i}(b)).prototype,"bugSplatSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=i(D.prototype,"bugIdleSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=i(D.prototype,"bugRiseSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=i(D.prototype,"bugUnriseSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=i(D.prototype,"bugSplat",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(D.prototype,"bugAsh",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=D))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/LostcityCrystalSkullZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EgyptRaZombie.ts","./SoundRescourses.ts","./Square.ts","./CharacterManager.ts","./Zombie.ts","./NodePools.ts"],(function(t){var o,e,i,n,s,a,r,h,c,l,u,b,d,m,p,f,y,g,w;return{setters:[function(t){o=t.inheritsLoose,e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,r=t._decorator,h=t.Prefab,c=t.AudioClip,l=t.Vec2,u=t.Vec3},function(t){b=t.EgyptRaProps,d=t.EgyptRaZombie},function(t){m=t.sounds},function(t){p=t.Square},function(t){f=t.LineSegment},function(t){y=t.ZombieDamageDetails,g=t.zombieDamageType},function(t){w=t.instantiatePooly}],execute:function(){var L,D,C,S,P,R,j,v,A,E,O;a._RF.push({},"3db82/WOd5IRZ9gjhdXzmmZ","LostcityCrystalSkullZombie",void 0);var _=r.ccclass,z=r.property,B=t("LostcityCrystalSkullProps",function(t){function e(){for(var o,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(o=t.call.apply(t,[this].concat(i))||this).LaserBeamDamage=4001,o.LaserBeamLength=220,o.LaserCooldownTime=5,o.ChargingTime=5,o.ChargingTimeDecrementPer50Sun=.2,o}return o(e,t),e}(b));t("LostcityCrystalSkullZombie",(L=_("LostcityCrystalSkullZombie"),D=z(h),C=z(c),S=z(c),P=z([c]),L((v=e((j=function(t){function e(){for(var o,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return(o=t.call.apply(t,[this].concat(s))||this)._objdataOwn=new B,o.sunMode="Blue",i(o,"shootRay",v,n(o)),o.shootDis=220,o.absorbCD=0,o.detectCD=0,i(o,"absorbLoopSound",A,n(o)),i(o,"absorbEndSound",E,n(o)),i(o,"shootSounds",O,n(o)),o}o(e,t);var a=e.prototype;return a.onObjdataSet=function(t){this.shootDis=p.transFrom_ow_To_gw(this.objdataOwn.LaserBeamLength)},a.specialRaOnEnable=function(){this.shootDis=p.transFrom_ow_To_gw(this.objdataOwn.LaserBeamLength)},a.onSunArrives=function(t){this.absorbCD-=this.objdataOwn.ChargingTimeDecrementPer50Sun*t.value/50},a.specialRaAnimationListener=function(t){var o=this;if("shoot"==t.name){if(!this.isAlive())return;if(m.playArray(this.shootSounds,1,.2),this.inLane){var e=f.createLineVec(new l(this.worldPositionX,this.worldPositionY+this.zombieHeight/2),new l(this.reversed?this.shootDis:-this.shootDis,0));!this.hypno&&this.inLane.plantPool().forEach((function(t){o.plantCanBeDetected(t)&&e.judgeCrossRec(t.bodyRec)&&t.dealDamage(o.objdataOwn.LaserBeamDamage,3)})),(this.hypno?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).forEach((function(t){e.judgeCrossRec(t.bodyRec)&&t.dealDamage(new y(o.objdataOwn.LaserBeamDamage,!0,!0,!0,null,g.fire))})),this.hypno&&this.inLane.tombPool().forEach((function(t){e.judgeCrossRec(t.bodyRec)&&t.dealDamage(o.objdataOwn.LaserBeamDamage)}));var i=w(this.shootRay);i.parent=this.inLane.prjLayer,i.worldPosition=this.absorber.worldPosition,i.scale=new u(Math.sign(this.scale)*(this.shootDis-Math.abs(this.worldPositionX-this.absorber.worldPosition.x))/522,this.node.scale.y,1)}}},a.throwAll=function(){this.willAbsorbSun.forEach((function(t){t.switchMode("Normal"),t.absorber=null}))},a.detectShootEnemies=function(){var t=this;if(!this.inLane)return!1;var o=f.createLineVec(new l(this.worldPositionX,this.worldPositionY+this.zombieHeight/2),new l(this.reversed?this.shootDis:-this.shootDis,0));if(this.inLane.plantPool().some((function(e){return t.plantCanBeDetected(e)&&o.judgeCrossRec(e.bodyRec)})))return!0;if((this.hypno?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).some((function(t){return o.judgeCrossRec(t.bodyRecForShooter)})))return!0;var e=this.hypno&&this.inLane.tombPool().some((function(t){return o.judgeCrossRec(t.bodyRec)}));return e||!1},a.plantCanBeDetected=function(t){return!t.short_},a.baseAbsorbs=function(){return!0},a.judgeAbsorb=function(t,o){return this.absorbing?this.absorbCD>0:!this.switching&&(o>0&&this.detectCD<=0&&this.detectShootEnemies())},a.whetherAbsorbThisSun=function(t,o){return!this.hypno},a.specialRaUpdate=function(t,o,e){this.absorbing&&(m.play(this.absorbLoopSound,1,NaN,.9),this.absorbCD-=t),!this.switching&&this.enteredLawn&&(this.detectCD-=t)},a.onAbsorbStart=function(){this.absorbCD=this.objdataOwn.ChargingTime},a.onAbsorbEnd=function(){m.play(this.absorbEndSound,1,.5),this.detectCD=this.objdataOwn.LaserCooldownTime},s(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(d)).prototype,"shootRay",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(j.prototype,"absorbLoopSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(j.prototype,"absorbEndSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(j.prototype,"shootSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=j))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/LostcityExcavatorZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./CharacterManager.ts"],(function(t){var e,i,o,n,a,r,l,h,s,c,u,d,b,y,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,l=t._decorator,h=t.AudioClip,s=t.Prefab,c=t.Vec2},function(t){u=t.ZombieDamageDetails,d=t.Zombie,b=t.ZombieProps},function(t){y=t.sounds},function(t){v=t.Rectangle}],execute:function(){var p,f,m,S,g,w,D,A,P,R,L,j,_,C,O,k,z,Z,I;r._RF.push({},"f843c0mvjlG07mAPhCKP+gg","LostcityExcavatorZombie",void 0);var x=l.ccclass,E=l.property,B=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).ShovelDamage=150,e}return i(e,t),e}(b);t("LostcityExcavatorZombie",(p=x("LostcityExcavatorZombie"),f=E([h]),m=E([h]),S=E([h]),g=E([h]),w=E([h]),D=E([h]),A=E([h]),P=E(s),p((j=e((L=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new B,e._haveShovel=!1,o(e,"loseShovelSounds",j,n(e)),o(e,"digSounds",_,n(e)),o(e,"digSaySounds",C,n(e)),o(e,"throwSounds",O,n(e)),o(e,"throwSaySounds",k,n(e)),o(e,"hitSounds",z,n(e)),o(e,"blockSounds",Z,n(e)),e.deathAnmFadeInTime=0,o(e,"shovelDrop",I,n(e)),e._shovelSlot=void 0,e}i(e,t);var r=e.prototype;return r.specialZombieOnEnable=function(){this.haveShovel=!0},r.detectPlant=function(t){var e=this;if(!(t<=0)&&this.inLane&&this.detectPlantOn())if(this.haveShovel){var i=!0,o=!1;!o&&(this.hypno?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).some((function(t){return e.plantDetectorRec.judgeCrossRec(t.bodyRec)}))&&(o=!0,i=!1),!o&&this.hypno&&this.inLane.tombPool().some((function(t){return e.plantDetectorRec.judgeCrossRec(t.bodyRec)}))&&(o=!0,i=!1),o||this.hypno||this.inLane.plantPool().forEach((function(t){i&&(t.eaterDetectable||t.smasherDetectable)&&e.plantDetectorRec.judgeCrossRec(t.bodyRec)&&(o=!0,(t.objdataOwn.CannotBePushedByFootballMech||t.invincible)&&(i=!1))})),o&&(this.correctShadeWP(),this.walking=!1,this.switching=!0,this.body.playAnimation(i?"Dig":"Attack",1/0))}else this.defaultDetectPlant(t)},r.playSpecialZombieDie=function(t){this.switching&&this.judgeDeath(0)},r.playSpecialZombieDeath=function(){this.haveShovel&&this.throwShovel()},r.getFoodMagnetedObject=function(){return this.haveShovel?(this.haveShovel=!1,this.throwShovel()):this.getMagnetedObject()},r.throwShovel=function(){var t;return y.playArray(this.loseShovelSounds,1,0),this.drop(this.shovelDrop,this.zombieHeight/2+this.height,this.worldPosition.toVec3(),null,null==(t=this.inLane)?void 0:t.prjLayer)},r.commonShotPopOnTouch=function(t){var e;return!(this.haveShovel&&0==t.bodyLinearVelocity&&0==t.gravity&&(this.reversed?-1:1)*t.linearVelocity.x>0)||(t.dealSplashDamage(this),t.splat(this),y.playArray(this.blockSounds,1,.3),null==(e=this._shovelSlot.childArmature)||null==(e=e.animation)||e.play("Play",1),!1)},r.specialZombieUpdate=function(t,e,i){var o=this._shovelSlot.childArmature;if(i<=0&&o){var n=o.animation.lastAnimationState.currentTime+e;n<o.animation.lastAnimationState.totalTime&&o.animation.gotoAndPlayByTime(o.animation.lastAnimationState.name,n)}},r._throwPlantRight=function(t){if(t.objdataOwn.CannotBePushedByFootballMech||t.invincible)return this.haveShovel=!1,void this.throwShovel();for(var e=t.plantInLnC.righter.righter;e.isInLawn();){if(e.putPlantAvailable(!0,t.ID,!1))return void t.leapTo(e);e=e.righter}t.throwAway(!1,this)},r._throwPlantLeft=function(t){if(t.objdataOwn.CannotBePushedByFootballMech||t.invincible)return this.haveShovel=!1,void this.throwShovel();for(var e=t.plantInLnC.lefter.lefter;e.isInLawn();){if(e.putPlantAvailable(!0,t.ID,!1))return void t.leapTo(e);e=e.lefter}t.throwAway(!0,this)},r._throwPlants=function(){var t,e=this,i=this.inLane.plantPool().sort((function(t,i){return(e.reversed?-1:1)*(i.worldPositionX-t.worldPositionX)})).find((function(t){return(t.eaterDetectable||t.smasherDetectable)&&e.plantDetectorRec.judgeCrossRec(t.bodyRec)}));i&&(null==(t=i.plantInLnC)||t.getAllPlants(!0).forEach((function(t){(t.eaterDetectable||t.smasherDetectable)&&(e.reversed?e._throwPlantLeft(t):e._throwPlantRight(t))})))},r._hit=function(){var t,e=null,i=null,o=null,n=v.createRectangleCenter(new c(this.shadeSocket.worldPosition.x+this.plantDetectorRecOffset.x*(this.reversed?-1:1),this._worldPosition.y+this._height+this.plantDetectorRecOffset.y),1.5*this.plantDetectorRecSize.width,this.plantDetectorRecSize.height);if(this.hypno){var a=1/0;this.inLane.zombiePool().forEach((function(t){var e=t.bodyRec.prjX().x;t.bodyRec.judgeCrossRec(n)&&e<a&&(i=t,a=e)})),this.inLane.tombPool().forEach((function(t){var e=t.bodyRec.prjX().x;t.bodyRec.judgeCrossRec(n)&&e<a&&(o=t,a=e)}))}else{this.inLane.plantPool().forEach((function(t){(t.eaterDetectable||t.smasherDetectable)&&t.bodyRec.judgeCrossRec(n)&&(!e||e.bodyRec.prjX().y<t.bodyRec.prjX().y)&&(e=t)}));var r=-1/0;this.inLane.hypnoZombiePool().forEach((function(t){var e=t.bodyRec.prjX().y;t.bodyRec.judgeCrossRec(n)&&e>r&&(i=t,r=e)}))}i?i.dealDamage(new u(this.objdataOwn.ShovelDamage,!0,!0,!0,null)):e?null==(t=e)||t.dealDamage(this.objdataOwn.ShovelDamage,2):o&&o.dealDamage(this.objdataOwn.ShovelDamage)},r.specialZombieOnLoad=function(){this._shovelSlot=this.body.body.armature().getSlot("shovel")},r.specialAnimationListener=function(t){switch(t.name){case"dig":y.playArray(this.digSounds,1,.1),y.playArray(this.digSaySounds,1,.5);break;case"throw":y.playArray(this.throwSounds,1,.1),y.playArray(this.throwSaySounds,1,.5),this.isAlive()&&!this.hypno&&this._throwPlants();break;case"hit":y.playArray(this.hitSounds,1,.1),y.playArray(this.throwSaySounds,1,.5),this.isAlive()&&this._hit()}},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"haveShovel",get:function(){return this._haveShovel},set:function(t){t&&!this._haveShovel?(this.body.IdleAnm="Idle_Shovel",this.body.WalkAnm="Walk_Shovel",this.body.DeathAnm="Death_Shovel",this.plantDetectorRecOffset.x=-40,this.isAlive()&&this.replayAnimation()):!t&&this._haveShovel&&(this.body.IdleAnm="Idle",this.body.WalkAnm="Walk",this.body.DeathAnm="Death",this.plantDetectorRecOffset.x=0,this.walking?this.replayAnimation():(this.switching=!0,this.body.playAnimation("Lose",1/0))),this._haveShovel=t}}]),e}(d)).prototype,"loseShovelSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=e(L.prototype,"digSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(L.prototype,"digSaySounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(L.prototype,"throwSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=e(L.prototype,"throwSaySounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=e(L.prototype,"hitSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=e(L.prototype,"blockSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(L.prototype,"shovelDrop",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=L))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/LostcityGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./Zombie.ts","./SoundRescourses.ts","./Zombies.ts"],(function(i){var n,t,e,a,o,r,s,u,c,l,g,f,h,d;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.inheritsLoose,e=i.initializerDefineProperty,a=i.assertThisInitialized,o=i.createClass},function(i){r=i.cclegacy,s=i._decorator,u=i.AudioClip},function(i){c=i.GargantuarZombie,l=i.GargantuarProps},function(i){g=i.ZombieDamageDetails,f=i.zombieDamageType},function(i){h=i.sounds},function(i){d=i.ZombieEnum}],execute:function(){var p,m,b,y,_;r._RF.push({},"8bd14dXw55JEIfqFEj6sQo0","LostcityGargantuarZombie",void 0);var w=s.ccclass,S=s.property,D=function(i){function n(){for(var n,t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return(n=i.call.apply(i,[this].concat(e))||this).FireDamage=1200,n}return t(n,i),n}(l);i("LostcityGargantuarZombie",(p=w("LostcityGargantuarZombie"),m=S(u),p((_=n((y=function(i){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(n=i.call.apply(i,[this].concat(o))||this)._objdataOwn=new D,n.impEnum=d.lostcity_imp,n._fireSlots=[],n._ignited=!0,e(n,"fireSwingSound",_,a(n)),n}t(n,i);var r=n.prototype;return r.onSmashing=function(i){var n=this;this.ignited&&((this.hypno?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).forEach((function(t){i.judgeCrossRec(t.bodyRec)&&t.dealDamage(new g(n.objdataOwn.FireDamage,!0,!0,!0,null,f.fire))})),this.hypno||this.inLane.plantPool().forEach((function(n){i.judgeCrossRec(n.bodyRec)&&n.burn()})))},r.smashPlant=function(i){this.ignited?i.burn():i.smash(this,!0)},r.gargantuarOnDamaged=function(i,n,t){t.damageType==f.fire&&(this.ignited=!0)},r.specialGargantuarOnLoad=function(){var i=this;this.body.body.armature().getSlots().forEach((function(n){n.name.includes("FIRE")&&i._fireSlots.push(n)}))},r.specialGargantuarOnEnable=function(){this.ignited=!0},r.onChill=function(i){i>0&&(this.ignited=!1)},r.onFrozen=function(i){i>0&&(this.ignited=!1)},r.specialGargantuarAnimationListener=function(i){"fire_swing"==i.name&&this.ignited&&h.play(this.fireSwingSound,1,.2)},o(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"ignited",get:function(){return this._ignited},set:function(i){this._ignited=i,this._fireSlots.forEach((function(n){n._setDisplayIndex(i?0:-1)}))}}]),n}(c)).prototype,"fireSwingSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/LostcityImpPorterZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ImpZombie.ts","./SoundRescourses.ts","./Square.ts","./Tombs.ts","./NodePools.ts"],(function(e){var t,i,n,o,a,r,l,s,c,u,p,h,b,d,y,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Node,s=e.AudioClip,c=e.Prefab,u=e.tween,p=e.Vec3},function(e){h=e.ImpZombie},function(e){b=e.sounds},function(e){d=e.Square},function(e){y=e.TombEnum},function(e){f=e.NodePools}],execute:function(){var m,w,P,S,k,g,v,I,A,L,x,C,Z,z,D,T,j,R,_;a._RF.push({},"eff33c1/phP2Zk2xhkCZZDW","LostcityImpPorterZombie",void 0);var E=r.ccclass,N=r.property;e("LostcityImpPorterZombie",(m=E("LostcityImpPorterZombie"),w=N(l),P=N([s]),S=N([s]),k=N([s]),g=N([s]),v=N([s]),I=N(c),A=N([s]),m((C=t((x=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"backpackSlot",C,o(t)),n(t,"throwSounds",Z,o(t)),n(t,"shakeSounds",z,o(t)),n(t,"placeSounds",D,o(t)),n(t,"moveSounds",T,o(t)),n(t,"throwSaySounds",j,o(t)),n(t,"backpackPar",R,o(t)),n(t,"explSounds",_,o(t)),t}i(t,e);var a=t.prototype;return a.specialImpOnEnable=function(){this.body.DeathAnm="Death"},a.playSpecialZombieDie=function(e){this.judgeDeath()},a.specialImpAnimationListener=function(e){switch(e.name){case"throw":b.playArray(this.throwSounds,1,.1),b.playArray(this.throwSaySounds,1,.1);break;case"tent":var t=this.worldPositionX,i=d.judgeCIndex(t),n=d.getLnC(this.lIndex,i);if(n.isInLawn()&&n.tombable(!0,!1))if(n.getAllPlants().forEach((function(e){e.kill()})),n.getAllPlants().length)this.playParticle(t);else n.addTomb(y.tent,!1,!1,!0,!0,!1);else this.playParticle(t);break;case"shake":b.playArray(this.shakeSounds,1);break;case"move":b.playArray(this.moveSounds,1);break;case"place":b.playArray(this.placeSounds,1,.2);var o=this.backpackSlot.worldPosition.x,a=d.judgeCIndex(o),r=d.getLnC(this.lIndex,a);if(r.isInLawn()&&r.tombable(!0,!1))if(r.getAllPlants().forEach((function(e){e.kill()})),r.getAllPlants().length)this.playParticle(o);else{var l=r.addTomb(y.backpack,!1,!1,!0,!0,!1);l.worldPositionX=o,u(l).to(.5,{worldPositionX:r.node.worldPosition.x}).start()}else this.playParticle(o)}},a.specialZombieUpdate=function(e,t,i){i>0&&this.walking&&this.inLnC&&!this.hypno&&this.inLnC.GoldTile&&this.inLnC.tombable(!0,!1)&&this.bodyRec.judgeInRecNode(this.inLnC.node)&&(this.body.DeathAnm="Tent",this.playDie(!1,null,!1,null,!1))},a.playParticle=function(e){var t=f.instantiatePooly(this.backpackPar);t.parent=this.node.parent,t.worldPosition=new p(e,this.worldPositionY);var i=this._scaleForCharacter,n=Math.abs(i);t.worldScale=new p(i,n,n),b.playArray(this.explSounds,1,.1)},t}(h)).prototype,"backpackSlot",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(x.prototype,"throwSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(x.prototype,"shakeSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(x.prototype,"placeSounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(x.prototype,"moveSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(x.prototype,"throwSaySounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(x.prototype,"backpackPar",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(x.prototype,"explSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=x))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/LostcityJaneZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CabbagePult.ts","./Character.ts","./SoundRescourses.ts"],(function(t){var e,n,i,a,o,r,c,l,s,u,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,c=t.AudioClip},function(t){l=t.Zombie},function(t){s=t.cabbagePult},function(t){u=t.CharacterType},function(t){m=t.sounds}],execute:function(){var b,p,d,h,f;o._RF.push({},"780b0Q8KQNCmIhRxGrgb7tr","LostcityJaneZombie",void 0);var y=r.ccclass,g=r.property;t("LostcityJaneZombie",(b=y("LostcityJaneZombie"),p=g([c]),b((f=e((h=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"blockSounds",f,a(e)),e.umbrellaArmatures=[],e}n(e,t);var o=e.prototype;return o.commonShotPopOnTouch=function(t){return!t.bodyLinearVelocity||!t.canbeJesterReversed||(s.lobOneCabbageOnNode(t.node,t.worldPosition,t.height,t.node.parent,t.linearVelocity.x>0?t.inLane.toRight:t.inLane.toLeft,2,u.default,!0,30),m.playArray(this.blockSounds,1,.3),this.umbrellaArmatures.forEach((function(t){t&&(t.animation.timeScale=1,t.animation.play("Play",1))})),!1)},o.specialZombieOnLoad=function(){var t=this;this.body.body.armature().getSlots().forEach((function(e){e.childArmature&&e.name.includes("Umbrella")&&t.umbrellaArmatures.push(e.childArmature)}))},o.specialZombieUpdate=function(t,e,n){n<=0&&this.umbrellaArmatures.forEach((function(t){var n=t.animation.lastAnimationState.currentTime+e;n<t.animation.lastAnimationState.totalTime&&t.animation.gotoAndPlayByTime(t.animation.lastAnimationState.name,n)}))},e}(l)).prototype,"blockSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=h))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/LostcityLostPilotZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts"],(function(i){var t,n,a,e,o,r,s,h,l,c,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,a=i.initializerDefineProperty,e=i.assertThisInitialized,o=i.createClass},function(i){r=i.cclegacy,s=i._decorator,h=i.AudioClip},function(i){l=i.Zombie,c=i.ZombieProps},function(i){u=i.sounds}],execute:function(){var g,p,d,y,b,f,m,A,w;r._RF.push({},"79faf6ZgtpBX6CvSUYb+0rO","LostcityLostPilotZombie",void 0);var D=s.ccclass,_=s.property,k=function(i){function t(){for(var t,n=arguments.length,a=new Array(n),e=0;e<n;e++)a[e]=arguments[e];return(t=i.call.apply(i,[this].concat(a))||this).HangingNoEatTimeUntilDrop=6,t}return n(t,i),t}(c);i("LostcityLostPilotZombie",(g=D("LostcityLostPilotZombie"),p=_([h]),d=_([h]),y=_([h]),g((m=t((f=function(i){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=i.call.apply(i,[this].concat(o))||this)._objdataOwn=new k,t._hanging=!1,t.hangCD=0,t.dropping=!1,a(t,"dropSounds",m,e(t)),a(t,"arriveSounds",A,e(t)),a(t,"breakSounds",w,e(t)),t}n(t,i);var r=t.prototype;return r.playWalk=function(i,t){this.hanging?this.body.IdleAnm!=this.body.currentAnimationName&&this.playIdle():this.defaultPlayWalk()},r.specialZombieOnEnable=function(){this.hanging=!1},r.specialDisblowable=function(i){return!i&&(!(!this.hanging&&!this.dropping)&&(this.hangCD=0,!0))},r.playDirtSpawn=function(i,t){this.hanging=!0,this.switching=!0,this.walking=!1,this.body.playAnimation("Arrive",1/0)},r.specialAnimationListener=function(i){switch(i.name){case"drop":this.dropping=!1,u.playArray(this.dropSounds,1,.1);break;case"break":u.playArray(this.breakSounds,1,.1);break;case"arrive":u.playArray(this.arriveSounds,1,.1)}},r.specialZombieUpdate=function(i,t,n){!this.eating&&this.hanging&&(this.hangCD-=i,this.hangCD<=0&&(this.hanging=!1,this.walking=!1,this.body.playAnimation("Land",1),this.switching=!0,this.dropping=!0))},o(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"hanging",get:function(){return this._hanging},set:function(i){i&&!this._hanging?(this.body.IdleAnm="Idle_Hang",this.body.DeathAnm="Death_Hang",this.body.EatAnm="Eat_Hang",this.hangCD=this.objdataOwn.HangingNoEatTimeUntilDrop,this.currentFlyZombie=!0,this._flying=!0,this.depth=0,this._hanging=!0,this.playWalk()):!i&&this._hanging&&(this.currentFlyZombie=!1,this.body.IdleAnm="Idle",this.body.DeathAnm="Death",this.body.EatAnm="Eat",this.playWalk()),this._hanging=i}}]),t}(l)).prototype,"dropSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(f.prototype,"arriveSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=t(f.prototype,"breakSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=f))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/LostcityTent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tomb.ts","./NodePools.ts","./levelController.ts","./Zombies.ts","./LnC.ts"],(function(t){var e,n,i,o,r,a,s,c,u,l,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator},function(t){s=t.Tomb},function(t){c=t.ArrayGet},function(t){u=t.ValueRange},function(t){l=t.ZombieEnum},function(t){m=t.LnCSpawnZombieStyleEnum}],execute:function(){var p,f,b,y,h,g,d;r._RF.push({},"6d327ho645ApaKqqgKctz+H","LostcityTent",void 0);var w=a.ccclass,v=a.property;t("LostcityTent",(p=w("LostcityTent"),f=v(Number),b=v(Number),p((g=e((h=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"timeBetweenMin",g,o(e)),i(e,"timeBetweenMax",d,o(e)),e.summonCD=0,e.finalWaveVictoryCountdown=.1,e}n(e,t);var r=e.prototype;return r.getInterval=function(){this.summonCD=u.getRandomFromRange(new u(this.timeBetweenMax,this.timeBetweenMin))},r.specialTombOnEnable=function(){this.getInterval()},r._summon=function(){var t,e=c.getRandom([l.lostcity_basic,l.lostcity_cone,l.lostcity_bucket]);(null==(t=this.inLnC)?void 0:t.spawnZombie(e,m.directPut,!1,0)).forEach((function(t){t.switching=!0,t.walking=!1,t.body.playAnimation("Spawn",1/0),t.node.setSiblingIndex(0)}))},r.specialTombUpdate=function(t){this.summonCD>0?this.summonCD-=t:(this.getInterval(),this._summon())},e}(s)).prototype,"timeBetweenMin",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),d=e(h.prototype,"timeBetweenMax",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 12}}),y=h))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/LostcityZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./SoundRescourses.ts","./LnC.ts","./Square.ts","./NodePools.ts","./FrontYard.ts","./levelController.ts","./Zombies.ts","./CabbagePult.ts","./Character.ts"],(function(e){var t,n,o,i,r,a,s,l,u,h,d,c,p,m,g,b,y,w,f,S,P,v,L,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.AudioClip,l=e.Prefab,u=e.Node,h=e.Vec2,d=e.tween,c=e.dragonBones},function(e){p=e.ZombossStage,m=e.ZombossMechZombie},function(e){g=e.sounds},function(e){b=e.LnCSpawnZombieStyleEnum},function(e){y=e.Square},function(e){w=e.ArrayGet,f=e.instantiatePooly},function(e){S=e.FrontYard},function(e){P=e.ValueRange},function(e){v=e.ZombieEnum},function(e){L=e.cabbagePult},function(e){A=e.CharacterType}],execute:function(){var Z,C,I,T,z,k,M,R,j,x,O,D,q,E,F,Y,_,H,N,B,V,X,J,G,K,U,W,Q,$,ee,te,ne,oe,ie,re,ae,se,le,ue,he,de,ce;r._RF.push({},"e526bdVhqBFuoKeSdEhVigc","LostcityZombossMechZombie",void 0);var pe=a.ccclass,me=a.property,ge=e("LostcityZombossStage",(Z=pe("LostcityZombossStage"),C=me(P),I=me(P),Z((k=t((z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"ParachuteCount",k,i(t)),o(t,"ParachuteColumn",M,i(t)),t}return n(t,e),t}(p)).prototype,"ParachuteCount",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new P(2,2)}}),M=t(z.prototype,"ParachuteColumn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new P(0,0)}}),T=z))||T));e("LostcityZombossMechZombie",(R=pe("LostcityZombossMechZombie"),j=me([ge]),x=me([ge]),O=me([s]),D=me([s]),q=me([s]),E=me([s]),F=me([s]),Y=me([s]),_=me([s]),H=me([s]),N=me([s]),B=me([s]),V=me([s]),X=me(l),J=me(u),G=me(u),R((W=t((U=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"mechStages",W,i(t)),o(t,"mech2Stages",Q,i(t)),t.currentMechStages=[],o(t,"flapSounds",$,i(t)),o(t,"wheelSounds",ee,i(t)),o(t,"triggerSounds",te,i(t)),o(t,"beepSounds",ne,i(t)),o(t,"mouthOpenSounds",oe,i(t)),o(t,"mouthCloseSounds",ie,i(t)),o(t,"balloonDeathSounds",re,i(t)),o(t,"introSounds",ae,i(t)),o(t,"engineShootSounds",se,i(t)),o(t,"planeSounds",le,i(t)),o(t,"dropSounds",ue,i(t)),t.triggering=!1,t.jumpTargetPoses=[new h(6,0),new h(6,1),new h(6,2),new h(6,3),new h(6,4)],t.balloonFell=!1,o(t,"planeShadePar",he,i(t)),t.justStunned=!1,o(t,"summonPoint",de,i(t)),o(t,"bagPoint",ce,i(t)),t}n(t,e);var r=t.prototype;return r.specialZombossMechOnEnable=function(){this.triggering=!1,this.balloonFell=!1},r.killInRange=function(){},r.shouldDepth=function(){return this.balloonFell?S.depth(this.worldPositionX,this.inLnC)*this.depthScale:-60},r.jumpStart=function(e){void 0===e&&(e=this.getJumpTarget()),this.jumpHeightTween||(this.idling=!1,e||(e=w.getRandom(this.jumpTargetPoses)),this.willLandPos=e,this.body.playAnimation("Leap",1/0),Math.random()<this.laughterRate&&g.playArray(this.worldZombossShootSaySounds,1,.1))},r.jump=function(e){void 0===e&&(e=this.getJumpTarget());var t=e.clone();this.reversed&&(t.x=8-t.x);var n=y.getLnC(t.y,t.x),o=this,i=this.height;this.jumpHeightTween=d(o).to(7/6,{height:i/2},{easing:"quadInOut"}).to(7/3,{height:260},{easing:"quadInOut"}).to(7/3,{height:i/2},{easing:"quadInOut"}).to(7/6,{height:i},{easing:"quadInOut"}).start(),this.moveTween=d(o).to(7,{worldPositionX:n.node.worldPosition.x,worldPositionY:n.node.worldPosition.y},{easing:"quadInOut"}).call((function(){o.moveTween=null,o.jumpHeightTween=null})).start()},r.specialZombossMechAnimationListener=function(e){var t=this;switch(e.name){case"Idle":this.triggering=!1;break;case"drop":Math.random()>.5&&g.playArray(this.worldZombossRushSaySounds,1,.1);var n=f(this.missile),o=L.lobOneCabbageOnPos(n,new h(this.bagPoint.worldPosition.x,this.worldPositionY),this.bagPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,new h(this.bagPoint.worldPosition.x,this.worldPositionY),3,A.default,10,0);o.gravity=1,o.bodyLinearVelocity=-10;break;case"rushSay":Math.random()>.5&&g.playArray(this.worldZombossStabSaySounds,1,.1);break;case"dropSound":g.playArray(this.dropSounds,1,.1);break;case"flap":g.playArray(this.flapSounds,1,.1),g.playArray(this.wheelSounds,1,.1);break;case"introSound":g.playArray(this.introSounds,1,.1);break;case"introSay":g.playArray(this.worldZombossSpawnSaySounds,1,.1);break;case"balloonDeath":g.playArray(this.balloonDeathSounds,1,.1),this.balloonFell=!0,this.fallingInSky||this.node.setParent(this.inLane.zombieLayer,!0),Math.random()>.5&&g.playArray(this.worldZombossRushSaySounds,1,.1);break;case"triggerStart":g.playArray(this.worldZombossShootSaySounds,1,.1),g.playArray(this.triggerSounds,1,.1),this.triggering=!0;break;case"triggerEnd":g.playArray(this.triggerSounds,1,.1),this.triggering=!1;break;case"summonStart":this.summonStart();break;case"mouthOpen":g.playArray(this.mouthOpenSounds,1,.1);break;case"mouthClose":g.playArray(this.mouthCloseSounds,1,.1);break;case"engineBurst":g.playArray(this.engineShootSounds,1,.1);break;case"plane":g.playArray(this.planeSounds,2,.1);var i=f(this.planeShadePar);i.parent=y.getLaneComponent(4).prjLayer,i.worldPosition=y.getLnC(2,3).node.worldPosition;var r=i.getComponent(c.ArmatureDisplay);null==r||r.playAnimation(this.reversed?"PlayR":"PlayL",1/0);break;case"parachute":for(var a=this.currentMechStages[this.currentStage],s=P.getRandomIntegerFromRange(a.ParachuteCount),l=[],u=0;u<5;u++)for(var d=a.ParachuteColumn.Min;d<=a.ParachuteColumn.Max;d++){var p=y.getLnC(u,d);p.isInLawn()&&l.push(p)}l=w.randomize(l);for(var m=0;m<l.length&&m<s;m++){var S=l[m];this.reversed&&(S=y.getLnC(S.lIndex,8-S.cIndex)),S.spawnZombie(v.lostcity_lostpilot,b.dirtSpawn).forEach((function(e){e.hypno=t.hypno,e.reversed=t.reversed}))}}},r.specialZombieSetLaneChangeParent=function(e,t){var n,o,i=t.LowerLane.LowerLane;null!=(n=i)&&n.prjLayer||(i=t.LowerLane),null!=(o=i)&&o.prjLayer||(i=t),this.node.setParent(i.prjLayer,!0)},r.stabAnimation=function(){this.idling=!1,this.rush()},r.shootAnimation=function(){this.isAlive()&&(this.targetLocators=[],this.idling=!1,this.body.playAnimation("Shoot",1),Math.random()<this.laughterRate&&this.playOneShot(w.getRandom(this.worldZombossShootSaySounds),1,!0),this.shooting=!0)},r.rush=function(){var e,t=this;this.willRush=!1;for(var n=this.reversed?1:7,o=[],i=0;i<5;i++){var r=y.getLnC(i,n);r=this.reversed?r.lefter:r.righter,this.lIndex!=i&&r.TrapTiles.length>0&&o.push(i)}if(o.length){this.body.playAnimation("Rush",1/0);var a=y.getLnC(w.getRandom(o),n);this.idling||this.body.playAnimation("Idle"),null==(e=this.moveTween)||e.stop(),this.moveTween=d(this).to(1,{worldPositionX:a.node.worldPosition.x,worldPositionY:a.node.worldPosition.y},{easing:"quadInOut"}).call((function(){var e;t.idling=!1,null==(e=t.moveTween)||e.stop(),t.moveTween=null,t.body.playAnimation("Drop",1/0)})).start()}else this.idling=!0},r.detectRushEnemies=function(){return!0},r.summonAnimation=function(){for(var e,t=this,n=[],o=0;o<4;o++)this.lIndex!=o&&n.push(o);var i=this.reversed?2:6,r=y.getLnC(w.getRandom(n),i);this.idling||this.body.playAnimation("Idle"),null==(e=this.moveTween)||e.stop(),this.moveTween=d(this).to(1,{worldPositionX:r.node.worldPosition.x,worldPositionY:r.node.worldPosition.y},{easing:"quadInOut"}).call((function(){var e;t.idling=!1,null==(e=t.moveTween)||e.stop(),t.moveTween=null,t.body.playAnimation("SummonStart",1/0)})).start()},r.getIdleC=function(){return this.justStunned?(this.justStunned=!1,NaN):this.cIndex},r.summonAudioActive=function(){},r.specialZombossMechStunEnd=function(){var e;null==(e=this.jumpHeightTween)||e.stop(),this.jumpHeightTween=null,this.justStunned=!0},r.getDDepth=function(e,t){return Math.sign(e)*t*180},r.summonAZombie=function(){var e,t,n=this,o=this.summonZombieList.shift(),i=this.reversed?this.inLnC.lefter:this.inLnC.righter,r=[i];if(null!=(e=i.lower)&&e.isInLawn()&&r.push(i.lower),null!=(t=i.lower)&&null!=(t=t.lower)&&t.isInLawn()&&r.push(i.lower.lower),i=w.getRandom(r)){var a=i.spawnZombie(o,b.fromLane);!this.pfSent&&Math.random()<.3&&(a[0].havePlantfood=!0,this.pfSent=!0),a.forEach((function(e){e.reversed=n.reversed,e.hypno=n.hypno,e.walking=!1,e.playWalk(),e.worldPositionX=n.shadeSocket.worldPosition.x,e.height_depth=n.summonPoint.worldPosition.y-e.worldPositionY,e.leapBy(new h(0,0),!0,.5,e.height_depth,!0,!1,!1,!0)})),this.summonZombieList.length<=0&&this.summonEnd()}},r.specialZombossUpdate=function(e,t,n){this.triggering&&g.playArray(this.beepSounds,2,NaN,.8)},t}(m)).prototype,"mechStages",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=t(U.prototype,"mech2Stages",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=t(U.prototype,"flapSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=t(U.prototype,"wheelSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=t(U.prototype,"triggerSounds",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=t(U.prototype,"beepSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=t(U.prototype,"mouthOpenSounds",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=t(U.prototype,"mouthCloseSounds",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=t(U.prototype,"balloonDeathSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=t(U.prototype,"introSounds",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=t(U.prototype,"engineShootSounds",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=t(U.prototype,"planeSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=t(U.prototype,"dropSounds",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),he=t(U.prototype,"planeShadePar",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=t(U.prototype,"summonPoint",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(U.prototype,"bagPoint",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=U))||K));r._RF.pop()}}}));

System.register("chunks:///_virtual/lostcityZombossSandbag.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./SoundRescourses.ts"],(function(n){var t,o,r,e,i,s,a,c,u;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,r=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){i=n.cclegacy,s=n._decorator,a=n.AudioClip},function(n){c=n.commonShot},function(n){u=n.sounds}],execute:function(){var l,p,d,f,y;i._RF.push({},"99899Gk5ppAM5wKQxc6KSFG","lostcityZombossSandbag",void 0);var b=s.ccclass,S=s.property;n("lostcityZombossSandbag",(l=b("lostcityZombossSandbag"),p=S([a]),l((y=t((f=function(n){function t(){for(var t,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=n.call.apply(n,[this].concat(i))||this,r(t,"sandSounds",y,e(t)),t}o(t,n);var i=t.prototype;return i.specialOnGroundHit=function(n){var t;return null==n||null==(t=n.TrapTiles)||t.forEach((function(n){n.trigger()})),u.playArray(this.sandSounds,1,.1),!0},i.detectEnemy=function(n){},t}(c)).prototype,"sandSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=f))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/LostRelicHunterZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PirateSwashbucklerZombie.ts"],(function(e){var t,o,r,i;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,r=e._decorator},function(e){i=e.PirateSwashbucklerZombie}],execute:function(){var c;o._RF.push({},"44625+LKvpJKo5BPxWwJAe9","LostRelicHunterZombie",void 0);var n=r.ccclass;r.property,e("LostRelicHunterZombie",n("LostRelicHunterZombie")(c=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o}(i))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/MagnetShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./Character.ts","./NodePools.ts","./Peashooter.ts","./SoundRescourses.ts"],(function(o){var t,i,n,e,r,s,a,h,l,d,c,b,u,f,m,p,g,A,w,y,P,S;return{setters:[function(o){t=o.applyDecoratedDescriptor,i=o.inheritsLoose,n=o.initializerDefineProperty,e=o.assertThisInitialized,r=o.createClass},function(o){s=o.cclegacy,a=o._decorator,h=o.AudioClip,l=o.Node,d=o.Vec2,c=o.tween,b=o.Vec3,u=o.TWO_PI},function(o){f=o.Plant,m=o.PlantProps},function(o){p=o.Rectangle,g=o.ZombiePool},function(o){A=o.Square},function(o){w=o.CharacterType},function(o){y=o.NodePools},function(o){P=o.peaShooter},function(o){S=o.sounds}],execute:function(){var v,L,C,D,O,R,M,j,_,E,T,z,Y,k,F,x,q,U,V,I;s._RF.push({},"6ba32ixBPpPLasfuVKITn50","MagnetShroom",void 0);var N=a.ccclass,X=a.property,H=function(o){function t(){for(var t,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return(t=o.call.apply(o,[this].concat(n))||this).RestTime=10,t.PlantfoodAbsorbDuration=1.5,t.PlantfoodThrowDamage=300,t}return i(t,o),t}(m),W=(v=N("magnetshroomSound"),L=X(h),C=X(h),D=X(h),O=X(h),v((j=t((M=function(){function o(){n(this,"shootSound",j,this),n(this,"catchSound",_,this),n(this,"foodSound",E,this),n(this,"absorbSound",T,this)}var t=o.prototype;return t.playShoot=function(){S.play(this.shootSound,1,.1)},t.playCatch=function(){S.play(this.catchSound,1,.1)},t.playFood=function(){S.play(this.foodSound,1,.1)},t.playAbsorb=function(){S.play(this.absorbSound,1,.1)},o}()).prototype,"shootSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(M.prototype,"catchSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(M.prototype,"foodSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(M.prototype,"absorbSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=M))||R);o("MagnetShroomPlant",(z=N("MagnetShroomPlant"),Y=X(l),k=X(W),F=X([h]),z((U=t((q=function(o){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=o.call.apply(o,[this].concat(r))||this,n(t,"armorSocket",U,e(t)),n(t,"soundRes",V,e(t)),t._objdataOwn=new H,t.detectorM=new p,t.detectorUD=new p,t.foodAbsorbCD=0,t.foodAbsorbedArmors=[],t.foodedTime=0,t.absorbedArmor=null,t.absorbedArmorOldScale=1,t.switching=!1,t._resting=0,n(t,"hitSounds",I,e(t)),t}i(t,o);var s=t.prototype;return s.specialPlantOnSquareChange=function(o,t){this.detectorM=p.createRectangleNodeCenter(t.node,7*A.SquareDisW,3*A.SquareDisH),this.detectorUD=p.createRectangleNodeCenter(t.node,5*A.SquareDisW,5*A.SquareDisH)},s.getMagnetedObject=function(){var o,t,i,n,e=this,r=null;return[this.inLane,null==(o=this.inLane)?void 0:o.UpperLane,null==(t=this.inLane)?void 0:t.LowerLane].forEach((function(o){var t;r||null==o||null==(t=o.zombiePool())||t.forEach((function(o){r||e.detectorM.judgeCrossRec(o.bodyRec)&&(r=o.getMagnetedObject())}))})),r||([null==(i=this.inLane)||null==(i=i.UpperLane)?void 0:i.UpperLane,null==(n=this.inLane)||null==(n=n.LowerLane)?void 0:n.LowerLane].forEach((function(o){var t;r||null==o||null==(t=o.zombiePool())||t.forEach((function(o){r||e.detectorUD.judgeCrossRec(o.bodyRec)&&(r=o.getMagnetedObject())}))})),r)},s.specialOnLaneChange=function(o,t){this.foodParent=t.prjLayer},s.specialPlantFood=function(o){this.foodAbsorbedArmors=[],this.foodedTime=0,this.resting=0,this.foodAbsorbCD=this._objdataOwn.PlantfoodAbsorbDuration,this.absorbedArmor=null,this.soundRes.playFood(),this.switching=!1,this.anmControl.playAnimation("FoodStart"),this.foodLightParticle.setParent(this.inLane.foodPlantLayer,!0),this.node.setParent(this.inLane.prjLayer,!0),this.body.setParent(this.node,!0)},s.absorbAll=function(){var o=this;g.pool().concat().forEach((function(t){var i=t.getFoodMagnetedObject();i&&o.absorbAnArmor(i,.5)}))},s.specialPlantFoodEnd=function(){this.switching=!0,this.absorbedArmor=null,this.anmControl.playAnimation("FoodEnd",1),this.node.setParent(this.plantInLnC.plantPoint,!0)},s.animationListener=function(o){if("Shoot"==o.name)if(this.foodAbsorbedArmors[0]){this.soundRes.playShoot();var t=this.foodAbsorbedArmors[0];this.foodAbsorbedArmors.shift();var i=P.shootOnePea(t.node,this.worldPosition,(this.armorSocket.worldPosition.y-this.worldPositionY)/2,this.inLane.prjLayer,new d(17,0),w.zombie);i.setDamage(this._objdataOwn.PlantfoodThrowDamage*this._dmgScale),i.detectEnemyOn=!0,i.PopSound=this.hitSounds,i.bodyOmega=5,i.node.setSiblingIndex(0)}else this.foodEnd()},s.specialPlantOnEnable=function(){this.absorbedArmor=null},s.absorbAnArmor=function(o,t){var i=this;void 0===t&&(t=1);var n=o;return n.linearVelocity=new d(0,0),n.bodyLinearVelocity=0,n.bodyOmega=0,c(o).to(.2,{height:t*(this.armorSocket.worldPosition.y-this.worldPositionY),worldPositionX:this.armorSocket.worldPosition.x,worldPositionY:this.worldPositionY}).call((function(){i.dead||(i.fooding?i.foodAbsorbedArmors.push(o):(i.absorbedArmor=o,i.absorbedArmorOldScale=o.node.worldScale.x,i.absorbCatch()))})).start(),o},s.absorbStart=function(){this.soundRes.playAbsorb(),this.anmControl.playAnimation("AbsorbStart",1/0,0,1.3),this.switching=!0},s.absorbCatch=function(){this.soundRes.playCatch(),this.anmControl.playAnimation("AbsorbEnd"),this.switching=!1,this.resting=this._objdataOwn.RestTime*this._cdScale},s.animationOnComplete=function(){this.switching=!1},s.waterable=function(){return this.resting<=0&&!this.switching},s.specialPlantOnSheepend=function(){this.resting>0&&this.recover()},s.recover=function(){this.anmControl.playAnimation("Recover",1),this.soundRes.playCatch(),this.switching=!0,this.absorbedArmor&&y.destroyPooly(this.absorbedArmor.node),this.absorbedArmor=null},s.specialPlantUpdate=function(o,t,i){var n=this,e=this.armorSocket.worldPosition.y-this.worldPositionY;if(!this.switching&&!this.fooding&&!this.sheepend)if(this.resting<=0){var r=this.getMagnetedObject();r&&(this.absorbStart(),this.absorbAnArmor(r))}else{var s=o;this._cdScale,this.absorbedArmor&&(s*=this.absorbedArmor.MagnetShroomConsumingSpeed),this.resting-=s,this.resting<=0&&this.recover()}if(this.absorbedArmor){this.absorbedArmor.worldPositionX=this.armorSocket.worldPosition.x,this.absorbedArmor.worldPositionY=this.worldPositionY,this.absorbedArmor.height=e;var a=this.absorbedArmor;if(a.bodyLinearVelocity=0,this.resting>0){var h=Math.max(this.absorbedArmorOldScale*this.resting/this._objdataOwn.RestTime,.01);a.node.worldScale=new b(h,h,h)}}if(this.fooding&&!this.sheepend){if(this.foodAbsorbCD>0&&(this.foodAbsorbCD-=o,this.absorbAll()),this.foodAbsorbCD<=0&&!this.switching){this.switching=!0;var l=Math.min(5,Math.max(1,this.foodAbsorbedArmors.length/20));this.anmControl.playAnimation("FoodShoot",1/0,0,l)}var d=this.foodAbsorbedArmors.length;if(this.foodedTime+=o,d>0){var c=[];this.foodAbsorbedArmors.concat().forEach((function(o,t){if(o){var i=o,r=u*t/d+3*n.foodedTime,s=30*Math.cos(r),a=30*Math.sin(r)*.5;i.height=e/2,i.bodyLinearVelocity=0,i.worldPositionX=n.worldPositionX+s,i.worldPositionY=n.worldPositionY+a,c.push(i)}})),c.push(this),c.sort((function(o,t){return t.worldPositionY-o.worldPositionY})).forEach((function(o,t){o.node.setSiblingIndex(t+1)}))}}},r(t,[{key:"resting",get:function(){return this._resting},set:function(o){this.deathAnm=o>0?"DeathDark":"Death",this._resting=o}}]),t}(f)).prototype,"armorSocket",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(q.prototype,"soundRes",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new W}}),I=t(q.prototype,"hitSounds",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=q))||x));s._RF.pop()}}}));

System.register("chunks:///_virtual/MagnifyingGrass.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SunCount.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./SandBoxLevelSettingWindow.ts","./Zombie.ts","./Plants.ts","./ParticleSelfdestroy.ts","./CharacterManager.ts","./Tomb.ts","./SoundRescourses.ts"],(function(o){var t,n,i,a,r,e,s,d,l,h,f,u,p,P,c,g,b,w,y,S,m,T,D,C,v,_,A,E,L,F,R;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,i=o.initializerDefineProperty,a=o.assertThisInitialized},function(o){r=o.cclegacy,e=o._decorator,s=o.AudioClip,d=o.Prefab,l=o.Node,h=o.Vec3,f=o.Vec2,u=o.tween,p=o.HALF_PI,P=o.instantiate},function(o){c=o.Plant,g=o.PlantProps},function(o){b=o.SunCount},function(o){w=o.instantiatePooly},function(o){y=o.peaShooter},function(o){S=o.CharacterType},function(o){m=o.SandBoxLevelSettingWindow},function(o){T=o.Zombie,D=o.ZombieDamageDetails,C=o.zombieDamageType},function(o){v=o.plants},function(o){_=o.ParticleSelfdestroy},function(o){A=o.ZombiePool,E=o.TombPool,L=o.PlantPool},function(o){F=o.Tomb},function(o){R=o.sounds}],execute:function(){var j,O,x,I,z,Y,M,X,Z,B,G,q,H,W,N,V,k,K,U,J,Q,$,oo,to,no,io,ao,ro,eo,so;r._RF.push({},"ccf001ZKmdPHZ+CDO3Le8dl","MagnifyingGrass",void 0);var lo=e.ccclass,ho=e.property,fo=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=o.call.apply(o,[this].concat(i))||this).ShootSunCost=50,t.SunProducerList=["sunflower","twinsunflower","sunshroom","primalsunflower","moonflower"],t.PlantfoodDuration=3,t.PlantfoodDurationExtendPerProducer=.15,t.PlantfoodDPS=200,t.ShootInterval=.667,t}return n(t,o),t}(g),uo=(j=lo("magnifyinggrassSound"),O=ho([s]),x=ho([s]),I=ho(s),z=ho([s]),Y=ho([s]),j((Z=t((X=function(){function o(){i(this,"shootSounds",Z,this),i(this,"foodStartSounds",B,this),i(this,"foodLoopSound",G,this),i(this,"foodEndSounds",q,this),i(this,"foodingSounds",H,this)}var t=o.prototype;return t.playShootSound=function(){R.playArray(this.shootSounds,1,.1)},t.playFoodStartSound=function(){R.playArray(this.foodStartSounds,1,.1)},t.playFoodEndSound=function(){R.playArray(this.foodEndSounds,1,.1)},t.playFoodingSound=function(){var o;R.playArray(this.foodingSounds,1,.5),R.play(this.foodLoopSound,1,null==(o=this.foodLoopSound)?void 0:o.getDuration())},o}()).prototype,"shootSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(X.prototype,"foodStartSounds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(X.prototype,"foodLoopSound",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(X.prototype,"foodEndSounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(X.prototype,"foodingSounds",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=X))||M);o("MagnifyingGrassPlant",(W=lo("MagnifyingGrassPlant"),N=ho(uo),V=ho(d),k=ho(l),K=ho(d),U=ho(d),J=ho(d),Q=ho(d),W((to=t((oo=function(o){function t(){for(var t,n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];return(t=o.call.apply(o,[this].concat(r))||this).sunProducerList=[],i(t,"soundRes",to,a(t)),i(t,"prj",no,a(t)),i(t,"peaSpawnPoint",io,a(t)),t._foodEndCD=3,t._foodExtendCD=.15,t.foodTarget=null,t.pfIdleTargetDX=400,t.pfIdleTargetDY=200,t.shooting=!1,i(t,"foodFromParPrefab",ao,a(t)),t.foodFromPar=void 0,i(t,"foodToParPrefab",ro,a(t)),t.foodToPar=void 0,i(t,"foodAbsorbParPrefab",eo,a(t)),t.foodAbsorbPar=[],i(t,"foodRayParPrefab",so,a(t)),t.foodRayPar=void 0,t._objdataOwn=new fo,t.shootCD=0,t}n(t,o);var r=t.prototype;return r.teach=function(){b.component.SunCount>=this._objdataOwn.ShootSunCost||m.freePlant?(this.addArrow(1/0),this.defaultTeach(1)):this.arrowCountdown=0},r.specialPlantUpdateForce=function(o,t,n){var i=this;if(this.shootCD>0&&(this.shootCD-=o),this.fooding){if(this.foodTarget&&!this.foodTarget.isAlive()&&(this.foodTarget=null),this.foodTarget||(this.foodTarget=A.leftest(),this.foodTarget||(this.foodTarget=E.leftest())),this.foodTarget){var a,r,e=this._objdataOwn.PlantfoodDPS*o;e*=this._dmgScale,null==(a=this.foodTarget.getComponent(T))||a.dealDamage(new D(e,!0,!1,!0,null,C.ray)),null==(r=this.foodTarget.getComponent(F))||r.dealDamage(e),this.foodToPar&&(this.foodToPar.node.parent=this.foodTarget.inLane.prjLayer,this.foodToPar.node.worldPosition=new h(this.foodTarget._worldPositionX,this.foodTarget._worldPositionY+this.peaSpawnPoint.worldPosition.y-this.worldPositionY,10))}if(this.foodFromPar&&(this.foodFromPar.node.worldPosition=this.peaSpawnPoint.worldPosition),this.foodRayPar&&(this.foodRayPar.character=this.foodTarget),this.foodRayPar&&this.correctRay(this.foodRayPar),this.foodTarget&&!this.foodToPar){var s,d=w(this.foodToParPrefab);d.parent=this.foodTarget.inLane.prjLayer,d.worldPosition=new h(this.foodTarget._worldPositionX,this.foodTarget._worldPositionY+this.foodTarget.height+this.peaSpawnPoint.worldPosition.y-this.worldPositionY,10),this.foodToPar=d.getComponent(_),null==(s=this.foodToPar)||null==(s=s.db)||s.playAnimation("Idle")}else if(!this.foodTarget&&this.foodToPar){var l;null==(l=this.foodToPar)||null==(l=l.db)||l.playAnimation("Die"),this.foodToPar=null}this.soundRes.playFoodingSound(),this.foodAbsorbPar.length>0?(this.foodAbsorbPar.forEach((function(o){i.correctRay(o)})),this._foodExtendCD>0&&(this._foodExtendCD-=o),this._foodExtendCD<=0&&(this._foodExtendCD=this._objdataOwn.PlantfoodDurationExtendPerProducer,this.foodAbsorbPar[0].psd.db.playAnimation("End"),this.foodAbsorbPar.shift())):this._foodEndCD>0&&(this._foodEndCD-=o,this._foodEndCD<=0&&this.foodEnd())}},r._shoot=function(o){void 0===o&&(o=this.prj);var t=w(this.prj);t.parent=this.inLane.prjLayer;var n=y.shootOnePea(t,new f(this.peaSpawnPoint.worldPosition.x,this._worldPositionY),this.peaSpawnPoint.worldPosition.y-this._worldPositionY,this.inLane.prjLayer,new f(15,0),S.zombie);n.setDamage(this._dmgScale*n.damage_)},r.specialPlantOnEnable=function(){this.shooting=!1,this.foodToPar=null,this.foodTarget=null,this.foodRayPar=null,this.shootCD=0;var o=this.pfIdleTargetDY,t=this,n=u(t).to(2,{pfIdleTargetDY:-o},{easing:"quadInOut"}),i=u(t).to(2,{pfIdleTargetDY:o},{easing:"quadInOut"});n.then(i).clone(t).repeatForever().start()},r.waterable=function(){return!this.shooting},r.animationOnComplete=function(){this.shooting=!1},r.animationListener=function(o){"Shoot"==o.name?(this._shoot(),this.shooting=!1,this.soundRes.playShootSound()):"foodStart"==o.name&&this.foodStart()},r.foodStart=function(){this.anmControl.playAnimation("Fooding",1/0)},r.specialPlantFood=function(o){var t=this;this.anmControl.playAnimation("FoodStart",1),this.soundRes.playFoodStartSound(),this.shootCD=0;var n=w(this.foodFromParPrefab);n.parent=this.body.parent,n.worldPosition=this.peaSpawnPoint.worldPosition,this.foodFromPar=n.getComponent(_),this.foodFromPar.db.playAnimation("Start"),this.foodAbsorbPar=[],L.pool().forEach((function(o){if(-1!=t.sunProducerList.indexOf(o.ID)){var n=w(t.foodAbsorbParPrefab);n.parent=t.inLane.prjLayer;var i=n.getComponent(_);i.db.playAnimation("Idle",1/0);var a={character:o,psd:i};t.correctRay(a),t.foodAbsorbPar.push(a)}})),this.foodAbsorbPar.length>0&&(this._foodExtendCD=this._objdataOwn.PlantfoodDurationExtendPerProducer),this._foodEndCD=this._objdataOwn.PlantfoodDuration;var i=w(this.foodRayParPrefab);i.parent=this.inLane.prjLayer;var a=i.getComponent(_);a.db.playAnimation("Start"),this.foodRayPar={character:null,psd:a}},r.correctRay=function(o){var t=o.psd,n=this.peaSpawnPoint.worldPosition;t.node.worldPosition=this.peaSpawnPoint.worldPosition;var i=o.character,a=(new h,(i?new h(i._worldPositionX,i._worldPositionY+i.height+this.peaSpawnPoint.worldPosition.y-this.worldPositionY,0):new h(this._worldPositionX+this.pfIdleTargetDX,this._worldPositionY+this.pfIdleTargetDY,10)).clone().add(n.clone().negative())),r=new f(a.x,a.y);t.node.worldScale=new h(r.length()/500,.5,1),t.node.angle=90/p*Math.atan2(r.y,r.x)},r.specialPlantFoodEnd=function(){this.soundRes.playFoodEndSound(),this.anmControl.playAnimation("FoodEnd",1),this.foodFromPar.db.playAnimation("End"),this.foodFromPar=null,this.foodTarget=null,this.foodToPar&&(this.foodToPar.db.playAnimation("Die"),this.foodToPar=null),this.foodRayPar&&(this.foodRayPar.psd.db.playAnimation("End"),this.foodRayPar=null)},r.onObjdataSet=function(o,t){var n,i=this;this.sunProducerList=[],null==(n=t.SunProducerList)||n.forEach((function(o){var t=v.getPlantEnumByString(o,!1);t>=0&&i.sunProducerList.push(t)}))},r.shootAnimation=function(){this.shootCD=this._objdataOwn.ShootInterval*this._cdScale;var o=P(b.component.icon.node);o.parent=this.inLane.node,o.setSiblingIndex(0),o.worldPosition=b.component.icon.node.worldPosition,o.worldScale=b.component.icon.node.worldScale.clone(),u(o).to(.2,{worldPosition:this.peaSpawnPoint.worldPosition,worldScale:new h(.2,.2,.2)},{easing:"quadOut"}).call((function(){o.destroy()})).start(),this.shooting=!0,this.anmControl.playAnimation("Shoot"+Math.floor(2*Math.random()).toString(),1,0,Math.max(1,.4/this.shootCD)),b.component.SunDec(this._objdataOwn.ShootSunCost)},r.specialPlantOnMouseDown=function(){if(this.sheepend)return!1;if(this.fooding||this.shooting||this.shootCD>0)return!1;var o=b.component.SunCount>=this._objdataOwn.ShootSunCost||m.freePlant;return o?(this.arrowCountdown=0,this.shootAnimation()):this.shooting||o||b.component.playWarn(),o},t}(c)).prototype,"soundRes",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new uo}}),no=t(oo.prototype,"prj",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),io=t(oo.prototype,"peaSpawnPoint",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ao=t(oo.prototype,"foodFromParPrefab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ro=t(oo.prototype,"foodToParPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eo=t(oo.prototype,"foodAbsorbParPrefab",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),so=t(oo.prototype,"foodRayParPrefab",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=oo))||$));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./ElectronAPI.ts","./NodePools.ts","./_1.ts","./lawnPirate.ts","./lawnSky.ts","./lawn.ts","./stageEffect.ts","./Armors.ts","./GridItem.ts","./JSONs.ts","./LevelNodes.ts","./Levels.ts","./Plants.ts","./Projectiles.ts","./Scenes.ts","./Tiles.ts","./Tombs.ts","./Trophies.ts","./ZenGardenRP.ts","./Zombies.ts","./ScrollViewWithoutTouchevent.ts","./Almanac.ts","./AlmanacElementForPlant.ts","./AlmanacElementForZombie.ts","./AlmanacPlantPage.ts","./AlmanacUpgradeDisplay.ts","./AlmanacUpgradePage.ts","./AlmanacZombiePage.ts","./CardUIUpper.ts","./Cards.ts","./CharacterManager.ts","./Conveyor.ts","./DangerroomCard.ts","./DangerroomCardChooser.ts","./Droppings.ts","./FrontYard.ts","./KeyListener.ts","./LevelObjectiveScreen.ts","./LevelTaskCount.ts","./Materials.ts","./Particles.ts","./PauseScreen.ts","./PlantFoodCount.ts","./PowerupFingers.ts","./ProjectileManager.ts","./SandBoxZombieCards.ts","./SeedChooser.ts","./Shovel.ts","./ShovelUIController.ts","./SoundManager.ts","./SoundRescourses.ts","./Square.ts","./Store.ts","./StoreCommodity.ts","./StoreCostumeSeller.ts","./SunCount.ts","./UI.ts","./inGame.ts","./levelController.ts","./LoaderFlower.ts","./InfoWindow.ts","./PlayerPropertiesWindow.ts","./PlayerSelector.ts","./SandBoxLevelSettingWindow.ts","./SettingWindow.ts","./UpdateContentWindow.ts","./WorldUnlockWindow.ts","./fanMadeLevelWindow.ts","./mainScene.ts","./preSplashScene.ts","./splashScene.ts","./testScene.ts","./ZenGarden.ts","./ZenGardenFeatures.ts","./ZenGardenObjectPar.ts","./zenGardenScene.ts","./AnimationController.ts","./Character.ts","./Mouse.ts","./ParticleSelfdestroy.ts","./PlayerProperties.ts","./Lane.ts","./LnC.ts","./LnCLower.ts","./Tide.ts","./GroundFire.ts","./GroundFiresManager.ts","./CardFeatureTotal.ts","./Plant.ts","./PlantIcon.ts","./SniperPlant.ts","./BananaLauncher.ts","./MissileToe.ts","./Bloomerang.ts","./Blover.ts","./Hurrikale.ts","./BonkChoy.ts","./BowlingBulb.ts","./Buttercup.ts","./AKEE.ts","./AppleMortar.ts","./CabbagePult.ts","./KernelPult.ts","./MelonPult.ts","./PepperPult.ts","./Sapfling.ts","./SporeShroom.ts","./akeeShot.ts","./Cactus.ts","./cardSelectAlmanac.ts","./CeleryStalker.ts","./ChardGuard.ts","./CherryBomb.ts","./CranJelly.ts","./DoomShroom.ts","./EMPeach.ts","./GrapeShot.ts","./Jalapeno.ts","./PowerLily.ts","./SolarTomato.ts","./ThymeWarp.ts","./ChiliBean.ts","./SunBean.ts","./Chomper.ts","./Toadstool.ts","./Citron.ts","./boulderPrj.ts","./citronFoodPrj.ts","./CoconutCannon.ts","./Dandelion.ts","./Dragonbruit.ts","./DragonbruitBaby.ts","./ElectricBlueberry.ts","./electricblueberryCloud.ts","./ElectricCurrant.ts","./EscapeRoot.ts","./FloawerPot.ts","./LilyPad.ts","./FumeShroom.ts","./GloomShroom.ts","./GloomVine.ts","./LaserBean.ts","./PhatBeet.ts","./PhatBeetRhythm.ts","./GhostPepper.ts","./GlacierShroom.ts","./GraveBuster.ts","./HotPotato.ts","./Guacodile.ts","./runningGuacodile.ts","./HeavenlyPeach.ts","./HomingThistle.ts","./HypnoShroom.ts","./IcebergLettuce.ts","./LavaGuava.ts","./Stallia.ts","./Stunion.ts","./Imitater.ts","./JackOLantern.ts","./jackOLanternFoodFireParticle.ts","./LightningReed.ts","./lightningCloud.ts","./MagnetShroom.ts","./MagnifyingGrass.ts","./MeteorFlower.ts","./ElectricPeashooter.ts","./FirePeashooter.ts","./GatlingPea.ts","./PeaPod.ts","./PeaVine.ts","./Peanut.ts","./Peashooter.ts","./PrimalPeashooter.ts","./ProjectileSpawner.ts","./PuffShroom.ts","./RedStinger.ts","./Repeater.ts","./Rotobaga.ts","./SeaShroom.ts","./ShootingStarfruit.ts","./Skyshooter.ts","./SnowPea.ts","./SplitPea.ts","./StarFruit.ts","./ThreePeater.ts","./Parsnip.ts","./runningParsnip.ts","./Plantern.ts","./MoonBean.ts","./PotatoMine.ts","./PotatoMinePrimal.ts","./Potion.ts","./PotionInvisibility.ts","./PotionSpeed.ts","./PotionToughness.ts","./ScaredyShroom.ts","./ShadowShroom.ts","./ColdSnapDragon.ts","./SnapDragon.ts","./SnapDragonFoodPar.ts","./Spikerock.ts","./Spikeweed.ts","./SpringBean.ts","./Squash.ts","./Strawburst.ts","./strawburstPFBerry.ts","./MariGold.ts","./MariGoldBlue.ts","./MariGoldGreen.ts","./MariGoldOrange.ts","./MariGoldPink.ts","./MariGoldPurple.ts","./MariGoldRed.ts","./MariGoldYellow.ts","./Moonflower.ts","./SunShroom.ts","./Sunflower.ts","./TangleKelp.ts","./tanglekelpHands.ts","./GoldLeaf.ts","./IntensiveCarrot.ts","./TileTurnip.ts","./Torchwood.ts","./UmbrellaLeaf.ts","./Vamporcini.ts","./Endurian.ts","./ExplodeONut.ts","./Garlic.ts","./InfiNut.ts","./PrimalWallNut.ts","./Pumpkin.ts","./SweetPotato.ts","./TallNut.ts","./Turnip.ts","./WallNut.ts","./Prizes.ts","./UpgradeTrophy.ts","./WorldTrophy.ts","./coinbag.ts","./levelPrize.ts","./newplantLevelPrize.ts","./trophyPrize.ts","./upgradePrize.ts","./TileLiquid.ts","./boomerang.ts","./cactusThorn.ts","./coconutHeavy.ts","./coin.ts","./commonShot.ts","./cranjellyProjectile.ts","./dropping.ts","./electricPea.ts","./electricPeaMega.ts","./electricPeaPointer.ts","./gem.ts","./bowlingExplodeONut.ts","./bowlingInfiNut.ts","./bowlingProjectile.ts","./bowlingWallNut.ts","./grapeshotProjectile.ts","./LawnMower.ts","./plantFood.ts","./sun.ts","./sunbomb.ts","./sunbombExplosion.ts","./tombBone.ts","./zombieDrop.ts","./darkZombossMissile.ts","./egyptZombossMissile.ts","./futureZombossMissile.ts","./lostcityZombossSandbag.ts","./zombossMissile.ts","./shadeFloor.ts","./SoundsController.ts","./flowerLine.ts","./moldSquare.ts","./Tile.ts","./cart.ts","./deepwaterTile.ts","./endangeredTile.ts","./foodLinkTile.ts","./goldTile.ts","./railway.ts","./sliderTile.ts","./trapBoulderTile.ts","./trapFlameTile.ts","./trapTile.ts","./EightiesArcadeCabinet.ts","./GlacierBlock.ts","./GridIcecube.ts","./LostcityTent.ts","./Tomb.ts","./TombPlantfood.ts","./TombSun.ts","./TombSurfboard.ts","./ButtonWithSounds.ts","./CoinCollecterInGame.ts","./CoinCount.ts","./CurrencyCount.ts","./GemCount.ts","./MouseBlocker.ts","./WorldKeyCount.ts","./EndlessZoneEntrance.ts","./WorldMap.ts","./WorldMapChooser.ts","./WorldMaps.ts","./worldMapScene.ts","./Armor.ts","./BeachBasicZombie.ts","./BeachFisherHook.ts","./BeachFisherZombie.ts","./BeachOctopusZombie.ts","./BeachSnorkelZombie.ts","./BeachSurfboardSpawner.ts","./BeachSurferZombie.ts","./GridOctopus.ts","./ThrewOctopus.ts","./BodyGrouper.ts","./CardFeatureTotalZombie.ts","./CowboyBasicZombie.ts","./CowboyBullZombie.ts","./CowboyChickenFarmerZombie.ts","./CowboyChickenZombie.ts","./CowboyImpZombie.ts","./CowboyPianoZombie.ts","./CowboyPonchoZombie.ts","./CowboyProspectorZombie.ts","./DarkBasicZombie.ts","./DarkJesterZombie.ts","./DarkKingZombie.ts","./DarkWizardSheep.ts","./DarkWizardZombie.ts","./DinoBasicZombie.ts","./EgyptCamelTouchZombie.ts","./EgyptCamelZombie.ts","./EgyptExplorerZombie.ts","./EgyptPharaohZombie.ts","./EgyptRaZombie.ts","./EgyptSandStormParticle.ts","./EgyptTombRaiserZombie.ts","./EightiesArcadeZombie.ts","./EightiesBoomBoxZombie.ts","./EightiesBreakDancerZombie.ts","./EightiesGlitterZombie.ts","./EightiesMCZombie.ts","./EightiesPunkZombie.ts","./FutureGargantuarZombie.ts","./FutureImpZombie.ts","./FutureInfiNutShieldZombie.ts","./FutureJetpackZombie.ts","./FutureMechConeZombie.ts","./FutureMechDiscoZombie.ts","./FutureMechFootballZombie.ts","./FutureProtectorShieldZombie.ts","./FutureProtectorZombie.ts","./MechZombie.ts","./BeachGargantuarZombie.ts","./CowboyGargantuarZombie.ts","./DarkGargantuarZombie.ts","./DinoGargantuarZombie.ts","./EgyptGargantuarZombie.ts","./EightiesGargantuarZombie.ts","./GargantuarZombie.ts","./IceageGargantuarZombie.ts","./LostcityGargantuarZombie.ts","./PirateGargantuarZombie.ts","./IceageDodoRiderZombie.ts","./IceageHunterVeteranZombie.ts","./IceageHunterZombie.ts","./IceageTroglobiteZombie.ts","./IceageWeaselHorderZombie.ts","./IceageWeaselZombie.ts","./DragonImpZombie.ts","./ImpZombie.ts","./KongfuBasicZombie.ts","./KongfuChiZombie.ts","./KongfuHammerZombie.ts","./MonkBasicZombie.ts","./MonkBladeZombie.ts","./MonkNunchakuZombie.ts","./MonkTorchZombie.ts","./LostRelicHunterZombie.ts","./LostcityBasicZombie.ts","./LostcityCrystalSkullZombie.ts","./LostcityExcavatorZombie.ts","./LostcityImpPorterZombie.ts","./LostcityJaneZombie.ts","./LostcityLostPilotZombie.ts","./ModernAllstarZombie.ts","./ModernBalloonZombie.ts","./ModernBobsledTeamZombie.ts","./ModernCatapultZombie.ts","./Icetile.ts","./SleighCartZombie.ts","./PirateBarrelPusherZombie.ts","./PirateBarrelZombie.ts","./PirateCaptainParrotZombie.ts","./PirateCaptainZombie.ts","./PirateImpCannonZombie.ts","./ChickenZombieAshParticle.ts","./PirateSeagullZombie.ts","./SeagullZombieAshParticle.ts","./PirateSwashbucklerZombie.ts","./SkyBasicZombie.ts","./Zombie.ts","./ZombieAshParticle.ts","./BeachZombossMechZombie.ts","./BeachZombossShark.ts","./CowboyZombossMechZombie.ts","./DarkZombossMechZombie.ts","./EgyptZombossMechZombie.ts","./FutureZombossMechZombie.ts","./IceageZombossMechZombie.ts","./LostcityZombossMechZombie.ts","./PirateZombossMechZombie.ts","./ZombossMechZombie.ts","./iceageZombossGlacierMiddle.ts","./zombossMissileLocator.ts","./zombossMissileLocatorFree.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/mainScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./ElectronAPI.ts","./PlayerProperties.ts","./NodePools.ts","./Materials.ts","./KeyListener.ts","./UI.ts","./MultiLanguage.ts","./SettingWindow.ts","./UpdateContentWindow.ts","./SoundRescourses.ts"],(function(e){var t,n,i,o,a,s,r,l,u,h,c,p,d,f,w,S,m,g,y,b,v,W,E,P,C,z,M,T,A,L,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.Label,l=e.Sprite,u=e.SpriteFrame,h=e.Node,c=e.AudioClip,p=e.Color,d=e.input,f=e.Input,w=e.KeyCode,S=e.AudioSource,m=e.assetManager,g=e.Material,y=e.tween,b=e.Component},function(e){v=e.MusicController},function(e){W=e.default},function(e){E=e.AllPlayerProperties},function(e){P=e.ArrayGet},function(e){C=e.materialRes},function(e){z=e.KeyListener},function(e){M=e.setExitToMapScene},function(e){T=e.MultiLanguage},function(e){A=e.Setting},function(e){L=e.UpdateContentWindow},function(e){R=e.sounds}],execute:function(){var N,U,O,_,D,G,I,B,k,F,K,V,j,H,x,Q,q,Y,J,X,$,Z,ee,te,ne,ie,oe,ae,se,re,le,ue,he;a._RF.push({},"bfe05tLwJtHQLHmMPORIuuE","mainScene",void 0);var ce=s.ccclass,pe=s.property,de=(N=ce("mainSceneToolTips"),U=pe(r),N((D=t((_=function(){function e(){i(this,"Play",D,this)}return e.prototype.setStrings=function(){this.Play&&(this.Play.string=T.getString(T.lyrics.MainScene.Play))},e}()).prototype,"Play",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=_))||O);e("mainScene",(G=ce("mainScene"),I=pe(de),B=pe(l),k=pe([u]),F=pe(h),K=pe(h),V=pe(h),j=pe(h),H=pe(h),x=pe(l),Q=pe(r),q=pe(l),Y=pe(c),G(((he=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"tooltips",$,o(t)),i(t,"BG",Z,o(t)),i(t,"randomSplash",ee,o(t)),i(t,"infoWindow",te,o(t)),i(t,"playersWindow",ne,o(t)),i(t,"updateWindow",ie,o(t)),i(t,"settingWindow",oe,o(t)),i(t,"fanmadeWindow",ae,o(t)),i(t,"sceneSlash",se,o(t)),t.sceneColor=new p,t.infoShown=!1,t.playersShown=!1,t.settingsShown=!1,t.fanmadeShown=!1,t.updateShown=!1,i(t,"playerNameLabel",re,o(t)),i(t,"infoButton",le,o(t)),t.audioSource=void 0,i(t,"gotoGameSound",ue,o(t)),t}n(t,e);var a=t.prototype;return a.goToGame=function(){this.infoShown||this.settingsShown||this.playersShown||z.darken((function(){z.goToWorldmap()}))},a.quit=function(){W.quit()},a.updates=function(){this.haveWindow()&&!this.updateShown||(this.updateShown?(this.updateWindow.active=!1,this.updateShown=!1):(this.updateWindow.active=!0,this.updateShown=!0))},a.info=function(){this.haveWindow()&&!this.infoShown||(this.infoShown?(this.infoWindow.active=!1,this.infoShown=!1):(this.infoWindow.active=!0,this.infoShown=!0))},a.players=function(){this.haveWindow()&&!this.playersShown||(this.playersShown?(this.playersWindow.active=!1,this.playersShown=!1):(this.playersWindow.active=!0,this.playersShown=!0))},a.setting=function(){this.haveWindow()&&!this.settingsShown||(this.settingsShown?(this.settingWindow.active=!1,this.settingsShown=!1):(this.settingWindow.active=!0,this.settingsShown=!0))},a.fanmade=function(){this.haveWindow()&&!this.fanmadeShown||(this.fanmadeShown?(this.fanmadeWindow.active=!1,this.fanmadeShown=!1):(this.fanmadeWindow.active=!0,this.fanmadeShown=!0))},a.haveWindow=function(){return this.settingsShown||this.infoShown||this.fanmadeShown||this.updateShown||this.playersShown},a.onLoad=function(){var e=this;d.on(f.EventType.KEY_DOWN,(function(t){t.keyCode==w.SPACE&&(e.goToGame(),R.play(e.gotoGameSound,1,0,0))}),this);var n=A.getSettings().PlayerIndex;(isNaN(n)||n<0)&&(n=0);E.getPlayer(n);if(this.audioSource=this.getComponent(S),!t.gameOpened){var i=this.audioSource.clip.nativeUrl;this.audioSource.clip=null,m.loadRemote(i,{audioLoadMode:c.AudioType.DOM_AUDIO},(function(n,i){n||(e.audioSource.clip=i,e.audioSource.play(),e.audioSource.volume=v.MusicVolume,t.gameOpened=!0)}))}},a.update=function(e){this.sceneSlash.color=this.sceneColor,this.audioSource.volume=v.MusicVolume*v._volumeScalePause;var t=this.infoButton.customMaterial,n=t.passes[0].getHandle("addColor");t.passes[0].setUniform(n,C.zombiePF),E.currentPlayer&&(this.playerNameLabel.string=E.currentPlayer.name)},a.fetchForUpdate=function(){fetch("https://pvzge.com/jsons/gameinfo.json").then((function(e){if(!e.ok)throw new Error("ERROR! ${r.status}");return e.json()})).then((function(e){var t=e.InsideVersion;L.compareVersions(L.version,t)>0&&z.gameTipString(T.getDirectQuote("[UPDATE_REQUEST]").replace("<VERSIONNAME>",t),5)})).catch((function(e){console.warn("Error: ",e)}))},a.start=function(){var e=this;M("mainScene");var t=new g;t.initialize({effectAsset:C.addColorEffect,defines:{USE_TEXTURE:!0}}),this.infoButton.customMaterial=t,this.sceneSlash.color=new p(0,0,0,255),y(this.sceneColor).to(1,{a:0,r:0,g:0,b:0}).start(),this.randomSplash.length&&(this.BG.spriteFrame=P.getRandom(this.randomSplash)),d.on(f.EventType.KEY_DOWN,(function(t){t.keyCode!=w.ESCAPE&&t.keyCode!=w.ENTER&&t.keyCode!=w.SPACE||(e.infoShown?e.info():e.settingsShown?e.setting():e.playersShown?e.players():e.updateShown?e.updates():e.fanmadeShown&&e.fanmade())}),this),this.fanmadeShown=!0,this.fanmade(),this.infoShown=!0,this.info(),this.updateShown=!0,this.updates(),this.playersShown=!0,this.players(),this.settingsShown=!1,this.setting(),this.setting(),this.tooltips.setStrings(),this.fetchForUpdate()},t}(b)).gameOpened=!1,$=t((X=he).prototype,"tooltips",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new de}}),Z=t(X.prototype,"BG",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(X.prototype,"randomSplash",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=t(X.prototype,"infoWindow",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(X.prototype,"playersWindow",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(X.prototype,"updateWindow",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(X.prototype,"settingWindow",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(X.prototype,"fanmadeWindow",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(X.prototype,"sceneSlash",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(X.prototype,"playerNameLabel",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=t(X.prototype,"infoButton",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(X.prototype,"gotoGameSound",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=X))||J));a._RF.pop()}}}));

System.register("chunks:///_virtual/MariGold.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sunflower.ts","./SoundRescourses.ts","./NodePools.ts","./Plants.ts","./levelController.ts"],(function(n){var t,o,e,r,i,a,l,s,u,c,d,p,f;return{setters:[function(n){t=n.inheritsLoose,o=n.applyDecoratedDescriptor,e=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,a=n._decorator,l=n.AudioClip},function(n){s=n.SunflowerProps,u=n.SunflowerPlant},function(n){c=n.sounds},function(n){d=n.ArrayGet},function(n){p=n.PlantEnum},function(n){f=n.LevelPlay}],execute:function(){var h,y,P,w,m,S,M;i._RF.push({},"9d32dGZ7ZJEvZ2ye3cU4OwM","MariGold",void 0);var v=a.ccclass,g=a.property,A=n("MariGoldProps",function(n){function o(){for(var t,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(t=n.call.apply(n,[this].concat(e))||this).ChanceToTurn=.5,t}return t(o,n),o}(s));n("MariGoldPlant",(h=v("MariGoldPlant"),y=g([l]),P=g([l]),h((S=o((m=function(n){function o(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=n.call.apply(n,[this].concat(i))||this)._objdataOwn=new A,e(t,"explodeSounds",S,r(t)),e(t,"spawnSounds",M,r(t)),t.turned=!1,t.coinProducer=!0,t}t(o,n);var i=o.prototype;return i.specialPlantFood=function(){this.producing=!1,this.busy=1/0,this.soundRes.playFoodSound(),this.anmControl.playAnimation("Attack",1)},i.specialSunflowerOnEnable=function(){this.shadeAlphaScale=1,this.specialMarigoldOnEnable(),this.turned=!1},i.specialMarigoldOnEnable=function(){},i.specialSunflowerAnimationListener=function(n){if("turn"==n.name){if(this.turned)return;this.turned=!0;var t=!1;if(this.fooding){t=!0;for(var o=0;o<5;o++)this._produce()}var e=!1;this.dead||(e=this.endangered),this.die(!0,!1,!1,!1),this.shadeAlphaScale=0,c.playArray(this.explodeSounds,1,.2),this._turn(t,e)}},i._turn=function(n,t){if(void 0===t&&(t=!1),!n){var o=this.inLnC.spawnPlantByPlantEnum(d.getRandom([p.MariGoldRed,p.MariGoldOrange,p.MariGoldGreen,p.MariGoldBlue,p.MariGoldPink,p.MariGoldPurple].concat(f.component.ExcludeListSunProducers?[]:[p.MariGoldYellow])),!0,!0,!1,!1);o&&(o.endangered=t,o.anmControl.playAnimation("Spawn",1),c.playArray(o.spawnSounds,1,.2),o.anmControl.switchCostume(this.anmControl.currentCos))}},i.specialPlantFoodEnd=function(){},i.playProduceAnimation=function(){this.defaultProduceAnimation(Math.random()>this._objdataOwn.ChanceToTurn?"Produce":"Attack")},o}(u)).prototype,"explodeSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=o(m.prototype,"spawnSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=m))||w));i._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldBlue.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./CharacterManager.ts","./Square.ts"],(function(){var e,n,t,r,o,a,i,c;return{setters:[function(n){e=n.inheritsLoose},function(e){n=e.cclegacy,t=e._decorator,r=e.Vec2},function(e){o=e.MariGoldPlant,a=e.MariGoldProps},function(e){i=e.Rectangle},function(e){c=e.Square}],execute:function(){var l;n._RF.push({},"a53d0GGWu9BUZkTeYSzfK74","MariGoldBlue",void 0);var u=t.ccclass,s=(t.property,function(n){function t(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))||this).FreezeTime=5,e}return e(t,n),t}(a));u("MariGoldBluePlant")(l=function(n){function t(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))||this)._objdataOwn=new s,e}e(t,n);var o=t.prototype;return o.playProduceAnimation=function(){this.defaultProduceAnimation()},o.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},o._turn=function(e,n){var t,o=this,a=i.createRectangleCenter(new r(this.worldPositionX,this.worldPositionY),2*c.SquareDisW,5*c.SquareDisH);null==(t=this.inLane)||null==(t=t.zombiePool())||t.forEach((function(e){a.judgeCrossRec(e.bodyRec)&&e.setFreeze(o._objdataOwn.FreezeTime,!0)}))},t}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldGreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./NodePools.ts","./Peashooter.ts","./Character.ts"],(function(){var t,n,a,e,r,o,i,l,c,s,u,p,f,h,d;return{setters:[function(r){t=r.applyDecoratedDescriptor,n=r.inheritsLoose,a=r.initializerDefineProperty,e=r.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,i=t.Prefab,l=t.Vec2,c=t.TWO_PI},function(t){s=t.MariGoldPlant,u=t.MariGoldProps},function(t){p=t.ArrayGet,f=t.instantiatePooly},function(t){h=t.peaShooter},function(t){d=t.CharacterType}],execute:function(){var P,y,v,w,G;r._RF.push({},"9aa21GW8AJHC7TCAbWp0MRH","MariGoldGreen",void 0);var M=o.ccclass,b=o.property,A=function(t){function a(){for(var n,a=arguments.length,e=new Array(a),r=0;r<a;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).PeaCount=12,n}return n(a,t),a}(u);P=M("MariGoldGreenPlant"),y=b(i),P((G=t((w=function(t){function r(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new A,a(n,"pea",G,e(n)),n}n(r,t);var o=r.prototype;return o.playProduceAnimation=function(){this.defaultProduceAnimation()},o.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},o._turn=function(t,n){for(var a=this,e=this._objdataOwn.PeaCount,r=this.sunSpawnpoint.worldPosition.y-this.worldPositionY,o=[],i=0;i<e;i++){var s=c*i/e,u=new l(Math.cos(s),Math.sin(s)).multiplyScalar(15);o.push(u)}p.randomize(o).forEach((function(t){var n,e=f(a.pea),o=h.shootOnePea(e,a.worldPosition,r,a.inLane.prjLayer,t,d.zombie);null!=(n=a.inLnC)&&n.havePeaBuff&&o.addPeaBuff()}))},r}(s)).prototype,"pea",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=w));r._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldOrange.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts"],(function(){var n,e,t,a,r,o,i,c,l,u;return{setters:[function(e){n=e.inheritsLoose},function(n){e=n.cclegacy,t=n._decorator,a=n.Vec2},function(n){r=n.MariGoldPlant,o=n.MariGoldProps},function(n){i=n.Rectangle},function(n){c=n.Square},function(n){l=n.ZombieDamageDetails,u=n.zombieDamageType}],execute:function(){var s;e._RF.push({},"56e47swkjpE+6r1MuQ9Jt9U","MariGoldOrange",void 0);var d=t.ccclass,f=(t.property,function(e){function t(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this).ExplodeDamage=400,n}return n(t,e),t}(o));d("MariGoldOrangePlant")(s=function(e){function t(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new f,n}n(t,e);var r=t.prototype;return r.playProduceAnimation=function(){this.defaultProduceAnimation()},r.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},r._turn=function(n,e){var t,r=this,o=i.createRectangleCenter(new a(this.worldPositionX,this.worldPositionY),2*c.SquareDisW,9*c.SquareDisH);null==(t=this.inLane)||null==(t=t.zombiePool())||t.forEach((function(n){o.judgeCrossRec(n.bodyRec)&&n.dealDamage(new l(r._objdataOwn.ExplodeDamage,!0,!0,!0,null,u.fire))}))},t}(r));e._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldPink.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./Plants.ts","./NodePools.ts"],(function(){var n,t,o,a,i,r,l;return{setters:[function(t){n=t.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator},function(n){a=n.MariGoldPlant,i=n.MariGoldProps},function(n){r=n.plants},function(n){l=n.ArrayGet}],execute:function(){var e;t._RF.push({},"67fe2xCNLNKgY4brnPM8cWU","MariGoldPink",void 0);var s=o.ccclass,c=(o.property,function(t){function o(){for(var n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))||this).PlantList=["puffshroom","fumeshroom","scaredyshroom","puffshroom","fumeshroom","scaredyshroom","gloomvine","hypnoshroom","vamporcini"],n}return n(o,t),o}(i));s("MariGoldPinkPlant")(e=function(t){function o(){for(var n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new c,n}n(o,t);var a=o.prototype;return a.playProduceAnimation=function(){this.defaultProduceAnimation()},a.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},a._turn=function(n,t){var o,a=this,i=NaN;if(null==(o=l.randomize(this._objdataOwn.PlantList))||o.forEach((function(n){var t;if(isNaN(i)){var o=r.getPlantEnumByString(n);null!=(t=a.plantInLnC)&&t.putPlantAvailable(!0,o)&&(i=o)}})),!isNaN(i)){var e,s=null==(e=this.plantInLnC)?void 0:e.spawnPlantByPlantEnum(i,!0,!0,!1,!0);(null==s?void 0:s.plantType)==this.plantType&&s.node.setSiblingIndex(this.node.getSiblingIndex())}},o}(a));t._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldPurple.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./CharacterManager.ts","./Square.ts"],(function(){var n,t,o,r,a,e,i,c;return{setters:[function(t){n=t.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,r=n.Vec2},function(n){a=n.MariGoldPlant,e=n.MariGoldProps},function(n){i=n.Rectangle},function(n){c=n.Square}],execute:function(){var u;t._RF.push({},"7763fOg0XdD9ZSD+kLsMxNZ","MariGoldPurple",void 0);var l=o.ccclass,s=(o.property,function(t){function o(){for(var n,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=t.call.apply(t,[this].concat(r))||this).PoisonDPS=20,n.PoisonDuration=10,n}return n(o,t),o}(e));l("MariGoldPurplePlant")(u=function(t){function o(){for(var n,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=t.call.apply(t,[this].concat(r))||this)._objdataOwn=new s,n}n(o,t);var a=o.prototype;return a.playProduceAnimation=function(){this.defaultProduceAnimation()},a.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},a._turn=function(n,t){var o,a=this,e=i.createRectangleCenter(new r(this.worldPositionX,this.worldPositionY),2*c.SquareDisW,5*c.SquareDisH);null==(o=this.inLane)||null==(o=o.zombiePool())||o.forEach((function(n){e.judgeCrossRec(n.bodyRec)&&n.setPoison(a._objdataOwn.PoisonDPS,a._objdataOwn.PoisonDuration)}))},o}(a));t._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldRed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./GroundFire.ts","./Jalapeno.ts"],(function(){var n,t,r,o,a,i,e,l;return{setters:[function(t){n=t.inheritsLoose},function(n){t=n.cclegacy,r=n._decorator},function(n){o=n.MariGoldPlant,a=n.MariGoldProps},function(n){i=n.GroundFireColorEnum,e=n.GroundFireSpreadStyleEnum},function(n){l=n.jalapeno}],execute:function(){var u;t._RF.push({},"7095f0CQ+9BfJnVlqJHw92f","MariGoldRed",void 0);var c=r.ccclass,s=(r.property,function(t){function r(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this).FireDamage=150,n}return n(r,t),r}(a));c("MariGoldRedPlant")(u=function(t){function r(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new s,n}n(r,t);var o=r.prototype;return o.playProduceAnimation=function(){this.defaultProduceAnimation()},o.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},o._turn=function(n,t){var r;null!=(r=this.inLnC)&&r.isInLawn()&&l.burnFromLnC(this.inLnC,this._objdataOwn.FireDamage,!1,5,5,i.yellow,e.split,9,0)},r}(o));t._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldYellow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./Sunflower.ts"],(function(){var n,o,t,r,i,a;return{setters:[function(o){n=o.inheritsLoose},function(n){o=n.cclegacy,t=n._decorator},function(n){r=n.MariGoldPlant,i=n.MariGoldProps},function(n){a=n.sunflower}],execute:function(){var e;o._RF.push({},"e04ceJQ/rdAzZ7fL3cjIala","MariGoldYellow",void 0);var l=t.ccclass,c=(t.property,function(o){function t(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(n=o.call.apply(o,[this].concat(r))||this).SunDropValue=150,n}return n(t,o),t}(i));l("MariGoldYellowPlant")(e=function(o){function t(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(n=o.call.apply(o,[this].concat(r))||this)._objdataOwn=new c,n}n(t,o);var r=t.prototype;return r.playProduceAnimation=function(){this.defaultProduceAnimation()},r.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},r._turn=function(n,o){a.produceSun(this._objdataOwn.SunDropValue,this.worldPosition,this.sunSpawnpoint.worldPosition.y-this.worldPositionY,!0)},t}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/Materials.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,o,n,r,t,a,l,h,b,s,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){t=e.cclegacy,a=e._decorator,l=e.Color,h=e.EffectAsset,b=e.Material,s=e.tween,u=e.Component}],execute:function(){var g,p,c,m,z,f,y,P,w,d,_,S,C,v,F,M,A,T,k,E,I,G,R,D,H,L,x,B,W;t._RF.push({},"85114aqrvBMhKvCC7c7xFoe","Materials",void 0);var j=a.ccclass,q=a.property,K=e("materialRes",(function(){}));K.addColorEffect=null,K.greyMaterial=null,K.plantfoodWarnColor=new l(255,255,255,255),K.zombiePoisonColor=new l(255,255,255,255),K.zombiePerfumeColor=new l(255,255,255,255),K.zombiePF=new l(255,255,255,255),K.zombieHypno=new l(255,255,255,255),K.zombieSunAdd=new l(255,255,255,255),K.rewardColor=new l(255,255,255,255),K.zombieSpeedPotion=new l(255,255,255,255),K.zombieToughnessPotion=new l(255,255,255,255),K.zombieInvisiblilityPotion=new l(255,255,255,255),K.zombieSporeShroomCarrier=new l(60,0,107,255);e("MaterialsRes",(g=j("Materials"),p=q(h),c=q(b),m=q(l),z=q(l),f=q(l),y=q(l),P=q(l),w=q(l),d=q(l),_=q(l),S=q(l),C=q(l),v=q(l),g((A=i((M=function(e){function i(){for(var i,o=arguments.length,t=new Array(o),a=0;a<o;a++)t[a]=arguments[a];return i=e.call.apply(e,[this].concat(t))||this,n(i,"addColorEffect",A,r(i)),n(i,"greyMaterial",T,r(i)),n(i,"zombiePoison",k,r(i)),n(i,"zombiePerfume",E,r(i)),n(i,"zombiePF",I,r(i)),n(i,"zombieSunAdd",G,r(i)),n(i,"zombieSpeedPotion",R,r(i)),n(i,"zombieToughnessPotion",D,r(i)),n(i,"zombieInvisiblilityPotion",H,r(i)),n(i,"zombieSporeShroomCarrier",L,r(i)),i.rewardColor=new l(122,122,122,255),i.changing0_1=0,i.changing1_0=1,i.changing0_1_fast=0,n(i,"hypnoGreen",x,r(i)),n(i,"hypnoPurple",B,r(i)),n(i,"hypnoPink",W,r(i)),i.hypnoColor=new l,i}o(i,e);var t=i.prototype;return t.update=function(e){K.zombiePF=new l(this.changing0_1*this.zombiePF.r,this.changing0_1*this.zombiePF.g,this.changing0_1*this.zombiePF.b,255),K.plantfoodWarnColor=new l(255,255,255,255*this.changing0_1_fast),K.zombieSunAdd=new l(this.changing0_1*this.zombieSunAdd.r,this.changing0_1*this.zombieSunAdd.g,this.changing0_1*this.zombieSunAdd.b,255),K.zombieSporeShroomCarrier=new l(this.changing1_0*this.zombieSporeShroomCarrier.r,this.changing1_0*this.zombieSporeShroomCarrier.g,this.changing1_0*this.zombieSporeShroomCarrier.b,255),K.rewardColor=new l(122+133*this.changing0_1,122+133*this.changing0_1,122+133*this.changing0_1,255),K.zombieHypno=this.hypnoColor,K.zombieToughnessPotion=new l(255-this.changing1_0*(255-this.zombieToughnessPotion.r),255-this.changing1_0*(255-this.zombieToughnessPotion.g),255-this.changing1_0*(255-this.zombieToughnessPotion.b),255),K.zombieSpeedPotion=new l(255-this.changing1_0*(255-this.zombieSpeedPotion.r),255-this.changing1_0*(255-this.zombieSpeedPotion.g),255-this.changing1_0*(255-this.zombieSpeedPotion.b),255)},t.start=function(){var e=this,i=s(e).to(.5,{changing1_0:0}),o=s(e).to(.5,{changing1_0:1});i.then(o).clone(e).repeatForever().start();var n=s(e).to(.7,{changing0_1:1}),r=s(e).to(.7,{changing0_1:0});n.then(r).clone(e).repeatForever().start();var t=s(e).to(.35,{changing0_1_fast:1}),a=s(e).to(.35,{changing0_1_fast:0});t.then(a).clone(e).repeatForever().start(),e.hypnoColor=this.hypnoPink;s(e.hypnoColor).to(2,{r:e.hypnoPurple.r,g:e.hypnoPurple.g,b:e.hypnoPurple.b}).to(2,{r:e.hypnoGreen.r,g:e.hypnoGreen.g,b:e.hypnoGreen.b}).to(2,{r:e.hypnoPink.r,g:e.hypnoPink.g,b:e.hypnoPink.b}).clone(e.hypnoColor).repeatForever().start()},t.onLoad=function(){K.zombiePF=this.zombiePF,K.zombieSunAdd=this.zombieSunAdd,K.zombiePoisonColor=this.zombiePoison,K.zombiePerfumeColor=this.zombiePerfume,K.zombieInvisiblilityPotion=this.zombieInvisiblilityPotion,K.addColorEffect=this.addColorEffect,K.greyMaterial=this.greyMaterial},i}(u)).prototype,"addColorEffect",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(M.prototype,"greyMaterial",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(M.prototype,"zombiePoison",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),E=i(M.prototype,"zombiePerfume",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),I=i(M.prototype,"zombiePF",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),G=i(M.prototype,"zombieSunAdd",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),R=i(M.prototype,"zombieSpeedPotion",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),D=i(M.prototype,"zombieToughnessPotion",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),H=i(M.prototype,"zombieInvisiblilityPotion",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),L=i(M.prototype,"zombieSporeShroomCarrier",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(60,0,107,255)}}),x=i(M.prototype,"hypnoGreen",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),B=i(M.prototype,"hypnoPurple",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),W=i(M.prototype,"hypnoPink",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),F=M))||F));t._RF.pop()}}}));

System.register("chunks:///_virtual/MechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./ParticleSelfdestroy.ts","./NodePools.ts","./Particles.ts"],(function(e){var i,t,n,a,o,s,c,h,r,p,l,u,m,d,f;return{setters:[function(e){i=e.inheritsLoose,t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,c=e._decorator,h=e.AudioClip,r=e.Vec3},function(e){p=e.ZombieProps,l=e.Zombie},function(e){u=e.sounds},function(e){m=e.ParticleSelfdestroy},function(e){d=e.instantiatePooly},function(e){f=e.particle}],execute:function(){var b,y,S,D,P,M,v;s._RF.push({},"2e4d8XhMYFEDJacGaQOmqTE","MechZombie",void 0);var C=c.ccclass,g=c.property,w=e("MechZombieProps",function(e){function t(){for(var i,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(i=e.call.apply(e,[this].concat(n))||this).EMPStunTimeScale=1,i}return i(t,e),t}(p));e("MechZombie",(b=C("MechZombie"),y=g(h),S=g(h),b((M=t((P=function(e){function t(){for(var i,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return(i=e.call.apply(e,[this].concat(o))||this)._objdataOwn=new w,n(i,"activateSound",M,a(i)),n(i,"deactivateSound",v,a(i)),i._empCD=0,i.empPar=void 0,i.potatoMineDisappear=!1,i.mechDeathFadeInTime=.2,i}i(t,e);var s=t.prototype;return s.specialZombieOnEnable=function(){this.empCD=0,this.specialMechOnEnable()},s.specialMechOnEnable=function(){},s.specialAnimationListener=function(e){"mechStun"==e.name&&this.body.playAnimation("StunLoop",1/0),this.specialMechAnimationListener(e)},s.specialZombieOnLaneChange=function(e,i){this.empPar&&this.empPar.node.setParent(this.inLane.prjLayer,!0)},s.chilibeanFart=function(){},s.playSpecialZombieDieForced=function(){this.empCD=0,this.playSpecialMechDieForced()},s.playSpecialMechDieForced=function(){},s.onEmpStunStart=function(){},s.empStun=function(e){void 0===e&&(e=10),e*=this.objdataOwn.EMPStunTimeScale,this.empCD<=0&&e>0&&(this.onEmpStunStart(),this.walking=!1,this.switching=!0,this.body.playAnimation("StunStart",1/0,.2),u.play(this.deactivateSound,1,.1)),this.empCD=this.empCD<e?e:this.empCD},s.specialZombieUpdate=function(e,i,t){this.empCD>0&&(this.empPar&&(u.playEmpSpark(),this.empPar.node.worldPosition=new r(this.shadeWorldPosition.x,this.worldPositionY+this.height+this.zombieHeight/2)),this.empCD-=e,this.empCD<=0&&(this.body.playAnimation("StunEnd",1/0),u.play(this.activateSound,1,.1))),this.specialMechUpdate(e)},s.specialMechUpdate=function(e){},s.specialMechAnimationListener=function(e){},s.playSpecialZombieDie=function(e){this.judgeDeath(this.mechDeathFadeInTime),this.body.playAnimation(this.body.DeathAnm,1,this.mechDeathFadeInTime),this.playSpecialMechDie(e)},s.playSpecialMechDie=function(e){},s.specialZombieOnLoad=function(){this.specialMechZombieOnLoad()},s.specialMechZombieOnLoad=function(){},o(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"empCD",get:function(){return this._empCD},set:function(e){if(e>0&&this.endSandStorm(),e>0&&this._empCD<=0){var i=d(f.empEffect());i.parent=this.node.parent;var t=i.getComponent(m);this.empPar=t,t.db.playAnimation("Idle1",1),i.worldPosition=new r(this.shadeWorldPosition.x,this.worldPositionY+this.height+this.zombieHeight/2)}else if(e<=0&&this._empCD>0){var n;null==(n=this.empPar)||null==(n=n.db)||n.playAnimation("Die"),this.empPar=null}this._empCD=e}}]),t}(l)).prototype,"activateSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(P.prototype,"deactivateSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=P))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/MelonPult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CabbagePult.ts","./CharacterManager.ts","./Square.ts"],(function(o){var n,t,e,a,i,s;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator},function(o){a=o.CabbagePultPlant},function(o){i=o.ZombiePool},function(o){s=o.Square}],execute:function(){var l;t._RF.push({},"1447fuRnBRGC7NKWgISnb2t","MelonPult",void 0);var r=e.ccclass;e.property,o("MelonPultPlant",r("MelonPultPlant")(l=function(o){function t(){return o.apply(this,arguments)||this}n(t,o);var e=t.prototype;return e.specialPlantFood=function(){this.anmControl.playAnimation("Food",1),this.busy=1/0},e.csFunc=function(o){var n=this;this._dmgScale&&o.splashDamages_.forEach((function(o){o.splashDamage*=n._dmgScale}))},e.animationListener=function(o){var n=this;if("Lob"==o.name)this.detectEnemy(!0),this._lob(this.targetLock),this.targetLock=null,this.soundRes.playLobSound();else if("foodLob0"==o.name){this.soundRes.playFoodSound();var t=s.getSquareWorldPosition(0,6,0,1).x,e=0;for(i.pool().forEach((function(o){o.node.worldPosition.x>t&&(e++,n._lob(o.node,n.cabbageMega,!0,45))}));e<=4;)this._lobToNode(s.getRandomLnC().plantPoint,this.cabbageMega,!1,45),e++}else if("foodLob1"==o.name){this.soundRes.playFoodSound();var a=s.getSquareWorldPosition(0,4,0,1).x,l=s.getSquareWorldPosition(0,6,0,1).x,r=0;for(i.pool().forEach((function(o){o.node.worldPosition.x>a&&o.node.worldPosition.x<l&&(r++,n._lob(o.node,n.cabbageMega,!0,45))}));r<=4;)this._lobToNode(s.getRandomLnC().plantPoint,this.cabbageMega,!1,45),r++}else if("foodLob2"==o.name){this.soundRes.playFoodSound();var d=s.getSquareWorldPosition(0,2,0,1).x,u=s.getSquareWorldPosition(0,4,0,1).x,c=0;for(i.pool().forEach((function(o){o.node.worldPosition.x>d&&o.node.worldPosition.x<u&&(c++,n._lob(o.node,n.cabbageMega,!0,45))}));c<=4;)this._lobToNode(s.getRandomLnC().plantPoint,this.cabbageMega,!1,45),c++}else if("foodLob3"==o.name){this.soundRes.playFoodSound();var b=s.getSquareWorldPosition(0,2,0,1).x,g=0;for(i.pool().forEach((function(o){o.node.worldPosition.x<b&&(g++,n._lob(o.node,n.cabbageMega,!0,45))}));g<=4;)this._lobToNode(s.getRandomLnC().plantPoint,this.cabbageMega,!1,45),g++}else"foodEnd"==o.name&&(this.busy=0,this.foodEnd())},t}(a))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/MeteorFlower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Character.ts","./commonShot.ts","./ProjectileManager.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./LnC.ts","./SoundRescourses.ts"],(function(t){var n,i,e,o,a,r,s,h,l,u,c,d,m,f,g,p,y,w,b,v,S,A;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.AudioClip,h=t.Prefab,l=t.Vec2},function(t){u=t.Plant,c=t.PlantProps},function(t){d=t.CharacterType},function(t){m=t.commonShot},function(t){f=t.projectile},function(t){g=t.ZombiePool,p=t.TombPool},function(t){y=t.Square},function(t){w=t.NodePools,b=t.ArrayGet},function(t){v=t.TileLiquidEnum,S=t.TileType},function(t){A=t.sounds}],execute:function(){var P,C,L,R,_,M,k,O,T,E,I,D,j,F;a._RF.push({},"7d88eKrwBBEh6hUP4FKrg8v","MeteorFlower",void 0);var x=r.ccclass,z=r.property,B=t("meteorFlower",function(){function t(){}return t.throwOneMeteorOnPos=function(t,n,i,e,o,a,r){var s=i.clone().normalize().negative().multiplyScalar(a),h=a*e/i.length();t.parent=o;var u=t.getComponent(m);return u.worldPosition=new l(n.x+i.x,n.y+i.y),u.height=e,u.gravity=0,u.linearVelocity=s,u.bodyLinearVelocity=-h,f.registerProjectile(t,r),u},t.throwOneMeteorOnNode=function(t,n,i,e,o,a,r){return this.throwOneMeteorOnPos(t,n.worldPosition,i,e,o,a,r)},t}()),q=(P=x("meteorflowerSound"),C=z([s]),L=z([s]),P((M=n((_=function(){function t(){e(this,"igniteSound",M,this),e(this,"restSound",k,this)}var n=t.prototype;return n.playIgniteSound=function(){A.playArray(this.igniteSound,1,.1)},n.playRestSound=function(){A.playArray(this.restSound,1,.1)},t}()).prototype,"igniteSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(_.prototype,"restSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=_))||R),N=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).SecondMeteorMissChance=.35,n.MeteorCountOnce=2,n.RestTime=7,n.LavaDuration=10,n}return i(n,t),n}(c);t("MeteorFlowerPlant",(O=x("MeteorFlowerPlant"),T=z(h),E=z(q),O((j=n((D=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,e(n,"meteor",j,o(n)),e(n,"soundRes",F,o(n)),n._objdataOwn=new N,n.awaken=!0,n.recovering=!0,n.resting=0,n.thrownAmount=0,n.busy=0,n.ignited=!1,n}i(n,t);var a=n.prototype;return a._throw=function(t){var n=this,i=w.instantiatePooly(this.meteor),e=B.throwOneMeteorOnPos(i,t.worldPosition,new l(10*-y.SquareDisW,0),700,this.inLane.prjLayer,20,d.default);e.setTileLiquid(v.softLava,this._objdataOwn.LavaDuration),this._dmgScale&&(e.setDamage(e.damage_*this._dmgScale),e.splashDamages_.forEach((function(t){t.splashDamage*=n._dmgScale})))},a.specialPlantFood=function(t){var n=this;this.resting=1/0,this.ignited=!1,this.anmControl.playAnimation("Food",1),this.soundRes.playIgniteSound(),this.schedule((function(){g.inLawnPool().length>0?n._throw(b.getRandom(g.inLawnPool()).inLnC.plantPoint):n._throw(y.getRandomLnC().plantPoint)}),.3,5,.1),this.busy=1/0},a.specialPlantFoodEnd=function(){this.soundRes.playRestSound(),this.anmControl.playAnimation("SummonEnd",1),this.setAnimation(1),this.busy=1/0,this.awaken=!1,this.resting=this._objdataOwn.RestTime*this._cdScale,this.rest()},a.detectEnemy=function(){var t=null;(this.thrownAmount<=0||Math.random()<this._objdataOwn.SecondMeteorMissChance)&&(g.pool().length>0?g.pool().forEach((function(n){if(n.inLnC){var i,e=null==(i=n.inLnC)?void 0:i.getTileType();!n.isInLawn()||e!=S.floor&&e!=S.deck||t&&!(t.cIndex>n.inLnC.cIndex)||(t=n.inLnC)}})):p.pool().length>0&&p.pool().forEach((function(n){if(n.inLnC){var i,e=null==(i=n.inLnC)?void 0:i.getTileType();e!=S.floor&&e!=S.deck||t&&!(t.cIndex>n.inLnC.cIndex)||(t=n.inLnC)}}))),(t||this.thrownAmount>0)&&(this.thrownAmount>0&&(t||(t=y.getRandomLnC())),this._throw(t.node),this.thrownAmount++,this.busy=.5,this.thrownAmount>=this._objdataOwn.MeteorCountOnce&&this.rest())},a.rest=function(){this.busy=1/0,this.ignited=!1,this.soundRes.playRestSound(),this.anmControl.playAnimation("SummonEnd",1),this.setAnimation(1)},a.igniteStart=function(){this.resting=1/0,this.awaken=!1,this.anmControl.playAnimation("SummonStart",1)},a.ignite=function(){this.soundRes.playIgniteSound(),this.ignited=!0,this.busy=0,this.setAnimation(2)},a.recover=function(){this.awaken=!0,this.recovering=!1},a.setAnimation=function(t){var n=this.anmControl;switch(t){case 1:n.IdleAnim="Idle_Black",n.RandomAnim=[],this.deathAnm="Death_Black";break;case 2:n.IdleAnim="Summonning",n.RandomAnim=[],this.deathAnm="Death_Black";break;default:n.IdleAnim="Idle",n.RandomAnim=["Rand1","Rand2"],this.deathAnm="Death"}},a.waterable=function(){return this.awaken&&this.resting<=0&&!this.ignited&&!this.recovering},a.animationListener=function(t){"summon"==t.name&&this.ignite(),"rest"==t.name&&(this.resting=this._objdataOwn.RestTime*this._cdScale),"recover"==t.name&&this.recover(),"foodEnd"==t.name&&this.foodEnd()},a.specialPlantOnEnable=function(){this.thrownAmount=0,this.busy=1/0,this.ignited=!1,this.resting=0,this.awaken=!0,this.recovering=!1,this.setAnimation(0),this.anmControl.playRandom()},a.specialPlantUpdate=function(t,n,i){if(this.foodable=g.inLawnPool().length>0,!this.dead&&!this.fooding&&(this.ignited&&(this.busy>0&&(this.busy-=t),this.busy<=0&&i>0&&(this.busy=0,this.detectEnemy())),this.resting>0&&(this.resting-=t),this.resting<=0&&!this.awaken&&!this.recovering&&(this.thrownAmount=0,this.recovering=!0,this.anmControl.playAnimation("Recover"),this.setAnimation(0)),this.awaken)){var e=!1;g.inLawnPool().forEach((function(t){var n;if(!e){var i=null==t||null==(n=t.inLnC)?void 0:n.getTileType();i!=S.floor&&i!=S.deck||(e=!0)}})),e&&this.igniteStart()}},n}(u)).prototype,"meteor",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(D.prototype,"soundRes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new q}}),I=D))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/MissileToe.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BananaLauncher.ts"],(function(e){var n,t,o,r,i;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,r=e.KeyCode},function(e){i=e.BananaLauncherPlant}],execute:function(){var s;t._RF.push({},"b0bd1cgazZJ+7i3Yreqlun5","MissileToe",void 0);var a=o.ccclass;o.property,e("MissileToePlant",a("MissileToePlant")(s=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.LocateStartKeyCode=function(){return r.KEY_B},t}(i))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/ModernAllstarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts"],(function(e){var n,t,i,o,a,r,c,s,l,u,h,p,d,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,c=e._decorator,s=e.AudioClip,l=e.Vec2,u=e.dragonBones},function(e){h=e.ZombieDamageDetails,p=e.Zombie,d=e.ZombieProps},function(e){b=e.sounds}],execute:function(){var f,y,m,g,R,D,S,j,v;r._RF.push({},"97617AVQ+JHOI5Rmbpth5JT","ModernAllstarZombie",void 0);var w=c.ccclass,P=c.property,k=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).RunningSpeedScale=6,n.SmashDamage=1500,n}return t(n,e),n}(d);e("AllstarZombie",(f=w("AllstarZombie"),y=P([s]),m=P([s]),g=P([s]),f((S=n((D=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new k,n.running=!0,i(n,"stepSound",S,o(n)),i(n,"kickSound",j,o(n)),i(n,"punchSound",v,o(n)),n}t(n,e);var r=n.prototype;return r.playSpecialZombieDeath=function(){this.running&&(this.running=!1)},r.specialAnimationListener=function(e){"step"==e.name?b.playArray(this.stepSound):"Kick"==e.name?b.playArray(this.kickSound,1,.1):"Punch"==e.name&&(this._punch(),b.playArray(this.punchSound,1,.1))},r._punch=function(){var e=this,n=null,t=null,i=null;if(this.hypno){var o=1/0;this.inLane.zombiePool().forEach((function(n){var i=n.bodyRec.prjX().x;i<o&&n.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(t=n,o=i)})),o=1/0,this.inLane.tombPool().forEach((function(n){var t=n.bodyRec.prjX().x;t<o&&n.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(i=n,o=t)}))}else{this.inLane.plantPool().concat().forEach((function(t){t.eaterDetectable&&(!n||t.bodyRec.prjX().y>n.bodyRec.prjX().y)&&t.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(n=t)}));var a=-1/0;this.inLane.hypnoZombiePool().forEach((function(n){var i=n.bodyRec.prjX().y;i>a&&n.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(t=n,a=i)}))}var r=new h(this.objdataOwn.SmashDamage,!0,!0,!0,new l(10*(this.reversed?1:-1),0));t?t.dealDamage(r):i?i.dealDamage(r.damage):n&&n.smash(this)},r.walkSpeedScaleExtra=function(){return this.running?this.objdataOwn.RunningSpeedScale:1},r.detectPlant=function(e){var n=this;if(this.inLane){if(!(e<=0||this.switching))if(this.running){var t=!1;this.hypno?(this.inLane.zombiePool().forEach((function(e){t||e.bodyRec.judgeCrossRec(n.plantDetectorRec)&&(t=!0)})),this.inLane.tombPool().forEach((function(e){t||e.bodyRec.judgeCrossRec(n.plantDetectorRec)&&(t=!0)}))):(this.inLane.plantPool().forEach((function(e){t||e.eaterDetectable&&e.bodyRec.judgeCrossRec(n.plantDetectorRec)&&(t=!0)})),this.inLane.hypnoZombiePool().forEach((function(e){t||e.bodyRec.judgeCrossRec(n.plantDetectorRec)&&(t=!0)}))),t&&(this.running=!1,this.switching=!0,this.body.playAnimation("Punch",1),this.setSpeed(0,!1),this.db.once(u.EventObject.COMPLETE,(function(){n.switching=!1,n.dead||n.detectPlant(.01)}),this),this.body.WalkAnm="Walk")}else this.defaultDetectPlant(e)}else this.playWalk()},r.specialZombieOnLoad=function(){},r.specialZombieOnEnable=function(){this.body.WalkAnm="Run",this.walking=!1,this.running=!0,this.playWalk()},a(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(p)).prototype,"stepSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=n(D.prototype,"kickSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(D.prototype,"punchSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=D))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/ModernBalloonZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./LnC.ts","./Plant.ts","./levelController.ts","./SoundRescourses.ts"],(function(t){var e,i,n,a,o,l,s,h,r,c,d,u,b,y,m,p,f,g,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){l=t.cclegacy,s=t._decorator,h=t.Prefab,r=t.AudioClip,c=t.Vec2},function(t){d=t.ZombieDamageDetails,u=t.zombieDamageType,b=t.Zombie,y=t.ZombieProps},function(t){m=t.Rectangle},function(t){p=t.TileType},function(t){f=t.PlantType},function(t){g=t.LevelPlay},function(t){A=t.sounds}],execute:function(){var P,D,S,v,w,k,R,W,O,B,z;l._RF.push({},"9def9SOGMtIJa/OMEnPblEO","ModernBalloonZombie",void 0);var E=s.ccclass,H=s.property,Z=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).BalloonToughness=270,e.BalloonWalkSPS=.4,e}return i(e,t),e}(y);t("ModernBalloonZombie",(P=E("ModernBalloonZombie"),D=H(h),S=H(r),v=H([r]),w=H([r]),P((W=e((R=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,n(e,"balloonZombieAshParticle",W,a(e)),e.balloonHealth=270,n(e,"explodeSound",O,a(e)),e.oldPDW=0,e.detectPlantOff=!1,n(e,"bounceSound",B,a(e)),n(e,"steadySound",z,a(e)),e.rosen=!1,e._objdataOwn=new Z,e.oldIdleAnm="",e.oldEatAnm="",e.oldDeathAnm="",e.oldWalkAnm="",e}i(e,t);var l=e.prototype;return l.walkTimeScale=function(t,e,i){return this.haveBalloon()?1:t/e/Math.abs(this.scale)},l.extraHealth=function(){return this.balloonHealth},l.destroyBalloon=function(){this.balloonHealth>0&&(this.explode(),this.balloonHealth=0)},l.haveBalloon=function(){return this.balloonHealth>0},l.specialDealDamageAccordingToBowlingLevel=function(t,e){this.haveBalloon()?this.dealDamage(e.replaceDamage(this.balloonHealth)):this.dealDamage(e)},l.detectPlant=function(t){this.inLane?this.balloonHealth>0?this.haveBalloonDetectPlant(t):this.defaultDetectPlant(t):this.playWalk()},l.haveBalloonDetectPlant=function(t){var e;if(0!=t&&this.detectPlantOn()){var i=this.plantDetectorRec,n=null,a=null,o=null;if(!this.ignorePlants())if(this.hypno){var l=1/0;this.inLane.zombiePool().forEach((function(t){var e=t.bodyRec.prjX().x;e<l&&t.bodyRec.judgeCrossRec(i)&&(l=e,a=t)})),l=1/0,this.inLane.tombPool().forEach((function(t){var e=t.bodyRec.prjX().x;e<l&&t.bodyRec.judgeCrossRec(i)&&(l=e,o=t)}))}else{var s=!1;this.inLane.plantPool().forEach((function(t){if(t.eaterDetectable&&!t.short_&&i.judgeCrossRec(t.bodyRec)){if(s)return;n&&t.plantType!=f.vine&&t.plantType!=f.plant&&t.plantType!=f.lilyPad&&t.plantType!=f.pot||s||(n=t,s=t.tall_)}}));var h=-1/0;this.inLane.hypnoZombiePool().forEach((function(t){var e=t.bodyRec.prjX().y;e>h&&t.bodyRec.judgeCrossRec(i)&&(h=e,a=t)}))}if(null!=(e=n)&&e.tall_||a||o)if(this.rosen)this.unrise();else{var r=new d(this.dps*t,!0,!1,!1,null);a?a.eatByZombie(r,this):o?o.dealDamage(r.damage):n&&n.eat(r.damage,this),this.playEat(t)}else n&&!n.tall_?this.rosen||this.rise():this.rosen?this.unrise():this.playWalk()}},l.dealDamage=function(t){if(this.invincible)return this.health;var e=t.damage,i=this.totalHealth();return t.damageType==u.fire&&(this.freeze=0,this.chill=0),this.balloonHealth>0&&t.armorProtection&&(t.damage&&(this.hurting=10),this.pushSunBeanHealth(Math.min(t.damage,this.balloonHealth)),this.balloonHealth-=t.damage*g.zombieDamageReceiveScale,this.balloonHealth<=0&&(e+=this.balloonHealth,!this.dead&&!this.fallingInSky&&i>t.damage&&this.explode())),this.haveBalloon()&&t.balloonKiller&&this.destroyBalloon(),(this.balloonHealth<=0||!t.armorProtection)&&this.dealNormalDamage(t.replaceDamage(e)),this.health},l.specialSetBodyRec=function(){var t=null;t=this.balloonHealth>0?m.createRectangleCenter(new c(this.shadeSocket.worldPosition.x-10,this.node.worldPosition.y+this.bodyRecOffset.y),90,this.bodyRecSize.height):m.createRectangleCenter(new c(this.shadeSocket.worldPosition.x+this.bodyRecOffset.x,this.node.worldPosition.y+this.bodyRecOffset.y),this.bodyRecSize.width,this.bodyRecSize.height),this.bodyRec=t},l.specialOnLeapEnd=function(t){this.detectPlantOff=!1},l.detectPlantOn=function(){return!this.detectPlantOff&&!this.switching&&!this.dead},l.specialZombieOnLanding=function(){this.zombieAshParticle_=this.zombieAshParticle,this.body.IdleAnm="Idle",this.body.EatAnm="Eat",this.body.WalkAnm="Walk",this.body.DeathAnm="Death"},l.specialZombieOnDisable=function(){this.zombieAshParticle_=this.balloonZombieAshParticle,this.body.DeathAnm=this.oldDeathAnm,this.body.EatAnm=this.oldEatAnm,this.body.IdleAnm=this.oldIdleAnm,this.body.WalkAnm=this.oldWalkAnm},l.specialAnimationListener=function(t){"steady"==t.name?A.playArray(this.steadySound,1,.1):"bounce"==t.name&&A.playArray(this.bounceSound,1,.1)},l.rise=function(){this.rosen||(this.switching=!0,this.rosen=!0,this.walking=!1,this.body.playAnimation("Rise",1),this.body.WalkAnm="Walk_Fly_High",this.correctShadeWP())},l.unrise=function(){this.rosen&&(this.switching=!0,this.walking=!1,this.body.playAnimation("Unrise",1),this.body.WalkAnm="Walk_Fly",this.rosen=!1,this.plantDetectorRecSize.width=this.oldPDW,this.correctShadeWP())},l.specialZombieOnEnable=function(){this.plantDetectorRecSize.width=this.oldPDW,this.detectPlantOff=!1,this.balloonHealth=this.objdataOwn.BalloonToughness,this.zombieAshParticle_=this.balloonZombieAshParticle,this.rosen=!1,this.body.WalkAnm="Walk_Fly",this.walking=!1,this.playWalk()},l.specialZombieOnLoad=function(){this.oldDeathAnm=this.body.DeathAnm,this.oldEatAnm=this.body.EatAnm,this.oldIdleAnm=this.body.IdleAnm,this.oldWalkAnm=this.body.WalkAnm,this.oldPDW=this.plantDetectorRecSize.width},l.playSpecialZombieDeath=function(){var t;"Death"==this.body.DeathAnm&&(null==(t=this.inLnC)?void 0:t.getTileType())==p.sky&&this.playFall()},l.playSpecialZombieDie=function(t){"Death_Fly"==this.body.DeathAnm&&this.judgeDeath(),this.currentFlyZombie&&this.playExplodeSound()},l.explode=function(){this.plantDetectorRecSize.width=this.oldPDW,this.balloonHealth=0,this.playExplodeSound(),this.detectPlantOff=!0,this.body.playAnimation("Land",1),this.setSpeed(0,!1),this.body.IdleAnm="Idle",this.body.EatAnm="Eat",this.body.WalkAnm="Walk",this.switching=!0},l.playExplodeSound=function(){this.explodeSound.length&&A.playArray(this.explodeSound,1,.1)},o(e,[{key:"squarePerSec",get:function(){return this.haveBalloon()?this.objdataOwn.BalloonWalkSPS:this.objdataOwn.WalkSPS}},{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(b)).prototype,"balloonZombieAshParticle",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(R.prototype,"explodeSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(R.prototype,"bounceSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=e(R.prototype,"steadySound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=R))||k));l._RF.pop()}}}));

System.register("chunks:///_virtual/ModernBobsledTeamZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Zombies.ts","./LnC.ts"],(function(e){var n,i,t,a,o,r,s,l,c,h,p,u,d,m,f,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,s=e._decorator,l=e.Node,c=e.Vec2},function(e){h=e.ZombieDamageDetails,p=e.zombieDamageType,u=e.Zombie,d=e.ZombieProps},function(e){m=e.zombies,f=e.ZombieEnum},function(e){b=e.TileType}],execute:function(){var y,g,w,T,v;r._RF.push({},"2e6f3D4iVJG7pvFJrCFh9W6","ModernBobsledTeamZombie",void 0);var S=s.ccclass,k=s.property,D=function(e){function n(){for(var n,i=arguments.length,t=new Array(i),a=0;a<i;a++)t[a]=arguments[a];return(n=e.call.apply(e,[this].concat(t))||this).SpeedUpSPSScale=2,n}return i(n,e),n}(d);e("BobsledZombieTeamZombie",(y=S("BobsledZombieTeamZombie"),g=k([l]),y((v=n((T=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=e.call.apply(e,[this].concat(o))||this,t(n,"spawnPoints",v,a(n)),n._objdataOwn=new D,n.innerToughness=190,n.innerHealth=190,n.spedUp=!1,n.haveInner=!0,n}i(n,e);var r=n.prototype;return r.onWaveAdded=function(e){e.db.playAnimation("Idle_G")},r.onDamaged=function(e,n,i){if(n<this.toughness/2){var t=this.body.body.armature();["front","mid","back","knifeL_here","wingR"].forEach((function(e){t.getSlot(e).displayIndex=1}))}i.armorProtection||(this.innerHealth-=i.damage,this.innerHealth<=0&&(this.playDie(!0),this.judgeDeath(),this.spawnTeam().forEach((function(e){e.dealDamage(new h(e.toughness+100,!1,i.armorKnockSound,i.bodyKnockSound,i.damageDirection,i.damageType,i.flash))}))))},r.ignorePlants=function(){return!0},r.specialZombieOnSquareChange=function(e,n){9==n.cIndex||this.spedUp||(this.spedUp=!0,this.body.playAnimation("Jump",1),this.body.WalkAnm="Walk"),n.iceTile||9==n.cIndex||n.getTileType()!=b.sea&&n.getTileType()!=b.sky&&this.playDie(!1,null,!0,p.physicle,!1,!1,!1)},r.spawnTeam=function(){var e=this;if(!this.haveInner)return[];this.haveInner=!1;var n=[];return this.spawnPoints.forEach((function(i){var t=m.getZombie(f.modern_bobSled);t.parent=e.inLane.zombieLayer;var a=t.getComponent(u);a.worldPosition=new c(i.worldPosition.x,e.inLane.floorY),a.copyBuff(e),n.push(a)})),n},r.playSpecialZombieDeath=function(){this.body.WalkAnm="WalkPush"},r.walkTimeScale=function(e,n,i){return this.spedUp?1:this.defaultWalkTimeScale(e,n,i)},r.walkSpeedScaleExtra=function(){return this.spedUp?this.objdataOwn.SpeedUpSPSScale:1},r.specialZombieOnEnable=function(){this.spedUp=!1,this.haveInner=!0;var e=this.body.body.armature();this.body.WalkAnm="WalkPush",this.walking=!1,this.playWalk(),this.innerHealth=this.innerToughness,["front","mid","back","knifeL_here","wingR"].forEach((function(n){e.getSlot(n).displayIndex=0}))},r.specialAnimationListener=function(e){var n=this;"spawnTeam"==e.name&&this.spawnTeam().forEach((function(e){e.dealDamage(new h(e.toughness-n.innerHealth,!1,!1,!1,null,p.physicle,!1))}))},r.playSpecialZombieDie=function(e){this.judgeDeath()},o(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(u)).prototype,"spawnPoints",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=T))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/ModernCatapultZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CabbagePult.ts","./NodePools.ts","./Character.ts","./Square.ts","./SoundRescourses.ts"],(function(o){var t,e,n,i,a,l,s,r,d,c,b,h,u,p,y,f,P,g,w;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized,a=o.createClass},function(o){l=o.cclegacy,s=o._decorator,r=o.Prefab,d=o.Node,c=o.AudioClip,b=o.Vec2},function(o){h=o.ZombieDamageDetails,u=o.Zombie,p=o.ZombieProps},function(o){y=o.cabbagePult},function(o){f=o.NodePools},function(o){P=o.CharacterType},function(o){g=o.Square},function(o){w=o.sounds}],execute:function(){var C,m,R,v,L,j,D,I,S;l._RF.push({},"0ffd72fmV9B2LOjgYeSzq6+","ModernCatapultZombie",void 0);var X=s.ccclass,k=s.property,x=function(o){function t(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=o.call.apply(o,[this].concat(n))||this).LobInterval=4,t.LobIntervalAdditional=.5,t.MaxBallCount=20,t}return e(t,o),t}(p);o("CatapultZombie",(C=X("CatapultZombie"),m=k(r),R=k(d),v=k([c]),C((D=t((j=function(o){function t(){for(var t,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return(t=o.call.apply(o,[this].concat(a))||this)._objdataOwn=new x,t.lobCD=240,n(t,"basketballPrj",D,i(t)),n(t,"baskeballSpawnPoint",I,i(t)),n(t,"lobSound",S,i(t)),t.ballCount=20,t.potatoMineDisappear=!1,t}e(t,o);var l=t.prototype;return l.playSpecialZombieDie=function(o){this.judgeDeath()},l.specialZombieOnEnable=function(){var o=this.body.body.armature();["shield","body","busket","busket_there","front","side","engine0"].forEach((function(t){var e=o.getSlot(t);e&&(e.displayIndex=0)})),this.lobCD=0,this.ballCount=this.objdataOwn.MaxBallCount,this.judgeBallCount()},l.plantCanbeDetected=function(o){return o.eaterDetectable&&!o.short_&&!o.invincible&&!o.objdataOwn.CannotBeDetectedByCatapult&&this.judgeCharacterIsInRange(o.worldPositionX)&&!this.bodyRec.judgeCrossRec(o.bodyRec)},l.detectPlant=function(o){var t=this;if(this.inLane){if(!(o<=0)){var e=new h(this.dps*o,!0,!1,!1,null);this.hypno?(this.walking&&this.inLane.zombiePool().forEach((function(o){o.bodyRec.judgeCrossRec(t.bodyRec)&&o.dealDamage(e)})),this.walking&&this.inLane.tombPool().forEach((function(e){e.bodyRec.judgeCrossRec(t.bodyRec)&&e.dealDamage(t.dps*o)}))):(this.inLane.plantPool().forEach((function(o){o.smasherDetectable&&t.bodyRec.judgeCrossRec(o.bodyRec)&&o.smash(t)})),this.walking&&this.inLane.hypnoZombiePool().forEach((function(o){o.bodyRec.judgeCrossRec(t.bodyRec)&&o.dealDamage(e)})))}}else this.playWalk()},l.judgeBallCount=function(){var o=this.body.body.armature();switch(["ball1","ball2","ball3","ball4","ball5","ballReady"].forEach((function(t){o.getSlot(t).displayIndex=0})),this.ballCount){case 0:o.getSlot("ball5").displayIndex=o.getSlot("ballReady").displayIndex=-1;case 1:o.getSlot("ball4").displayIndex=-1;case 2:o.getSlot("ball2").displayIndex=-1;case 3:o.getSlot("ball3").displayIndex=-1;case 4:o.getSlot("ball1").displayIndex=-1}},l.specialAnimationListener=function(o){var t=this;if("Lob"==o.name&&!this.dead){this.ballCount--,this.judgeBallCount();var e=null,n=null;if(this.reversed){var i=-1/0;this.hypno?this.inLane.tombPool().forEach((function(o){var n=o.bodyRec.prjX().y;n>i&&o.worldPositionX>t.worldPositionX&&!o.hidden&&(e=o.node,i=n)})):this.inLane.plantPool().forEach((function(o){var n=o.bodyRec.prjX().y;n>i&&o.worldPositionX>t.worldPositionX&&t.plantCanbeDetected(o)&&(e=o.node,i=n)})),(this.hypno?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).forEach((function(o){var a=o.bodyRec.prjX().x;a>i&&o.worldPositionX>t.worldPositionX&&(n=o,e=null,i=a)}))}else{var a=1/0;this.hypno?this.inLane.tombPool().forEach((function(o){var n=o.bodyRec.prjX().y;n<a&&o.worldPositionX<t.worldPositionX&&!o.hidden&&(e=o.node,a=n)})):this.inLane.plantPool().forEach((function(o){var n=o.bodyRec.prjX().x;n<a&&o.worldPositionX<t.worldPositionX&&t.plantCanbeDetected(o)&&(e=o.node,a=n)})),(this.hypno?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).forEach((function(o){var i=o.bodyRec.prjX().x;i<a&&o.worldPositionX<t.worldPositionX&&(n=o,e=null,a=i)}))}(!e||(this.reversed?-1:1)*(e.worldPosition.x-this.worldPositionX)>0)&&(e=this.reversed?this.inLane.toRight:this.inLane.toLeft);var l=f.instantiatePooly(this.basketballPrj),s=this.hypno?P.zombie:P.plant;n?y.lobOneCabbageOnZombie(l,new b(this.baskeballSpawnPoint.worldPosition.x,this.worldPositionY),this.baskeballSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,n,2,s,!1):e&&y.lobOneCabbageOnNode(l,new b(this.baskeballSpawnPoint.worldPosition.x,this.worldPositionY),this.baskeballSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,e,2,s,!1),this.lobSound.length&&w.playArray(this.lobSound,1,.5)}"toIdle"==o.name&&this.playIdle()},l.onDamaged=function(o,t,e){if(t<this.toughness/2){var n=this.body.body.armature();["shield","body","busket","busket_there","front","side","engine0"].forEach((function(o){var t=n.getSlot(o);t&&(t.displayIndex=1)}))}},l.playLob=function(){this.playIdle(),this.lobCD=this.objdataOwn.LobInterval+this.objdataOwn.LobIntervalAdditional*Math.random(),this.body.playAnimation("Lob",1)},l.onWaveAdded=function(o){o.db.playAnimation("Idle_G")},l.judgeCharacterIsInRange=function(o){return this.reversed&&o>this.worldPositionX||!this.reversed&&o<this.worldPositionX},l.detectLobPlant=function(){var o=this;if(this.inLane)if(this.worldPositionX>g.getSquareWorldPosition(0,7).x)this.playWalk();else{var t=!1;this.hypno?(this.inLane.zombiePool().forEach((function(e){t||o.judgeCharacterIsInRange(e.worldPositionX)&&!e.bodyRec.judgeCrossRec(o.bodyRec)&&(t=!0)})),this.inLane.tombPool().forEach((function(e){t||o.judgeCharacterIsInRange(e.worldPositionX)&&!e.bodyRec.judgeCrossRec(o.bodyRec)&&(t=!0)}))):(this.inLane.plantPool().forEach((function(e){t||o.plantCanbeDetected(e)&&(t=!0)})),this.inLane.hypnoZombiePool().forEach((function(e){t||o.judgeCharacterIsInRange(e.worldPositionX)&&!e.bodyRec.judgeCrossRec(o.bodyRec)&&(t=!0)}))),t&&this.ballCount?this.playLob():this.playWalk()}},l.specialZombieUpdate=function(o,t,e){this.lobCD>0&&(this.lobCD-=o),this.lobCD<=0&&e>0&&(this.lobCD=0,this.isAlive()&&this.detectLobPlant())},a(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"plantDetectorRec",get:function(){return this.bodyRec},set:function(o){this._plantDetectorRec=o}}]),t}(u)).prototype,"basketballPrj",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(j.prototype,"baskeballSpawnPoint",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(j.prototype,"lobSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=j))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/moldSquare.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./LnC.ts","./SoundRescourses.ts","./levelController.ts"],(function(e){var t,n,r,i,l,o,a,c,u,d,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.AudioClip},function(e){c=e.Character},function(e){u=e.TileType},function(e){d=e.sounds},function(e){s=e.LevelPlay}],execute:function(){var p,h,y,f,I;l._RF.push({},"1a2acZ+Dp5KYJ/BKSYxUCPZ","moldSquare",void 0);var m=o.ccclass,b=o.property;e("moldSquare",(p=m("moldSquare"),h=b(a),p((I=t((f=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=e.call.apply(e,[this].concat(l))||this).currentIdleMode=0,t.IdleAnm="Idle",r(t,"celebrateSound",I,i(t)),t}n(t,e);var l=t.prototype;return l.characterOnTileTypeChange=function(e,t){t==u.sky||t==u.water||t==u.sea?this.IdleAnm="Idle_Floating":this.IdleAnm="Idle",this.playIdle()},l.characterOnEnable=function(){this.currentIdleMode=0},l.playIdle=function(){0!=this.currentIdleMode&&(this.db.playAnimation(this.IdleAnm,1/0),this.currentIdleMode=0)},l.playHide=function(){1!=this.currentIdleMode&&(this.db.playAnimation("Hide",1),this.currentIdleMode=1)},l.playCelecbrate=function(){2!=this.currentIdleMode&&(this.db.playAnimation("Victory",1),this.currentIdleMode=2),d.play(this.celebrateSound,1,NaN,.3333)},l.update=function(e){s.component.gameWon&&this.playCelecbrate()},t}(c)).prototype,"celebrateSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=f))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/MonkBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KongfuBasicZombie.ts"],(function(o){var i,e,n,c;return{setters:[function(o){i=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator},function(o){c=o.KongfuBasicZombie}],execute:function(){var t;e._RF.push({},"bced7VW0x9GPqj0gSQAIFl/","MonkBasicZombie",void 0);var s=n.ccclass;n.property,o("MonkBasicZombie",s("MonkBasicZombie")(t=function(o){function e(){return o.apply(this,arguments)||this}return i(e,o),e}(c))||t);e._RF.pop()}}}));

System.register("chunks:///_virtual/MonkBladeZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./CharacterManager.ts"],(function(e){var t,i,a,n,o,s,r,c,l,h,d,u,b,f,p,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,r=e._decorator,c=e.AudioClip,l=e.Prefab,h=e.Vec3,d=e.Vec2},function(e){u=e.ZombieDamageDetails,b=e.Zombie,f=e.ZombieProps},function(e){p=e.sounds},function(e){y=e.Rectangle}],execute:function(){var g,m,R,v,D,w,j,B,P;s._RF.push({},"fac72t/BitBs5c9bZLvDbwF","MonkBladeZombie",void 0);var L=r.ccclass,S=r.property,_=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))||this).BladeDamage=250,t}return i(t,e),t}(f);e("MonkBladeZombie",(g=L("MonkBladeZombie"),m=S([c]),R=S([c]),v=S(l),g((j=t((w=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this)._objdataOwn=new _,a(t,"swingSounds",j,n(t)),a(t,"hitSounds",B,n(t)),t._haveBlade=!0,t.bladeSlots=[],a(t,"bladeDrop",P,n(t)),t}i(t,e);var s=t.prototype;return s.specialZombieOnLoad=function(){var e=this;this.body.body.armature().getSlots().forEach((function(t){t.name.includes("BLADE")&&e.bladeSlots.push(t)}))},s.specialZombieOnEnable=function(){this.haveBlade=!0},s.specialMagnetedObject=function(){if(!this.haveBlade)return null;var e=this.drop(this.bladeDrop,this.zombieHeight+this.height,new h(this.worldPositionX+10,this.worldPositionY,10),new d(0,0),this.inLane.prjLayer,0);return this.haveBlade=!1,e},s.specialAnimationListener=function(e){"hit"==e.name?this.haveBlade&&(this.isAlive()&&this._hit(),p.playArray(this.hitSounds)):"swing"==e.name&&this.haveBlade&&p.playArray(this.swingSounds)},s.detectPlant=function(e){var t=this;if(this.detectPlantOn())if(this.inLane){if(!(e<=0))if(this.haveBlade){var i=!1;this.hypno?(this.inLane.zombiePool().forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)})),this.inLane.tombPool().forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)}))):(this.inLane.plantPool().forEach((function(e){i||e.smasherDetectable&&t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)})),this.inLane.hypnoZombiePool().forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)}))),i?(this.walking=!1,this.switching=!0,this.correctShadeWP(),this.body.playAnimation("Attack",1,.1)):this.playWalk()}else this.defaultDetectPlant(e)}else this.playWalk()},s._hit=function(){var e,t=null,i=null,a=null,n=y.createRectangleCenter(new d(this.shadeSocket.worldPosition.x+this.plantDetectorRecOffset.x*(this.reversed?-1:1),this._worldPosition.y+this._height+this.plantDetectorRecOffset.y),1.5*this.plantDetectorRecSize.width,this.plantDetectorRecSize.height);if(this.hypno){var o=1/0;this.inLane.zombiePool().forEach((function(e){var t=e.bodyRec.prjX().x;e.bodyRec.judgeCrossRec(n)&&t<o&&(i=e,o=t)})),this.inLane.tombPool().forEach((function(e){var t=e.bodyRec.prjX().x;e.bodyRec.judgeCrossRec(n)&&t<o&&(a=e,o=t)}))}else{this.inLane.plantPool().forEach((function(e){(e.eaterDetectable||e.smasherDetectable)&&e.bodyRec.judgeCrossRec(n)&&(!t||t.bodyRec.prjX().y<e.bodyRec.prjX().y)&&(t=e)}));var s=-1/0;this.inLane.hypnoZombiePool().forEach((function(e){var t=e.bodyRec.prjX().y;e.bodyRec.judgeCrossRec(n)&&t>s&&(i=e,s=t)}))}i?i.dealDamage(new u(this.objdata.BladeDamage,!0,!0,!0,null)):t?null==(e=t)||e.dealDamage(this.objdata.BladeDamage,0):a&&a.dealDamage(this.objdata.BladeDamage)},o(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"haveBlade",get:function(){return this._haveBlade},set:function(e){this._haveBlade=e,this.plantDetectorRecOffset.x=e?-32:0,this.bladeSlots.forEach((function(t){t._setDisplayIndex(e?0:-1)}))}}]),t}(b)).prototype,"swingSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(w.prototype,"hitSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(w.prototype,"bladeDrop",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=w))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/MonkNunchakuZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KongfuHammerZombie.ts","./Plant.ts","./Zombie.ts","./SoundRescourses.ts","./NodePools.ts","./CharacterManager.ts"],(function(t){var e,n,i,o,a,l,s,r,c,h;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.Vec2},function(t){a=t.KongfuHammerZombie},function(t){l=t.PlantType},function(t){s=t.ZombieDamageDetails},function(t){r=t.sounds},function(t){c=t.ArrayGet},function(t){h=t.Rectangle}],execute:function(){var u;n._RF.push({},"08eafK/zMlKLKahzFZOlJ/i","MonkNunchakuZombie",void 0);var p=i.ccclass;i.property,t("MonkNunchakuZombie",p("MonkNunchakuZombie")(u=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var i=n.prototype;return i.detectPlant=function(t){var e=this;if(this.inLane){if(0!=t&&this.detectPlantOn()){var n=this.plantDetectorRec,i=null,o=null,a=null;if(!this.ignorePlants())if(this.hypno){var r=1/0;this.inLane.zombiePool().forEach((function(t){var e=t.bodyRec.prjX().x;e<r&&n.judgeCrossRec(t.bodyRec)&&(r=e,o=t)})),r=1/0,this.inLane.tombPool().forEach((function(t){var e=t.bodyRec.prjX().x;e<r&&t.bodyRec.judgeCrossRec(n)&&(r=e,a=t)}))}else{var c,h;null==(c=this.inLane)||c.plantPool().forEach((function(t){(t.eaterDetectable&&e.plantEatAllowed(t)||e.plantEatExtraAllowed(t))&&n.judgeCrossRec(t.bodyRec)&&(i&&t.plantType!=l.vine&&t.plantType!=l.plant&&t.plantType!=l.lilyPad&&t.plantType!=l.pot||(i=t))}));var u=-1/0;null==(h=this.inLane)||h.hypnoZombiePool().forEach((function(t){var e=t.bodyRec.prjX().y;e>u&&n.judgeCrossRec(t.bodyRec)&&(u=e,o=t)}))}var p=new s(this.dps*t,!0,!1,!1,null);o?(o.eatByZombie(p,this),this.playEat(t)):a?(a.dealDamage(p.damage),this.playEat(t)):i?(this.walking=!1,this.body.playAnimation("Throw",1),this.correctShadeWP(),this.switching=!0):this.allowWalk()?this.playWalk():(this.walking||this.eating)&&this.playIdle()}}else this.playWalk()},i.hammerZombieAnimationListenerAdd=function(t){var e=this;if("Hit"==t.name){var n=h.createRectangleCenter(new o(this.shadeSocket.worldPosition.x+this.plantDetectorRecOffset.x*(this.reversed?-1:1),this._worldPosition.y+this._height+this.plantDetectorRecOffset.y),1.5*this.plantDetectorRecSize.width,this.plantDetectorRecSize.height);if(!this.hypno){var i,a=null;null==(i=this.inLane)||null==(i=i.plantPool())||i.forEach((function(t){a||t.eaterDetectable&&n.judgeCrossRec(t.bodyRec)&&(a=t)})),a&&(a.plantInLnC.getAllPlants().forEach((function(t){t.throwAway(!e.reversed,e)})),r.play(c.getRandom(this.hitSounds),.5,.1))}}else"Air"==t.name&&r.play(this.rotateSound,1,.1)},n}(a))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/MonkTorchZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EgyptExplorerZombie.ts","./SoundRescourses.ts"],(function(t){var e,o,n,r,i,c,l,a,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,c=t._decorator,l=t.AudioClip},function(t){a=t.EgyptExplorerZombie},function(t){u=t.sounds}],execute:function(){var s,h,d,p,f;i._RF.push({},"0ecd6ICj3FAtKSQc8LGy4rO","MonkTorchZombie",void 0);var y=c.ccclass,b=c.property;t("MonkTorchZombie",(s=y("MonkTorchZombie"),h=b(l),s((f=e((p=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))||this).rotateSlots=[],n(e,"torchIdleSound",f,r(e)),e}o(e,t);var i=e.prototype;return i.setTorchIgniteRecs=function(t){this.plantDetectorRecSize.width=t?90:48,this.bodyRecSize.width=t?90:48},i.specialTorchZombieOnIgnited=function(){this.rotateSlots.forEach((function(t){var e;null==t||null==(e=t.childArmature)||null==(e=e.animation)||e.play("idle",1/0)}))},i.specialTorchZombieOnLoad=function(){var t,e=this;null==(t=this.body.body.armature())||null==(t=t.getSlots())||t.forEach((function(t){t.name.includes("_RO")&&e.rotateSlots.push(t)}))},i.judgePlantCanBeBurnt=function(t){return!t.dead&&t.smasherDetectable},i.playTorchIdleSound=function(t){t>0&&u.play(this.torchIdleSound,1,.42*t*60)},e}(a)).prototype,"torchIdleSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=p))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/MoonBean.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./levelController.ts","./CharacterManager.ts","./NodePools.ts","./Square.ts","./Sunflower.ts"],(function(o){var n,t,a,i,e,r,l,s,u,d,c,b,p,f,m,h,P,y,w,g;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,a=o.initializerDefineProperty,i=o.assertThisInitialized,e=o.createClass},function(o){r=o.cclegacy,l=o._decorator,s=o.AudioClip,u=o.Prefab,d=o.Vec2},function(o){c=o.Plant,b=o.PlantProps},function(o){p=o.sounds},function(o){f=o.SunBombProperties},function(o){m=o.ZombiePool,h=o.TombPool},function(o){P=o.instantiatePooly,y=o.ArrayGet},function(o){w=o.Square},function(o){g=o.sunflower}],execute:function(){var S,B,O,v,R,E,D,j,Z,x,z,L,A,C,M,_;r._RF.push({},"c4fd1iYED5GVa4H03sruSeB","MoonBean",void 0);var F=l.ccclass,V=l.property,k=function(o){function n(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(n=o.call.apply(o,[this].concat(a))||this).PlantBombExplosionRadius=25,n.ZombieBombExplosionRadius=80,n.PlantDamage=500,n.ZombieDamage=900,n.PlantBombExplosionRadiusPlantfood=25,n.ZombieBombExplosionRadiusPlantfood=80,n.PlantDamagePlantfood=0,n.ZombieDamagePlantfood=1500,n.PlantfoodSunbombCount=3,n}return t(n,o),n}(b),I=(S=F("MoonBeanSound"),B=V(s),O=V([s]),v=V([s]),S((D=n((E=function(){function o(){a(this,"foodShoot",D,this),a(this,"shoot",j,this),a(this,"death",Z,this)}var n=o.prototype;return n.playFoodShoot=function(){p.playArray(this.foodShoot,1,.1)},n.playShoot=function(){p.playArray(this.shoot,1,.1)},n.playDeath=function(){p.playArray(this.death,1,.1)},o}()).prototype,"foodShoot",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=n(E.prototype,"shoot",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=n(E.prototype,"death",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=E))||R);o("MoonBeanPlant",(x=F("MoonBeanPlant"),z=V(I),L=V(u),x((M=n((C=function(o){function n(){for(var n,t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n=o.call.apply(o,[this].concat(e))||this,a(n,"soundRes",M,i(n)),n._objdataOwn=new k,a(n,"rayPar",_,i(n)),n}t(n,o);var r=n.prototype;return r.onObjdataSet=function(o,n){},r.specialPlantFood=function(){this.anmControl.playAnimation("Food",1)},r.getSunBombProp=function(o){void 0===o&&(o=!1);var n=new f;return n.PlantBombExplosionRadius=o?this.objdataOwn.PlantBombExplosionRadiusPlantfood:this.objdataOwn.PlantBombExplosionRadius,n.PlantDamage=o?this.objdataOwn.PlantDamagePlantfood:this.objdataOwn.PlantDamage,n.ZombieBombExplosionRadius=o?this.objdataOwn.ZombieBombExplosionRadiusPlantfood:this.objdataOwn.ZombieBombExplosionRadius,n.ZombieDamage=o?this.objdataOwn.ZombieDamagePlantfood:this.objdataOwn.ZombieDamage,n.ZombieDamage*=this._dmgScale,n},r.dropOneSunBomb=function(o,n,t){var a=g.dropOneSunBomb(o);if(a&&(a.sunbombProps=n,a.height=70,a.bodyLinearVelocity=-.5,a.gravity=0,a.linearVelocity=d.ZERO,t)){var i=P(this.rayPar);i.parent=a.inLane.prjLayer,i.worldPosition=o.toVec3()}},r.animationListener=function(o){var n=this;switch(o.name){case"foodSun":var t=this.getSunBombProp(!0),a=this.objdataOwn.PlantfoodSunbombCount;if(y.randomize(m.pool()).forEach((function(o){a>0&&null!=o&&o.isInLawn()&&(n.dropOneSunBomb(o.worldPosition,t,!0),a--)})),a>0)y.randomize(h.pool()).forEach((function(o){var i;a>0&&null!=o&&null!=(i=o.tombInLnC)&&i.isInLawn()&&(n.dropOneSunBomb(o.worldPosition,t,!0),a--)}));a>0&&y.randomize(w.getAllLnC()).forEach((function(o){a>0&&(n.dropOneSunBomb(o.plantPoint.worldPosition.toVec2(),t,!0),a--)})),this.soundRes.playFoodShoot();break;case"explode":var i=this.getSunBombProp();this.dropOneSunBomb(this.worldPosition,i,!1),this.soundRes.playShoot();break;case"foodEnd":this.foodEnd()}},e(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(c)).prototype,"soundRes",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new I}}),_=n(C.prototype,"rayPar",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=C))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/Moonflower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sunflower.ts","./levelController.ts","./SoundRescourses.ts","./SunCount.ts","./InfiNut.ts","./Zombies.ts","./Square.ts"],(function(n){var o,t,i,e,r,a,u,l,s,d,c,h,p,f,y,S,w,P,b;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized,r=n.createClass},function(n){a=n.cclegacy,u=n._decorator,l=n.AudioClip,s=n.Node,d=n.dragonBones},function(n){c=n.sunflower},function(n){h=n.LevelPlay},function(n){p=n.sounds},function(n){f=n.SunCount},function(n){y=n.InfiNutPlant,S=n.InfiNutProps},function(n){w=n.zombies,P=n.ZombieEnum},function(n){b=n.Square}],execute:function(){var m,v,C,g,L,_,A,O,E,M,D,k,I,j,R,x;a._RF.push({},"a5837CPhDZPG509d3lamA2k","Moonflower",void 0);var z=u.ccclass,F=u.property,B=function(n){function o(){for(var o,t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return(o=n.call.apply(n,[this].concat(i))||this).SunValueList=[25,50,75,100],o.PlantfoodTime=3,o.SunValue=50,o.ProduceInterval=23.5,o.ProduceIntervalAdditional=1.5,o.ProduceCountdownStart=5,o.ProduceCountdownStartAdditional=5,o}return t(o,n),o}(S),V=(m=z("moonflowerSound"),v=F([l]),C=F([l]),g=F([l]),m((A=o((_=function(){function n(){i(this,"foodSound",A,this),i(this,"produceSound",O,this),i(this,"saySound",E,this)}var o=n.prototype;return o.playFoodSound=function(){p.playArray(this.foodSound,1,.1)},o.playProduceSound=function(){p.playArray(this.produceSound,1,.1)},o.playSaySound=function(){p.playArray(this.saySound,1,.1)},n}()).prototype,"foodSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=o(_.prototype,"produceSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=o(_.prototype,"saySound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=_))||L);n("MoonflowerPlant",(M=z("MoonflowerPlant"),D=F(V),k=F(s),M((R=o((j=function(n){function o(){for(var o,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return o=n.call.apply(n,[this].concat(r))||this,i(o,"soundRes",R,e(o)),o._objdataOwn=new B,o.sunValue=50,i(o,"sunSpawnpoint",x,e(o)),o.producing=!1,o.busy=0,o}t(o,n);var a=o.prototype;return a.onDamagedToHealthO=function(){this.dieOnLnC(),this.die()},a.replantable=function(){return!1},a.setCD=function(n){this._cdScale&&(n*=this._cdScale),this.busy=n},a.playProduceAnimation=function(){var n;null!=(n=f.component)&&n.shown&&(this.soundRes.playSaySound(),this.producing=!0,this.setCD(this._objdataOwn.ProduceInterval+Math.random()*this._objdataOwn.ProduceIntervalAdditional),this.anmControl.playAnimation("Produce",1,.1,Math.max(1,1/this.busy)))},a.judgeDarkPlantMode=function(){var n,o,t,i,e,r,a,u,l=this._objdataOwn.SunValueList.length,s=0;[null==(n=this.inLnC)||null==(n=n.upper)?void 0:n.lefter,null==(o=this.inLnC)?void 0:o.upper,null==(t=this.inLnC)||null==(t=t.upper)?void 0:t.righter,null==(i=this.inLnC)?void 0:i.lefter,this.inLnC,null==(e=this.inLnC)?void 0:e.righter,null==(r=this.inLnC)||null==(r=r.lower)?void 0:r.lefter,null==(a=this.inLnC)?void 0:a.lower,null==(u=this.inLnC)||null==(u=u.lower)?void 0:u.righter].forEach((function(n){s>=l||null==n||n.getAllPlants().forEach((function(n){s>=l||null!=n&&n.haveDarkMode&&s++}))})),this.sunValue=this._objdataOwn.SunValueList[s-1],s>=l&&!this.darkModeOn?(this.darkModeOn=!0,this._darkSlots.forEach((function(n){n.displayIndex=1}))):s<l&&this.darkModeOn&&(this.darkModeOn=!1,this._darkSlots.forEach((function(n){n.displayIndex=0})))},a.specialPlantFood=function(){this.producing=!1,this.busy=1/0,this.soundRes.playFoodSound(),this.anmControl.playAnimation("Food",1),this.anmControl.body.once(d.EventObject.COMPLETE,this.foodEnd,this)},a.waterable=function(){return!this.producing},a.specialPlantFoodEnd=function(){this.producing=!1,this.setCD(23.5+1.5*Math.random()),this.anmControl.playRandom(),this.spawnShields()},a.spawnShields=function(){var n=this;this.killAllShields(),p.play(this.shieldSound,1,.1),this.foodable=!1,[this.inLane.UpperLane,this.inLane,this.inLane.LowerLane].forEach((function(o){var t=w.createZombie(o.LaneIndex,P.modern_moonflower_shield);t.canBeKilledByRule=!1,t.worldPositionX=n.worldPositionX,t.coloredWhenHypnoed=!1,t.hypno=!0,t.masterPlant=n,n.foodShields.push(t);var i=w.createZombie(o.LaneIndex,P.modern_moonflower_shield);i.canBeKilledByRule=!1,i.worldPositionX=n.worldPositionX,i.coloredWhenHypnoed=!1,i.hypno=!0,i.masterPlant=n,i.reversed=!1,n.foodShields.push(i)}))},a.specialPlantOnDisable=function(){},a._produce=function(){this.producing=!1,c.produceSun(this.sunValue,this.worldPosition,this.sunSpawnpoint.worldPosition.y-this.worldPositionY)},a.animationListener=function(n){"Produce"==n.name?this._produce():"foodEnd"==n.name?this.foodEnd():"produceSound"==n.name&&this.soundRes.playProduceSound()},a.onObjdataSet=function(n,o){this.setCD(o.ProduceCountdownStart+Math.random()*o.ProduceCountdownStartAdditional)},a.specialPlantOnEnable=function(){this.producing=!1,this.setCD(this._objdataOwn.ProduceCountdownStart+Math.random()*this._objdataOwn.ProduceCountdownStartAdditional)},a.replant=function(){},a.specialPlantUpdateForce=function(n,o,t){var i,e=this;null==(i=this.inLnC)||i.get3x3().forEach((function(o){null==o||o.setShadowBuff(20*n)})),this.foodShields.forEach((function(n,o){var t=o%3,i=o%2;n.worldPositionX=e.worldPositionX+b.SquareDisW*(1-2*i),n.worldPositionY=e.worldPositionY+b.SquareDisH*(1-t)}))},a.specialPlantUpdate=function(n,o,t){h.component.ExcludeListSunProducers||(this.busy>0&&(this.busy-=n),this.busy<=0&&this.playProduceAnimation())},r(o,[{key:"hurtStage",get:function(){return this._hurtStage},set:function(n){}}]),o}(y)).prototype,"soundRes",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new V}}),x=o(j.prototype,"sunSpawnpoint",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=j))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/Mouse.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelController.ts","./CharacterManager.ts"],(function(e){var n,o,t,i,s,u,r,l,c,a,p,d,f,h,v;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.createClass},function(e){u=e.cclegacy,r=e._decorator,l=e.Node,c=e.Vec2,a=e.Vec3,p=e.EventMouse,d=e.Component},function(e){f=e.LevelPlay},function(e){h=e.LineSegment,v=e.Rectangle}],execute:function(){var M,y,g,T,m,L;u._RF.push({},"d46dfCpSdtH1LPKAG1TjdAv","Mouse",void 0);var _=r.ccclass,U=r.property;e("Mouse",(M=_("Mouse"),y=U({type:l}),M(((L=function(e){function n(){for(var n,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=e.call.apply(e,[this].concat(s))||this,t(n,"mouse",m,i(n)),n.oldMousePos=new c,n}o(n,e),n.judgeInUITransform=function(e){var n=v.createRectangleUITransform(e);return null==n?void 0:n.judgeInRecP(this.position)};var u=n.prototype;return u.onLoad=function(){this.node.on(l.EventType.MOUSE_MOVE,this.onMouseMove,this),this.node.on(l.EventType.MOUSE_DOWN,this.onMouseDown,this),this.node.on(l.EventType.MOUSE_UP,this.onMouseUp,this),this.node.on(l.EventType.MOUSE_UP,(function(e){n.followingCart=null}),this)},u.lateUpdate=function(e){var o=this.oldMousePos.clone(),t=new a(n._position.x,n._position.y,0),i=new c(t.x-o.x,t.y-o.y);n.moveLine=h.createLineLenDir(new c(o.x,o.y),i.length(),i),this.oldMousePos=t.toVec2()},u.onMouseMove=function(e){var o=e.getUILocationX(),t=e.getUILocationY(),i=(n._position.toVec3(),new a(o,t,0));this.mouse.worldPosition=i,n._position=new c(i.x,i.y)},u.onMouseDown=function(e){e.getButton()==p.BUTTON_LEFT||(e.getButton(),p.BUTTON_RIGHT)},u.onMouseUp=function(e){e.getButton()==p.BUTTON_LEFT||(e.getButton(),p.BUTTON_RIGHT)},s(n,null,[{key:"position",get:function(){var e,n,o=this._position.clone();return null!=(e=f.component)&&e.enabled&&null!=(n=f.component)&&null!=(n=n.node)&&n.isValid&&o.add2f(f.component.uiPos.x,f.component.uiPos.y),o}}]),n}(d)).moveLine=h.createLineLenDir(new c,0),L._position=new c,L.mouseInL=-2,L.mouseInC=-2,L.mouseInLnC=null,L.followingCart=null,m=n((T=L).prototype,"mouse",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=T))||g));u._RF.pop()}}}));

System.register("chunks:///_virtual/MouseBlocker.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,t,s,n,i;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,s=o._decorator,n=o.Node,i=o.Component}],execute:function(){var h;t._RF.push({},"6759f/q5pdJKKx/AsJy9qhk","MouseBlocker",void 0);var c=s.ccclass;s.property,o("MouseBlocker",c("MouseBlocker")(h=function(o){function t(){return o.apply(this,arguments)||this}e(t,o);var s=t.prototype;return s.blockMouse=function(){},s.onLoad=function(){this.node.on(n.EventType.MOUSE_DOWN,this.blockMouse,this),this.node.on(n.EventType.MOUSE_UP,this.blockMouse,this),this.node.on(n.EventType.MOUSE_MOVE,this.blockMouse,this),this.node.on(n.EventType.MOUSE_LEAVE,this.blockMouse,this),this.node.on(n.EventType.MOUSE_ENTER,this.blockMouse,this),this.node.on(n.EventType.MOUSE_WHEEL,this.blockMouse,this),this.node.on(n.EventType.TOUCH_START,this.blockMouse,this),this.node.on(n.EventType.TOUCH_END,this.blockMouse,this),this.node.on(n.EventType.TOUCH_MOVE,this.blockMouse,this),this.node.on(n.EventType.TOUCH_CANCEL,this.blockMouse,this)},t}(i))||h);t._RF.pop()}}}));

System.register("chunks:///_virtual/newplantLevelPrize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelPrize.ts","./CardFeatureTotal.ts","./cardSelectAlmanac.ts","./levelController.ts","./PlayerProperties.ts","./Plants.ts"],(function(e){var n,t,r,l,a,i,c,o,s,u,p,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator},function(e){c=e.levelPrize},function(e){o=e.CardFeatureTotal},function(e){s=e.cardSelectAlmanac},function(e){u=e.LevelPlay},function(e){p=e.AllPlayerProperties},function(e){f=e.plants}],execute:function(){var P,v,d,y,h,z,w;a._RF.push({},"2faae7snf1PQLNIwqgGQeBY","newplantLevelPrize",void 0);var g=i.ccclass,m=i.property;e("newplantLevelPrize",(P=g("newplantLevelPrize"),v=m(o),d=m(s),P((z=n((h=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,r(n,"cf",z,l(n)),r(n,"ca",w,l(n)),n}t(n,e);var a=n.prototype;return a.specialPrizeOnEnable=function(){var e,n=null==(e=u.component)||null==(e=e.levelDefinition)?void 0:e.FirstRewardParam,t=0;n&&(t=f.getPlantEnumByString(n)),p.unlockPlant(t),this.cf.cardGrouper(t),this.ca.suncostShown=!1,this.ca.prizeModeOn=!0,this.ca.almanacModeOn=!0},a.specialOnCollected=function(){this.ca.prizeModeOn=!1},n}(c)).prototype,"cf",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=n(h.prototype,"ca",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=h))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/NodePools.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var o,t,r,e;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,r=n.NodePool,e=n.instantiate}],execute:function(){n({destroyNodeArrayPooly:function(n){u.destroyNodeArrayPooly(n)},destroyPooly:function(n){u.destroyPooly(n)},instantiatePooly:function(n){return u.instantiatePooly(n)}}),t._RF.push({},"31320HlOCRDn6eRO4jkrUAQ","NodePools",void 0);n("ArrayGet",function(){function n(){}return n.getRandom=function(n){if(null!=n&&n.length)return n[Math.floor(Math.random()*n.length)]},n.randomize=function(n){return null!=n&&n.length?n.sort((function(){return.5-Math.random()})):[]},n.getMin=function(n,o){if(n[0]&&!isNaN(n[0][o])){var t=1/0,r=null;return n.forEach((function(n){n[o]<t&&(r=n,t=n[o])})),r}return null},n.getMinByProps=function(n,o){var t=n[0];if(o.forEach((function(n){t[n]&&(t=t[n])})),n[0]&&!isNaN(t)){var r=1/0,e=null;return n.forEach((function(n){var t=n;o.forEach((function(n){t[n]&&(t=t[n])})),t<r&&(e=n,r=t)})),e}return null},n.sort=function(n,o){if(!n.length)return[];if(n[0]&&!isNaN(n[0][o])){for(var t=[],r=n.concat();r[0];){var e=this.getMin(r,o),i=r.indexOf(e);r.splice(i,1),e&&t.push(e)}return t}return[]},n.sortByProps=function(n,o){if(!n.length)return[];var t=n[0];if(o.forEach((function(n){t[n]&&(t=t[n])})),n[0]&&!isNaN(t)){for(var r=[],e=n.concat();e[0];){var i=this.getMinByProps(e,o),u=e.indexOf(i);e.splice(u,1),i&&r.push(i)}return r}return[]},n.judgeSame=function(n,o){return n.length===o.length&&!n.some((function(n){return-1===o.indexOf(n)}))},n}());var i=n("NodePoolExtend",function(n){function t(){for(var o,t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];return(o=n.call.apply(n,[this].concat(r))||this).name="",o}return o(t,n),t}(r)),u=n("NodePools",function(){function n(){}return n.Instance=function(){return n.instance||(n.instance=new n),n.instance},n.clonePooly=function(o){for(var t=null,r=n.nodePools,i=0;i<r.length;i++)if(r[i].size()>0&&r[i].name==o.name&&(t=r[i].get()))return t;return t=e(o)},n.instantiatePooly=function(o){for(var t=null,r=n.nodePools,i=0;i<r.length;i++)if(r[i].size()>0&&r[i].name==o.name&&(t=r[i].get()))return t;return t=e(o)},n.destroyPooly=function(o){if(null!=o&&0!=(null==o?void 0:o.isValid)){for(var t=n.nodePools,r=0;r<t.length;r++)if(t[r].name==o.name)return t[r].put(o),void(t[r].size()>100&&t[r].clear());for(var e=0;e<t.length;e++)if(0==t[e].size())return t[e].name=o.name,void t[e].put(o);var u=new i;u.name=o.name,u.put(o),t.push(u)}},n.destroyNodeArrayPooly=function(n){var o=this;n.concat().forEach((function(n){o.destroyPooly(n)}))},n.clearAll=function(){this.nodePools.forEach((function(n){n.clear()})),this.nodePools=[]},n}());u.instance=void 0,u.nodePools=[],t._RF.pop()}}}));

System.register("chunks:///_virtual/Parsnip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./SoundRescourses.ts"],(function(t){var n,i,e,o,a,r,s,l,u,c,h,d,p,f,y,S,m,b,g,P;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.AudioClip,l=t.Prefab,u=t.Vec2},function(t){c=t.Plant,h=t.PlantProps},function(t){d=t.Rectangle},function(t){p=t.Square},function(t){f=t.ZombieDamageDetails,y=t.zombieDamageType},function(t){S=t.instantiatePooly,m=t.NodePools},function(t){b=t.peaShooter},function(t){g=t.CharacterType},function(t){P=t.sounds}],execute:function(){var C,w,R,v,L,D,z,A,E,j,k,I,F,_,O,q,N,x,M,T,B,H,K,V,W,Z,U,X;a._RF.push({},"5e369i6Ll1NsKEvWwK5RNFV","Parsnip",void 0);var G=r.ccclass,J=r.property,Q=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).AttackInterval=.8,n.DamagePerSnip=70,n.PlantfoodSummonCount=2,n}return i(n,t),n}(h),Y=(C=G("parsnipSound"),w=J([s]),R=J([s]),v=J([s]),L=J([s]),D=J([s]),z=J([s]),A=J([s]),C((k=n((j=function(){function t(){e(this,"snipSound",k,this),e(this,"snipIdleSound",I,this),e(this,"scratchIdleSound",F,this),e(this,"snipSaySound",_,this),e(this,"popSound",O,this),e(this,"popSaySound",q,this),e(this,"foodEndSound",N,this)}var n=t.prototype;return n.playSnip=function(){P.playArray(this.snipSound,1,.1)},n.playSnipIdle=function(){P.playArray(this.snipIdleSound,.5,.1)},n.playScratchIdle=function(){P.playArray(this.scratchIdleSound,.3,.1)},n.playSnipSay=function(){P.playArray(this.snipSaySound,.5,.1)},n.playPopSound=function(){P.playArray(this.popSound,1,.1)},n.playPopSaySound=function(){P.playArray(this.popSaySound,.5,.1)},n.playFoodEndSound=function(){P.playArray(this.foodEndSound,1,.1)},t}()).prototype,"snipSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=n(j.prototype,"snipIdleSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(j.prototype,"scratchIdleSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=n(j.prototype,"snipSaySound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(j.prototype,"popSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=n(j.prototype,"popSaySound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=n(j.prototype,"foodEndSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=j))||E);t("ParsnipPlant",(x=G("ParsnipPlant"),M=J(Y),T=J(l),B=J(l),H=J(l),x((W=n((V=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,e(n,"soundRes",W,o(n)),n.attackCD=0,n.detector=new d,n.foodLeftCount=2,n._objdataOwn=new Q,n.attacking=!1,e(n,"bigPrj",Z,o(n)),e(n,"smallPrj",U,o(n)),e(n,"dirtsPar",X,o(n)),n}i(n,t);var a=n.prototype;return a.specialPlantOnEnable=function(){this.deathAnm="Death",this.attackCD=0},a.specialPlantOnSquareChange=function(t,n){this.detector=d.createRectangleNodeSide(n.node,2.5*p.SquareDisW,p.SquareDisH)},a.waterable=function(){return!this.attacking},a.animationListener=function(t){"hit"==t.name?(this.snipEnemies(),this.attacking=!1):"scratch"==t.name?this.soundRes.playScratchIdle():"idleSnip"==t.name?this.soundRes.playSnipIdle():"summon"==t.name?(this.throwCS(!0),this.foodLeftCount--,this.foodLeftCount<=0&&(this.anmControl.playAnimation("FoodEnd",1),this.soundRes.playFoodEndSound())):"foodEnd"==t.name&&this.foodEnd()},a.detectEnemies=function(){var t,n,i=this;if(null!=(t=this.inLnC)&&null!=(t=t.righter)&&t.tombStone)return!0;if(null!=(n=this.inLnC)&&null!=(n=n.righter)&&null!=(n=n.righter)&&n.tombStone)return!0;var e=!1;return this.inLane.zombiePool().forEach((function(t){e||t.bodyRecForShooter.judgeCrossRec(i.detector)&&(e=!0)})),e},a.snipEnemies=function(){var t=this,n=!1,i=1/0,e=null;this.inLane.zombiePool().forEach((function(n){var o=n.bodyRecForShooter.prjX().x;o<i&&n.bodyRecForShooter.judgeCrossRec(t.detector)&&(e=n,i=o)}));var o,a,r,s=this._objdataOwn.DamagePerSnip*this._dmgScale;if(e)e.dealDamage(new f(s,!0,!0,!0,null,y.physicle)),n=!0;else if(null!=(o=this.inLnC)&&null!=(o=o.righter)&&o.tombStone)null==(r=this.inLnC)||null==(r=r.righter)||r.tombStone.dealDamage(s),n=!0;else if(null!=(a=this.inLnC)&&null!=(a=a.righter)&&null!=(a=a.righter)&&a.tombStone){var l;null==(l=this.inLnC)||null==(l=l.righter)||null==(l=l.righter)||l.tombStone.dealDamage(s),n=!0}this.soundRes.playSnip(),n&&this.soundRes.playSnipSay()},a.specialPlantUpdate=function(t,n,i){if(!this.fooding&&!this.attacking&&(this.attackCD>0&&(this.attackCD-=t),this.attackCD<=0&&i>0&&this.detectEnemies())){var e=this.attackCD=this._objdataOwn.AttackInterval*this._cdScale;this.anmControl.playAnimation("Attack",1,.1*e/.8,Math.max(1,1/e)),this.attacking=!0}},a.animationOnComplete=function(){this.attacking=!1},a.specialPlantFood=function(t){this.attacking=!1,this.soundRes.playPopSound(),this.anmControl.playAnimation("FoodStart",1),this.foodLeftCount=this._objdataOwn.PlantfoodSummonCount},a.throwCS=function(t){var n=this;void 0===t&&(t=!1),this.soundRes.playPopSaySound(),this.soundRes.playPopSound();var i=S(t?this.smallPrj:this.bigPrj);b.shootOnePea(i,this.worldPosition,0,this.inLane.prjLayer,new u(8,0),g.zombie);this.inLane.zombiePool().forEach((function(t){t.bodyRec.judgeCrossRec(n.bodyRec)&&t.leapBy(new u(1,0),!0,.7,50,!0,!0)}));var e=m.instantiatePooly(this.dirtsPar);e.parent=this.fooding?this.foodParent:this.inLane.prjLayer,e.worldPosition=this.node.worldPosition},a.specialPlantOnEaten=function(t,n,i,e){e<=0&&(this.deathAnm="",this.throwCS(),this.die(),this.node.destroy())},n}(c)).prototype,"soundRes",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Y}}),Z=n(V.prototype,"bigPrj",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=n(V.prototype,"smallPrj",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=n(V.prototype,"dirtsPar",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=V))||K));a._RF.pop()}}}));

System.register("chunks:///_virtual/Particles.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FrontYard.ts","./NodePools.ts","./Square.ts","./SoundRescourses.ts","./GroundFire.ts","./levelController.ts"],(function(e){var n,r,t,i,l,a,o,u,c,p,s,f,b,w,m,h,y,g,z;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.initializerDefineProperty,t=e.inheritsLoose,i=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,o=e.Prefab,u=e.Vec3,c=e.Label,p=e.Color,s=e.tween,f=e.Component},function(e){b=e.FrontYard},function(e){w=e.NodePools,m=e.instantiatePooly},function(e){h=e.Square},function(e){y=e.sounds},function(e){g=e.GroundFireColorEnum},function(e){z=e.LevelPlay}],execute:function(){var S,d,P,R,v,L,x,F,B,W,k,J,C,E,H,I,T,D,j,q,M,N,_,G,V,A,Y,O,Z,K,Q,U,X,$,ee,ne,re,te,ie,le,ae,oe,ue,ce,pe,se,fe,be,we,me,he,ye,ge,ze,Se,de,Pe,Re,ve,Le,xe,Fe,Be,We,ke,Je,Ce,Ee,He,Ie,Te,De,je,qe,Me,Ne,_e,Ge,Ve,Ae,Ye,Oe,Ze,Ke,Qe,Ue,Xe,$e,en,nn,rn,tn,ln,an,on,un,cn,pn,sn,fn,bn,wn,mn,hn,yn,gn,zn,Sn,dn,Pn;l._RF.push({},"231e0c3RANLja/9snTaiZpJ","Particles",void 0);var Rn=a.ccclass,vn=a.property,Ln=(S=Rn("CowboyFencePrefabs"),d=vn(o),P=vn(o),S((L=n((v=function(){r(this,"FenceHere",L,this),r(this,"FenceThere",x,this)}).prototype,"FenceHere",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(v.prototype,"FenceThere",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=v))||R),xn=e("particle",function(){function e(){}return e.cowboyFence=function(){return this.particleRes.cowboyFence},e.foodLight=function(){return this.particleRes.foodLight},e.peaBuff=function(){return this.particleRes.peaBuff},e.darkBuff=function(){return this.particleRes.darkBuff},e.prjPeaBuff=function(){return this.particleRes.prjPeaBuff},e.deadPlant=function(){return this.particleRes.deadPlant},e.strengthenPlant=function(){return this.particleRes.strengthenPlant},e.empEffect=function(){return this.particleRes.empEffect},e.plantHeat=function(){return this.particleRes.plantHeat},e.plantBurnt=function(){return this.particleRes.plantBurnt},e.zombieWaterWave=function(){return this.particleRes.zombieWaterWave},e.plantWaterWave=function(){return this.particleRes.plantWaterWave},e.mowerSpawn=function(){return this.particleRes.mowerSpawn},e.sporeShroomSpawn=function(){return this.particleRes.sporeShroomSpawn},e.plantIcePrepare=function(){return this.particleRes.plantIcePrepare},e.chillWind=function(){return this.particleRes.chillWind},e.zombieIceTrap=function(){return this.particleRes.zombieIceTrap},e.seaSplash=function(){return this.particleRes.seaSplash},e.spawnSeaSplash=function(e,n){var r,t=null==(r=b.currentLawn)||null==(r=r.node)||null==(r=r.getChildByName("Lane"+e.toString()))?void 0:r.children[0];if(t){y.playSeaSplash();var i=w.instantiatePooly(this.seaSplash());i.parent=t;var l=n.y-40,a=h.getSquareWorldPosition(0,5).x,o=h.getSquareWorldPosition(0,8,.25).x,c=n.x;c=(c=c<a?a:c)>o?o:c,i.worldPosition=new u(c,l,0)}},e.waterSplash=function(){return this.particleRes.waterSplash},e.spawnWaterSplash=function(e,n){var r=w.instantiatePooly(this.waterSplash()),t=h.getLaneComponent(e).node;y.playWaterSplash(),r.parent=t,r.scale=new u(.3,.3,.3),r.setSiblingIndex(0),r.worldPosition=new u(n.x,n.y)},e.freeLocator=function(){return this.particleRes.freeLocator},e.spudow=function(){return this.particleRes.spudowExplosion},e.spudowPrimal=function(){return this.particleRes.spudowExplosionPrimal},e.explosion=function(e){return void 0===e&&(e=!0),e?this.particleRes.cherryExplosion:this.particleRes.explosion},e.explosionRear=function(){return this.particleRes.explosionRear},e.plantDirts=function(){return this.particleRes.plantDirts},e.graveSpawn=function(){return this.particleRes.graveSpawn},e.dirtSpawn=function(){return this.particleRes.dirtSpawn},e.PFLightning=function(){return this.particleRes.PFLightning},e.arrow=function(){return this.particleRes.arrow},e.sandStorm=function(){return this.particleRes.SandStorm},e.snowStorm=function(){return this.particleRes.SnowStorm},e.zombieFart=function(){return this.particleRes.zombieFart},e.zombieChiliBeanStun=function(){return this.particleRes.zombieChiliBeanStun},e.zombieSunBean=function(){return this.particleRes.zombieSunBean},e.zombiePerfumeSlow=function(){return this.particleRes.zombiePerfumeSlow},e.zombieHypnoBubble=function(){return this.particleRes.zombieHypno},e.zombiePoisonBubble=function(){return this.particleRes.zombiePoison},e.prizeSpawn=function(){return this.particleRes.prizeSpawn},e.prizeCollectLight=function(){return this.particleRes.prizeCollectLight},e.playPointShower=function(e,n,r,t,i,l,a,o){var f=m(this.particleRes.PointShowerLabel);f.parent=z.PointLayer,f.worldPosition=n.toVec3(),f.scale=new u(t.x,t.x,1);var b=f.getComponent(c);return b.enableOutline=o,b.color=new p(a.r,a.g,a.b,i.x),b.string=e,s(f).to(Math.max(.1,l.x),{}).to(Math.max(.1,l.y),{worldPosition:n.clone().add2f(r.x,r.y).toVec3(),scale:new u(t.y,t.y,1)},{easing:"quadIn"}).start(),s(b).to(Math.max(.1,l.x),{}).to(Math.max(.1,l.y),{color:new p(a.r,a.g,a.b,i.y)}).call((function(){w.destroyPooly(f)})).start(),b},e}());xn.particleRes=void 0;e("tileLiquids",function(){function e(){}return e.cranJellyJuice=function(){return xn.particleRes.cranJellyJuice},e.butterJuice=function(){return xn.particleRes.butterJuice},e.sapflingJuice=function(){return xn.particleRes.sapflingJuice},e.softLava=function(){return xn.particleRes.softLava},e.deadlyLava=function(){return xn.particleRes.deadlyLava},e.brokenTile=function(){return xn.particleRes.crackle},e.brokenTileSparkles=function(){return xn.particleRes.crackleSparkles},e}()),e("groundFireParticles",function(){function e(){}return e.getParticleByGFEnum=function(e){var n=xn.particleRes;switch(e){case g.green:return n.greenFire;default:return n.yellowFire}},e}()),e("Particles",(F=Rn("Particles"),B=vn(Ln),W=vn(o),k=vn(o),J=vn(o),C=vn(o),E=vn(o),H=vn(o),I=vn(o),T=vn(o),D=vn(o),j=vn(o),q=vn(o),M=vn(o),N=vn(o),_=vn(o),G=vn(o),V=vn(o),A=vn(o),Y=vn(o),O=vn(o),Z=vn(o),K=vn(o),Q=vn(o),U=vn(o),X=vn(o),$=vn(o),ee=vn(o),ne=vn(o),re=vn(o),te=vn(o),ie=vn(o),le=vn(o),ae=vn(o),oe=vn(o),ue=vn(o),ce=vn(o),pe=vn(o),se=vn(o),fe=vn(o),be=vn(o),we=vn(o),me=vn(o),he=vn(o),ye=vn(o),ge=vn(o),ze=vn(o),Se=vn(o),de=vn(o),Pe=vn(o),Re=vn(o),F((xe=n((Le=function(e){function n(){for(var n,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return n=e.call.apply(e,[this].concat(l))||this,r(n,"cowboyFence",xe,i(n)),r(n,"sapflingJuice",Fe,i(n)),r(n,"butterJuice",Be,i(n)),r(n,"cranJellyJuice",We,i(n)),r(n,"softLava",ke,i(n)),r(n,"deadlyLava",Je,i(n)),r(n,"crackle",Ce,i(n)),r(n,"crackleSparkles",Ee,i(n)),r(n,"PointShowerLabel",He,i(n)),r(n,"peaBuff",Ie,i(n)),r(n,"darkBuff",Te,i(n)),r(n,"foodLight",De,i(n)),r(n,"prjPeaBuff",je,i(n)),r(n,"deadPlant",qe,i(n)),r(n,"strengthenPlant",Me,i(n)),r(n,"empEffect",Ne,i(n)),r(n,"plantHeat",_e,i(n)),r(n,"plantBurnt",Ge,i(n)),r(n,"seaSplash",Ve,i(n)),r(n,"freeLocator",Ae,i(n)),r(n,"spudowExplosion",Ye,i(n)),r(n,"spudowExplosionPrimal",Oe,i(n)),r(n,"explosion",Ze,i(n)),r(n,"explosionRear",Ke,i(n)),r(n,"cherryExplosion",Qe,i(n)),r(n,"zombieIceTrap",Ue,i(n)),r(n,"waterSplash",Xe,i(n)),r(n,"zombieWaterWave",$e,i(n)),r(n,"plantWaterWave",en,i(n)),r(n,"mowerSpawn",nn,i(n)),r(n,"sporeShroomSpawn",rn,i(n)),r(n,"plantIcePrepare",tn,i(n)),r(n,"chillWind",ln,i(n)),r(n,"plantDirts",an,i(n)),r(n,"graveSpawn",on,i(n)),r(n,"dirtSpawn",un,i(n)),r(n,"yellowFire",cn,i(n)),r(n,"greenFire",pn,i(n)),r(n,"PFLightning",sn,i(n)),r(n,"arrow",fn,i(n)),r(n,"SandStorm",bn,i(n)),r(n,"SnowStorm",wn,i(n)),r(n,"zombieFart",mn,i(n)),r(n,"zombieChiliBeanStun",hn,i(n)),r(n,"zombieSunBean",yn,i(n)),r(n,"zombiePerfumeSlow",gn,i(n)),r(n,"prizeSpawn",zn,i(n)),r(n,"prizeCollectLight",Sn,i(n)),r(n,"zombieHypno",dn,i(n)),r(n,"zombiePoison",Pn,i(n)),n}return t(n,e),n.prototype.onLoad=function(){xn.particleRes=this},n}(f)).prototype,"cowboyFence",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Ln}}),Fe=n(Le.prototype,"sapflingJuice",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=n(Le.prototype,"butterJuice",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=n(Le.prototype,"cranJellyJuice",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=n(Le.prototype,"softLava",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=n(Le.prototype,"deadlyLava",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=n(Le.prototype,"crackle",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=n(Le.prototype,"crackleSparkles",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=n(Le.prototype,"PointShowerLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=n(Le.prototype,"peaBuff",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=n(Le.prototype,"darkBuff",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=n(Le.prototype,"foodLight",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=n(Le.prototype,"prjPeaBuff",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=n(Le.prototype,"deadPlant",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=n(Le.prototype,"strengthenPlant",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=n(Le.prototype,"empEffect",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=n(Le.prototype,"plantHeat",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=n(Le.prototype,"plantBurnt",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=n(Le.prototype,"seaSplash",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=n(Le.prototype,"freeLocator",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=n(Le.prototype,"spudowExplosion",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=n(Le.prototype,"spudowExplosionPrimal",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=n(Le.prototype,"explosion",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=n(Le.prototype,"explosionRear",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=n(Le.prototype,"cherryExplosion",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=n(Le.prototype,"zombieIceTrap",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=n(Le.prototype,"waterSplash",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=n(Le.prototype,"zombieWaterWave",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),en=n(Le.prototype,"plantWaterWave",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nn=n(Le.prototype,"mowerSpawn",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rn=n(Le.prototype,"sporeShroomSpawn",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tn=n(Le.prototype,"plantIcePrepare",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ln=n(Le.prototype,"chillWind",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),an=n(Le.prototype,"plantDirts",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),on=n(Le.prototype,"graveSpawn",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),un=n(Le.prototype,"dirtSpawn",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),cn=n(Le.prototype,"yellowFire",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pn=n(Le.prototype,"greenFire",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),sn=n(Le.prototype,"PFLightning",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fn=n(Le.prototype,"arrow",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bn=n(Le.prototype,"SandStorm",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wn=n(Le.prototype,"SnowStorm",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mn=n(Le.prototype,"zombieFart",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hn=n(Le.prototype,"zombieChiliBeanStun",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yn=n(Le.prototype,"zombieSunBean",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gn=n(Le.prototype,"zombiePerfumeSlow",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zn=n(Le.prototype,"prizeSpawn",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sn=n(Le.prototype,"prizeCollectLight",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dn=n(Le.prototype,"zombieHypno",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pn=n(Le.prototype,"zombiePoison",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=Le))||ve));l._RF.pop()}}}));

System.register("chunks:///_virtual/ParticleSelfdestroy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./SoundRescourses.ts"],(function(e){var t,i,n,o,l,r,a,s,c,u,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,n=e.inheritsLoose,o=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,a=e.AudioClip,s=e.dragonBones,c=e.Component},function(e){u=e.NodePools,p=e.ArrayGet},function(e){d=e.sounds}],execute:function(){var f,h,y,b,m,v,E,g,O,D,L,A,P,B,C,S,w,N;l._RF.push({},"4c2fccq7FZO2IEkVgOAvEZ1","ParticleSelfdestroy",void 0);var I=r.ccclass,z=r.property,_=(f=I("SoundPlayEvent"),h=z(String),y=z([a]),b=z(Number),m=z(Number),f((g=t((E=function(){i(this,"eventName",g,this),i(this,"clips",O,this),i(this,"cdByClipDuration",D,this),i(this,"volume",L,this)}).prototype,"eventName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=t(E.prototype,"clips",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(E.prototype,"cdByClipDuration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),L=t(E.prototype,"volume",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),v=E))||v);e("ParticleSelfdestroy",(A=I("ParticleSelfdestroy"),P=z([String]),B=z([_]),A((w=t((S=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=e.call.apply(e,[this].concat(l))||this).willBeKilled=!1,i(t,"IdleAnmList",w,o(t)),i(t,"soundEvents",N,o(t)),t.db=void 0,t}n(t,e);var l=t.prototype;return l.specialBeforeSelfDestroy=function(){},l.selfDestroy=function(e){var t;"die"==e.name&&(this.specialBeforeSelfDestroy(),u.destroyPooly(this.node)),this.animationListener(e),null==(t=this.soundEvents)||t.forEach((function(t){e.name==t.eventName&&d.playArray(t.clips,t.volume,NaN,t.cdByClipDuration)}))},l.animationListener=function(e){},l.animationOnComplete=function(e){},l._animationOnComplete=function(e){this.playIdle(),this.willBeKilled?u.destroyPooly(this.node):this.animationOnComplete(e)},l.playIdle=function(){this.IdleAnmList.length&&this.db.playAnimation(p.getRandom(this.IdleAnmList),1)},l.specialOnLoad=function(){},l.onLoad=function(){this.db=this.getComponent(s.ArmatureDisplay),this.db.enableBatch=!0,this.db.addEventListener(s.EventObject.FRAME_EVENT,this.selfDestroy,this),this.db.addEventListener(s.EventObject.COMPLETE,this._animationOnComplete,this),this.specialOnLoad()},l.update=function(e){this.specialUpdate(e)},l.specialUpdate=function(e){},l.specialOnDisable=function(){},l.onDisable=function(){this.specialOnDisable()},l.specialOnEnable=function(){},l.onEnable=function(){this.willBeKilled=!1,this.specialOnEnable(),this.playIdle()},t}(c)).prototype,"IdleAnmList",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(S.prototype,"soundEvents",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=S))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/PauseScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./UI.ts","./MultiLanguage.ts","./Mouse.ts","./SettingWindow.ts","./SoundRescourses.ts"],(function(i){var e,t,s,r,n,o,l,u,a,c,h,p,m,d,f,g,S,b,y,M,T,w,x,E;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,s=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){n=i.cclegacy,o=i._decorator,l=i.Label,u=i.Node,a=i.AudioClip,c=i.Slider,h=i.ProgressBar,p=i.UITransform,m=i.dragonBones,d=i.instantiate,f=i.Vec3,g=i.Button,S=i.Component},function(i){b=i.MusicController,y=i.SoundFXController},function(i){M=i.UIInGame},function(i){T=i.MultiLanguage},function(i){w=i.Mouse},function(i){x=i.Setting},function(i){E=i.sounds}],execute:function(){var k,v,B,P,z,U,V,C,F,R,O,_,X,L,N,I,H,W,A,D,G,j,q,J,K,Q,Y,Z,$,ii,ei,ti,si,ri,ni,oi,li,ui,ai,ci;n._RF.push({},"9d461LCOI9JqbcKNG6Qt3N2","PauseScreen",void 0);var hi=o.ccclass,pi=o.property,mi=(k=hi("pauseTooltips"),v=pi(l),B=pi(l),P=pi(l),z=pi(l),U=pi(l),V=pi(l),k((R=e((F=function(){function i(){s(this,"Title",R,this),s(this,"ExitToMap",O,this),s(this,"Restart",_,this),s(this,"Resume",X,this),s(this,"Music",L,this),s(this,"SoundFX",N,this)}return i.prototype.setString=function(){this.Title&&(this.Title.string=T.getStringByPropsWithoutTricks("GamePaused","Title")),this.ExitToMap&&(this.ExitToMap.string=T.getStringByPropsWithoutTricks("GamePaused","ExitToMap")),this.Restart&&(this.Restart.string=T.getStringByPropsWithoutTricks("GamePaused","Restart")),this.Resume&&(this.Resume.string=T.getStringByPropsWithoutTricks("GamePaused","Resume")),this.Music&&(this.Music.string=T.getStringByPropsWithoutTricks("SettingLyrics","Music")),this.SoundFX&&(this.SoundFX.string=T.getStringByPropsWithoutTricks("SettingLyrics","SoundFX"))},i}()).prototype,"Title",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(F.prototype,"ExitToMap",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(F.prototype,"Restart",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(F.prototype,"Resume",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(F.prototype,"Music",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(F.prototype,"SoundFX",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=F))||C);i("PauseScreen",(I=hi("PauseScreen"),H=pi(mi),W=pi(l),A=pi(u),D=pi(u),G=pi(a),j=pi(c),q=pi(h),J=pi(p),K=pi(c),Q=pi(h),Y=pi(m.ArmatureDisplay),I((ii=e(($=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=i.call.apply(i,[this].concat(n))||this,s(e,"tooltips",ii,r(e)),s(e,"mission0",ei,r(e)),e.missions=[],s(e,"mainbody",ti,r(e)),s(e,"mouseblocker",si,r(e)),s(e,"MusicSettingSound",ri,r(e)),s(e,"musicSlider",ni,r(e)),s(e,"musicSliderBar",oi,r(e)),s(e,"MainUITransform",li,r(e)),s(e,"sfxSlider",ui,r(e)),s(e,"sfxSliderBar",ai,r(e)),s(e,"sunflower",ci,r(e)),e.sunflowerTime=0,e}t(e,i);var n=e.prototype;return n.blockMouse=function(){},n.exit=function(){M.uiingame.exitNextTick=!0},n.restart=function(){M.uiingame.restartNextTick=!0},n.setTips=function(i){var e=this;if(this.missions.forEach((function(i,e){var t;e>0&&(null==(t=i.node)||null==(t=t.parent)||t.destroy())})),this.missions=[this.mission0],i.length){var t=[this.mission0];i.forEach((function(i,s){var r=e.mission0;if(s>0){var n=d(e.mission0.node.parent);n.parent=e.mission0.node.parent.parent,r=n.getChildByName(e.mission0.node.name).getComponent(l),t.push(r)}r.string=i})),this.missions=t}else this.mission0.node.parent.parent.parent.active=!1},n.resume=function(){var i;null==M||null==(i=M.uiingame)||i.pauseMenu()},n.start=function(){var i=this;this.tooltips.setString(),this.mainbody.position=new f(0,1e3,0),this.mouseblocker.on(u.EventType.MOUSE_DOWN,this.blockMouse,this),this.mouseblocker.on(u.EventType.MOUSE_ENTER,this.blockMouse,this),this.mouseblocker.on(u.EventType.MOUSE_LEAVE,this.blockMouse,this),this.mouseblocker.on(u.EventType.MOUSE_MOVE,this.blockMouse,this),this.mouseblocker.on(u.EventType.MOUSE_UP,this.blockMouse,this),this.mouseblocker.on(u.EventType.TOUCH_CANCEL,this.blockMouse,this),this.mouseblocker.on(u.EventType.TOUCH_END,this.blockMouse,this),this.mouseblocker.on(u.EventType.TOUCH_MOVE,this.blockMouse,this),this.mouseblocker.on(u.EventType.TOUCH_START,this.blockMouse,this),this.mouseblocker.addComponent(g),this.musicSlider.progress=b.MusicVolume,this.musicSliderBar.progress=b.MusicVolume,this.sfxSlider.progress=y.SoundFXVolume,this.sfxSliderBar.progress=y.SoundFXVolume,this.musicSliderBar.node.on(u.EventType.TOUCH_END,(function(){E.play(i.MusicSettingSound,1,0,0,!0)}),this)},n.musicSlide=function(){var i=w.position.x-this.musicSliderBar.barSprite.node.worldPosition.x,e=this.musicSliderBar.totalLength*this.musicSliderBar.barSprite.node.worldScale.x;b.MusicVolume=Math.min(1,Math.max(0,i/e)),this.musicSlider.progress=b.MusicVolume,this.musicSliderBar.progress=b.MusicVolume,x.saveSettings()},n.sfxSlide=function(){var i=w.position.x-this.sfxSliderBar.barSprite.node.worldPosition.x,e=this.sfxSliderBar.totalLength*this.sfxSliderBar.barSprite.node.worldScale.x;y.SoundFXVolume=Math.min(1,Math.max(0,i/e)),this.sfxSlider.progress=y.SoundFXVolume,this.sfxSliderBar.progress=y.SoundFXVolume,x.saveSettings()},n.correctHeight=function(){var i=this.MainUITransform.height,e=.6*Math.min(1,660/i);this.MainUITransform.node.scale=new f(e,e,e)},n.update=function(i){this.musicSliderBar.progress=b.MusicVolume,this.sfxSliderBar.progress=y.SoundFXVolume,this.musicSlider.progress=b.MusicVolume,this.sfxSlider.progress=y.SoundFXVolume,this.musicSlider.handle.node.angle=360*-this.musicSlider.progress,this.sfxSlider.handle.node.angle=360*-this.sfxSlider.progress,this.sunflowerTime+=.0166667;var e=this.sunflower.armature().animation;this.sunflowerTime>160/30&&(this.sunflowerTime=0),e.gotoAndPlayByTime("idle",this.sunflowerTime),this.correctHeight()},n.onEnable=function(){this.correctHeight()},e}(S)).prototype,"tooltips",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new mi}}),ei=e($.prototype,"mission0",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ti=e($.prototype,"mainbody",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),si=e($.prototype,"mouseblocker",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ri=e($.prototype,"MusicSettingSound",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ni=e($.prototype,"musicSlider",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oi=e($.prototype,"musicSliderBar",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),li=e($.prototype,"MainUITransform",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ui=e($.prototype,"sfxSlider",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ai=e($.prototype,"sfxSliderBar",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ci=e($.prototype,"sunflower",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=$))||Z));n._RF.pop()}}}));

System.register("chunks:///_virtual/Peanut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./CharacterManager.ts","./Square.ts"],(function(t){var o,n,a,e,i,s,r,h,l,u,d,c,m,f,p,S,g,y,b,P;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,e=t.assertThisInitialized,i=t.createClass},function(t){s=t.cclegacy,r=t._decorator,h=t.AudioClip,l=t.Node,u=t.Prefab,d=t.tween,c=t.Vec2},function(t){m=t.Plant,f=t.PlantProps},function(t){p=t.sounds},function(t){S=t.NodePools},function(t){g=t.peaShooter},function(t){y=t.CharacterType},function(t){b=t.Rectangle},function(t){P=t.Square}],execute:function(){var C,v,A,_,w,R,D,I,L,j,M,O,k,x,F,z,E,H;s._RF.push({},"3c3569kz0JJV7/l/0gJloWU","Peanut",void 0);var N=r.ccclass,q=r.property,T=function(t){function o(){for(var o,n=arguments.length,a=new Array(n),e=0;e<n;e++)a[e]=arguments[e];return(o=t.call.apply(t,[this].concat(a))||this).ShootInterval=1.35,o.ShootIntervalAdditional=.15,o.ShootIntervalSemi=2.7,o.ShootIntervalSemiAdditional=.15,o.ArmorToughness=4e3,o.PlantfoodPeaCount=60,o}return n(o,t),o}(f),B=(C=N("PeanutSound"),v=q(h),A=q(h),_=q([h]),C((D=o((R=function(){function t(){a(this,"foodEnd",D,this),a(this,"food",I,this),a(this,"shoot",L,this)}var o=t.prototype;return o.playFoodEnd=function(){p.play(this.foodEnd,1,.1)},o.playFood=function(){p.play(this.food,1,.1)},o.playShoot=function(){p.playArray(this.shoot,1,NaN,.5)},t}()).prototype,"foodEnd",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=o(R.prototype,"food",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=o(R.prototype,"shoot",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=R))||w);t("PeanutPlant",(j=N("PeanutPlant"),M=q(B),O=q(l),k=q(u),j((z=o((F=function(t){function o(){for(var o,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return o=t.call.apply(t,[this].concat(i))||this,a(o,"soundRes",z,e(o)),o._objdataOwn=new T,o._foodLeftPeaCount=0,o.detector=null,a(o,"peaSpawnPoint",E,e(o)),o.armorSlot=void 0,a(o,"prj",H,e(o)),o.shooting=!1,o.shootAnms=[],o.shootAnmIndex=0,o.shootCD=0,o._hurtStage=0,o._armorStage=3,o.armorHealth=0,o}n(o,t);var s=o.prototype;return s.foodShooting=function(){var t=this;this._foodLeftPeaCount=this._objdataOwn.PlantfoodPeaCount;d(this).to(2,{foodLeftPeaCount:0}).call((function(){t.foodEnd()})).start()},s.setDetecter=function(t,o){this.detector=b.createRectangleNodeSide(o.node,P.SquareDisW*(9-o.cIndex),P.SquareDisH)},s.detectEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.detector.judgeCrossRec(t[o].bodyRecForShooter))return!0;for(var n=this.inLane.tombPool(),a=0;a<n.length;a++)if(this.detector.judgeCrossRec(n[a].bodyRec))return!0;return!1},s.specialPlantUpdate=function(t,o,n){this.shootCD>0&&(this.shootCD-=t),this.shootCD<=0&&n>0&&!this.dead&&!this.fooding&&(this.shootCD=0,this.detectEnemy()&&this.shootAnimation())},s.specialPlantFood=function(t){this.hurtStage=0,this.armorStage=0,this.armorHealth=this._objdataOwn.ArmorToughness,this.anmControl.playAnimation("FoodStart",1/0),this.shootCD=1/0},s.animationListener=function(t){"foodShoot"==t.name?(this.foodShooting(),this.anmControl.playAnimation("FoodLoop",1/0),this.soundRes.playFood()):"Shoot"==t.name&&(this._shoot(),this.soundRes.playShoot())},s.specialPlantFoodEnd=function(){this.anmControl.playAnimation("FoodEnd",1),this.soundRes.playFoodEnd(),this.shootCD=0},s.specialPlantOnLoad=function(){this.armorSlot=this.anmControl.body.armature().getSlot("ARMOR")},s._shoot=function(t,o,n){void 0===t&&(t=!1),void 0===o&&(o=!1),void 0===n&&(n=this.prj);var a=S.instantiatePooly(n);if(a){var e=0;t&&(e=Math.pow(-1,Math.round(Math.random()))*Math.round(3*Math.random())*5);var i=0;o&&(i=5*Math.random());var s=g.shootOnePea(a,new c(this.peaSpawnPoint.worldPosition.x,this.worldPositionY),Math.max(1,this.peaSpawnPoint.worldPosition.y-this.worldPositionY+e),this.inLane.prjLayer,new c(15+i,0),y.zombie);return this.inLnC.havePeaBuff&&s.addPeaBuff(),this._dmgScale&&s.setDamage(s.damage_*this._dmgScale),s}},s.specialPlantOnEnable=function(){this._hurtStage=1,this.hurtStage=0,this.armorHealth=0,this.armorStage=3,this.shootCD=0},s.animationOnComplete=function(){this.shooting=!1},s.shootAnimation=function(){var t=this.shootAnmIndex++%this.shootAnms.length,o=this.hurtStage<2?this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional:this._objdataOwn.ShootIntervalSemi+Math.random()*this._objdataOwn.ShootIntervalSemiAdditional;o*=this._cdScale,this.shootCD=o,this.anmControl.playAnimation(this.shootAnms[t],1,.1*this._cdScale,Math.max(1,.75/o)),this.shooting=!0},s.replantable=function(){return this.hurtStage>0},s.replant=function(){this.health=this.toughness,this.hurtStage=0,this.anmControl.playRandom()},s.specialPlantOnSquareChange=function(t,o){this.setDetecter(t,o)},s.dealNormalDamage=function(t,o){if(!this.invincible){var n=this.health+0;if(this.armorHealth>0){var a=this.armorHealth+0;this.armorHealth-=t,this.armorHealth!=this._objdataOwn.ArmorToughness&&(this.foodable=!0);for(var e=0;e<=3;e++)a>=this.toughness/3*e&&this.armorHealth<=this.toughness/3*e&&(this.armorStage=3-e)}else this.health-=t,t>0&&(this.hurting=this.defaultHurtLightStrength(0==o),this.onDamaged(t,n,this.health+0)),this.health<=0&&this.die();return this.health}},s.onDamaged=function(t,o,n){for(var a=this.hurtStage,e=1;e<=4;e++)if(n<=this.toughness/4*e){this.hurtStage=4-e;break}a!=this.hurtStage&&this.waterable()&&this.anmControl.playRandom()},s.waterable=function(){return 0==this.hurtStage&&!this.shooting},i(o,[{key:"foodLeftPeaCount",get:function(){return this._foodLeftPeaCount},set:function(t){for(var o=Math.floor(this._foodLeftPeaCount)-Math.floor(t),n=0;n<o;n++)this._shoot(!0,!0);this._foodLeftPeaCount=t}},{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){if(t!=this._hurtStage){switch(t){case 1:this.shootAnms=["Shoot10","Shoot11"],this.anmControl.IdleAnim="Idle1",this.anmControl.RandomAnim=["Rand10","Rand11"],this.deathAnm="Death01";break;case 2:this.shootAnms=["Shoot20"],this.anmControl.IdleAnim="Idle2",this.anmControl.RandomAnim=["Rand20"],this.deathAnm="Death23";break;case 3:this.shootAnms=["Shoot30"],this.anmControl.IdleAnim="Idle3",this.anmControl.RandomAnim=["Rand30"],this.deathAnm="Death23";break;default:this.shootAnms=["Shoot00","Shoot01"],this.anmControl.IdleAnim="Idle0",this.anmControl.RandomAnim=["Rand01","Rand02","Rand03"],this.deathAnm="Death01",t=0}var o;if(this._hurtStage=t,!this.dead)this.replantable()&&(null==(o=this.plantInLnC)||o.readIndex())}}},{key:"armorStage",get:function(){return this._armorStage},set:function(t){var o,n,a;switch(t){case 0:null==(o=this.armorSlot)||o._setDisplayIndex(0);break;case 1:null==(n=this.armorSlot)||n._setDisplayIndex(1);break;case 2:null==(a=this.armorSlot)||a._setDisplayIndex(2);break;default:var e;null==(e=this.armorSlot)||e._setDisplayIndex(-1),t=3}this._armorStage=t}}]),o}(m)).prototype,"soundRes",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new B}}),E=o(F.prototype,"peaSpawnPoint",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=o(F.prototype,"prj",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=F))||x));s._RF.pop()}}}));

System.register("chunks:///_virtual/PeaPod.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./UI.ts","./LevelTaskCount.ts","./CharacterManager.ts","./Plants.ts"],(function(t){var o,n,e,a,i,s,h,l,u,r,d,c,p;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.createClass},function(t){s=t.cclegacy,h=t._decorator,l=t.Prefab},function(t){u=t.PeashooterPlant},function(t){r=t.UIInGame},function(t){d=t.LevelTaskCountModeEnum},function(t){c=t.PlantPool},function(t){p=t.plants}],execute:function(){var m,f,S,C,P;s._RF.push({},"14255L3cwtLGojVLkpzxzcd","PeaPod",void 0);var y=h.ccclass,g=h.property;t("PeaPodPlant",(m=y("PeaPodPlant"),f=g(l),m((P=o((C=function(t){function o(){for(var o,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return o=t.call.apply(t,[this].concat(i))||this,e(o,"peaMega",P,a(o)),o.headSlots=[],o.headBones=[],o._haveHeadCount=1,o}n(o,t);var s=o.prototype;return s.animationListener=function(t){"Shoot0"==t.name?this.headCount>0&&(this._shoot(),this.soundRes.playShootSound()):"Shoot1"==t.name?this.headCount>1&&(this._shoot(),this.soundRes.playShootSound()):"Shoot2"==t.name?this.headCount>2&&(this._shoot(),this.soundRes.playShootSound()):"Shoot3"==t.name?this.headCount>3&&(this._shoot(),this.soundRes.playShootSound()):"Shoot4"==t.name?this.headCount>4&&(this._shoot(),this.soundRes.playShootSound()):"ShootMega"==t.name?(this._shoot(!1,!1,this.peaMega),this.soundRes.playShootMegaPeapod()):"toFoodShoot"==t.name?(this.anmControl.playAnimation("FoodShoot",5),this.anmControl.IdleAnim="FoodEnd",this.anmControl.RandomAnim=[]):"foodEnd"==t.name?(this.foodEnd(),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=[]):"foodEndSound"==t.name&&this.soundRes.playFoodEnd()},s.specialPlantOnEnable=function(){var t=this;this.initialize();var o=this.anmControl.body.armature();this.headSlots=[],[0,1,2,3,4].forEach((function(n){t.headSlots.push(o.getSlot("HEAD"+n.toString())),t.headBones.push(o.getBone("HEAD"+n.toString()))})),this.headCount=1},s.specialPlantFood=function(t){this.anmControl.playAnimation("FoodStart",2),this.soundRes.playFood()},s.specialPlantFoodEnd=function(){this.busy=0},s.replantableListensFirstAid=function(){return!1},s.plantCount=function(){return this.headCount},s.replantable=function(){var t,o=null==r||null==(t=r.uiingame)||null==(t=t.getLevelTaskStartingObject(d.PlantCountLimit))?void 0:t.MaximumPlants;return this.headCount<5&&(isNaN(o)||c.getPlantAmount()<o)},s.replant=function(){this.headCount++},s.specialPeashooterUpdate=function(t){},i(o,[{key:"headCount",get:function(){return this._haveHeadCount},set:function(t){var o;t>5&&(t=5),t<1&&(t=1);var n=t-this._haveHeadCount;this.headSlots.forEach((function(o,n){var e=-1;n<t&&(e=0),o.displayIndex=e})),this._haveHeadCount=t,this.health=this.toughness,p.registerPlant(this.ID,n),null==(o=this.plantInLnC)||o.readIndex()}}]),o}(u)).prototype,"peaMega",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=C))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/Peashooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Character.ts","./ProjectileManager.ts","./CharacterManager.ts","./NodePools.ts","./commonShot.ts","./Square.ts","./Plants.ts","./SoundRescourses.ts"],(function(t){var o,n,e,i,a,r,s,u,h,l,d,c,f,p,S,m,g,y,P,b,v,w;return{setters:[function(t){o=t.inheritsLoose,n=t.applyDecoratedDescriptor,e=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,u=t.AudioClip,h=t.Prefab,l=t.Node,d=t.Vec2,c=t.tween},function(t){f=t.PlantProps,p=t.Plant},function(t){S=t.CharacterType},function(t){m=t.projectile},function(t){g=t.Rectangle},function(t){y=t.NodePools},function(t){P=t.commonShot},function(t){b=t.Square},function(t){v=t.PlantEnum},function(t){w=t.sounds}],execute:function(){var C,M,_,z,A,L,R,j,I,E,F,D,O,x,G,N,q,B,T,U,k,V,H,Y,J,Q;r._RF.push({},"f5589tQxwBJ46m8vhGguza6","Peashooter",void 0);var W=s.ccclass,Z=s.property,K=t("peaShooter",function(){function t(){}return t.shootOnePea=function(t,o,n,e,i,a){t.parent=e;var r=t.getComponent(P);return r.height=n,r.worldPosition=new d(o.x,o.y),r.linearVelocity=i,r.bodyLinearVelocity=0,r.gravity=0,m.registerProjectile(t,a),r.judgeZombieBodyRecForShooter=!0,r},t}()),X=t("PeashooterProps",function(t){function n(){for(var o,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(o=t.call.apply(t,[this].concat(e))||this).ShootInterval=1.35,o.ShootIntervalAdditional=.15,o.PlantfoodPeaCount=60,o.ChanceToPlantfood=0,o}return o(n,t),n}(f)),$=t("peashooterSound",(C=W("peashooterSound"),M=Z(u),_=Z(u),z=Z([u]),A=Z(u),L=Z(u),R=Z(u),j=Z([u]),C((F=n((E=function(){function t(){e(this,"foodSound",F,this),e(this,"foodEndSound",D,this),e(this,"shootSound",O,this),e(this,"shoot5Sound",x,this),e(this,"shootMegaSound",G,this),this.volumeScale=1,e(this,"upgradeSound",N,this),e(this,"shootMegaSounds",q,this)}var o=t.prototype;return o.playUpgrade=function(){w.play(this.upgradeSound,this.volumeScale,.1)},o.playFood=function(){w.play(this.foodSound,this.volumeScale,.1)},o.playFoodEnd=function(){w.play(this.foodEndSound,this.volumeScale,.1)},o.playShootSound=function(t){void 0===t&&(t=1),w.playArray(this.shootSound,t*this.volumeScale,.1)},o.playShoot5Sound=function(t){void 0===t&&(t=1),w.play(this.shoot5Sound,this.volumeScale*t)},o.playShootMega=function(){w.play(this.shootMegaSound,this.volumeScale,.1)},o.playShootMegaPeapod=function(){w.playArray(this.shootMegaSounds,this.volumeScale,.1)},t}()).prototype,"foodSound",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(E.prototype,"foodEndSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(E.prototype,"shootSound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(E.prototype,"shoot5Sound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(E.prototype,"shootMegaSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(E.prototype,"upgradeSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=n(E.prototype,"shootMegaSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=E))||I));t("PeashooterPlant",(B=W("PeashooterPlant"),T=Z(h),U=Z($),k=Z(l),B((Y=n((H=function(t){function n(){for(var o,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=t.call.apply(t,[this].concat(a))||this).minShootInterval=1.1,o._foodLeftPeaCount=0,o._objdataOwn=new X,o.upgraded=!1,e(o,"pea",Y,i(o)),e(o,"soundRes",J,i(o)),o.shootAnimationName="Shoot",o.foodAnimationName="Food",o.detector=new g,o.projectileSpeed=1,e(o,"peaSpawnpoint",Q,i(o)),o.busy=0,o.shooting=!1,o}o(n,t);var r=n.prototype;return r.onFoodLeftPeaCountDec=function(){this._shoot(!0,!0)},r.isGatling=function(){return this.ID==v.MegaGatlingPea||this.ID==v.GatlingPea},r._shoot=function(t,o,n,e,i,a){void 0===t&&(t=!1),void 0===o&&(o=!1),void 0===n&&(n=this.defaultPea),void 0===e&&(e=15),void 0===i&&(i=new d(1,0)),void 0===a&&(a=this.peaSpawnpoint),a||(a=this.peaSpawnpoint);var r=y.instantiatePooly(n);if(r){var s=0;t&&(s=Math.pow(-1,Math.round(Math.random()))*Math.round(3*Math.random())*5);var u=0;o&&(u=Math.round(5*Math.random()));var h=K.shootOnePea(r,new d(a.worldPosition.x,this.worldPositionY),Math.max(1,a.worldPosition.y-this.worldPositionY+s),this.inLane.prjLayer,i.normalize().multiplyScalar((e+u)*(o?1:this.projectileSpeed)),S.zombie);return this.shotInitialize(h),this.inLnC.havePeaBuff&&h.addPeaBuff(),this._dmgScale&&h.setDamage(h.damage_*this._dmgScale),h}},r.shotInitialize=function(t){},r.upgrade=function(){this.upgraded||(this.upgraded=!0,this.anmControl.body.armature().getSlot("helmet").displayIndex=1,this.anmControl.body.armature().getSlot("gunTube").displayIndex=1)},r.specialPlantFoodEnd=function(){this.anmControl.playRandom(),this.busy=0,this.soundRes.playFoodEnd()},r.foodShooting=function(){var t=this;this._foodLeftPeaCount=this._objdataOwn.PlantfoodPeaCount;c(this).to(2,{foodLeftPeaCount:0}).call((function(){t.foodEnd()})).start()},r.specialPlantFood=function(t){this.isGatling()&&this.upgrade(),this.anmControl.playAnimation(this.foodAnimationName,1/0),this.soundRes.playFood(),this.busy=1/0,this.foodShooting()},r.waterable=function(){return!this.shooting},r._shootPeaAnimation=function(){var t=Math.random();this.isGatling()&&t<=this._objdataOwn.ChanceToPlantfood?this.food():(this.anmControl.playAnimation(this.shootAnimationName,1,.1*this._cdScale,Math.max(this.minShootInterval/this.busy,1)),this.onShootAnmPlayed())},r.onShootAnmPlayed=function(){},r.animationListenerAdd=function(t){},r.animationListener=function(t){"Shoot"==t.name||this.upgraded&&"Shoot5"==t.name?this._shoot():"ShootSound"==t.name&&(this.upgraded?this.soundRes.playShoot5Sound(this.isGatling()?.3:1):this.soundRes.playShootSound(this.isGatling()?.3:1)),this.animationListenerAdd(t)},r.setDetecter=function(t,o){this.detector=g.createRectangleNodeSide(o.node,b.SquareDisW*(9-o.cIndex),b.SquareDisH)},r.initialize=function(){this.upgraded=!1,this.busy=0,this.projectileSpeed=this.isGatling()?1.7:1},r.animationCompleteAdd=function(){},r.animationOnComplete=function(){this.shooting=!1},r.specialPlantOnSquareChange=function(t,o){this.setDetecter(t,o)},r.specialPlantOnEnable=function(){this.initialize(),this.specialPeashooterOnEnable()},r.startShooting=function(){this.shooting=!0;var t=this._objdataOwn.ShootInterval+this._objdataOwn.ShootIntervalAdditional*Math.random();this._cdScale&&(t*=this._cdScale),this.busy=t,this._shootPeaAnimation()},r.detectEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.detector.judgeCrossRec(t[o].bodyRecForShooter))return!0;for(var n=this.inLane.tombPool(),e=0;e<n.length;e++)if(this.detector.judgeCrossRec(n[e].bodyRec))return!0;return!1},r.specialPeashooterOnEnable=function(){},r.specialPeashooterUpdate=function(t){},r.specialPlantUpdate=function(t,o,n){this.busy>0&&(this.busy-=t),this.busy<=0&&!this.dead&&!this.fooding&&(this.busy=0,n>0&&this.detectEnemy()&&this.startShooting()),this.specialPeashooterUpdate(t)},a(n,[{key:"foodLeftPeaCount",get:function(){return this._foodLeftPeaCount},set:function(t){for(var o=Math.floor(this._foodLeftPeaCount)-Math.floor(t),n=0;n<o;n++)this.onFoodLeftPeaCountDec();this._foodLeftPeaCount=t}},{key:"defaultPea",get:function(){return this.pea}}]),n}(p)).prototype,"pea",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(H.prototype,"soundRes",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new $}}),Q=n(H.prototype,"peaSpawnpoint",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=H))||V));r._RF.pop()}}}));

System.register("chunks:///_virtual/PeaVine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts"],(function(e){var t,n,a,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e._decorator},function(e){i=e.PeashooterPlant}],execute:function(){var r;n._RF.push({},"791bdit6+hBd5l2f2ZtvXkZ","PeaVine",void 0);var o=a.ccclass;a.property,e("PeaVinePlant",o("PeaVinePlant")(r=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var a=n.prototype;return a.specialPlantOnSquareChange=function(e,t){this.setDetecter(e,t),e.addBuff("peaBuff",!1),t.addBuff("peaBuff")},a.specialPlantDie=function(e){this.inLnC.addBuff("peaBuff",!1)},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/PepperPult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts","./CabbagePult.ts","./CharacterManager.ts","./NodePools.ts","./Character.ts","./Square.ts"],(function(o){var e,n,t,a,i,r,l,c,s,u,b,p,d,f,P,y,g,h,w,m;return{setters:[function(o){e=o.applyDecoratedDescriptor,n=o.inheritsLoose,t=o.initializerDefineProperty,a=o.assertThisInitialized,i=o.createClass},function(o){r=o.cclegacy,l=o._decorator,c=o.AudioClip,s=o.Vec2},function(o){u=o.sounds},function(o){b=o.cabbagePultSound,p=o.cabbagePult,d=o.CabbagePultPlant,f=o.CabbagePultProps},function(o){P=o.ZombiePool,y=o.TombPool},function(o){g=o.ArrayGet,h=o.instantiatePooly},function(o){w=o.CharacterType},function(o){m=o.Square}],execute:function(){var L,S,O,v,R,z,A,C,x,I,j,k,M,Y;r._RF.push({},"4329cvIFyBDFp0Zti4IHRcn","PepperPult",void 0);var _=l.ccclass,F=l.property,D=function(o){function e(){return o.apply(this,arguments)||this}return n(e,o),e}(f),H=(L=_("PepperPultSound"),S=F([c]),O=F([c]),v=F([c]),L((A=e((z=function(o){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=o.call.apply(o,[this].concat(i))||this,t(e,"hit",A,a(e)),t(e,"ignite",C,a(e)),t(e,"reload",x,a(e)),e}n(e,o);var i=e.prototype;return i.playHit=function(){u.playArray(this.hit,.5,.1)},i.playIgnite=function(){u.playArray(this.ignite,1,.1)},i.playReload=function(){u.playArray(this.reload,.5,.1)},e}(b)).prototype,"hit",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(z.prototype,"ignite",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=e(z.prototype,"reload",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=z))||R);o("PepperPultPlant",(I=_("PepperPultPlant"),j=F(H),I((Y=e((M=function(o){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=o.call.apply(o,[this].concat(i))||this,t(e,"soundRes",Y,a(e)),e._objdataOwn=new D,e}n(e,o);var r=e.prototype;return r.onObjdataSet=function(o,e){},r.foodLobOnArea=function(o,e){var n=this,t=0;if(g.randomize(P.pool()).forEach((function(a){t>=3||a.cIndex>=o&&a.cIndex<=e&&(p.lobOneCabbageOnZombie(h(n.cabbageMega),new s(n.cabbageSpawnPoint.worldPosition.x,n.worldPositionY),n.cabbageSpawnPoint.worldPosition.y-n.worldPositionY,n.inLane.prjLayer,a,3,w.zombie,!1,45),t++)})),t<3&&g.randomize(y.pool()).forEach((function(a){t>=3||a.cIndex>=o&&a.cIndex<=e&&(p.lobOneCabbageOnNode(h(n.cabbageMega),new s(n.cabbageSpawnPoint.worldPosition.x,n.worldPositionY),n.cabbageSpawnPoint.worldPosition.y-n.worldPositionY,n.inLane.prjLayer,a.node,3,w.zombie,!1,45),t++)})),t<3){for(var a=[],i=0;i<5;i++)for(var r=Math.max(o,0);r<=Math.min(9,e);r++)a.push(m.getLnC(i,r));g.randomize(a).forEach((function(o){t>=3||(p.lobOneCabbageOnNode(h(n.cabbageMega),new s(n.cabbageSpawnPoint.worldPosition.x,n.worldPositionY),n.cabbageSpawnPoint.worldPosition.y-n.worldPositionY,n.inLane.prjLayer,o.node,3,w.zombie,!1,45),t++)}))}},r.specialAnimationListener=function(o){switch(o.name){case"reload":this.soundRes.playReload();break;case"hit":this.soundRes.playHit();break;case"ignite":this.soundRes.playIgnite();break;case"foodLobL":this.foodLobOnArea(-1,3);break;case"foodLobR":this.foodLobOnArea(5,9);break;case"foodLobM":this.foodLobOnArea(2,6);break;case"foodSound":this.soundRes.playFoodSound()}},i(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(d)).prototype,"soundRes",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new H}}),k=M))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/PhatBeet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./NodePools.ts","./Square.ts","./ParticleSelfdestroy.ts","./CharacterManager.ts","./Zombie.ts","./levelController.ts"],(function(t){var e,a,n,o,i,r,c,l,s,h,u,d,p,f,m,P,b,y,L,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.createClass},function(t){r=t.cclegacy,c=t._decorator,l=t.AudioClip,s=t.Prefab,h=t.Vec2},function(t){u=t.Plant,d=t.PlantProps},function(t){p=t.sounds},function(t){f=t.instantiatePooly},function(t){m=t.Square},function(t){P=t.ParticleSelfdestroy},function(t){b=t.Rectangle},function(t){y=t.ZombieDamageDetails,L=t.zombieDamageType},function(t){w=t.LevelPlay}],execute:function(){var g,v,C,k,D,R,z,O,H,S,j,A,E,F,U,_,x,q,W,B;r._RF.push({},"675af47qJxI3KeHPsgcWnpp","PhatBeet",void 0);var I=c.ccclass,N=c.property,T=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).Damage=15,e.DamageHeavy=45,e.TimesHeavy=4,e.TimesHeavyAdditional=2,e.AttackInterval=1,e.PlantfoodDamageNear=800,e.PlantfoodDamageFar=200,e}return a(e,t),e}(d),X=(g=I("PhatBeetSound"),v=N(l),C=N(l),k=N(l),D=N([l]),g((O=e((z=function(){function t(){n(this,"attack",O,this),n(this,"attackPF",H,this),n(this,"impactPF",S,this),n(this,"hit",j,this)}var e=t.prototype;return e.playAttack=function(){p.play(this.attack,1,.1)},e.playAttackPF=function(){p.play(this.attackPF,1,.1)},e.playImpactPF=function(){p.play(this.impactPF,1,.1)},e.playHit=function(){p.playArray(this.hit,1,.1)},t}()).prototype,"attack",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(z.prototype,"attackPF",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(z.prototype,"impactPF",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(z.prototype,"hit",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=z))||R);t("PhatBeetPlant",(A=I("PhatBeetPlant"),E=N(X),F=N(s),U=N(s),A((q=e((x=function(t){function e(){for(var e,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,n(e,"soundRes",q,o(e)),e._objdataOwn=new T,n(e,"wavePar",W,o(e)),n(e,"hitPar",B,o(e)),e.detector=new b,e.attacking=!1,e.attactCD=0,e.heavyLeft=2,e}a(e,t);var r=e.prototype;return r.onObjdataSet=function(t,e){},r.playWave=function(t){var e="Play";switch(t){case 1:e="Play_Heavy";break;case 2:e="Play_PF"}var a=f(this.wavePar);a.parent=m.getLaneComponent(4).tombLayer,a.worldPosition=this.inLnC.node.worldPosition,a.getComponent(P).db.playAnimation(e,1/0)},r.playHitOnCharacter=function(t){var e=f(this.hitPar);e.parent=t.inLane.prjLayer,e.worldPosition=t.worldPosition.toVec3()},r.specialPlantOnSquareChange=function(t,e){this.detector=b.createRectangleNodeCenter(e.node,3*m.SquareDisW,3*m.SquareDisH)},r.attack=function(t){var e=this,a=!1,n=[];this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(t){-1==n.indexOf(t)&&e.detector.judgeCrossRec(t.bodyRecReal)&&n.push(t)}));var o=new y((t?this.objdataOwn.DamageHeavy:this.objdataOwn.Damage)*this._dmgScale,!0,!0,!0,null,L.physicle);n.forEach((function(t){t.dealDamage(o.replaceDirection(new h(t.worldPositionX-e.worldPositionX,t.zombieHeight+t.worldPositionY-e.worldPositionY).normalize().multiplyScalar(20))),e.playHitOnCharacter(t),a=!0}));var i=[];this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(t){-1==i.indexOf(t)&&e.detector.judgeCrossRec(t.bodyRec)&&i.push(t)})),i.forEach((function(t){t.dealDamage(o.damage),e.playHitOnCharacter(t),a=!0})),a&&this.soundRes.playHit()},r.foodAttack=function(){var t=this,e=!1,a=b.createRectangleNodeCenter(this.inLnC.node,3*m.SquareDisH,3*m.SquareDisH),n=[];this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(t){-1==n.indexOf(t)&&a.judgeCrossRec(t.bodyRecReal)&&n.push(t)}));var o=new y(this.objdataOwn.PlantfoodDamageNear*this._dmgScale,!0,!0,!0,null,L.physicle);n.forEach((function(a){a.dealDamage(o.replaceDirection(new h(a.worldPositionX-t.worldPositionX,a.zombieHeight+a.worldPositionY-t.worldPositionY).normalize().multiplyScalar(30))),t.playHitOnCharacter(a),e=!0}));var i=[];this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(t){-1==i.indexOf(t)&&a.judgeCrossRec(t.bodyRec)&&i.push(t)})),i.forEach((function(a){a.dealDamage(o.damage),t.playHitOnCharacter(a),e=!0}));var r=b.createRectangleNodeCenter(this.inLnC.node,5*m.SquareDisW,5*m.SquareDisH),c=[];this.inLane.zombiePool().concat(this.inLane.UpperLane.UpperLane.zombiePool(),this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool(),this.inLane.LowerLane.LowerLane.zombiePool()).forEach((function(t){-1==n.indexOf(t)&&-1==c.indexOf(t)&&r.judgeCrossRec(t.bodyRecReal)&&c.push(t)}));var l=new y(this.objdataOwn.PlantfoodDamageFar*this._dmgScale,!0,!0,!0,null,L.physicle);c.forEach((function(a){a.dealDamage(l.replaceDirection(new h(a.worldPositionX-t.worldPositionX,a.zombieHeight+a.worldPositionY-t.worldPositionY).normalize().multiplyScalar(20))),t.playHitOnCharacter(a),e=!0}));var s=[];this.inLane.tombPool().concat(this.inLane.UpperLane.UpperLane.tombPool(),this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool(),this.inLane.LowerLane.LowerLane.tombPool()).forEach((function(t){-1==i.indexOf(t)&&-1==s.indexOf(t)&&r.judgeCrossRec(t.bodyRec)&&s.push(t)})),s.forEach((function(a){a.dealDamage(l.damage),t.playHitOnCharacter(a),e=!0})),e&&this.soundRes.playHit()},r.specialPlantFood=function(t){this.anmControl.playAnimation("Food",1/0)},r.detectEnemies=function(){var t=this;return!!this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).some((function(e){return t.detector.judgeCrossRec(e.bodyRec)}))||!!this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).some((function(e){return t.detector.judgeCrossRec(e.bodyRec)}))},r.animationListener=function(t){switch(t.name){case"foodEnd":this.foodEnd(),this.anmControl.playRandom();break;case"attackStart":this.soundRes.playAttack();break;case"foodStart":this.soundRes.playAttackPF();break;case"attack":var e=!1;this.heavyLeft--,this.heavyLeft<=0&&(e=!0,this.heavyLeft=this.objdataOwn.TimesHeavy+Math.floor(Math.random()*(this.objdataOwn.TimesHeavyAdditional+1))),this.attack(e),this.playWave(e?1:0);break;case"foodWave":this.playWave(2),this.soundRes.playImpactPF();break;case"foodAttack":w.shakeScreen(),this.foodAttack()}},r.specialPlantOnEnable=function(){this.attacking=!1},r.waterable=function(){return!this.attacking},r.animationOnComplete=function(){this.attacking=!1},r.specialPlantUpdate=function(t,e,a){a>0&&!this.fooding&&(this.attactCD-=t,this.attactCD<=0&&this.detectEnemies()&&(this.attactCD=this.objdataOwn.AttackInterval*this._cdScale,this.anmControl.playAnimation("Attack",1,0,Math.max(1,1/this.attactCD)),this.attacking=!0))},i(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(u)).prototype,"soundRes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new X}}),W=e(x.prototype,"wavePar",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(x.prototype,"hitPar",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=x))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/PhatBeetRhythm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Mouse.ts","./NodePools.ts","./CharacterManager.ts","./Square.ts"],(function(e){var t,n,a,i,o,r,s,c,u,l,h,d,f,P,p,y,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,s=e._decorator,c=e.Prefab,u=e.KeyCode,l=e.input,h=e.Input},function(e){d=e.Plant,f=e.PlantProps},function(e){P=e.Mouse},function(e){p=e.instantiatePooly},function(e){y=e.Rectangle},function(e){w=e.Square}],execute:function(){var E,_,K,b,g,L,m,D;r._RF.push({},"aa580Sf6YxLDrdmpaaD6nxZ","PhatBeetRhythm",void 0);var O=s.ccclass,R=s.property,Y=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t}(f),v=O("PhatBeetRhythmSound")(E=function(){})||E;e("PhatBeetRhythmPlant",(_=O("PhatBeetRhythmPlant"),K=R(v),b=R(c),_((m=t((L=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,a(t,"soundRes",m,i(t)),t._objdataOwn=new Y,a(t,"hitPar",D,i(t)),t.KeyPushing=!1,t}n(t,e);var r=t.prototype;return r.onObjdataSet=function(e,t){},r.specialPlantOnEnable=function(){this.foodable=!1},r.specialPlantOnMouseDown=function(){var e=y.createRectangleCenter(this.inLnC.node.worldPosition.toVec2().add2f(w.SquareDisW/2,0),2*w.SquareDisW,w.SquareDisH),t=this.inLane.zombiePool().sort((function(e,t){return e.worldPositionX-t.worldPositionX})).find((function(t){return t.health>50&&e.judgeInRecP(t.worldPosition)}));if(t){t.chomp();var n=p(this.hitPar);n.parent=t.inLane.prjLayer,n.worldPosition=t.worldPosition.toVec3()}return!0},r.judgeKeyAllowed=function(e){switch(this.inLane.LaneIndex){case 0:switch(e){case u.DIGIT_3:case u.DIGIT_9:case u.KEY_A:case u.KEY_J:return!0}break;case 1:switch(e){case u.KEY_E:case u.KEY_S:case u.KEY_O:case u.KEY_K:return!0}break;case 2:switch(e){case u.KEY_D:case u.KEY_L:return!0}break;case 3:switch(e){case u.KEY_X:case u.KEY_F:case u.COMMA:case u.SEMICOLON:return!0}break;case 4:switch(e){case u.KEY_G:case u.ALT_LEFT:case u.QUOTE:case u.ALT_RIGHT:return!0}}return!1},r.specialPlantOnLoad=function(){var e=this;l.on(h.EventType.KEY_DOWN,(function(t){e.judgeKeyAllowed(t.keyCode)&&(e.KeyPushing=!0,e.specialPlantOnMouseDown())}),this),l.on(h.EventType.KEY_UP,(function(t){e.judgeKeyAllowed(t.keyCode)&&(e.KeyPushing=!1)}),this)},r.detectEnemies=function(e){var t=this.inLnC.rec;this.inLane.zombiePool().forEach((function(e){e.health<50&&t.judgeInRecP(e.worldPosition)&&e.chomp()}))},r.specialPlantFood=function(e){this.foodEnd()},r.specialPlantUpdate=function(e,t,n){P.mouseInLnC==this.plantInLnC||this.KeyPushing?(this.detectEnemies(e),this.extraHolo=1):this.extraHolo=-1},o(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),t}(d)).prototype,"soundRes",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new v}}),D=t(L.prototype,"hitPar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=L))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/PirateBarrelPusherZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./PirateBarrelZombie.ts","./Zombies.ts"],(function(e){var r,i,t,l,n,a,o,s,b,h,u,c,d;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,l=e.assertThisInitialized,n=e.createClass},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,b=e.Vec2},function(e){h=e.Zombie},function(e){u=e.PirateBarrelZombie},function(e){c=e.zombies,d=e.ZombieEnum}],execute:function(){var p,m,f,y,P;a._RF.push({},"62094xn7ndNQrsIS13oRF/l","PirateBarrelPusherZombie",void 0);var S=o.ccclass,Z=o.property;e("PirateBarrelPusherZombie",(p=S("PirateBarrelPusherZombie"),m=Z(s),p((P=r((y=function(e){function r(){for(var r,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,t(r,"barrelSlot",P,l(r)),r._barrel=null,r}i(r,e);var a=r.prototype;return a.specialZombieOnEnable=function(){this.barrel=null},a.onKnockBackStart=function(){this.barrel&&(this.barrel.pusher=null)},a.specialAlmanac=function(e){var r=c.getZombie(d.pirate_barrel,!0);r.parent=e,r.setSiblingIndex(0),r.worldPosition=this.barrelSlot.worldPosition,r.scale=this.node.scale,this.body.IdleAnm="Idle_Barrel",this.body.playAnimation(this.body.IdleAnm,1/0)},a.playSpecialZombieDieForced=function(){this.barrel&&(this.barrel.pusher=null)},a.onLaneChangeTweenStart=function(){this.barrel&&(this.barrel.pusher=null)},a.shouldSpeedScale=function(){var e=1;return this.barrel&&this.barrel.freeze>0&&(e=.5),e*this.defaultShouldSpeedScale()},a.additionalZombies=function(){var e=c.getZombie(d.pirate_barrel),r=e.getComponent(u);return e.parent=this.node.parent,e.setSiblingIndex(this.node.getSiblingIndex()),r&&(this.barrel=r),r?[r]:[]},n(r,[{key:"barrel",get:function(){return this._barrel},set:function(e){this.barrel!=e&&(e?(e.worldPosition=new b(this.barrelSlot.worldPosition.x,this._worldPositionY),e.pusher=this,this.body.IdleAnm="Idle_Barrel",this.body.WalkAnm="Walk_Barrel",this.body.EatAnm="Eat_Barrel"):(this.body.IdleAnm="Idle",this.body.WalkAnm="Walk",this.body.EatAnm="Eat"),this._barrel=e,(this.isAlive()||this.displayed)&&this.replayAnimation())}}]),r}(h)).prototype,"barrelSlot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/PirateBarrelZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./GargantuarZombie.ts","./Zombies.ts"],(function(e){var t,i,n,s,o,r,a,h,l,u;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,s=e._decorator,o=e.Vec2},function(e){r=e.zombieDamageType,a=e.ZombieDamageDetails,h=e.Zombie},function(e){l=e.gargantuar},function(e){u=e.ZombieEnum}],execute:function(){var c;n._RF.push({},"3127dv2H/FEnYvJqUlnoqYE","PirateBarrelZombie",void 0);var p=s.ccclass;s.property,e("PirateBarrelZombie",p("PirateBarrelZombie")(c=function(e){function n(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).faceSlot=void 0,t._pusher=null,t.lifeSpan=10,t.deathCD=10,t}t(n,e);var s=n.prototype;return s.playSpecialZombieDie=function(e){var t=this;this.judgeDeath(0),[l.throwOneImpByLnC(u.pirate_imp,this.inLane,this.worldPosition,new o(this.reversed?1:-1,0==this.lIndex?0:1),1,20,.5),l.throwOneImpByLnC(u.pirate_imp,this.inLane,this.worldPosition,new o(this.reversed?1:-1,4==this.lIndex?0:-1),1,20,.5)].forEach((function(e){e.body.playAnimation("Fly",1/0),e.reversed=t.reversed,e.hypno=t.hypno}))},s.setChiliStun=function(e){return!1},s.playSpecialZombieDieForced=function(){this.pusher=null},s.specialZombieOnEnable=function(){var e;this.deathCD=this.lifeSpan,this.pusher=null,null==(e=this.faceSlot)||e._setDisplayIndex(0)},s.specialZombieOnLoad=function(){var e;this.faceSlot=null==(e=this.db.armature())?void 0:e.getSlot("face")},s.onDamaged=function(e,t,i){var n,s=Math.max(0,2-Math.floor(3*t/this.toughness));null==(n=this.faceSlot)||n._setDisplayIndex(s)},s.onKnockBackStart=function(){this.pusher=null},s.onLaneChangeTweenStart=function(){this.pusher=null},s.specialZombieUpdateForced=function(e,t,i,n){var s,o;if(this.node.parent==(null==(s=this._pusher)||null==(s=s.node)?void 0:s.parent))this.displayed=this._pusher.displayed,this.worldPositionY=this._pusher.worldPositionY,this.worldPositionX=this._pusher.barrelSlot.worldPosition.x;else if(null!=(o=this._pusher)&&o.node){var r;this.node.setParent(null==(r=this._pusher)||null==(r=r.node)?void 0:r.parent,!0)}},s.shouldSpeedScale=function(){return this._pusher?this.pusher.shouldSpeedScale()*(this.pusher.walking?1:0):this.defaultShouldSpeedScale()},s.specialZombieUpdate=function(e,t,i){this._pusher?this.worldPositionX=this.pusher.barrelSlot.worldPosition.x:this.deathCD>0&&(this.deathCD-=e,this.deathCD<=0&&this.playDie(!1,null,!0,r.physicle,!1,!1,!1))},s.detectPlant=function(e){var t=this;if(this.inLane){if(this.pusher){this.hypno=this.pusher.hypno;var i=new a(500*e,!0,!1,!1,null);this.hypno?(this.inLane.zombiePool().forEach((function(e){t.bodyRec.judgeCrossRec(e.bodyRec)&&e.dealDamage(i)})),this.inLane.tombPool().forEach((function(i){t.bodyRec.judgeCrossRec(i.bodyRec)&&i.dealDamage(500*e)}))):(this.inLane.plantPool().forEach((function(e){t.bodyRec.judgeCrossRec(e.bodyRec)&&e.smash(t,!1)})),this.inLane.hypnoZombiePool().forEach((function(e){t.bodyRec.judgeCrossRec(e.bodyRec)&&e.dealDamage(i)})))}}else this.playWalk()},s.lobberTarget=function(){return this.pusher?this.pusher:this},i(n,[{key:"pusher",get:function(){return this._pusher},set:function(e){this.pusher&&this.pusher!=e&&(this.pusher.barrel=null),null!=e?(this._pusher=e,this.randomSpeedRate=e.randomSpeedRate):this._pusher=null}},{key:"squarePerSec",get:function(){return this.pusher?this.pusher.squarePerSec:0}}]),n}(h))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/PirateCaptainParrotZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Plant.ts","./NodePools.ts","./Square.ts","./SoundRescourses.ts","./CharacterManager.ts"],(function(t){var i,e,n,o,a,l,r,s,h,u,c,d,p,g,P,f,w,y,v;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){l=t.cclegacy,r=t._decorator,s=t.AudioClip,h=t.Vec2,u=t.Vec3},function(t){c=t.zombieDamageType,d=t.Zombie,p=t.ZombieProps},function(t){g=t.PlantType},function(t){P=t.NodePools,f=t.ArrayGet},function(t){w=t.Square},function(t){y=t.sounds},function(t){v=t.PlantPool}],execute:function(){var b,_,m,C,S;l._RF.push({},"b1388sOiqVNAo9pYaZUS1g8","PirateCaptainParrotZombie",void 0);var D=r.ccclass,Z=r.property,j=t("parrotCapture",function(){function t(){}return t.judgePlantCapturable=function(t){if(t)return!t.dead&&!t.short_&&t.eaterDetectable&&!t.fooding&&t.plantType==g.plant&&!t.invincible},t.getRandomPlantCapturable=function(){for(var t,i=this,e=[0,1,2,3,4],n=function(){var t=f.getRandom(e);e.splice(e.indexOf(t),1);for(var n=w.getLaneComponent(t).plantPool(),o=[],a=0;a<n.length;a++)i.judgePlantCapturable(n[a])&&o.push(n[a]);if(o.length>0){var l=o[0];return o.forEach((function(t){t._worldPositionX>l._worldPositionX&&(l=t)})),{v:l}}};e.length>0;)if(t=n())return t.v;return null},t.judgeHaveCapturablePlant=function(){for(var t=v.pool().concat(),i=0;i<t.length;i++)if(this.judgePlantCapturable(t[i]))return!0;return!1},t}()),x=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).FlyingSpeed=1.4,i}return e(i,t),i}(p);t("PirateCaptainParrotZombie",(b=D("PirateCaptainParrotZombie"),_=Z(s),b((S=i((C=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return(i=t.call.apply(t,[this].concat(a))||this).brainEater=!1,i.bindsToLane=!1,i._objdataOwn=new x,n(i,"captureSound",S,o(i)),i.orgHeight=60,i.finalWaveVictoryCountdown=0,i.targetPlant=void 0,i.captain=void 0,i.followedPlant=null,i.captureCD=0,i.captured=!1,i._vx=0,i._vy=0,i.fleeing=!1,i}e(i,t);var l=i.prototype;return l.correctDepth=function(t){},l.playSpecialZombieDie=function(t){this.judgeDeath(0),this.shadeAlphaScale=0},l.detectPlantOn=function(){return!1},l.playWalk=function(t){},l.specialZombieOnEnable=function(){this.followedPlant=null,this.captain=null,this.fleeing=!1,this.captured=!1,this.switching=!0,this.playIdle(),this.height_depth=this.orgHeight,this.shadeAlphaScale=1},l.onLaneSpawnSettled=function(t,i){this.height_depth=this.orgHeight},l.onPutDirectly=function(t){this.height_depth=this.orgHeight,this.targetPlant=j.getRandomPlantCapturable()},l.onDirtSpawned=function(t){this.height_depth=this.orgHeight},l.playSpecialZombieDieForced=function(){this.followedPlant&&(this.followedPlant.node.destroy(),this.followedPlant=null)},l.specialZombieUpdate=function(t,i,e){var n,o,a;(j.judgePlantCapturable(this.targetPlant)||(this.targetPlant=null,this.captured=!1),null!=(n=this.captain)&&n.isAlive()||(this.captain=null),this.fleeing)?(this.height_depth+=300*t,null!=(o=this.followedPlant)&&o.isValid&&(this.followedPlant.height=this.height_depth-this.orgHeight),this.height_depth>2100&&(this.followedPlant&&(this.followedPlant.node.destroy(),this.followedPlant=null),null!=(a=this.captain)&&a.isAlive()?(this.fleeing=!1,this.height_depth=this.orgHeight,this.worldPositionX=w.getSquareWorldPosition(0,8).x+2*w.SquareDisW,this.worldPositionY=this.captain.worldPositionY,this.targetPlant=null):(this.playDie(!0,null,!1,c.physicle,!1,!1,!1),P.destroyPooly(this.node)))):(Math.abs(this.height_depth-this.orgHeight)>30&&(this.height_depth+=100*t*(this.height_depth>this.orgHeight?-1:1)),this.targetPlant&&!this.hypno?this.captured?(this._vx=0,this._vy=0):(this.moveTo(this.targetPlant,t),this.targetPlant.worldPosition.clone().add(this.worldPosition.clone().negative()).length()<=6&&(this.captured=!0,y.play(this.captureSound),this.captureCD=5)):this.captain&&this.hypno==this.captain.hypno?(this.moveTo(this.captain,t),this.captain.worldPosition.clone().add(this.worldPosition.clone().negative()).length()<=6&&this.captain.returnParrot(this)):(this.fleeing=!0,this._vx=0,this._vy=0));this.captured&&(this.targetPlant.worldPosition.clone().add(this.worldPosition.clone().negative()).length()>6&&(this.captured=!1),this.captureCD-=t,this.captureCD<=0&&(this.fleeing=!0,this.targetPlant&&(this.targetPlant.die(!1),this.followedPlant=this.targetPlant,this.targetPlant.anmControl.setTimeScale(0),this.targetPlant=null)))},l.onButtered=function(t){this.playDie()},l.specialDisblowable=function(t){return this.fleeing},l.currentFarBodyRec=function(){return this.fleeing},l.lobberToPos=function(t){return new h(this.worldPositionX+this._vx*t*2,this.worldPositionY+this._vy*t*2)},l.moveTo=function(t,i){var e=new h(t._worldPositionX-this._worldPositionX,t._worldPositionY-this._worldPositionY).normalize().multiplyScalar(this.objdataOwn.FlyingSpeed*w.SquareDisW*i);this._vx=e.x,this._vy=e.y;var n=1;e.x>0&&(n=-1);var o=this.body.node.scale.clone();this.body.node.scale=new u(Math.abs(o.x)*n,o.y,o.z),this.worldPosition=this.worldPosition.clone().add(e)},a(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),i}(d)).prototype,"captureSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=C))||m));l._RF.pop()}}}));

System.register("chunks:///_virtual/PirateCaptainZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./Zombies.ts","./PirateCaptainParrotZombie.ts"],(function(t){var o,a,r,e,n,i,s,l,h,d,c;return{setters:[function(t){o=t.inheritsLoose,a=t.createClass},function(t){r=t.cclegacy,e=t._decorator},function(t){n=t.Zombie,i=t.ZombieProps},function(t){s=t.NodePools},function(t){l=t.zombies,h=t.ZombieEnum},function(t){d=t.PirateCaptainParrotZombie,c=t.parrotCapture}],execute:function(){var u;r._RF.push({},"4d566STzN1PH4DfXdxb2aT9","PirateCaptainZombie",void 0);var p=e.ccclass,P=(e.property,function(t){function a(){for(var o,a=arguments.length,r=new Array(a),e=0;e<a;e++)r[e]=arguments[e];return(o=t.call.apply(t,[this].concat(r))||this).ParrotCooldown=7,o.ParrotRetryCooldown=1,o}return o(a,t),a}(i));t("PirateCaptainZombie",p("PirateCaptainZombie")(u=function(t){function r(){for(var o,a=arguments.length,r=new Array(a),e=0;e<a;e++)r[e]=arguments[e];return(o=t.call.apply(t,[this].concat(r))||this)._objdataOwn=new P,o.haveParrot=!0,o.parrotHealth=300,o._cd=0,o.oldGroanSound=[],o}o(r,t);var e=r.prototype;return e.specialZombieOnLoad=function(){this.oldGroanSound=this.groanSound},e.playSpecialZombieDie=function(t){this.judgeDeath()},e.specialZombieOnEnable=function(){this.haveParrot=!0,this.parrotHealth=300,this.groanSound=this.oldGroanSound,this._cd=this.objdataOwn.ParrotCooldown},e.createParrot=function(){var t=l.createZombie(this.lIndex,h.pirate_parrot);if(t){var o;null==(o=this.body.body.armature().getSlot("Parrot_HEAD"))||o._setDisplayIndex(-1);var a=t.getComponent(d);return a.worldPosition=this.worldPosition,a.captain=this,this.haveParrot=!1,this.groanSound=[],a.health=this.parrotHealth,a.targetPlant=c.getRandomPlantCapturable(),a}},e.returnParrot=function(t){var o;this.groanSound=this.oldGroanSound,this.haveParrot=!0,this.parrotHealth=t.health,null==(o=this.body.body.armature().getSlot("Parrot_HEAD"))||o._setDisplayIndex(0),this._cd=this.objdataOwn.ParrotCooldown,t.playDie(!0),s.destroyPooly(t.node)},e.specialZombieUpdate=function(t,o,a){this.haveParrot&&!this.hypno&&(this._cd>0&&(this._cd-=t),this._cd<=0&&(c.judgeHaveCapturablePlant()?this.createParrot():this._cd=this.objdataOwn.ParrotRetryCooldown))},a(r,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),r}(n))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/PirateGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./NodePools.ts","./Zombies.ts"],(function(t){var r,e,a,i,n,o,s,u,c,p;return{setters:[function(t){r=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,s=t.AudioClip},function(t){u=t.GargantuarZombie},function(t){c=t.ArrayGet},function(t){p=t.ZombieEnum}],execute:function(){var l,m,h,d,f;n._RF.push({},"e2284uKBI9GQpaHbL+zvftu","PirateGargantuarZombie",void 0);var y=o.ccclass,b=o.property;t("PirateGargantuarZombie",(l=y("PirateGargantuarZombie"),m=b([s]),l((f=r((d=function(t){function r(){for(var r,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return r=t.call.apply(t,[this].concat(n))||this,a(r,"steadySounds",f,i(r)),r.impEnum=p.pirate_imp,r}e(r,t);var n=r.prototype;return n.specialGargantuarAnimationListener=function(t){"steady"==t.name&&this.playOneShot(c.getRandom(this.steadySounds))},n.throwImp=function(){this._throwImp(Math.floor(5*Math.random()),this.reversed?6:2,350),this._haveImp=!0,this._throwImp(Math.floor(5*Math.random()),4,350)},r}(u)).prototype,"steadySounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=d))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/PirateImpCannonZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Square.ts","./Zombies.ts","./GargantuarZombie.ts","./levelController.ts","./NodePools.ts"],(function(o){var t,n,i,e,a,s,l,r,h,u,d,p,m,c,f,b,S;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,i=o.initializerDefineProperty,e=o.assertThisInitialized,a=o.createClass},function(o){s=o.cclegacy,l=o._decorator,r=o.AudioClip,h=o.tween,u=o.Vec2},function(o){d=o.Zombie,p=o.ZombieProps},function(o){m=o.Square},function(o){c=o.ZombieEnum},function(o){f=o.gargantuar},function(o){b=o.LevelPlay},function(o){S=o.ArrayGet}],execute:function(){var C,v,w,y,g,x,I,O,P;s._RF.push({},"317a8MCv7NEjpaQruuwM9bq","PirateImpCannonZombie",void 0);var D=l.ccclass,T=l.property,j=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return(t=o.call.apply(o,[this].concat(i))||this).TimeBefore=3,t.TimeBeforeAdditional=1,t.ShootInterval=7.5,t.ShootIntervalAdditional=.5,t.MaxImpCount=5,t.MaxImpCountAdditional=0,t.ShootColumns=[5,4],t.ExplodeColumns=[2,3,4,5],t.ExplodeImpCount=5,t.ExplodeImpCountAdditional=0,t}return n(t,o),t}(p);o("PirateImpCannonZombie",(C=D("PirateImpCannonZombie"),v=T(r),w=T(r),y=T(r),C((I=t((x=function(o){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(t=o.call.apply(o,[this].concat(a))||this).brainEater=!1,i(t,"RollSound",I,e(t)),i(t,"ShootSound",O,e(t)),i(t,"ExplodeSound",P,e(t)),t.moveToShipTween=null,t._objdataOwn=new j,t.knockBackable=!1,t.leapable=!1,t.shootCD=7.5,t.maxShootCount=5,t.shotCount=0,t.shooting=!1,t.impEnum=c.pirate_imp,t}n(t,o);var s=t.prototype;return s.specialZombieLeapable=function(){return!1},s.specialZombieKnockbackable=function(){return!1},s.onObjdataSet=function(o){this.maxShootCount=this.objdataOwn.MaxImpCount+Math.floor(Math.random()*(this.objdataOwn.MaxImpCountAdditional+1)),this.shootCD=this.objdataOwn.TimeBefore+Math.random()*this.objdataOwn.TimeBeforeAdditional},s.specialZombieOnEnable=function(){this.shotCount=0,this.shooting=!1,this.shootCD=this.objdataOwn.TimeBefore+Math.random()*this.objdataOwn.TimeBeforeAdditional,this.maxShootCount=this.objdataOwn.MaxImpCount+Math.floor(Math.random()*(this.objdataOwn.MaxImpCountAdditional+1)),this.body.DeathAnm="Death",this.currentFlyZombie=!1,this.flying=!1},s.moveToPos=function(o){var t=this;void 0===o&&(o=!1);var n=o?m.getLnC(0,0).node.worldPosition.x-m.SquareDisW:m.getLnC(0,8).node.worldPosition.x+m.SquareDisW;this.displayed||(this.moveToShipTween=h(this).to(4,{worldPositionX:n},{easing:"quadIn"}).call((function(){t.moveToShipTween=null})).start(),this.playOneShot(this.RollSound),this.playIdle())},s.onReversedSet=function(o){this.moveToPos(o)},s.onLaneSpawnSettled=function(){this.moveToPos(this.reversed)},s.detectPlant=function(o){},s.playSpecialZombieDie=function(o){this.judgeDeath(0)},s.playSpecialZombieDieForced=function(){var o;null==(o=this.moveToShipTween)||o.stop()},s.getInterval=function(){return this.objdataOwn.ShootInterval+this.objdataOwn.ShootIntervalAdditional*Math.random()},s.getShootColumn=function(){var o=S.getRandom(this.objdataOwn.ShootColumns);return isNaN(+o)&&(o=S.getRandom([5,4])),this.reversed&&(o=8-o),o},s.getExplodeColumn=function(){var o=S.getRandom(this.objdataOwn.ExplodeColumns);return isNaN(+o)&&(o=S.getRandom([2,3,4,5])),this.reversed&&(o=8-o),o},s.shouldSpeedScale=function(){return this.shooting?1:this.defaultShouldSpeedScale()},s.specialZombieUpdate=function(o,t,n){this.moveToShipTween||this.shooting||(this.shootCD>0&&(this.shootCD-=o),this.shootCD<=0&&(this.shotCount<this.maxShootCount?(this.shooting=!0,this.shootCD=this.getInterval(),this.body.playAnimation("Shoot",2),this.shotCount++):(this.body.DeathAnm="Explode",this.playDie(!1,null,!1,null,!1),b.component.setLevelVictoryCountDown(3))))},s._shoot=function(o,t,n,i,e){void 0===n&&(n=-30),void 0===i&&(i=45),void 0===e&&(e=1);var a=f.throwOneImpToLnC(this.impEnum,this.inLane,new u(this.headDropPoint.worldPosition.x,this._worldPositionY),m.getLnC(o,t),this.headDropPoint.worldPosition.y-this._worldPositionY+n,i,e);return a.body.playAnimation("Fly",1/0),a.tallNutBlock=!0,a.reversed=this.reversed,a.hypno=this._usedToBeHypno,a},s.playWalk=function(o){},s.animationOnLPComplete=function(){this.shooting=!1},s.specialAnimationListener=function(o){if("Shoot"==o.name)this.playOneShot(this.ShootSound),this._shoot(this.inLane.LaneIndex,this.getShootColumn());else if("shootingOff"==o.name)this.shooting=!1,this.playIdle();else if("Explode"==o.name){this.playOneShot(this.ExplodeSound);this.objdataOwn.ExplodeImpCount,Math.floor(Math.random()*(this.objdataOwn.ExplodeImpCountAdditional+1));for(var t=0;t<5;t++){var n=100+150*Math.random(),i=n/150;this._shoot(Math.floor(5*Math.random()),this.getExplodeColumn(),-10,n,i).tallNutBlock=!1}}},a(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),t}(d)).prototype,"RollSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(x.prototype,"ShootSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(x.prototype,"ExplodeSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=x))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/PirateSeagullZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./SoundRescourses.ts"],(function(e){var t,a,l,i,n,r,o,s,u,d,c,h,p,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,l=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){r=e.cclegacy,o=e._decorator,s=e.AudioClip,u=e.Prefab,d=e.Vec3},function(e){c=e.Zombie},function(e){h=e.ArrayGet,p=e.NodePools},function(e){g=e.sounds}],execute:function(){var f,m,y,S,b,v,H,w,P;r._RF.push({},"dec02612ItEKJCfPpyA9YNR","PirateSeagullZombie",void 0);var D=o.ccclass,A=o.property;e("PirateSeagullZombie",(f=D("PirateSeagullZombie"),m=A([s]),y=A([s]),S=A(u),f((H=t((v=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,l(t,"seagullButteredSounds",H,i(t)),l(t,"seagullIdleSounds",w,i(t)),t.seagullIdleSayCD=3,t._seagullHaveHead=!0,l(t,"birdExplParticle",P,i(t)),t.seagullArmature=void 0,t}a(t,e);var r=t.prototype;return r.specialZombieUpdate=function(e,t,a){this.seagullIdleSayCD>0?this.seagullIdleSayCD-=e:(this.seagullIdleSayCD=5+3*Math.random(),g.playArray(this.seagullIdleSounds,.7,1))},r.setButter=function(e,t){var a;e>0&&(this.playDie(!1,this.defaultDirection()),g.play(h.getRandom(this.seagullButteredSounds)),null==(a=this.seagullArmature)||null==(a=a.animation)||a.play("Death",1));return!0},r.lockedTimeScale=function(){return this.walking&&this.walkRouteBufferDistance?1.5:NaN},r.walkSpeedScaleEnteringLawn=function(){return this.walkRouteBufferDistance?1.5:2},r.walkTimeScale=function(e,t,a){return 1.5},r.specialPlantEatAllowed=function(e){return!this.walkRouteBufferDistance&&!e.short_},r._dropHeadSeagull=function(e){void 0===e&&(e=1),this.zombieHead&&this.seagullHaveHead&&(this.seagullHaveHead=!1,this.playBreakSound(),this.drop(this.zombieHead,e,new d(this.shadeSocket.worldPosition.x,this._worldPositionY,0),null,this.node.parent))},r.specialAnimationListener=function(e){"dropHead"==e.name&&this._dropHeadSeagull()},r.dropHead=function(e,t){var a=this;void 0===t&&(t=this.zombieHeight),this.armors.length&&(this.armors.concat().forEach((function(e){a.throwArmor(e,null),p.destroyPooly(e.node)})),this.armors=[])},r.playSpecialZombieDie=function(e){var t;this.judgeDeath(0);var a="Escape";if(e){a="Explode",g.playBirdExpl(),g.playArray(this.seagullButteredSounds);var l=p.instantiatePooly(this.birdExplParticle);l.parent=this.node.parent,l.worldPosition=this.node.worldPosition,l.worldScale=this.node.worldScale,l.setSiblingIndex(this.node.getSiblingIndex()+1)}else this._dropHeadSeagull(10);null==(t=this.seagullArmature)||null==(t=t.animation)||t.play(a,1)},r.specialZombieOnEnable=function(){var e;this.seagullIdleSayCD=3*Math.random(),this.seagullHaveHead=!0,null==(e=this.seagullArmature)||null==(e=e.animation)||e.play("Idle",1/0)},r.specialZombieOnLoad=function(){var e;this.seagullArmature=null==(e=this.db.armature().getSlot("Seagull"))?void 0:e.childArmature},n(t,[{key:"seagullHaveHead",get:function(){return this._seagullHaveHead},set:function(e){var t;null==(t=this.body)||null==(t=t.body)||null==(t=t.armature())||null==(t=t.getSlots())||t.forEach((function(t){t.name.includes("_head")&&t._setDisplayIndex(e?0:-1)})),this._seagullHaveHead=e}}]),t}(c)).prototype,"seagullButteredSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=t(v.prototype,"seagullIdleSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(v.prototype,"birdExplParticle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/PirateSwashbucklerZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./Square.ts"],(function(t){var i,n,e,a,s,o,r,l,u,h,d,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized,s=t.createClass},function(t){o=t.cclegacy,r=t._decorator,l=t.AudioClip},function(t){u=t.Zombie,h=t.ZombieProps},function(t){d=t.ArrayGet},function(t){c=t.Square}],execute:function(){var m,f,S,w,g;o._RF.push({},"b79edvrTFZGVLeVacR4otOc","PirateSwashbucklerZombie",void 0);var b=r.ccclass,p=r.property,y=function(t){function i(){for(var i,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(i=t.call.apply(t,[this].concat(e))||this).LandingColumns=[4],i.ChanceToFallIntoSea=0,i}return n(i,t),i}(h);t("PirateSwashbucklerZombie",(m=b("PirateSwashbucklerZombie"),f=p([l]),m((g=i((w=function(t){function i(){for(var i,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(i=t.call.apply(t,[this].concat(s))||this).willLandColumn=4,i._objdataOwn=new y,i._objdataOwnOrg=new y,e(i,"swingSounds",g,a(i)),i}n(i,t);var o=i.prototype;return o.onSandStormStart=function(){this.switching=!1,this.smartShadeHider=!1,this.flying=!1},o.onObjdataSet=function(t){this.resetWillLandColume()},o.specialZombieKnockbackable=function(){return!this.smartShadeHider},o.specialZombieLeapable=function(){return!this.smartShadeHider},o.fallImmediatelyWhenHeavyDamaged=function(){return!this.smartShadeHider},o.onButtered=function(t){this.smartShadeHider&&(this.butterStun=0)},o.onChiliStunned=function(t){this.smartShadeHider&&(this.chiliStun=0)},o.specialAnimationListener=function(t){if("swing"==t.name)this.playOneShot(d.getRandom(this.swingSounds));else if("swingJudge"==t.name){var i;null!=(i=this.inLane)&&i.isSea&&Math.random()<this.objdataOwnOrg.ChanceToFallIntoSea?(this.worldPositionX+=2*c.SquareDisW,this.body.DeathAnm="SwingFailure",this.playDie(!0),this.judgeDeath()):this.body.playAnimation("SwingSuccess",1)}else"dropHead"==t.name?this.dropHead(null,1):"switchingFalse"==t.name&&this.judgeDeath(0)},o.onDirtSpawned=function(t){this.smartShadeHider=!1,this.flying=!1},o.specialOnLeapEnd=function(){this.smartShadeHider=!1},o.prevDistance=function(){return 0},o.CanbeSweetPotatoReversed=function(){return!this.smartShadeHider},o.swing=function(){this.isIdle=!1,this.playIdle(),this.flying=!0,this.body.playAnimation("SwingBack",1/0),this.worldPositionX=c.getSquareWorldPosition(0,this.willLandColumn).x,this.switching=!0,this.setBodyRec(!0)},o.resetWillLandColume=function(){var t=d.getRandom(this.objdataOwn.LandingColumns);isNaN(+t)||(this.willLandColumn=t)},o.specialZombieOnEnable=function(){this.smartShadeHider=!0,this.flying=!1,this.body.DeathAnm="Death",this.resetWillLandColume()},o.onLaneSpawnSettled=function(t,i){this.resetWillLandColume(),this.swing()},o.onPutDirectly=function(t){this.willLandColumn=t.cIndex,this.swing()},s(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),i}(u)).prototype,"swingSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=w))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/PirateZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./GargantuarZombie.ts","./Zombies.ts","./Square.ts","./NodePools.ts"],(function(o){var e,t,n,i,r,a,s,l,h,u,d,c,m,S;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,a=o._decorator,s=o.AudioClip,l=o.Node,h=o.Vec2},function(o){u=o.ZombossMechZombie},function(o){d=o.gargantuar},function(o){c=o.ZombieEnum},function(o){m=o.Square},function(o){S=o.ArrayGet}],execute:function(){var p,b,f,y,w,g,Z,v,M,P,z,F,L,O,q;r._RF.push({},"a356f7aqqhEJqb/dbWFI5Ud","PirateZombossMechZombie",void 0);var _=a.ccclass,R=a.property;o("PirateZombossMechZombie",(p=_("PirateZombossMechZombie"),b=R(s),f=R(s),y=R(s),w=R(s),g=R([s]),Z=R(l),p((P=e((M=function(o){function e(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=o.call.apply(o,[this].concat(r))||this,n(e,"introSmashSound",P,i(e)),n(e,"introFallSound",z,i(e)),n(e,"afterShootSound",F,i(e)),n(e,"waveBeforeShootSound",L,i(e)),n(e,"addShootSounds",O,i(e)),n(e,"shooter",q,i(e)),e}t(e,o);var r=e.prototype;return r.specialZombossMechAnimationListener=function(o){"introSmashSound"==o.name?(this.playOneShot(this.introSmashSound,1,!0),this.playOneShot(S.getRandom(this.worldZombossSpawnSaySounds),1,!0),this.playOneShot(S.getRandom(this.worldZombossMechLeapEndSounds),1,!0)):"introFallSound"==o.name?this.playOneShot(this.introFallSound,1,!0):"shootReadySound"==o.name&&this.playOneShot(this.waveBeforeShootSound,1,!0)},r.dropMissile=function(){var o=6;1==this.mechToChoose&&(o=10);for(var e=0;e<o;e++){var t=this.reversed?m.getLnC(0,6).node.worldPosition.x-m.SquareDisW*Math.random()*3:m.getLnC(0,2).node.worldPosition.x+m.SquareDisW*Math.random()*3,n=d.throwOneImpToWP(c.pirate_imp,this.inLane,new h(this.shooter.worldPosition.x,this._worldPositionY),new h(t,m.getLaneComponent(Math.floor(5*Math.random())).floorY),this.shooter.worldPosition.y-this._worldPositionY,300+50*Math.random(),.8+.5*Math.random());n.body.playAnimation("Fly",1/0),n.reversed=this.reversed,n.hypno=this.hypno}this.playOneShot(S.getRandom(this.addShootSounds),1,!0),this.playOneShot(this.afterShootSound,1,!0)},e}(u)).prototype,"introSmashSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(M.prototype,"introFallSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(M.prototype,"afterShootSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(M.prototype,"waveBeforeShootSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(M.prototype,"addShootSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=e(M.prototype,"shooter",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=M))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/Plant.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Particles.ts","./Character.ts","./SoundRescourses.ts","./CharacterManager.ts","./NodePools.ts","./LnC.ts","./Materials.ts","./UI.ts","./levelController.ts","./Plants.ts","./ParticleSelfdestroy.ts","./Tiles.ts","./LevelTaskCount.ts","./MultiLanguage.ts","./FrontYard.ts","./PlayerProperties.ts","./KeyListener.ts","./Droppings.ts","./AnimationController.ts"],(function(t){var n,i,e,a,o,s,l,h,r,d,u,c,p,f,P,g,b,m,y,v,w,C,S,L,T,I,D,O,_,k,A,B,E,x,F,M,W,R,j,q,N;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,l=t._decorator,h=t.Enum,r=t.AudioClip,d=t.Size,u=t.Color,c=t.dragonBones,p=t.Material,f=t.tween,P=t.Vec2,g=t.Vec3,b=t.Vec4,m=t.EventMouse},function(t){y=t.particle},function(t){v=t.Character},function(t){w=t.sounds},function(t){C=t.Rectangle,S=t.PlantPool},function(t){L=t.instantiatePooly,T=t.NodePools,I=t.destroyPooly},function(t){D=t.TileType},function(t){O=t.materialRes},function(t){_=t.UIInGame},function(t){k=t.LevelPlay},function(t){A=t.PlantEnum,B=t.plants},function(t){E=t.ParticleSelfdestroy},function(t){x=t.tiles},function(t){F=t.LevelTaskCountModeEnum},function(t){M=t.MultiLanguage},function(t){W=t.FrontYard},function(t){R=t.AllPlayerProperties},function(t){j=t.KeyListener},function(t){q=t.droppings},function(t){N=t.AnimationController}],execute:function(){var U,H,z,X,K,Y,V,G,J,Q,Z,$,tt,nt,it,et,at;s._RF.push({},"de59daihTVDgJBO/PJ5zQ6J","Plant",void 0);var ot=l.ccclass,st=l.property,lt=t("PlantType",function(t){return t[t.plant=0]="plant",t[t.vine=1]="vine",t[t.pot=2]="pot",t[t.lilyPad=3]="lilyPad",t[t.tile=4]="tile",t}({})),ht=t("PlantFamily",function(t){return t[t.Peashooter=0]="Peashooter",t[t.Melee=1]="Melee",t[t.Cold=2]="Cold",t[t.Sun=3]="Sun",t[t.Poison=4]="Poison",t[t.Shadow=5]="Shadow",t[t.Slow=6]="Slow",t[t.Defence=7]="Defence",t[t.Electricity=8]="Electricity",t[t.Fire=9]="Fire",t[t.Explosive=10]="Explosive",t[t.Sharp=11]="Sharp",t[t.Lobber=12]="Lobber",t[t.Magic=13]="Magic",t[t.None=14]="None",t}({})),rt=t("PlantProps",(function(){this.SunCost=0,this.Cooldown=5,this.CooldownFrom=0,this.Toughness=300,this.Family="Nope",this.StartingHeight=0,this.CannotBeKilledBySurfboard=!1,this.CannotBePushedByFootballMech=!1,this.CannotBeSheepenedByWizard=!1,this.CannotBeDetectedByCatapult=!1,this.ImmuneToIceblock=!1,this.WarmingRadius=null,this.WarmingRadiusPlantfood=null,this.ImmuneToBoomBox=!1}));t("PlantWarmingRadius",(function(){this.PulseInitialDelay=.5,this.PulseCooldown=6,this.GridItemDamage=200}));h(ht);t("Plant",(U=ot("Plant"),H=st(Boolean),z=st(Boolean),X=st([r]),K=st(Boolean),Y=st(d),V=st(u),G=st(Boolean),U((Z=n((Q=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(n=t.call.apply(t,[this].concat(o))||this).schedulerX=0,n.isTeacher=!1,n.arrowCountdown=0,n.arrow=void 0,n.fooding=!1,n._objdata={},n._objdataOwn=new rt,n._intensiveCarrot=void 0,n._endangered=!1,n._endangerdTile=void 0,n.anmControl=null,n._darkSlots=[],n.bodyTweens=[],n.allowStack=!1,n.leapTween=null,n.family=ht.None,n._foodable=!0,n.foodLightParticle=null,n._dmgScale=1,n._cdScaleByPlant=1,n._cdScaleByPlantCD=0,n._cdScaleFightAlone=1,n.foodParent=void 0,e(n,"tall",Z,a(n)),n.tall_=!1,e(n,"short",$,a(n)),n.short_=!1,n.ID=A.Peashooter,n.TYPE=[],n.SUNCOST=0,n.plantType=lt.plant,n.dead=!1,n.flyingPlant=!1,n.aquaticPlant=!1,n.deepAquatic=!1,n.potatoPlant=!1,n.amphibiousPlant=!1,n.deathAnm="Death",e(n,"deadSound",tt,a(n)),n.eatDamagable=!0,n.eaterDetectable=!0,n.smasherDetectable=!0,n.plantInLnC=null,n.hidden=0,n.darkModeOn=!1,e(n,"haveDarkMode",nt,a(n)),n.threwAway=!1,e(n,"bodySize",it,a(n)),n._bodyRec=new C,n.toughness=300,n.health=300,n.hurting=0,n.countDownInvincible=0,n.damagable=!0,n._invincible=!1,n.material=void 0,n.extraHolo=0,n.addColor=new u,e(n,"baseColor",et,a(n)),e(n,"haveWaterAnimation",at,a(n)),n.waterAnm="Water",n.waterAnmFadeinTime=.1,n.body=null,n.shovelDropSun=!0,n._boomboxCD=0,n.boomboxPar=void 0,n.hot=0,n.plantWave=null,n.depthScale=13,n}i(n,t);var s=n.prototype;return s.clearScheduler=function(){this.schedulerX=0},s.getScheduler=function(t){void 0===t&&(t=1);var n=Math.sin(this.schedulerX/(t+.314));return n*n},s.canbeIceBlocked=function(){return!this.fooding&&!this.objdataOwn.ImmuneToIceblock&&!this.invincible},s.teach=function(){this.defaultTeach(1)},s.defaultTeach=function(t){this.isTeacher=!1;var n=B.getPlantAlmanac(this.ID);j.gameTip(n.Introduction,5);var i=R.getPlantProgressByID(this.ID);i.tutorialLevel=Math.max(i.tutorialLevel,t)},s.addArrow=function(t){if(void 0===t&&(t=0),this.arrowCountdown=t,!this.arrow){var n=L(y.arrow());n.parent=q.layer,n.worldPosition=this.node.worldPosition.clone().add3f(0,20,1),n.angle=0,this.arrow=n}},s.onObjdataSet=function(t,n){},s.modObjdataOwn=function(t){var n=this;Object.getOwnPropertyNames(this._objdataOwn).forEach((function(i){null!=t[i]&&(n._objdataOwn[i]=t[i])})),this.objdataOwn.WarmingRadius&&(this.hot=this.objdataOwn.WarmingRadius.PulseInitialDelay),this.onObjdataSet(this._objdata,this._objdataOwn)},s.deathTimeScale=function(){return 1},s.defaultShouldSpeedScale=function(){return this.fallingInSky||this.threwAway?0:this.dead?this.deathTimeScale():this.sheepend?0:1},s.shouldSpeedScale=function(){return this.defaultShouldSpeedScale()},s.sheepen=function(){this.fooding&&this.foodEnd(),this.specialPlantOnSheepend()},s.unsheepen=function(){this.pushTideListener(),this.specialPlantOnUnsheepend()},s.specialPlantOnUnsheepend=function(){},s.specialPlantOnSheepend=function(){},s.canBeChied=function(){return!0},s.onChiedFailed=function(t){},s.heal=function(t){var n=this.health+0;this.health=Math.min(this.health+t,this.toughness),this.onDamaged(n-this.health,n,this.health)},s.shovelable=function(){return!this.fooding&&this.specialPlantShovelable()&&!this._invincible&&!this.endangered&&!this.sheepend},s.specialPlantShovelable=function(){return!0},s.specialPlantOnLoad=function(){},s.characterOnLoad=function(){var t,n=this;this.body=this.node.getChildByName("Body"),this.anmControl=this.getComponent(N),this.anmControl.setBody(),this.db=this.anmControl.body,this.anmControl.body.on(c.EventObject.FRAME_EVENT,(function(t){n.animationListener(t)}),this),this.anmControl.body.on(c.EventObject.SOUND_EVENT,(function(t){n.animationListener(t)}),this),this.anmControl.anmCompleteListenerOn(),this.anmControl.body.on(c.EventObject.COMPLETE,this.animationOnComplete,this);var i=new p;i.initialize({effectAsset:O.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=i;var e=null==(t=this.db)?void 0:t.armature();e&&(null==e||e.getSlots().forEach((function(t){t.name.includes("_DARK")&&n._darkSlots.push(t)}))),this.specialPlantOnLoad()},s.inLnCArray=function(){return this.plantType==lt.vine?this.plantInLnC.vineInSquare:this.plantType==lt.pot||this.plantType==lt.lilyPad?[]:this.plantInLnC.plantInSquare},s.leapDisable=function(t){return void 0===t&&(t=!1),this.dead||!!this.leapTween||this.fooding&&!t},s.leapTo=function(t,n,i,e,a,o,s,l){var h=this;if(void 0===n&&(n=.5),void 0===i&&(i=200),void 0===a&&(a=!1),void 0===o&&(o="linear"),void 0===s&&(s=function(t){}),void 0===l&&(l=function(t){}),!this.leapDisable(a)&&this.plantType!=lt.tile){var r,d,u=this.plantInLnC,c=t.plantPoint,p=t.plantInSquare;if(null==(r=this.anmControl.plantUpper)||null==(r=r.node)||r.setParent(t.inLane.plantUpperLayer,!0),this.plantType==lt.vine)c=t.vinePoint,p=t.vineInSquare,null==(d=this.anmControl.vineback)||null==(d=d.node)||d.setParent(t.vineBackPoint,!0);else if(this.plantType==lt.pot){var g;c=t.potPoint,p=[],t.floawerPot=this,this.plantInLnC.floawerPot=null,null==(g=this.anmControl.potFront)||null==(g=g.node)||g.setParent(t.potPointUpper,!0)}else this.plantType==lt.lilyPad&&(c=t.potPoint,p=[],t.lilyPad=this,this.plantInLnC.lilyPad=null);this.node.setParent(c,!0);var b=this.inLnCArray().indexOf(this);-1!=b&&this.inLnCArray().splice(b,1),-1==p.indexOf(this)&&p.push(this),this.plantInLnC=t,this._endangerdTile&&(this._endangerdTile.node.parent=this.plantInLnC.inLane.tileLayer,this._endangerdTile.node.worldPosition=this.plantInLnC.node.worldPosition),t.readIndex();if(n>0){this.onLeapStart(),this.leapTween=f(this).to(n,{worldPositionX:c.worldPosition.x,worldPositionY:c.worldPosition.y},{easing:o}).call((function(){h.leapTween=null,s(h),h.pushTideListener(),h.dead||h.onLeapEnd(),l(h)})).start();var m=f(this).to(n/2,{height:i},{easing:"quadOut"}).to(n/2,{height:0},{easing:"quadIn"}).start();this.bodyTweens.push(m,this.leapTween)}else this.leapTween=null,this.worldPosition=new P(c.worldPosition.x,c.worldPosition.y),this.body.worldPosition=this.node.worldPosition,this.plantInLnC=t,this.inLnC=t,this.height=0,this.foodLightParticle&&(this.foodLightParticle.worldPosition=this.node.worldPosition),this.fooding||this.pushTideListener();u.readIndex()}},s.onLeapStart=function(){},s.onLeapEnd=function(){},s.animationListener=function(t){},s.animationOnComplete=function(){},s.strengthen=function(){},s.smash=function(t,n){void 0===n&&(n=!1),n?this.inLnC.getAllPlants().forEach((function(n){n.normalSmash(t)})):this.plantType==lt.vine?this.normalSmash(t):this.plantType==lt.plant?this.inLnC.vineInSquare.length?this.inLnC.vineInSquare[0].normalSmash(t):this.normalSmash(t):this.plantType!=lt.pot&&this.plantType!=lt.lilyPad||(this.inLnC.vineInSquare.length?this.inLnC.vineInSquare[0].normalSmash(t):this.inLnC.plantInSquare.length?this.inLnC.plantInSquare[0].normalSmash(t):this.normalSmash(t))},s.normalSmash=function(t){this.smasherDetectable&&this.kill()},s.specialPlantOnSquareChange=function(t,n){},s.characterOnSquareChange=function(t,n){if(!this.dead){var i;this.plantWave&&this.plantWave.node.setParent(this.inLane.node,!0);var e=null==n||null==(i=n.node)?void 0:i.worldPosition;e&&this.setBodyRec(new P(e.x,e.y)),this.specialPlantOnSquareChange(t,n)}},s.plantCDScaleSetter=function(t,n){this._cdScaleByPlantCD=Math.max(n,this._cdScaleByPlantCD),this._cdScaleByPlantCD>0&&(this._cdScaleByPlant=t)},s.fightAloneStrengthen=function(t){var n=Number(null==t?void 0:t.DamageScale),i=Number(null==t?void 0:t.ShootIntervalScale);!isNaN(n)&&n>=0&&(this._dmgScale=n),!isNaN(i)&&i>=0&&(this._cdScaleFightAlone=i),this.specialFightAloneStrengthen(t)},s.specialFightAloneStrengthen=function(t){},s.characterOnLaneChange=function(t,n){t.deletePlant(this),n.addPlant(this),this.foodParent=n.foodPlantLayer,this.specialOnLaneChange(t,n),this.boomboxPar&&n&&this.boomboxPar.setParent(n.prjLayer,!0)},s.specialOnLaneChange=function(t,n){},s.defaultBurn=function(){if(!this.fooding&&!this.invincible){w.playPlantBurn(),this.dieOnLnC();var t=T.instantiatePooly(y.plantBurnt());t.parent=this.inLnC.plantPoint,t.worldPosition=this.inLnC.node.worldPosition,t.setSiblingIndex(0),this.die(!1),this.anmControl.throwAllBackNFront(),this.node.destroy()}},s.burn=function(){this.defaultBurn()},s.getFamily=function(t){var n=ht.None;switch(t){case"Defence":n=ht.Defence;break;case"Peashooter":n=ht.Peashooter;break;case"Sun":n=ht.Sun;break;case"Explosive":n=ht.Explosive;break;case"Melee":n=ht.Melee;break;case"Slow":n=ht.Slow;break;case"Electricity":n=ht.Electricity;break;case"Shadow":n=ht.Shadow;break;case"Poison":n=ht.Poison;break;case"Lobber":n=ht.Lobber;break;case"Magic":n=ht.Magic;break;case"Sharp":n=ht.Sharp;break;case"Cold":n=ht.Cold}this.family=n},s.isAlive=function(){return!this.dead},s.playDeathSound=function(){this.deadSound.length&&w.playArray(this.deadSound,1,.1)},s.dieOnLnC=function(){var t=this.plantInLnC;t&&(t.deadPlant=this.ID)},s.kill=function(){this.fooding||this.invincible||(this.dieOnLnC(),this.die())},s.specialPlantOnEaten=function(t,n,i,e){},s.eat=function(t,n){var i=this.health+0;this.dealDamage(t,0),i!=this.health&&this.specialPlantOnEaten(t,n,i,this.health),this.health<=0&&n.chewSoundWhenEat&&w.playZombieGulp()},s.plantCount=function(){return 1},s.onCommonshotHit=function(t){return!0},s.levelTaskWarnPlantLose=function(){return!0},s.die=function(t,n,i,e,a){var o=this;if(void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===a&&(a=!1),!this.dead){var s;if(this.endangered&&(this.endangered=!1,n&&this.levelTaskWarnPlantLose()&&k.component.plantUnderProtectCount--),this.boomboxCD=0,n&&this.levelTaskWarnPlantLose())_.uiingame.calculateLevelTask(F.PlantLoseLimit,{}),(null==(s=k.component)?void 0:s.fightAlonePlant)==this&&(_.uiingame.loseDarken(null,M.getStringByPropsWithoutTricks("InGameScene","GameLoseTip","PlantEaten")),k.component.fightAlonePlant=null);this.arrow&&(I(this.arrow),this.arrow=null),this.fooding&&!a&&this.foodEnd(),this.isTeacher&&(R.getPlantProgressByID(this.ID).tutorialLevel=0),S.deletePlant(this),this.inLane.deletePlant(this),B.registerPlant(this.ID,-this.plantCount()),_.uiingame.calculateLevelTask(F.PlantCountLimit,{AllPlantCount:S.getPlantAmount()});var l=this.plantInLnC;if(this.plantType==lt.plant){var h=l.plantInSquare.indexOf(this);-1!=h&&l.plantInSquare.splice(h,1)}else if(this.plantType==lt.vine){var r=l.vineInSquare.indexOf(this);-1!=r&&l.vineInSquare.splice(r,1)}else if(this.plantType==lt.tile){var d=l.tilePlantInSquare.indexOf(this);-1!=d&&l.tilePlantInSquare.splice(d,1)}else this.plantType==lt.lilyPad?l.lilyPad=null:this.plantType==lt.pot&&(l.floawerPot=null);t&&n&&this.specialPlantOnKilled(),l.readIndex(),t&&this.playDeathSound(),this.dead=!0,this.specialPlantDie(a),t&&(""==this.deathAnm?(i&&this.playDeathParticle(l),this.node.destroy()):(e&&-1!=this.anmControl.body.armature().animation.animationNames.indexOf(this.deathAnm)&&this.anmControl.playAnimation(this.deathAnm,1),this.anmControl.body.on(c.EventObject.COMPLETE,(function(t){i&&o.playDeathParticle(l),o.node.destroy()}),this)))}},s.playDeathParticle=function(t){var n=T.instantiatePooly(y.deadPlant());n.parent=t.squareLower.node,n.worldPosition=new g(this.worldPositionX,this.worldPositionY,0)},s.specialPlantDie=function(t){},s.specialPlantOnKilled=function(){},s.setHidden=function(t){this.hidden=this.hidden>t?this.hidden:t},s.judgeDarkPlantMode=function(){var t,n;this.haveDarkMode&&((null==(t=this.inLnC)?void 0:t.shadowCD)>0&&!this.darkModeOn?(this.darkModeOn=!0,this._darkSlots.forEach((function(t){t.displayIndex=1}))):(null==(n=this.inLnC)?void 0:n.shadowCD)<=0&&this.darkModeOn&&(this.darkModeOn=!1,this._darkSlots.forEach((function(t){t.displayIndex=0}))))},s.characterOnTileTypeChange=function(t,n){this.dead||this.specialOnTileTypeChange(t,n)},s.specialOnTileTypeChange=function(t,n){},s.onTileTypeChange=function(t,n,i){this.dead||this.fooding||this.invincible||this.pushTideListener(),this.dead||this.specialOnTileTypeChange(n,i)},s.onSkyFallEnd=function(){this.node.destroy()},s.fall=function(){this.dead||(this.die(!1),this.dieOnLnC(),this.anmControl.setTimeScale(0),this.anmControl.throwAllBackNFront(),this.fallInSky(!1))},s.normalThrowAway=function(t,n,i,e){var a=this;if(void 0===t&&(t=!0),void 0===i&&(i=1),void 0===e&&(e=150),!this.dead&&!this.fooding&&!this.invincible){this.die(!1,!0,!1),this.anmControl.setTimeScale(0),this.anmControl.throwAllBackNFront(),w.playPlantThrow();var o=t?this.inLane.toLeft.worldPosition.x:this.inLane.toRight.worldPosition.x;this.threwAway=!0,f(this).to(i,{worldPositionX:o}).start(),f(this).to(i/2,{height:e},{easing:"quadOut"}).to(i/2,{height:0},{easing:"quadIn"}).call((function(){a.node.destroy()})).start(),f(this.node).by(i,{angle:90*(t?1:-1)}).start()}},s.throwAway=function(t,n,i,e){void 0===t&&(t=!0),void 0===n&&(n=null),void 0===i&&(i=1),void 0===e&&(e=150),this.normalThrowAway(t,n,i,e)},s.cannotBeKilledBySurfboard=function(){return this.objdataOwn.CannotBeKilledBySurfboard||this.invincible||this.fooding},s.pushTideListener=function(){var t,n;if(!this.invincible)if((null==(t=this.plantInLnC)?void 0:t.crackleCountdown)>0)this.burn();else{var i=null==(n=this.plantInLnC)?void 0:n.putPlantAvailable(!1,this.ID),e=this.plantInLnC.getTileType();if(e!=D.sea){if(!i){if(e==D.sky)return void this.fall();if(e==D.water&&!this.flyingPlant&&!this.amphibiousPlant)return void this.drown();this.dieOnLnC(),this.die()}}else this.drown(!0)}},s.drown=function(t){void 0===t&&(t=!1),this.die(!1),this.dieOnLnC(),t?y.spawnSeaSplash(this.lIndex,new g(this._worldPositionX,this._worldPositionY,10)):y.spawnWaterSplash(this.lIndex,new g(this._worldPositionX,this._worldPositionY,10)),this.node.destroy()},s.food=function(t){if(void 0===t&&(t=!0),!this.fooding&&this.foodable&&!this.dead&&!this.leapTween&&!this.sheepend){if(t){var n=T.instantiatePooly(y.foodLight());n.parent=this.inLnC.particleLowerPoint,n.setPosition(0,0,0);var i=n.getComponent(c.ArmatureDisplay);i.playAnimation("Start",1);var e=new u(255,255,255,255),a=this.inLnC.FoodLinkTile;a&&(e=a.foodLightColor),i.color=e;var o=this.foodParent?this.foodParent:this.inLane.foodPlantLayer;n.setParent(o,!0),n.setSiblingIndex(0),this.foodLightParticle=n,this.body.setParent(o,!0),w.playPlantFoodStart()}return this.hurting=60,this.fooding=!0,this.health=this.toughness,this.objdataOwn.WarmingRadiusPlantfood?this.hot=this.objdataOwn.WarmingRadiusPlantfood.PulseInitialDelay:this.objdataOwn.WarmingRadius&&(this.hot=this.objdataOwn.WarmingRadius.PulseInitialDelay),this.specialPlantFood(t),!0}return!1},s.specialPlantFood=function(t){},s.specialPlantFoodEnd=function(){},s.foodEnd=function(){var t;this.foodLightParticle&&this.foodLightParticle.getComponent(c.ArmatureDisplay).playAnimation("End",1),this.fooding=!1,this.hurting=60,this.foodLightParticle=null,this.node.isValid?this.body.setParent(this.node,!0):this.body.destroy(),this.body.position=new g(0,0,0),this.specialPlantFoodEnd(),this.pushTideListener(),null==(t=this.plantInLnC)||t.readIndex()},s.setBodyRec=function(t){this.bodyRec=C.createRectangleCenter(t,this.bodySize.width,this.bodySize.height)},s.umbrella=function(){return!1},s.dealDamage=function(t,n,i){if(void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),!this.invincible&&this.damagable){if(this.fooding)return;if(1==n){var e=!1;if(this.inLnC.get3x3().forEach((function(t){var n;e||null==t||null==(n=t.plantInSquare)||n.forEach((function(t){e||t.umbrella()&&(e=!0)}))})),e)return;this.plantType==lt.plant?this.dealNormalDamage(t,n):this.plantType==lt.vine?this.inLnC.plantInSquare.length?this.inLnC.plantInSquare[0].dealDamage(t,n):this.dealNormalDamage(t,n):this.plantType!=lt.pot&&this.plantType!=lt.lilyPad||(this.inLnC.plantInSquare.length?this.inLnC.plantInSquare[0].dealDamage(t,n):this.inLnC.vineInSquare.length?this.inLnC.vineInSquare[0].dealDamage(t,n):this.dealNormalDamage(t,n))}else for(var a=this.inLnC.getAllPlants(),o=0;o<a.length;o++){var s;if(null!=(s=a[o])&&s.eaterDetectable||a[0]==this){var l;null==(l=a[o])||l.dealNormalDamage(t,n);break}}3==n&&this.health<=0&&this.burn()}return i>0&&!this.fooding&&(this.plantInLnC.iceblockPrepareLevel+=i),this.health},s.defaultHurtLightStrength=function(t){return t&&this.hurting>0?this.hurting:20},s.onDamaged=function(t,n,i){},s.setCountDownInvincible=function(t){this.countDownInvincible=this.countDownInvincible>t?this.countDownInvincible:t},s.damageScale=function(t,n){return 1},s.dealNormalDamage=function(t,n){if(void 0===t&&(t=0),void 0===n&&(n=0),!this.invincible){var i=0==n;if(!i||this.eatDamagable){var e=this.health+0;return this.health-=t*this.damageScale(t,n),t>0&&(this.hurting=this.defaultHurtLightStrength(i),this.onDamaged(t,e,this.health+0)),this.health<=0&&this.onDamagedToHealthO(),this.health}}},s.onDamagedToHealthO=function(){this.dieOnLnC(),this.die()},s.shouldMaterial=function(){var t,n=new b(0,0,0,1),i=0,e=0,a=0;this.hurting>0&&(n.x+=this.hurting/60,n.y+=this.hurting/60,n.z+=this.hurting/60,e+=this.hurting/20),this.isAlive()&&null!=(t=this.plantInLnC)&&t.iceblock&&(i=1),this._cdScaleByPlantCD>0&&(e+=.5),this.hidden>0&&(n.x+=.12,n.y+=.1,n.z-=.1,a=.5),a+=this.extraHolo;var o=this.material.passes[0].getHandle("addColor");this.material.passes[0].setUniform(o,n);var s=this.material.passes[0].getHandle("chillColor");this.material.passes[0].setUniform(s,i);var l=this.material.passes[0].getHandle("saturation");this.material.passes[0].setUniform(l,e);var h=this.material.passes[0].getHandle("holo");this.material.passes[0].setUniform(h,a),this.anmControl.body.customMaterial=this.material},s._getShouldColor=function(){var t;return this.isAlive()?null!=(t=this.plantInLnC)&&t.iceblock?new u(255,255,255,255):this.sheepend?new u(255,255,255,0):this.baseColor:new u(255,255,255,255)},s.shouldColor=function(){var t=this._getShouldColor();this.anmControl.bodyPart.forEach((function(n){n.color=t}))},s.specialPlantOnMouseDown=function(){return!1},s.onMouseDown=function(t){if(!_.uiingame.paused){if(t.getButton()==m.BUTTON_RIGHT)this.water();else if(k.gameStarted&&t.getButton()==m.BUTTON_LEFT&&-1==_.index&&!this.sheepend)return this.specialPlantOnMouseDown();return!1}},s.waterable=function(){return!0},s.water=function(){!this.fooding&&this.haveWaterAnimation&&!this.dead&&this.waterable()&&this.anmControl.playAnimation(this.waterAnm,1,this.waterAnmFadeinTime)},s.specialPlantOnEnable=function(){},s.lncStayable=function(t){},s.readLastDeadPlantInLnC=function(t,n){},s.characterOnEnable=function(){this.boomboxCD=0,this.boomboxPar=null,this._intensiveCarrot=null,this.shovelDropSun=!0,this._cdScaleByPlant=1,this._cdScaleByPlantCD=0,this._cdScaleFightAlone=1,this.short_=this.short,this.tall_=this.tall,this.bodyTweens=[],this.dead=!1,this.eaterDetectable=!0,this.smasherDetectable=!0,this.deathAnm="Death",this.darkModeOn=!1,this.damagable=!0,S.registerPlant(this),this.fooding=!1,this.health=this.toughness,this.darkModeOn=!this.haveDarkMode,this._invincible=!1,this.eatDamagable=!0,this.hidden=0,this.threwAway=!1,this.endangered=!1,this.isTeacher=!(R.getPlantProgressByID(this.ID).tutorialLevel>0),B.registerPlant(this.ID,this.plantCount()),this.specialPlantOnEnable()},s.specialPlantOnDisable=function(){},s.characterOnDisable=function(){this.fooding&&this.foodEnd(),this.die(!1,!1,!1,!1,!0),this.plantWave&&(this.plantWave.willBeKilled=!0,this.plantWave.getComponent(c.ArmatureDisplay).playAnimation("Fade"),this.plantWave=null),this.specialPlantOnDisable(),S.deletePlant(this),this.bodyTweens.forEach((function(t){null==t||t.stop()})),this.arrow&&(I(this.arrow),this.arrow=null)},s.specialPlantUpdate=function(t,n,i){},s.specialPlantLateUpdate=function(t){},s.lateUpdate=function(t){this.specialPlantLateUpdate(t)},s.blowStart=function(){return!1},s.plantHeat=function(t){this.hot>0&&(this.hot-=t);var n=this.objdataOwn.WarmingRadius;this.fooding&&this.objdataOwn.WarmingRadiusPlantfood&&(n=this.objdataOwn.WarmingRadiusPlantfood),n&&this.hot<=0&&(this.hot=0,this.inLnC.plantHeat(n)&&(this.hot=n.PulseCooldown))},s._replantableForLnC=function(){return this.replantable()&&(k.FirstAidSupplied||k.sandBoxModeOn||!this.replantableListensFirstAid())},s.replantable=function(){return!1},s.replantableListensFirstAid=function(){return!0},s.replant=function(){},s.divingStart=function(){},s.divingEnd=function(){},s.addWave=function(t){if(!this.flyingPlant){var n,i;if(t!=D.water||this.plantWave||!(this._depth>0)||this.inLnC.haveLilyPad||this.ID!=A.FloawerPot&&this.inLnC.haveFloawerPot||(this.plantWave=T.instantiatePooly(y.plantWaterWave()).getComponent(E),this.plantWave.getComponent(c.ArmatureDisplay).playAnimation("Idle",1/0),this.plantWave.node.parent=this.inLane.node),this.plantWave){this.plantWave.node.worldPosition=new g(this._worldPositionX,this._worldPositionY);var e=3*this.originalShadeScale.x-.3;this.plantWave.node.scale=new g(e,e,1),(t!=D.water||this._depth<=0)&&(this.plantWave.db.playAnimation("Fade"),this.plantWave=null)}var a=this.depth;!this.amphibiousPlant&&!this.sheepend||t!=D.water&&!this.inLnC.currentTileLiquid||!(this.height<=0)||null!=(n=this.plantInLnC)&&n.lilyPad||null!=(i=this.plantInLnC)&&i.floawerPot||this.threwAway?this.plantType!=lt.pot&&(this.depth=0):this.depth=this.depthScale*W.depth(this.worldPositionX,this.inLnC),a<=0&&this.depth>0?this.divingStart():a>0&&this.depth<=0&&this.divingEnd()}},s.specialFloawerpotHeightScale=function(){return 1},s.bindsToPots=function(){return!0},s.characterUpdate=function(t){var n;this.schedulerX+=t,this.countDownInvincible>0&&(this.countDownInvincible--,this.countDownInvincible<=0&&this.pushTideListener()),this.hidden>0&&this.hidden--,this.judgeDarkPlantMode(),!this.dead&&this.bindsToPots()&&!this.leapTween&&(this.plantInLnC.haveFloawerPot&&this.plantType!=lt.pot||this.plantInLnC.haveLilyPad&&this.plantType!=lt.lilyPad)&&(this.plantInLnC.haveFloawerPot?this.worldPosition=this.plantInLnC.floawerPot.worldPosition:this.plantInLnC.haveLilyPad&&(this.worldPosition=this.plantInLnC.lilyPad.worldPosition),this.height=this.specialFloawerpotHeightScale()*(this.plantInLnC.orgPlantPoint.worldPosition.y-this.plantInLnC.plantPoint.worldPosition.y));var i=this.shouldSpeedScale();if(this.anmControl.fixTimeScale(i),this.boomboxPar&&(this.boomboxPar.worldPosition=this.worldPosition.toVec3()),this.boomboxCD>0&&!this.objdataOwn.ImmuneToBoomBox&&(i=0,this.boomboxCD-=t),k.gameStarted&&!k.component.gameWon&&!this.dead&&!this.leapTween&&this.inLnC&&this.inLane&&(this.specialPlantUpdate(t*i,t,i),this.plantHeat(t)),k.gaming&&this.isTeacher&&this.teach(),this._cdScaleByPlantCD>0&&(this._cdScaleByPlantCD-=t,this._cdScaleByPlantCD<=0&&(this._cdScaleByPlant=1)),this.arrow&&(this.arrow.worldPosition=this.node.worldPosition.clone().add3f(0,20,1),this.arrowCountdown-=t,this.arrowCountdown<=0&&(I(this.arrow),this.arrow=null)),this.hurting>0?this.hurting-=60*t*(this.fooding?4:1):this.hurting=0,this.shouldMaterial(),this.shouldColor(),this.addWave(null==(n=this.inLnC)?void 0:n.getTileType()),this.specialPlantUpdateForce(t*i,t,i),this.body.parent!=this.node&&(this.body.worldPosition=new g(this.worldPositionX,this.worldPositionY+this.height,0)),this.body.parent!=this.node){this._scaleForCharacter;this.body.worldScale=this.node.worldScale,this.body.worldRotation=this.node.worldRotation}},s.specialPlantUpdateForce=function(t,n,i){},o(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdata",get:function(){return this._objdata},set:function(t){this.modObjdataOwn(t),this._objdata=t}},{key:"sheepend",get:function(){return this.plantInLnC&&(null!=this.plantInLnC.sheep||null!=this.plantInLnC.octopus||null!=this.plantInLnC.iceblock||null!=this._intensiveCarrot)}},{key:"endangered",get:function(){return this._endangered},set:function(t){var n;if(this._endangered&&!t)null==(n=this._endangerdTile)||null==(n=n.db)||n.playAnimation("Die",1),this._endangerdTile=null;else if(!this._endangered&&t){var i,e=L(x.endangeredTile());e.parent=this.plantInLnC.inLane.tileLayer,e.worldPosition=this.plantInLnC.node.worldPosition,this._endangerdTile=e.getComponent(E),null==(i=this._endangerdTile)||null==(i=i.db)||i.playAnimation("Idle",1/0)}this._endangered=t}},{key:"foodable",get:function(){return this._foodable&&!this.sheepend},set:function(t){var n;this._foodable=t,null==(n=this.plantInLnC)||n.readIndex()}},{key:"_cdScale",get:function(){return this._cdScaleByPlant*this._cdScaleFightAlone}},{key:"suncost",get:function(){return this.SUNCOST*this.plantCount()}},{key:"bodyRecForSnowball",get:function(){var t;return null!=(t=this.inLnC)&&t.iceblock?this._bodyRec:this.realBodyRec}},{key:"realBodyRec",get:function(){return this.sheepend?new C:this._bodyRec}},{key:"bodyRec",get:function(){return this.hidden>0||this.sheepend||this.leapTween?new C:this._bodyRec},set:function(t){this._bodyRec=t}},{key:"invincible",get:function(){return this._invincible||this.countDownInvincible>0||this.sheepend||!!this.leapTween||this.fooding},set:function(t){this._invincible=t,this.plantInLnC&&this.pushTideListener()}},{key:"boomboxCD",get:function(){return this._boomboxCD},set:function(t){t<=0&&this._boomboxCD>=0&&this.boomboxPar&&(T.destroyPooly(this.boomboxPar),this.boomboxPar=null),this._boomboxCD=t}}]),n}(v)).prototype,"tall",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$=n(Q.prototype,"short",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tt=n(Q.prototype,"deadSound",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nt=n(Q.prototype,"haveDarkMode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),it=n(Q.prototype,"bodySize",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(48,72)}}),et=n(Q.prototype,"baseColor",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(255,255,255,255)}}),at=n(Q.prototype,"haveWaterAnimation",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),J=Q))||J));s._RF.pop()}}}));

System.register("chunks:///_virtual/Plantern.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./ParticleSelfdestroy.ts","./NodePools.ts","./Square.ts","./levelController.ts"],(function(n){var t,o,e,i,a,l,r,s,u,d,c,h,f,p,P,m;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,l=n._decorator,r=n.AudioClip,s=n.Prefab},function(n){u=n.Plant},function(n){d=n.sounds},function(n){c=n.Rectangle,h=n.ZombiePool},function(n){f=n.ParticleSelfdestroy},function(n){p=n.NodePools},function(n){P=n.Square},function(n){m=n.LevelPlay}],execute:function(){var g,L,v,b,y,S,A;a._RF.push({},"3829aoV15JHDaouu54xOnZQ","Plantern",void 0);var C=l.ccclass,R=l.property;n("PlanternPlant",(g=C("PlanternPlant"),L=R(r),v=R(s),g((S=t((y=function(n){function t(){for(var t,o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return(t=n.call.apply(n,[this].concat(a))||this).fooded=!1,t.sunAdd=25,t.detecter=new c,e(t,"sunBlastSound",S,i(t)),e(t,"lightLoopPrefab",A,i(t)),t.lightLoop=void 0,t}o(t,n);var a=t.prototype;return a.specialPlantOnEnable=function(){this.fooded=!1,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand"],this.lightLoop=null},a.specialPlantFood=function(n){this.anmControl.playAnimation("Food",1),this.fooded=!0,this.anmControl.IdleAnim="Idle_Food",this.anmControl.RandomAnim=[],this.foodable=!1},a.animationListener=function(n){var t=this;"foodEnd"==n.name?this.foodEnd():"SunBlast"==n.name&&(this.fooded=!0,d.play(this.sunBlastSound,1,.2),h.pool().concat().forEach((function(n){n.isRealZombie&&(n.haveSun=n.haveSun>t.sunAdd?n.haveSun:t.sunAdd)})))},a.specialPlantOnSquareChange=function(n,t){var o;if(null==(o=this.lightLoop)||null==(o=o.db)||o.playAnimation("Die"),this.lightLoop=null,this.detecter=c.createRectangleNodeCenter(t.node,3*P.SquareDisW,3*P.SquareDisH),!this.dead){var e=p.instantiatePooly(this.lightLoopPrefab);e.parent=this.inLane.prjLayer,e.worldPosition=t.node.worldPosition,this.lightLoop=e.getComponent(f),this.lightLoop.db.playAnimation("Idle",1/0)}},a.specialPlantDie=function(n){var t;null==(t=this.lightLoop)||null==(t=t.db)||t.playAnimation("Die"),this.lightLoop=null},a.waterable=function(){return!this.fooded},a.specialPlantUpdate=function(n,t,o){var e,i,a,l=this;this.fooded&&(null==(a=this.inLnC)||a.get3x3().forEach((function(n){var t;null==n||null==(t=n.getAllPlants())||t.forEach((function(n){n.ID!=l.ID&&n.setHidden(3)}))})));[this.inLane,null==(e=this.inLane)?void 0:e.UpperLane,null==(i=this.inLane)?void 0:i.LowerLane].forEach((function(n){n.zombiePool().forEach((function(n){n.isRealZombie&&n.isAlive()&&l.detecter.judgeCrossRec(n.bodyRecReal)&&(m.component.ExcludeListSunProducers||(n.haveSun=Math.max(l.sunAdd,n.haveSun)),n.setSunBeanParticleCD(.5))}))}))},a.specialPlantFoodEnd=function(){this.anmControl.playRandom()},t}(u)).prototype,"sunBlastSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(y.prototype,"lightLoopPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/plantFood.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dropping.ts","./PlantFoodCount.ts","./SoundRescourses.ts","./levelController.ts","./SandBoxLevelSettingWindow.ts","./Materials.ts"],(function(n){var o,t,e,i,a,r,l,s,c,u,p,d,f,g;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,l=n.AudioClip,s=n.Color},function(n){c=n.dropping},function(n){u=n.PlantFoodCount},function(n){p=n.sounds},function(n){d=n.LevelPlay},function(n){f=n.SandBoxLevelSettingWindow},function(n){g=n.materialRes}],execute:function(){var h,v,y,F,m;a._RF.push({},"5176faDmB5OmZE/e9j24mx+","plantFood",void 0);var C=r.ccclass,S=r.property;n("plantFood",(h=C("plantFood"),v=S(l),h((m=o((F=function(n){function o(){for(var o,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return o=n.call.apply(n,[this].concat(a))||this,e(o,"startingSound",m,i(o)),o}t(o,n);var a=o.prototype;return a.goToUIPath=function(){return"Canvas/UIInGame/PlantFoodSlot/slotParent"},a.onGroundHit=function(){},a.specialDroppingOnEnable=function(){this.fadingOn(),p.play(this.startingSound)},a.specialCollectable=function(){var n=!u.component.full()||f.freePF;return n||d.component.gameWon||p.playCardChooseFailed(!0),n},a.specialDroppingUpdate=function(n,o){this.db.color=this.fadingCountdown<=3?g.plantfoodWarnColor:new s(255,255,255,255)},a.specialGoToUI=function(n){u.component.plantFoodAdd()},o}(c)).prototype,"startingSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=F))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/PlantFoodCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI.ts","./NodePools.ts","./SandBoxLevelSettingWindow.ts","./SettingWindow.ts","./levelController.ts","./PlayerProperties.ts","./SoundRescourses.ts"],(function(o){var t,n,i,e,s,l,a,d,h,r,u,c,p,y,m,f,v,w,g,C,P,F,b,k,N,T,I,S;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,i=o.initializerDefineProperty,e=o.assertThisInitialized,s=o.createClass},function(o){l=o.cclegacy,a=o._decorator,d=o.AudioClip,h=o.Prefab,r=o.dragonBones,u=o.Node,c=o.Color,p=o.Vec3,y=o.AnimationComponent,m=o.EventMouse,f=o.tween,v=o.find,w=o.Label,g=o.UITransform,C=o.instantiate,P=o.Component},function(o){F=o.UIInGame},function(o){b=o.NodePools},function(o){k=o.SandBoxLevelSettingWindow},function(o){N=o.SettingWindow},function(o){T=o.LevelPlay},function(o){I=o.AllPlayerProperties},function(o){S=o.sounds}],execute:function(){var B,A,x,L,E,U,D,W,_,O,z,M,K,R,G,H,j,J;l._RF.push({},"954fdB0gXpF/Jaj7g2CsJh0","PlantFoodCount",void 0);var Y=a.ccclass,V=a.property;o("PlantFoodCount",(B=Y("PlantFoodCount"),A=V(d),x=V(d),L=V(d),E=V(h),U=V(r.ArmatureDisplay),D=V(r.ArmatureDisplay),W=V(u),B(((J=function(o){function t(){for(var t,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(t=o.call.apply(o,[this].concat(s))||this).initialSunCount=0,i(t,"collectSound",z,e(t)),i(t,"activateSound",M,e(t)),i(t,"cheatAddSound",K,e(t)),i(t,"plantFoodInHand",R,e(t)),t.maxCount=3,t.slot=[],t.plantFoodNum=0,t.chosen=void 0,t.keyTip=void 0,t.ui=void 0,t.keyRED=new c(255,100,100,255),t.keyGREEN=new c(100,255,100,255),t.keyYELLOW=new c(245,255,0,255),i(t,"collectLight",G,e(t)),i(t,"icon",H,e(t)),i(t,"addButton",j,e(t)),t.busyCollecting=!1,t.oldpos=new p(0,0,0),t.conveyorpos=new p(0,75,0),t.shown=!0,t}n(t,o),t.plantfoodWarn=function(){this.component.plantfoodWarn()};var l=t.prototype;return l.plantfoodWarn=function(){this.getComponent(y).play("plantfoodWarn")},l.setKeyTipColor=function(){if(this.keyTip){if(!N.showKeyTips)return void(this.keyTip.color=new c(0,0,0,0));this.plantFoodNum>0||k.freePF?this.keyTip.color=this.chosen?this.keyGREEN:this.keyYELLOW:this.keyTip.color=this.keyRED,this.keyTip.node.scale=this.chosen?new p(.9,.9):new p(.7,.7)}},l.addMouseChild=function(){S.play(this.activateSound,1,0);var o=b.instantiatePooly(this.plantFoodInHand);o.parent=this.ui.plantInHandLayer,o.setPosition(-14,-20,0)},l.choose=function(){this.chosen=-3==this.ui.index,this.chosen?this.icon.playAnimation("Pushed"):this.icon.playAnimation("Idle")},l.setPlantFoodNum=function(o){var t=o+0;t>this.maxCount?t=this.maxCount:t<0&&(t=0),this.plantFoodNum=t;for(var n=0;n<this.maxCount;n++)n<t?this.slot[n].playAnimation("Collecting"):this.slot[n].playAnimation("Empty");this.choose()},l.plantFoodAdd=function(){this.shown||this._show(T.component.conveyor),this.plantFoodNum<this.maxCount&&(this.plantFoodNum++,S.play(this.collectSound,1,.1),this.slot[this.plantFoodNum-1].playAnimation("Collecting"),this.busyCollecting||(this.collectLight.playAnimation("IconCollecting",1),this.busyCollecting=!0),this.choose(),T.component.gameWon&&T.component.saveDangerroomPlayerProperties(),I.savePP())},l.plantFoodDec=function(){this.plantFoodNum>0&&(this.slot[this.plantFoodNum-1].playAnimation("Empty"),this.plantFoodNum--,this.choose())},l.onMouseDown=function(o){if(o.preventSwallow=!0,o.getButton()==m.BUTTON_LEFT){var t=this.plantFoodNum;this.plantFoodAdd(),t<this.plantFoodNum&&S.play(this.cheatAddSound,1,.1)}},t.show=function(o,n){var i;void 0===o&&(o=!1),void 0===n&&(n=null),null==(i=t.component)||i._show(o,n)},t.hide=function(){var o;null==(o=t.component)||o._hide()},t.keyOn=function(){var o;null==(o=t.component)||o._keyOn()},l._show=function(o,t){var n;(void 0===o&&(o=!1),void 0===t&&(t=null),this.shown)||(null!=(n=this.keyTip)&&n.node&&(this.keyTip.node.active=!0),N.allowCheat||T.sandBoxModeOn||this.addButton.position.add(new p(-1e3,1e3,0)),this.shown=!0,f(this.node).to(.4,{position:!F.PocketUI&&o?this.conveyorpos:this.oldpos},{easing:"cubicOut"}).call((function(){t&&t()})).start())},l._hide=function(){var o;this.shown&&(null!=(o=this.keyTip)&&null!=(o=o.node)&&o.active&&(this.keyTip.node.active=!1),this.shown=!1,f(this.node).by(.4,{position:new p(0,F.PocketUI?-600:600,0)},{easing:"cubicIn"}).start())},l.full=function(){return this.maxCount<=this.plantFoodNum},l._keyOn=function(){this.keyTip&&(this.keyTip.node.worldPosition=new p(this.node.worldPosition.x,this.node.worldPosition.y-20,0))},l.rotate=function(o){if(void 0===o&&(o=!0),!F.PocketUI){var t=this.node.getChildByName("slotParent");o?(t.angle=0,t.scale=new p(1,1,1)):(t.angle=-90,t.scale=new p(1,-1,1))}},l.update=function(o){this.setKeyTipColor()},l.onLoad=function(){var o,n=this;if(this.maxCount=T.BasePFSlotcount,this.node.position=F.PocketUI?new p(-350,-280,0):new p(-440,200,0),t.component=this,this.oldpos=this.node.position.clone(),this.conveyorpos.add(this.oldpos),this.rotate(),this.node.position.add3f(0,F.PocketUI?-600:600,0),this.shown=!1,this.ui=this.node.parent.getComponent(F),this.chosen=!1,v("Canvas/UIInGameUpper/KeyTip/KeyF")&&(this.keyTip=null==(o=v("Canvas/UIInGameUpper/KeyTip/KeyF"))?void 0:o.getComponent(w)),this.keyTip&&(this.keyTip.node.worldPosition=new p(this.node.worldPosition.x,this.node.worldPosition.y-20,0)),!N.allowCheat&&this.addButton&&(this.addButton.active=!1),!F.PocketUI){var i=v("Canvas/UIInGame/SunSlot/add");i&&this.addButton.setWorldPosition(i.worldPosition.x,this.addButton.worldPosition.y,0)}this.slot.push(this.node.getChildByName("slotParent").getChildByName("slots").getChildByName("slot").getComponent(r.ArmatureDisplay)),this.node.getChildByName("slotParent").getChildByName("plantFoodSlots").getComponent(g).width=316+48*(this.maxCount-3);for(var e=1;e<this.maxCount;e++){var s=C(this.slot[0].node);s.parent=this.slot[0].node.parent,s.setPosition(this.slot[e-1].node.position.x+48,this.slot[e-1].node.position.y,0),this.slot.push(s.getComponent(r.ArmatureDisplay))}this.node.getChildByName("add").on(u.EventType.MOUSE_DOWN,this.onMouseDown,this),this.collectLight.on(r.EventObject.COMPLETE,(function(){n.busyCollecting=!1}),this),this.choose()},s(t,null,[{key:"plantFoodNum",get:function(){return this.component.plantFoodNum}}]),t}(P)).component=void 0,z=t((O=J).prototype,"collectSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(O.prototype,"activateSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(O.prototype,"cheatAddSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(O.prototype,"plantFoodInHand",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(O.prototype,"collectLight",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(O.prototype,"icon",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(O.prototype,"addButton",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=O))||_));l._RF.pop()}}}));

System.register("chunks:///_virtual/PlantIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotal.ts","./Materials.ts"],(function(t){var e,r,n,a,i,c,o,l,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.createClass},function(t){c=t.cclegacy,o=t._decorator,l=t.Component},function(t){s=t.CardFeatureTotal},function(t){u=t.materialRes}],execute:function(){var p,f,y,h,g;c._RF.push({},"618abk4o/lCirOmyspVGilh","PlantIcon",void 0);var d=o.ccclass,_=o.property;t("PlantIcon",(p=d("PlantIcon"),f=_(s),p((g=e((h=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i))||this,n(e,"cf",g,a(e)),e._grey=!1,e}r(e,t);var c=e.prototype;return c.start=function(){this.cf.ca.almanacModeOn=!0},c.switchPlant=function(t){this.cf.cardGrouper(t,!1)},i(e,[{key:"grey",get:function(){return this._grey},set:function(t){this._grey=t,this.cf.ca._plant.customMaterial=t?u.greyMaterial:null}}]),e}(l)).prototype,"cf",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=h))||y));c._RF.pop()}}}));

System.register("chunks:///_virtual/Plants.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotal.ts","./MultiLanguage.ts","./foodLinkTile.ts","./Square.ts","./Tiles.ts","./SandBoxLevelSettingWindow.ts","./SettingWindow.ts","./PlayerProperties.ts","./PlantIcon.ts","./JSONs.ts"],(function(e){var t,n,i,r,a,l,o,u,s,p,c,h,b,w,f,P,g,y,m,S,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.SpriteFrame,u=e.JsonAsset,s=e.Prefab,p=e.instantiate,c=e.Component},function(e){h=e.PlantsInCard},function(e){b=e.MultiLanguage},function(e){w=e.FoodLinkTileTypeEnum},function(e){f=e.Square},function(e){P=e.TileEnum},function(e){g=e.SandBoxLevelSettingWindow},function(e){y=e.SettingWindow},function(e){m=e.AllPlayerProperties},function(e){S=e.PlantIcon},function(e){d=e.PvZ2Object}],execute:function(){var B,T,v,R,z,G,M,C,E,k,L,D,I,A,F,N,O,W,H,x,J,K,_,V,j,q,U,Y,Z,X,Q,$,ee,te,ne,ie,re,ae,le,oe,ue,se,pe,ce,he,be,we,fe,Pe,ge,ye,me,Se,de,Be,Te,ve,Re,ze,Ge,Me,Ce,Ee,ke,Le,De,Ie,Ae,Fe,Ne,Oe,We,He,xe,Je,Ke,_e,Ve,je,qe,Ue,Ye,Ze,Xe,Qe,$e,et,tt,nt,it,rt,at,lt,ot,ut,st,pt,ct,ht,bt,wt,ft,Pt,gt,yt,mt,St,dt,Bt,Tt,vt,Rt,zt,Gt,Mt,Ct,Et,kt,Lt,Dt,It,At,Ft,Nt,Ot,Wt,Ht,xt,Jt,Kt,_t,Vt,jt,qt,Ut,Yt,Zt,Xt,Qt,$t,en,tn,nn,rn,an,ln,on,un,sn,pn,cn,hn,bn,wn,fn,Pn,gn,yn,mn,Sn,dn,Bn,Tn,vn,Rn,zn,Gn,Mn,Cn,En,kn,Ln,Dn,In,An,Fn,Nn,On,Wn,Hn,xn,Jn,Kn,_n,Vn,jn,qn,Un,Yn,Zn,Xn,Qn,$n,ei,ti,ni,ii,ri,ai,li,oi,ui,si,pi,ci,hi,bi,wi,fi,Pi,gi,yi,mi,Si,di,Bi,Ti,vi,Ri,zi,Gi,Mi,Ci,Ei,ki,Li,Di,Ii,Ai,Fi,Ni,Oi,Wi,Hi,xi,Ji,Ki,_i,Vi,ji,qi,Ui,Yi,Zi,Xi,Qi,$i,er,tr,nr,ir,rr,ar,lr,or,ur,sr,pr,cr,hr,br,wr,fr,Pr,gr,yr,mr,Sr,dr,Br,Tr,vr,Rr,zr,Gr,Mr,Cr,Er,kr,Lr,Dr,Ir,Ar,Fr,Nr,Or,Wr,Hr,xr,Jr,Kr,_r,Vr,jr,qr,Ur,Yr,Zr,Xr,Qr,$r,ea,ta,na,ia,ra,aa,la,oa;a._RF.push({},"69863LwbzhG4o6A+BjtBkHR","Plants",void 0);var ua=l.ccclass,sa=l.property,pa=e("PlantEnum",function(e){return e[e.Peashooter=0]="Peashooter",e[e.Sunflower=1]="Sunflower",e[e.Wallnut=2]="Wallnut",e[e.PotatoMine=3]="PotatoMine",e[e.CabbagePult=4]="CabbagePult",e[e.Bloomerang=5]="Bloomerang",e[e.IcebergLettuce=6]="IcebergLettuce",e[e.BonkChoy=7]="BonkChoy",e[e.Repeater=8]="Repeater",e[e.MegaGatlingPea=9]="MegaGatlingPea",e[e.ScaredyShroom=10]="ScaredyShroom",e[e.FumeShroom=11]="FumeShroom",e[e.GraveBuster=12]="GraveBuster",e[e.Pumpkin=13]="Pumpkin",e[e.PeaVine=14]="PeaVine",e[e.FloawerPot=15]="FloawerPot",e[e.FirePeashooter=16]="FirePeashooter",e[e.ThreePeater=17]="ThreePeater",e[e.PrimalPea=18]="PrimalPea",e[e.Rotobaga=19]="Rotobaga",e[e.HomingThistle=20]="HomingThistle",e[e.StarFruit=21]="StarFruit",e[e.ShootingStarfruit=22]="ShootingStarfruit",e[e.LilyPad=23]="LilyPad",e[e.SunShroom=24]="SunShroom",e[e.TwinSunflower=25]="TwinSunflower",e[e.Dragonbruit=26]="Dragonbruit",e[e.Moonflower=27]="Moonflower",e[e.SnowPea=28]="SnowPea",e[e.LightningReed=29]="LightningReed",e[e.KernelPult=30]="KernelPult",e[e.MeteorFlower=31]="MeteorFlower",e[e.SpringBean=32]="SpringBean",e[e.UmbrellaLeaf=33]="UmbrellaLeaf",e[e.MelonPult=34]="MelonPult",e[e.WinterMelon=35]="WinterMelon",e[e.Blover=36]="Blover",e[e.Spikeweed=37]="Spikeweed",e[e.Spikerock=38]="Spikerock",e[e.Chomper=39]="Chomper",e[e.GlacierShroom=40]="GlacierShroom",e[e.PrimalWallnut=41]="PrimalWallnut",e[e.Buttercup=42]="Buttercup",e[e.BananaLauncher=43]="BananaLauncher",e[e.MissileToe=44]="MissileToe",e[e.CherryBomb=45]="CherryBomb",e[e.DoomShroom=46]="DoomShroom",e[e.CranJelly=47]="CranJelly",e[e.BabyDragonbruit=48]="BabyDragonbruit",e[e.Torchwood=49]="Torchwood",e[e.Jalapeno=50]="Jalapeno",e[e.PuffShroom=51]="PuffShroom",e[e.GloomVine=52]="GloomVine",e[e.Vamporcini=53]="Vamporcini",e[e.PrimalPotatoMine=54]="PrimalPotatoMine",e[e.Cactus=55]="Cactus",e[e.PowerLily=56]="PowerLily",e[e.CoconutCannon=57]="CoconutCannon",e[e.PeaPod=58]="PeaPod",e[e.SnapDragon=59]="SnapDragon",e[e.GatlingPea=60]="GatlingPea",e[e.SplitPea=61]="SplitPea",e[e.ChiliBean=62]="ChiliBean",e[e.Tallnut=63]="Tallnut",e[e.Hurrikale=64]="Hurrikale",e[e.Stallia=65]="Stallia",e[e.ElectricPeashooter=66]="ElectricPeashooter",e[e.Squash=67]="Squash",e[e.GloomShroom=68]="GloomShroom",e[e.MagnifyingGrass=69]="MagnifyingGrass",e[e.CeleryStalker=70]="CeleryStalker",e[e.Sapfling=71]="Sapfling",e[e.Parsnip=72]="Parsnip",e[e.ExplodeONut=73]="ExplodeONut",e[e.Grapeshot=74]="Grapeshot",e[e.Plantern=75]="Plantern",e[e.HeavenlyPeach=76]="HeavenlyPeach",e[e.JackOLantern=77]="JackOLantern",e[e.Dandelion=78]="Dandelion",e[e.ChardGuard=79]="ChardGuard",e[e.HypnoShroom=80]="HypnoShroom",e[e.ElectricCurrant=81]="ElectricCurrant",e[e.EscapeRoot=82]="EscapeRoot",e[e.Imitater=83]="Imitater",e[e.ShadowShroom=84]="ShadowShroom",e[e.MagnetShroom=85]="MagnetShroom",e[e.Turnip=86]="Turnip",e[e.EMPeach=87]="EMPeach",e[e.Citron=88]="Citron",e[e.LaserBean=89]="LaserBean",e[e.SolarTomato=90]="SolarTomato",e[e.TileTurnipAlpha=91]="TileTurnipAlpha",e[e.TileTurnipBeta=92]="TileTurnipBeta",e[e.TileTurnipGamma=93]="TileTurnipGamma",e[e.TileTurnipDelta=94]="TileTurnipDelta",e[e.TileTurnipEpsilon=95]="TileTurnipEpsilon",e[e.InfiNut=96]="InfiNut",e[e.TileTurnip=97]="TileTurnip",e[e.MariGold=98]="MariGold",e[e.MariGoldRed=99]="MariGoldRed",e[e.MariGoldOrange=100]="MariGoldOrange",e[e.MariGoldYellow=101]="MariGoldYellow",e[e.MariGoldGreen=102]="MariGoldGreen",e[e.MariGoldBlue=103]="MariGoldBlue",e[e.MariGoldPink=104]="MariGoldPink",e[e.MariGoldPurple=105]="MariGoldPurple",e[e.AppleMortar=106]="AppleMortar",e[e.RedStinger=107]="RedStinger",e[e.Skyshooter=108]="Skyshooter",e[e.SunBean=109]="SunBean",e[e.Peanut=110]="Peanut",e[e.PotionSpeed=111]="PotionSpeed",e[e.PotionToughness=112]="PotionToughness",e[e.PotionInvisibility=113]="PotionInvisibility",e[e.TangleKelp=114]="TangleKelp",e[e.BowlingBulb=115]="BowlingBulb",e[e.BowlingBulbSpawner1=116]="BowlingBulbSpawner1",e[e.BowlingBulbSpawner2=117]="BowlingBulbSpawner2",e[e.BowlingBulbSpawner3=118]="BowlingBulbSpawner3",e[e.BowlingBulbSpawnerExplode=119]="BowlingBulbSpawnerExplode",e[e.Guacodile=120]="Guacodile",e[e.BowlingSpawnerWallNut=121]="BowlingSpawnerWallNut",e[e.BowlingSpawnerExplodeONut=122]="BowlingSpawnerExplodeONut",e[e.BowlingSpawnerInfiNut=123]="BowlingSpawnerInfiNut",e[e.BowlingSpawnerPrimalWallNut=124]="BowlingSpawnerPrimalWallNut",e[e.BowlingBulbSpawnerIceberg=125]="BowlingBulbSpawnerIceberg",e[e.BowlingSpawnerTallNut=126]="BowlingSpawnerTallNut",e[e.GhostPepper=127]="GhostPepper",e[e.SweetPotato=128]="SweetPotato",e[e.PepperPult=129]="PepperPult",e[e.HotPotato=130]="HotPotato",e[e.Stunion=131]="Stunion",e[e.GoldLeaf=132]="GoldLeaf",e[e.AKEE=133]="AKEE",e[e.Endurian=134]="Endurian",e[e.Toadstool=135]="Toadstool",e[e.LavaGuava=136]="LavaGuava",e[e.PhatBeet=137]="PhatBeet",e[e.Strawburst=138]="Strawburst",e[e.ThymeWarp=139]="ThymeWarp",e[e.PhatBeetRhythm=140]="PhatBeetRhythm",e[e.SeaShroom=141]="SeaShroom",e[e.Garlic=142]="Garlic",e[e.ElectricBlueBerry=143]="ElectricBlueBerry",e[e.SporeShroom=144]="SporeShroom",e[e.IntensiveCarrot=145]="IntensiveCarrot",e[e.PrimalSunflower=146]="PrimalSunflower",e[e.MoonBean=147]="MoonBean",e[e.ColdSnapDragon=148]="ColdSnapDragon",e[e.amount=149]="amount",e}({})),ca=function(e){return e[e.default=0]="default",e[e.egypt=1]="egypt",e[e.pirate=2]="pirate",e[e.cowboy=3]="cowboy",e[e.kongfu=4]="kongfu",e[e.future=5]="future",e[e.dark=6]="dark",e[e.beach=7]="beach",e[e.beach_water=8]="beach_water",e[e.ice=9]="ice",e[e.lostcity=10]="lostcity",e[e.eighties=11]="eighties",e[e.dino=12]="dino",e[e.modern=13]="modern",e[e.boost=14]="boost",e[e.market=15]="market",e[e.sky=16]="sky",e}(ca||{}),ha=function(){this.ID=0,this.amount=0},ba=e("plants",function(){function e(){}return e.getPlantIcon=function(e){var t=p(this.plantRes.plantIcon);return t.parent=e,t.getComponent(S)},e.reorderPlants=function(e){var t=this;return e.sort((function(e,n){return t.defaultPlantChooserOrder.indexOf(e)-t.defaultPlantChooserOrder.indexOf(n)}))},e.getPlantsInCard=function(e){switch(e){case pa.Peashooter:return this.plantRes.Peashooter;case pa.Sunflower:return this.plantRes.Sunflower;case pa.Wallnut:return this.plantRes.Wallnut;case pa.PotatoMine:return this.plantRes.PotatoMine;case pa.CabbagePult:return this.plantRes.CabbagePult;case pa.Bloomerang:return this.plantRes.Bloomerang;case pa.IcebergLettuce:return this.plantRes.IcebergLettuce;case pa.BonkChoy:return this.plantRes.BonkChoy;case pa.Repeater:return this.plantRes.Repeater;case pa.MegaGatlingPea:return this.plantRes.MegaGatlingPea;case pa.ScaredyShroom:return this.plantRes.ScaredyShroom;case pa.FumeShroom:return this.plantRes.FumeShroom;case pa.GraveBuster:return this.plantRes.GraveBuster;case pa.Pumpkin:return this.plantRes.Pumpkin;case pa.PeaVine:return this.plantRes.PeaVine;case pa.FloawerPot:return this.plantRes.FloawerPot;case pa.FirePeashooter:return this.plantRes.FirePeashooter;case pa.ThreePeater:return this.plantRes.ThreePeater;case pa.PrimalPea:return this.plantRes.PrimalPea;case pa.Rotobaga:return this.plantRes.Rotobaga;case pa.HomingThistle:return this.plantRes.HomingThistle;case pa.StarFruit:return this.plantRes.StarFruit;case pa.ShootingStarfruit:return this.plantRes.ShootingStarfruit;case pa.LilyPad:return this.plantRes.LilyPad;case pa.SunShroom:return this.plantRes.SunShroom;case pa.TwinSunflower:return this.plantRes.TwinSunflower;case pa.Dragonbruit:return this.plantRes.Dragonbruit;case pa.Moonflower:return this.plantRes.Moonflower;case pa.SnowPea:return this.plantRes.SnowPea;case pa.LightningReed:return this.plantRes.LightningReed;case pa.KernelPult:return this.plantRes.KernelPult;case pa.MeteorFlower:return this.plantRes.MeteorFlower;case pa.SpringBean:return this.plantRes.SpringBean;case pa.UmbrellaLeaf:return this.plantRes.UmbrellaLeaf;case pa.MelonPult:return this.plantRes.MelonPult;case pa.WinterMelon:return this.plantRes.WinterMelon;case pa.Blover:return this.plantRes.Blover;case pa.Spikeweed:return this.plantRes.Spikeweed;case pa.Spikerock:return this.plantRes.Spikerock;case pa.Chomper:return this.plantRes.Chomper;case pa.GlacierShroom:return this.plantRes.GlacierShroom;case pa.PrimalWallnut:return this.plantRes.PrimalWallnut;case pa.Buttercup:return this.plantRes.Buttercup;case pa.BananaLauncher:return this.plantRes.BananaLauncher;case pa.MissileToe:return this.plantRes.MissileToe;case pa.CherryBomb:return this.plantRes.CherryBomb;case pa.DoomShroom:return this.plantRes.DoomShroom;case pa.CranJelly:return this.plantRes.CranJelly;case pa.BabyDragonbruit:return this.plantRes.BabyDragonbruit;case pa.Torchwood:return this.plantRes.Torchwood;case pa.Jalapeno:return this.plantRes.Jalapeno;case pa.PuffShroom:return this.plantRes.PuffShroom;case pa.GloomVine:return this.plantRes.GloomVine;case pa.Vamporcini:return this.plantRes.Vamporcini;case pa.PrimalPotatoMine:return this.plantRes.PrimalPotatoMine;case pa.Cactus:return this.plantRes.Cactus;case pa.PowerLily:return this.plantRes.PowerLily;case pa.CoconutCannon:return this.plantRes.CoconutCannon;case pa.PeaPod:return this.plantRes.PeaPod;case pa.SnapDragon:return this.plantRes.SnapDragon;case pa.GatlingPea:return this.plantRes.GatlingPea;case pa.SplitPea:return this.plantRes.SplitPea;case pa.ChiliBean:return this.plantRes.ChiliBean;case pa.Tallnut:return this.plantRes.Tallnut;case pa.Hurrikale:return this.plantRes.Hurrikale;case pa.Stallia:return this.plantRes.Stallia;case pa.ElectricPeashooter:return this.plantRes.ElectricPeashooter;case pa.Squash:return this.plantRes.Squash;case pa.GloomShroom:return this.plantRes.GloomShroom;case pa.MagnifyingGrass:return this.plantRes.MagnifyingGrass;case pa.CeleryStalker:return this.plantRes.CeleryStalker;case pa.Sapfling:return this.plantRes.Sapfling;case pa.Parsnip:return this.plantRes.Parsnip;case pa.ExplodeONut:return this.plantRes.ExplodeONut;case pa.Grapeshot:return this.plantRes.Grapeshot;case pa.Plantern:return this.plantRes.Plantern;case pa.HeavenlyPeach:return this.plantRes.HeavenlyPeach;case pa.JackOLantern:return this.plantRes.JackOLantern;case pa.Dandelion:return this.plantRes.Dandelion;case pa.ChardGuard:return this.plantRes.ChardGuard;case pa.HypnoShroom:return this.plantRes.HypnoShroom;case pa.ElectricCurrant:return this.plantRes.ElectricCurrant;case pa.EscapeRoot:return this.plantRes.EscapeRoot;case pa.Imitater:return this.plantRes.Imitater;case pa.ShadowShroom:return this.plantRes.ShadowShroom;case pa.MagnetShroom:return this.plantRes.MagnetShroom;case pa.Turnip:return this.plantRes.Turnip;case pa.EMPeach:return this.plantRes.EMPeach;case pa.Citron:return this.plantRes.Citron;case pa.LaserBean:return this.plantRes.LaserBean;case pa.SolarTomato:return this.plantRes.SolarTomato;case pa.TileTurnipAlpha:return this.plantRes.TileTurnipAlpha;case pa.TileTurnipBeta:return this.plantRes.TileTurnipBeta;case pa.TileTurnipGamma:return this.plantRes.TileTurnipGamma;case pa.TileTurnipDelta:return this.plantRes.TileTurnipDelta;case pa.TileTurnipEpsilon:return this.plantRes.TileTurnipEpsilon;case pa.TileTurnip:return this.getPlantsInCard(this.getTileTurnipID());case pa.InfiNut:return this.plantRes.InfiNut;case pa.MariGold:return this.plantRes.MariGold;case pa.MariGoldRed:return this.plantRes.MariGoldRed;case pa.MariGoldOrange:return this.plantRes.MariGoldOrange;case pa.MariGoldYellow:return this.plantRes.MariGoldYellow;case pa.MariGoldGreen:return this.plantRes.MariGoldGreen;case pa.MariGoldBlue:return this.plantRes.MariGoldBlue;case pa.MariGoldPink:return this.plantRes.MariGoldPink;case pa.MariGoldPurple:return this.plantRes.MariGoldPurple;case pa.AppleMortar:return this.plantRes.AppleMortar;case pa.RedStinger:return this.plantRes.RedStinger;case pa.Skyshooter:return this.plantRes.Skyshooter;case pa.SunBean:return this.plantRes.SunBean;case pa.Peanut:return this.plantRes.Peanut;case pa.PotionSpeed:return this.plantRes.PotionSpeed;case pa.PotionToughness:return this.plantRes.PotionToughness;case pa.PotionInvisibility:return this.plantRes.PotionInvisibility;case pa.TangleKelp:return this.plantRes.TangleKelp;case pa.BowlingBulb:return this.plantRes.BowlingBulb;case pa.BowlingBulbSpawner1:return this.plantRes.BowlingBulbSpawner1;case pa.BowlingBulbSpawner2:return this.plantRes.BowlingBulbSpawner2;case pa.BowlingBulbSpawner3:return this.plantRes.BowlingBulbSpawner3;case pa.BowlingBulbSpawnerExplode:return this.plantRes.BowlingBulbSpawnerExplode;case pa.BowlingBulbSpawnerIceberg:return this.plantRes.BowlingBulbSpawnerIceberg;case pa.BowlingSpawnerWallNut:return this.plantRes.BowlingSpawnerWallNut;case pa.BowlingSpawnerExplodeONut:return this.plantRes.BowlingSpawnerExplodeONut;case pa.BowlingSpawnerInfiNut:return this.plantRes.BowlingSpawnerInfiNut;case pa.BowlingSpawnerPrimalWallNut:return this.plantRes.BowlingSpawnerPrimalWallNut;case pa.BowlingSpawnerTallNut:return this.plantRes.BowlingSpawnerTallNut;case pa.Guacodile:return this.plantRes.Guacodile;case pa.GhostPepper:return this.plantRes.GhostPepper;case pa.SweetPotato:return this.plantRes.SweetPotato;case pa.PepperPult:return this.plantRes.PepperPult;case pa.HotPotato:return this.plantRes.HotPotato;case pa.Stunion:return this.plantRes.Stunion;case pa.GoldLeaf:return this.plantRes.GoldLeaf;case pa.AKEE:return this.plantRes.AKEE;case pa.Endurian:return this.plantRes.Endurian;case pa.Toadstool:return this.plantRes.Toadstool;case pa.LavaGuava:return this.plantRes.LavaGuava;case pa.PhatBeet:return this.plantRes.PhatBeet;case pa.Strawburst:return this.plantRes.Strawburst;case pa.ThymeWarp:return this.plantRes.ThymeWarp;case pa.PhatBeetRhythm:return this.plantRes.PhatBeetRhythm;case pa.SeaShroom:return this.plantRes.SeaShroom;case pa.Garlic:return this.plantRes.Garlic;case pa.ElectricBlueBerry:return this.plantRes.ElectricBlueBerry;case pa.SporeShroom:return this.plantRes.SporeShroom;case pa.IntensiveCarrot:return this.plantRes.IntensiveCarrot;case pa.PrimalSunflower:return this.plantRes.PrimalSunflower;case pa.MoonBean:return this.plantRes.MoonBean;case pa.ColdSnapDragon:return this.plantRes.ColdSnapDragon;default:return this.plantRes.Peashooter}},e.getTileTurnipID=function(){switch(this.TileTurnipType){case w.alpha:return pa.TileTurnipAlpha;case w.beta:return pa.TileTurnipBeta;case w.gamma:return pa.TileTurnipGamma;case w.delta:return pa.TileTurnipDelta;default:return pa.TileTurnipEpsilon}},e.getPlantFeature=function(e){return e==pa.TileTurnip?this.getPlantFeature(this.getTileTurnipID()):e<this.plantRes.PlantFeatures.length&&e>=0?this.plantRes.PlantFeatures[e]:this.plantRes.PlantFeatures[0]},e.getPlantAmount=function(e,t){void 0===t&&(t=1/0);var n=!1,i=0;return f.getAllLnC().forEach((function(r){n||(r.getAllPlants().forEach((function(r){n||r.ID==e&&(i+=r.plantCount(),n=i>=t)})),r.tilesInSquare.forEach((function(r){n||((e==pa.TileTurnipAlpha&&r.tileID==P.foodLinker&&r.foodLinkID==w.alpha||e==pa.TileTurnipBeta&&r.tileID==P.foodLinker&&r.foodLinkID==w.beta||e==pa.TileTurnipDelta&&r.tileID==P.foodLinker&&r.foodLinkID==w.delta||e==pa.TileTurnipGamma&&r.tileID==P.foodLinker&&r.foodLinkID==w.gamma||e==pa.TileTurnipEpsilon&&r.tileID==P.foodLinker&&r.foodLinkID==w.epsilon)&&i++,n=i>=t)})))})),i},e.getPlantEnumByString=function(e,t){void 0===t&&(t=!0);var n=e.concat(),i=-1;return"tool_powertile_alpha"==n?this.TileTurnipType==w.alpha?pa.TileTurnipEpsilon:pa.TileTurnipAlpha:"tool_powertile_beta"==n?this.TileTurnipType==w.beta?pa.TileTurnipEpsilon:pa.TileTurnipBeta:"tool_powertile_gamma"==n?this.TileTurnipType==w.gamma?pa.TileTurnipEpsilon:pa.TileTurnipGamma:"tool_powertile_delta"==n?this.TileTurnipType==w.delta?pa.TileTurnipEpsilon:pa.TileTurnipDelta:"tool_powertile_epsilon"==n?this.getPlantEnumByString("powerplant"):(this.plantRes.PlantFeatures.forEach((function(e,t){-1==i&&e.CODENAME==n&&(i=t)})),-1==i&&console.warn("Can't find '"+e+"' as a Plant Codename."),-1==i&&t&&(i=0),i)},e.getPlantByRTID=function(e){if(!e)return 0;var t=e.concat(),n=t.indexOf("RTID("),i=t.indexOf("@PlantTypes)"),r="";return-1!=n&&(r=t.slice(n+5,i)),this.getPlantEnumByString(r)},e.getPlantAlmanac=function(e){var t,n=null==(t=d.getObjectsByRTID(this.getPlantFeature(e).ALMANAC)[0])?void 0:t.objdata;return n||(n=this.getPlantAlmanac(pa.Peashooter)),n},e.getPlantProps=function(e){var t,n=null==(t=d.getObjectsByRTID(this.getPlantFeature(e).PROPS)[0])?void 0:t.objdata;return n||(n=this.getPlantProps(pa.Peashooter)),n},e.getPlantBGSprite=function(e){var t=this.getPlantFeature(e).OBTAINWORLD;return this.getPlantBGSpriteByObtainWorld(t)},e.getPlantBGSpriteByObtainWorld=function(e){var t=this.bgSprites[ca.modern];if("water"==e&&(t=this.bgSprites[ca.beach_water]),!y.classicCardBG)switch(e){case"modern":t=this.bgSprites[ca.modern];break;case"egypt":t=this.bgSprites[ca.egypt];break;case"pirate":t=this.bgSprites[ca.pirate];break;case"cowboy":t=this.bgSprites[ca.cowboy];break;case"kongfu":t=this.bgSprites[ca.kongfu];break;case"future":t=this.bgSprites[ca.future];break;case"dark":t=this.bgSprites[ca.dark];break;case"water":t=this.bgSprites[ca.beach_water];break;case"beach":t=this.bgSprites[ca.beach];break;case"ice":t=this.bgSprites[ca.ice];break;case"lostcity":t=this.bgSprites[ca.lostcity];break;case"eighties":t=this.bgSprites[ca.eighties];break;case"dino":t=this.bgSprites[ca.dino];break;case"sky":t=this.bgSprites[ca.sky];break;case"epic":case"market":t=this.bgSprites[ca.market]}return t},e.getPotionCount=function(){var e=0;return f.getAllLnC().forEach((function(t){t.getAllPlants().forEach((function(t){switch(t.ID){case pa.PotionSpeed:case pa.PotionInvisibility:case pa.PotionToughness:e++}}))})),e},e.registerPlant=function(e,t){var n=this,i=!1,r=null;if(this.plantAmounts.concat().forEach((function(a){if(!i&&a.ID==e)if(i=!0,a.amount+=t,a.amount<=0){var l=n.plantAmounts.indexOf(a);-1!=l&&n.plantAmounts.splice(l,1)}else r=a})),r)return r;var a=new ha;return a.ID=e,!i&&t>0&&(a.amount=t,this.plantAmounts.push(a)),a},e}());ba.defaultPlantChooserOrder=[],ba.plantRes=void 0,ba.sunProducers=[],ba.plantCommodities=[],ba.TileTurnipType=w.epsilon,ba.bgSprites=[],ba.plantAmounts=[];e("PlantFeature",(function(){this.ID=-1,this.NAME=new b,this._CARDSPRITENAME="",this.CODENAME="",this.OBTAINWORLD="",this.TYPE=[],this.ZENGARDEN=null,this.ALMANAC="",this.COSTUME=0,this.PROPS=""})),e("Plants",(B=ua("Plants"),T=sa(Boolean),v=sa([o]),R=sa(u),z=sa(s),G=sa({type:h,visible:function(){return this.showPlants}}),M=sa({type:h,visible:function(){return this.showPlants}}),C=sa({type:h,visible:function(){return this.showPlants}}),E=sa({type:h,visible:function(){return this.showPlants}}),k=sa({type:h,visible:function(){return this.showPlants}}),L=sa({type:h,visible:function(){return this.showPlants}}),D=sa({type:h,visible:function(){return this.showPlants}}),I=sa({type:h,visible:function(){return this.showPlants}}),A=sa({type:h,visible:function(){return this.showPlants}}),F=sa({type:h,visible:function(){return this.showPlants}}),N=sa({type:h,visible:function(){return this.showPlants}}),O=sa({type:h,visible:function(){return this.showPlants}}),W=sa({type:h,visible:function(){return this.showPlants}}),H=sa({type:h,visible:function(){return this.showPlants}}),x=sa({type:h,visible:function(){return this.showPlants}}),J=sa({type:h,visible:function(){return this.showPlants}}),K=sa({type:h,visible:function(){return this.showPlants}}),_=sa({type:h,visible:function(){return this.showPlants}}),V=sa({type:h,visible:function(){return this.showPlants}}),j=sa({type:h,visible:function(){return this.showPlants}}),q=sa({type:h,visible:function(){return this.showPlants}}),U=sa({type:h,visible:function(){return this.showPlants}}),Y=sa({type:h,visible:function(){return this.showPlants}}),Z=sa({type:h,visible:function(){return this.showPlants}}),X=sa({type:h,visible:function(){return this.showPlants}}),Q=sa({type:h,visible:function(){return this.showPlants}}),$=sa({type:h,visible:function(){return this.showPlants}}),ee=sa({type:h,visible:function(){return this.showPlants}}),te=sa({type:h,visible:function(){return this.showPlants}}),ne=sa({type:h,visible:function(){return this.showPlants}}),ie=sa({type:h,visible:function(){return this.showPlants}}),re=sa({type:h,visible:function(){return this.showPlants}}),ae=sa({type:h,visible:function(){return this.showPlants}}),le=sa({type:h,visible:function(){return this.showPlants}}),oe=sa({type:h,visible:function(){return this.showPlants}}),ue=sa({type:h,visible:function(){return this.showPlants}}),se=sa({type:h,visible:function(){return this.showPlants}}),pe=sa({type:h,visible:function(){return this.showPlants}}),ce=sa({type:h,visible:function(){return this.showPlants}}),he=sa({type:h,visible:function(){return this.showPlants}}),be=sa({type:h,visible:function(){return this.showPlants}}),we=sa({type:h,visible:function(){return this.showPlants}}),fe=sa({type:h,visible:function(){return this.showPlants}}),Pe=sa({type:h,visible:function(){return this.showPlants}}),ge=sa({type:h,visible:function(){return this.showPlants}}),ye=sa({type:h,visible:function(){return this.showPlants}}),me=sa({type:h,visible:function(){return this.showPlants}}),Se=sa({type:h,visible:function(){return this.showPlants}}),de=sa({type:h,visible:function(){return this.showPlants}}),Be=sa({type:h,visible:function(){return this.showPlants}}),Te=sa({type:h,visible:function(){return this.showPlants}}),ve=sa({type:h,visible:function(){return this.showPlants}}),Re=sa({type:h,visible:function(){return this.showPlants}}),ze=sa({type:h,visible:function(){return this.showPlants}}),Ge=sa({type:h,visible:function(){return this.showPlants}}),Me=sa({type:h,visible:function(){return this.showPlants}}),Ce=sa({type:h,visible:function(){return this.showPlants}}),Ee=sa({type:h,visible:function(){return this.showPlants}}),ke=sa({type:h,visible:function(){return this.showPlants}}),Le=sa({type:h,visible:function(){return this.showPlants}}),De=sa({type:h,visible:function(){return this.showPlants}}),Ie=sa({type:h,visible:function(){return this.showPlants}}),Ae=sa({type:h,visible:function(){return this.showPlants}}),Fe=sa({type:h,visible:function(){return this.showPlants}}),Ne=sa({type:h,visible:function(){return this.showPlants}}),Oe=sa({type:h,visible:function(){return this.showPlants}}),We=sa({type:h,visible:function(){return this.showPlants}}),He=sa({type:h,visible:function(){return this.showPlants}}),xe=sa({type:h,visible:function(){return this.showPlants}}),Je=sa({type:h,visible:function(){return this.showPlants}}),Ke=sa({type:h,visible:function(){return this.showPlants}}),_e=sa({type:h,visible:function(){return this.showPlants}}),Ve=sa({type:h,visible:function(){return this.showPlants}}),je=sa({type:h,visible:function(){return this.showPlants}}),qe=sa({type:h,visible:function(){return this.showPlants}}),Ue=sa({type:h,visible:function(){return this.showPlants}}),Ye=sa({type:h,visible:function(){return this.showPlants}}),Ze=sa({type:h,visible:function(){return this.showPlants}}),Xe=sa({type:h,visible:function(){return this.showPlants}}),Qe=sa({type:h,visible:function(){return this.showPlants}}),$e=sa({type:h,visible:function(){return this.showPlants}}),et=sa({type:h,visible:function(){return this.showPlants}}),tt=sa({type:h,visible:function(){return this.showPlants}}),nt=sa({type:h,visible:function(){return this.showPlants}}),it=sa({type:h,visible:function(){return this.showPlants}}),rt=sa({type:h,visible:function(){return this.showPlants}}),at=sa({type:h,visible:function(){return this.showPlants}}),lt=sa({type:h,visible:function(){return this.showPlants}}),ot=sa({type:h,visible:function(){return this.showPlants}}),ut=sa({type:h,visible:function(){return this.showPlants}}),st=sa({type:h,visible:function(){return this.showPlants}}),pt=sa({type:h,visible:function(){return this.showPlants}}),ct=sa({type:h,visible:function(){return this.showPlants}}),ht=sa({type:h,visible:function(){return this.showPlants}}),bt=sa({type:h,visible:function(){return this.showPlants}}),wt=sa({type:h,visible:function(){return this.showPlants}}),ft=sa({type:h,visible:function(){return this.showPlants}}),Pt=sa({type:h,visible:function(){return this.showPlants}}),gt=sa({type:h,visible:function(){return this.showPlants}}),yt=sa({type:h,visible:function(){return this.showPlants}}),mt=sa({type:h,visible:function(){return this.showPlants}}),St=sa({type:h,visible:function(){return this.showPlants}}),dt=sa({type:h,visible:function(){return this.showPlants}}),Bt=sa({type:h,visible:function(){return this.showPlants}}),Tt=sa({type:h,visible:function(){return this.showPlants}}),vt=sa({type:h,visible:function(){return this.showPlants}}),Rt=sa({type:h,visible:function(){return this.showPlants}}),zt=sa({type:h,visible:function(){return this.showPlants}}),Gt=sa({type:h,visible:function(){return this.showPlants}}),Mt=sa({type:h,visible:function(){return this.showPlants}}),Ct=sa({type:h,visible:function(){return this.showPlants}}),Et=sa({type:h,visible:function(){return this.showPlants}}),kt=sa({type:h,visible:function(){return this.showPlants}}),Lt=sa({type:h,visible:function(){return this.showPlants}}),Dt=sa({type:h,visible:function(){return this.showPlants}}),It=sa({type:h,visible:function(){return this.showPlants}}),At=sa({type:h,visible:function(){return this.showPlants}}),Ft=sa({type:h,visible:function(){return this.showPlants}}),Nt=sa({type:h,visible:function(){return this.showPlants}}),Ot=sa({type:h,visible:function(){return this.showPlants}}),Wt=sa({type:h,visible:function(){return this.showPlants}}),Ht=sa({type:h,visible:function(){return this.showPlants}}),xt=sa({type:h,visible:function(){return this.showPlants}}),Jt=sa({type:h,visible:function(){return this.showPlants}}),Kt=sa({type:h,visible:function(){return this.showPlants}}),_t=sa({type:h,visible:function(){return this.showPlants}}),Vt=sa({type:h,visible:function(){return this.showPlants}}),jt=sa({type:h,visible:function(){return this.showPlants}}),qt=sa({type:h,visible:function(){return this.showPlants}}),Ut=sa({type:h,visible:function(){return this.showPlants}}),Yt=sa({type:h,visible:function(){return this.showPlants}}),Zt=sa({type:h,visible:function(){return this.showPlants}}),Xt=sa({type:h,visible:function(){return this.showPlants}}),Qt=sa({type:h,visible:function(){return this.showPlants}}),$t=sa({type:h,visible:function(){return this.showPlants}}),en=sa({type:h,visible:function(){return this.showPlants}}),tn=sa({type:h,visible:function(){return this.showPlants}}),nn=sa({type:h,visible:function(){return this.showPlants}}),rn=sa({type:h,visible:function(){return this.showPlants}}),an=sa({type:h,visible:function(){return this.showPlants}}),ln=sa({type:h,visible:function(){return this.showPlants}}),on=sa({type:h,visible:function(){return this.showPlants}}),un=sa({type:h,visible:function(){return this.showPlants}}),sn=sa({type:h,visible:function(){return this.showPlants}}),pn=sa({type:h,visible:function(){return this.showPlants}}),cn=sa({type:h,visible:function(){return this.showPlants}}),hn=sa({type:h,visible:function(){return this.showPlants}}),bn=sa({type:h,visible:function(){return this.showPlants}}),wn=sa(u),B((gn=t((Pn=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"showPlants",gn,r(t)),i(t,"bgSprite",yn,r(t)),i(t,"CommodityFeaturesJson",mn,r(t)),i(t,"plantIcon",Sn,r(t)),i(t,"Peashooter",dn,r(t)),i(t,"Sunflower",Bn,r(t)),i(t,"Wallnut",Tn,r(t)),i(t,"PotatoMine",vn,r(t)),i(t,"CabbagePult",Rn,r(t)),i(t,"Bloomerang",zn,r(t)),i(t,"IcebergLettuce",Gn,r(t)),i(t,"BonkChoy",Mn,r(t)),i(t,"Repeater",Cn,r(t)),i(t,"MegaGatlingPea",En,r(t)),i(t,"ScaredyShroom",kn,r(t)),i(t,"FumeShroom",Ln,r(t)),i(t,"GraveBuster",Dn,r(t)),i(t,"Pumpkin",In,r(t)),i(t,"PeaVine",An,r(t)),i(t,"FloawerPot",Fn,r(t)),i(t,"FirePeashooter",Nn,r(t)),i(t,"ThreePeater",On,r(t)),i(t,"PrimalPea",Wn,r(t)),i(t,"Rotobaga",Hn,r(t)),i(t,"HomingThistle",xn,r(t)),i(t,"StarFruit",Jn,r(t)),i(t,"ShootingStarfruit",Kn,r(t)),i(t,"LilyPad",_n,r(t)),i(t,"SunShroom",Vn,r(t)),i(t,"TwinSunflower",jn,r(t)),i(t,"Dragonbruit",qn,r(t)),i(t,"Moonflower",Un,r(t)),i(t,"SnowPea",Yn,r(t)),i(t,"LightningReed",Zn,r(t)),i(t,"KernelPult",Xn,r(t)),i(t,"MeteorFlower",Qn,r(t)),i(t,"SpringBean",$n,r(t)),i(t,"UmbrellaLeaf",ei,r(t)),i(t,"MelonPult",ti,r(t)),i(t,"WinterMelon",ni,r(t)),i(t,"Blover",ii,r(t)),i(t,"Spikeweed",ri,r(t)),i(t,"Spikerock",ai,r(t)),i(t,"Chomper",li,r(t)),i(t,"GlacierShroom",oi,r(t)),i(t,"PrimalWallnut",ui,r(t)),i(t,"Buttercup",si,r(t)),i(t,"BananaLauncher",pi,r(t)),i(t,"MissileToe",ci,r(t)),i(t,"CherryBomb",hi,r(t)),i(t,"DoomShroom",bi,r(t)),i(t,"CranJelly",wi,r(t)),i(t,"BabyDragonbruit",fi,r(t)),i(t,"Torchwood",Pi,r(t)),i(t,"Jalapeno",gi,r(t)),i(t,"PuffShroom",yi,r(t)),i(t,"GloomVine",mi,r(t)),i(t,"Vamporcini",Si,r(t)),i(t,"PrimalPotatoMine",di,r(t)),i(t,"Cactus",Bi,r(t)),i(t,"PowerLily",Ti,r(t)),i(t,"CoconutCannon",vi,r(t)),i(t,"PeaPod",Ri,r(t)),i(t,"SnapDragon",zi,r(t)),i(t,"GatlingPea",Gi,r(t)),i(t,"SplitPea",Mi,r(t)),i(t,"ChiliBean",Ci,r(t)),i(t,"Tallnut",Ei,r(t)),i(t,"Hurrikale",ki,r(t)),i(t,"Stallia",Li,r(t)),i(t,"ElectricPeashooter",Di,r(t)),i(t,"Squash",Ii,r(t)),i(t,"GloomShroom",Ai,r(t)),i(t,"MagnifyingGrass",Fi,r(t)),i(t,"CeleryStalker",Ni,r(t)),i(t,"Sapfling",Oi,r(t)),i(t,"Parsnip",Wi,r(t)),i(t,"ExplodeONut",Hi,r(t)),i(t,"Grapeshot",xi,r(t)),i(t,"Plantern",Ji,r(t)),i(t,"HeavenlyPeach",Ki,r(t)),i(t,"JackOLantern",_i,r(t)),i(t,"Dandelion",Vi,r(t)),i(t,"ChardGuard",ji,r(t)),i(t,"HypnoShroom",qi,r(t)),i(t,"ElectricCurrant",Ui,r(t)),i(t,"EscapeRoot",Yi,r(t)),i(t,"Imitater",Zi,r(t)),i(t,"ShadowShroom",Xi,r(t)),i(t,"MagnetShroom",Qi,r(t)),i(t,"Turnip",$i,r(t)),i(t,"EMPeach",er,r(t)),i(t,"Citron",tr,r(t)),i(t,"LaserBean",nr,r(t)),i(t,"SolarTomato",ir,r(t)),i(t,"TileTurnipAlpha",rr,r(t)),i(t,"TileTurnipBeta",ar,r(t)),i(t,"TileTurnipGamma",lr,r(t)),i(t,"TileTurnipDelta",or,r(t)),i(t,"TileTurnipEpsilon",ur,r(t)),i(t,"InfiNut",sr,r(t)),i(t,"MariGold",pr,r(t)),i(t,"MariGoldRed",cr,r(t)),i(t,"MariGoldOrange",hr,r(t)),i(t,"MariGoldYellow",br,r(t)),i(t,"MariGoldGreen",wr,r(t)),i(t,"MariGoldBlue",fr,r(t)),i(t,"MariGoldPink",Pr,r(t)),i(t,"MariGoldPurple",gr,r(t)),i(t,"AppleMortar",yr,r(t)),i(t,"RedStinger",mr,r(t)),i(t,"Skyshooter",Sr,r(t)),i(t,"SunBean",dr,r(t)),i(t,"Peanut",Br,r(t)),i(t,"PotionSpeed",Tr,r(t)),i(t,"PotionToughness",vr,r(t)),i(t,"PotionInvisibility",Rr,r(t)),i(t,"TangleKelp",zr,r(t)),i(t,"BowlingBulb",Gr,r(t)),i(t,"BowlingBulbSpawner1",Mr,r(t)),i(t,"BowlingBulbSpawner2",Cr,r(t)),i(t,"BowlingBulbSpawner3",Er,r(t)),i(t,"BowlingBulbSpawnerExplode",kr,r(t)),i(t,"BowlingBulbSpawnerIceberg",Lr,r(t)),i(t,"BowlingSpawnerWallNut",Dr,r(t)),i(t,"BowlingSpawnerExplodeONut",Ir,r(t)),i(t,"BowlingSpawnerInfiNut",Ar,r(t)),i(t,"BowlingSpawnerPrimalWallNut",Fr,r(t)),i(t,"BowlingSpawnerTallNut",Nr,r(t)),i(t,"Guacodile",Or,r(t)),i(t,"GhostPepper",Wr,r(t)),i(t,"SweetPotato",Hr,r(t)),i(t,"PepperPult",xr,r(t)),i(t,"HotPotato",Jr,r(t)),i(t,"Stunion",Kr,r(t)),i(t,"GoldLeaf",_r,r(t)),i(t,"AKEE",Vr,r(t)),i(t,"Endurian",jr,r(t)),i(t,"Toadstool",qr,r(t)),i(t,"LavaGuava",Ur,r(t)),i(t,"PhatBeet",Yr,r(t)),i(t,"Strawburst",Zr,r(t)),i(t,"ThymeWarp",Xr,r(t)),i(t,"PhatBeetRhythm",Qr,r(t)),i(t,"SeaShroom",$r,r(t)),i(t,"Garlic",ea,r(t)),i(t,"ElectricBlueBerry",ta,r(t)),i(t,"SporeShroom",na,r(t)),i(t,"IntensiveCarrot",ia,r(t)),i(t,"PrimalSunflower",ra,r(t)),i(t,"MoonBean",aa,r(t)),i(t,"ColdSnapDragon",la,r(t)),i(t,"CardsFeatureJson",oa,r(t)),t.PlantFeatures=[],t}n(t,e);var a=t.prototype;return a.onLoad=function(){var e;ba.plantAmounts=[],ba.plantRes=this,ba.plantCommodities=this.CommodityFeaturesJson.json.Plants,ba.bgSprites=this.bgSprite;var t=this.CardsFeatureJson.json;this.PlantFeatures=t.PLANTS;var n=t.SEEDCHOOSERDEFAULTORDER,i=[],r=[];n.forEach((function(e){var t=ba.getPlantEnumByString(e),n=ba.getPlantFeature(t);i.push(t),-1!=n.TYPE.indexOf("sunProducer")&&r.push(t)})),ba.defaultPlantChooserOrder=i,ba.sunProducers=r;var a=[];null==(e=t.SANDBOX)||e.forEach((function(e){a.push(ba.getPlantEnumByString(e))})),g.plantList=a},a.start=function(){var e;null==(e=this.CardsFeatureJson.json.BASEUNLOCKLIST)||e.forEach((function(e){m.unlockPlant(ba.getPlantEnumByString(e))}))},t}(c)).prototype,"showPlants",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),yn=t(Pn.prototype,"bgSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mn=t(Pn.prototype,"CommodityFeaturesJson",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sn=t(Pn.prototype,"plantIcon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dn=t(Pn.prototype,"Peashooter",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bn=t(Pn.prototype,"Sunflower",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tn=t(Pn.prototype,"Wallnut",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vn=t(Pn.prototype,"PotatoMine",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rn=t(Pn.prototype,"CabbagePult",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zn=t(Pn.prototype,"Bloomerang",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gn=t(Pn.prototype,"IcebergLettuce",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mn=t(Pn.prototype,"BonkChoy",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cn=t(Pn.prototype,"Repeater",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),En=t(Pn.prototype,"MegaGatlingPea",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kn=t(Pn.prototype,"ScaredyShroom",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ln=t(Pn.prototype,"FumeShroom",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dn=t(Pn.prototype,"GraveBuster",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),In=t(Pn.prototype,"Pumpkin",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),An=t(Pn.prototype,"PeaVine",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fn=t(Pn.prototype,"FloawerPot",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nn=t(Pn.prototype,"FirePeashooter",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),On=t(Pn.prototype,"ThreePeater",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wn=t(Pn.prototype,"PrimalPea",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hn=t(Pn.prototype,"Rotobaga",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xn=t(Pn.prototype,"HomingThistle",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jn=t(Pn.prototype,"StarFruit",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kn=t(Pn.prototype,"ShootingStarfruit",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_n=t(Pn.prototype,"LilyPad",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vn=t(Pn.prototype,"SunShroom",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jn=t(Pn.prototype,"TwinSunflower",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qn=t(Pn.prototype,"Dragonbruit",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Un=t(Pn.prototype,"Moonflower",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yn=t(Pn.prototype,"SnowPea",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zn=t(Pn.prototype,"LightningReed",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xn=t(Pn.prototype,"KernelPult",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qn=t(Pn.prototype,"MeteorFlower",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$n=t(Pn.prototype,"SpringBean",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ei=t(Pn.prototype,"UmbrellaLeaf",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ti=t(Pn.prototype,"MelonPult",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ni=t(Pn.prototype,"WinterMelon",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ii=t(Pn.prototype,"Blover",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ri=t(Pn.prototype,"Spikeweed",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ai=t(Pn.prototype,"Spikerock",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),li=t(Pn.prototype,"Chomper",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oi=t(Pn.prototype,"GlacierShroom",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ui=t(Pn.prototype,"PrimalWallnut",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),si=t(Pn.prototype,"Buttercup",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pi=t(Pn.prototype,"BananaLauncher",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ci=t(Pn.prototype,"MissileToe",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hi=t(Pn.prototype,"CherryBomb",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bi=t(Pn.prototype,"DoomShroom",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),wi=t(Pn.prototype,"CranJelly",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),fi=t(Pn.prototype,"BabyDragonbruit",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Pi=t(Pn.prototype,"Torchwood",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),gi=t(Pn.prototype,"Jalapeno",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),yi=t(Pn.prototype,"PuffShroom",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),mi=t(Pn.prototype,"GloomVine",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Si=t(Pn.prototype,"Vamporcini",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),di=t(Pn.prototype,"PrimalPotatoMine",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Bi=t(Pn.prototype,"Cactus",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Ti=t(Pn.prototype,"PowerLily",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),vi=t(Pn.prototype,"CoconutCannon",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Ri=t(Pn.prototype,"PeaPod",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),zi=t(Pn.prototype,"SnapDragon",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Gi=t(Pn.prototype,"GatlingPea",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Mi=t(Pn.prototype,"SplitPea",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Ci=t(Pn.prototype,"ChiliBean",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Ei=t(Pn.prototype,"Tallnut",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),ki=t(Pn.prototype,"Hurrikale",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Li=t(Pn.prototype,"Stallia",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Di=t(Pn.prototype,"ElectricPeashooter",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Ii=t(Pn.prototype,"Squash",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Ai=t(Pn.prototype,"GloomShroom",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Fi=t(Pn.prototype,"MagnifyingGrass",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Ni=t(Pn.prototype,"CeleryStalker",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Oi=t(Pn.prototype,"Sapfling",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Wi=t(Pn.prototype,"Parsnip",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Hi=t(Pn.prototype,"ExplodeONut",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),xi=t(Pn.prototype,"Grapeshot",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Ji=t(Pn.prototype,"Plantern",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Ki=t(Pn.prototype,"HeavenlyPeach",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),_i=t(Pn.prototype,"JackOLantern",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Vi=t(Pn.prototype,"Dandelion",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),ji=t(Pn.prototype,"ChardGuard",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),qi=t(Pn.prototype,"HypnoShroom",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Ui=t(Pn.prototype,"ElectricCurrant",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Yi=t(Pn.prototype,"EscapeRoot",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Zi=t(Pn.prototype,"Imitater",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Xi=t(Pn.prototype,"ShadowShroom",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Qi=t(Pn.prototype,"MagnetShroom",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),$i=t(Pn.prototype,"Turnip",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),er=t(Pn.prototype,"EMPeach",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),tr=t(Pn.prototype,"Citron",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),nr=t(Pn.prototype,"LaserBean",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),ir=t(Pn.prototype,"SolarTomato",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),rr=t(Pn.prototype,"TileTurnipAlpha",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),ar=t(Pn.prototype,"TileTurnipBeta",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),lr=t(Pn.prototype,"TileTurnipGamma",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),or=t(Pn.prototype,"TileTurnipDelta",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),ur=t(Pn.prototype,"TileTurnipEpsilon",[wt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),sr=t(Pn.prototype,"InfiNut",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),pr=t(Pn.prototype,"MariGold",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),cr=t(Pn.prototype,"MariGoldRed",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),hr=t(Pn.prototype,"MariGoldOrange",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),br=t(Pn.prototype,"MariGoldYellow",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),wr=t(Pn.prototype,"MariGoldGreen",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),fr=t(Pn.prototype,"MariGoldBlue",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Pr=t(Pn.prototype,"MariGoldPink",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),gr=t(Pn.prototype,"MariGoldPurple",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),yr=t(Pn.prototype,"AppleMortar",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),mr=t(Pn.prototype,"RedStinger",[Rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Sr=t(Pn.prototype,"Skyshooter",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),dr=t(Pn.prototype,"SunBean",[Gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Br=t(Pn.prototype,"Peanut",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Tr=t(Pn.prototype,"PotionSpeed",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),vr=t(Pn.prototype,"PotionToughness",[Et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Rr=t(Pn.prototype,"PotionInvisibility",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),zr=t(Pn.prototype,"TangleKelp",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Gr=t(Pn.prototype,"BowlingBulb",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Mr=t(Pn.prototype,"BowlingBulbSpawner1",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Cr=t(Pn.prototype,"BowlingBulbSpawner2",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Er=t(Pn.prototype,"BowlingBulbSpawner3",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),kr=t(Pn.prototype,"BowlingBulbSpawnerExplode",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Lr=t(Pn.prototype,"BowlingBulbSpawnerIceberg",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Dr=t(Pn.prototype,"BowlingSpawnerWallNut",[Wt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Ir=t(Pn.prototype,"BowlingSpawnerExplodeONut",[Ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Ar=t(Pn.prototype,"BowlingSpawnerInfiNut",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Fr=t(Pn.prototype,"BowlingSpawnerPrimalWallNut",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Nr=t(Pn.prototype,"BowlingSpawnerTallNut",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Or=t(Pn.prototype,"Guacodile",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Wr=t(Pn.prototype,"GhostPepper",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Hr=t(Pn.prototype,"SweetPotato",[jt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),xr=t(Pn.prototype,"PepperPult",[qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Jr=t(Pn.prototype,"HotPotato",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Kr=t(Pn.prototype,"Stunion",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),_r=t(Pn.prototype,"GoldLeaf",[Zt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Vr=t(Pn.prototype,"AKEE",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),jr=t(Pn.prototype,"Endurian",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),qr=t(Pn.prototype,"Toadstool",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Ur=t(Pn.prototype,"LavaGuava",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Yr=t(Pn.prototype,"PhatBeet",[tn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Zr=t(Pn.prototype,"Strawburst",[nn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Xr=t(Pn.prototype,"ThymeWarp",[rn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Qr=t(Pn.prototype,"PhatBeetRhythm",[an],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),$r=t(Pn.prototype,"SeaShroom",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),ea=t(Pn.prototype,"Garlic",[on],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),ta=t(Pn.prototype,"ElectricBlueBerry",[un],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),na=t(Pn.prototype,"SporeShroom",[sn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),ia=t(Pn.prototype,"IntensiveCarrot",[pn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),ra=t(Pn.prototype,"PrimalSunflower",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),aa=t(Pn.prototype,"MoonBean",[hn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),la=t(Pn.prototype,"ColdSnapDragon",[bn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),oa=t(Pn.prototype,"CardsFeatureJson",[wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fn=Pn))||fn));a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerProperties.ts",["cc","./NodePools.ts","./Plants.ts","./Zombies.ts","./UpdateContentWindow.ts","./ZenGardenFeatures.ts","./Prizes.ts"],(function(e){var r,s,t,n,i,o,a,l,P;return{setters:[function(e){r=e.cclegacy,s=e.sys},function(e){t=e.ArrayGet},function(e){n=e.plants,i=e.PlantEnum},function(e){o=e.zombies},function(e){a=e.UpdateContentWindow},function(e){l=e.ZenGardenPlayerProperties},function(e){P=e.prizeRes}],execute:function(){e("isJSON",(function(e){try{return JSON.parse(e),!0}catch(e){return!1}})),r._RF.push({},"e4e03O6w5BJTotU0w9qk5Av","PlayerProperties",void 0);var u=e("LevelProgress",function(e){return e[e.locked=0]="locked",e[e.unlocked_neverPlayed=1]="unlocked_neverPlayed",e[e.unlocked_played=2]="unlocked_played",e[e.unlocked_willbeFinished=3]="unlocked_willbeFinished",e[e.finished=4]="finished",e}({})),c=e("LevelComplishmentData",(function(){this.levelID="",this.progress=u.locked})),d=e("UpgradeProgress",function(e){return e[e.locked=0]="locked",e[e.unlocked_willBeObtained=1]="unlocked_willBeObtained",e[e.obtained=2]="obtained",e}({})),h=e("UpgradeInPlayerProps",(function(){this.upgradeID=0,this.progress=d.locked,this.enabled=!0})),p=e("TrophyProgress",function(e){return e[e.locked=0]="locked",e[e.unlocked_willBeObtained=1]="unlocked_willBeObtained",e[e.obtained=2]="obtained",e}({})),y=e("TrophyInPlayerProps",(function(){this.trophyID=0,this.progress=p.locked})),g=e("UserDataDocument","PvZ2_PlayerProperties");var v=e("EndlessZoneProperties",(function(){this.level=1,this.obtainedPlants=[],this.plantfood=0,this.mower=[!0,!0,!0,!0,!0],this.initialPlants=[],this.plantChosen=!1,this.plantsToChoose=null})),w=e("EndlessZoneMiniGameProperties",(function(){this.level=1})),m=e("PlantInPlayerProps",(function(){this.plantID=0,this.progress=0,this.tutorialLevel=0,this.costume=-1,this.costumes=[]})),f=e("PlantObtainProgress",function(e){return e[e.locked=0]="locked",e[e.obtained_toBeUnlocked=1]="obtained_toBeUnlocked",e[e.obtained=2]="obtained",e}({})),M=e("ZombieInPlayerProps",(function(){this.progress=0})),b=(e("ZombieKillProgress",function(e){return e[e.hidden=0]="hidden",e[e.met_unknown=1]="met_unknown",e[e.known=2]="known",e}({})),e("WorldInPlayerProps",(function(){this.worldID=0,this.unlocked=!1,this.wmx=0,this.endlessProps=new v,this.endlessMiniGameProps=new w}))),E=e("WorldMapSceneDisplayEnum",function(e){return e[e.chooser=0]="chooser",e[e.egypt=1]="egypt",e[e.pirate=2]="pirate",e[e.cowboy=3]="cowboy",e[e.future=4]="future",e[e.dark=5]="dark",e[e.beach=6]="beach",e[e.iceage=7]="iceage",e[e.lostcity=8]="lostcity",e[e.epic=9]="epic",e[e.eighties=10]="eighties",e[e.amount=11]="amount",e}({})),k=function(){this.date=1,this.month=1,this.year=1,this.plantCostumeToday=[]},I=function(){},W=function(){},D=function(){},G=function(){},N=function(){this.currentWM=0,this.worldChooserPos=0},X=function(){},C=e("PlayerProperties",(function(){this.name="",this.version="",this.worldkey=0,this.gem=0,this.coin=0,this.date=new k,this.zombieProps=new W,this.plantProps=new I,this.obtainedPlants=[],this.upgradeProps=new D,this.obtainedUpgrades=[],this.trophyProps=new G,this.obtainedTrophies=[],this.worldProgress=[],this.levelProps=new X,this.advancedLevels=[],this.zengarden=new l,this.memorySeedChoose=[],this.difficulty=3,this.worldProps=new N,this.currentWM=0,this.worldChooserI=0,this.egyptWMX=0,this.egyptEndlessProperties=new v,this.egyptEndlessMiniGameProperties=new w,this.pirateWMX=0,this.pirateEndlessProperties=new v,this.pirateEndlessMiniGameProperties=new w,this.cowboyWMX=0,this.cowboyEndlessProperties=new v,this.cowboyEndlessMiniGameProperties=new w,this.futureWMX=0,this.futureEndlessProperties=new v,this.futureEndlessMiniGameProperties=new w,this.darkWMX=0,this.darkEndlessProperties=new v,this.darkEndlessMiniGameProperties=new w,this.beachWMX=0,this.beachEndlessProperties=new v,this.beachEndlessMiniGameProperties=new w,this.iceageWMX=0,this.iceageEndlessProperties=new v,this.iceageEndlessMiniGameProperties=new w,this.lostcityWMX=0,this.lostcityEndlessProperties=new v,this.lostcityEndlessMiniGameProperties=new w,this.epicWMX=0})),O=e("AllPlayerProperties",function(){function e(){}return e.savePP=function(){var r=e.allPlayers.concat(),t=JSON.stringify(r);s.localStorage.setItem(g,t)},e.getPlayer=function(r){var t,n=null==(t=s.localStorage)?void 0:t.getItem(g),i=[];return n&&(i=JSON.parse(n)),e.allPlayers=i,isNaN(e.allPlayers.length)||e.allPlayers.length-1<r?(e.currentPlayer=new C,e.allPlayers.push(e.currentPlayer),e.currentPlayer.name="New Player"):e.currentPlayer=e.allPlayers[r],this.getPlantProgressProps(),this.getTrophyProgressProps(),this.getLevelProps(),this.getUpgradeProgressProps(),this.updateAllWorldProgress(),this.getToday(),this.currentPlayer.version=a.version,e.currentPlayer},e.getDangerRoomProperty=function(r,s){void 0===s&&(s=!1);var t=e.getWorldProgressByID(r);return t.endlessProps&&!s||(t.endlessProps=new v),t.endlessProps?t.endlessProps:new v},e.getDangerRoomMiniGameProperty=function(r,s){void 0===s&&(s=!1);var t=e.getWorldProgressByID(r);return t.endlessMiniGameProps&&!s||(t.endlessMiniGameProps=new w),t.endlessMiniGameProps?t.endlessMiniGameProps:new w},e.pushPlantToEndlessProperty=function(r,s){for(var t=[],i=0;i<n.defaultPlantChooserOrder.length;i++)-1==s.obtainedPlants.indexOf(n.defaultPlantChooserOrder[i])&&n.defaultPlantChooserOrder[i]!=r||t.push(n.defaultPlantChooserOrder[i]);s.obtainedPlants=t,e.savePP()},e.getLevelProps=function(){var e=this;this.currentPlayer.levelProps||(this.currentPlayer.levelProps=new X);var r=this.currentPlayer.advancedLevels;return null!=r&&r.length&&(r.forEach((function(r){var s=new c;s.levelID=void 0,isNaN(+r.progress)||(s.progress=r.progress),e.currentPlayer.levelProps[r.levelID]=s})),this.savePP()),this.currentPlayer.advancedLevels=void 0,this.currentPlayer.levelProps},e.getPlantProgressProps=function(){var e=this;this.currentPlayer.plantProps||(this.currentPlayer.plantProps=new I);var r=this.currentPlayer.obtainedPlants;return null!=r&&r.length&&(r.forEach((function(r){var s=new m;s.plantID=void 0,isNaN(+r.progress)||(s.progress=r.progress),isNaN(+r.tutorialLevel)||(s.tutorialLevel=r.tutorialLevel),e.currentPlayer.plantProps[r.plantID]=s})),this.currentPlayer.obtainedPlants=void 0,this.savePP()),this.currentPlayer.obtainedPlants=void 0,this.currentPlayer.plantProps},e.getZombieKilledProps=function(){return this.currentPlayer.zombieProps||(this.currentPlayer.zombieProps=new W),this.currentPlayer.zombieProps},e.getWorldProps=function(){var e=this;this.currentPlayer.worldProps||(this.currentPlayer.worldProps=new N),isNaN(this.currentPlayer.worldProps.currentWM)&&(this.currentPlayer.worldProps.currentWM=0),isNaN(this.currentPlayer.worldProps.worldChooserPos)&&(this.currentPlayer.worldProps.worldChooserPos=0);var r=this.currentPlayer.worldProgress;return null!=r&&r.length&&(r.forEach((function(r){var s=new b;s.worldID=void 0,r.unlocked&&(s.unlocked=!0),isNaN(+r.wmx)||(s.wmx=r.wmx),e.currentPlayer.worldProps[r.worldID]=s})),this.currentPlayer.worldProgress=void 0,this.savePP()),this.currentPlayer.worldProps},e.getUpgradeProgressProps=function(){var e=this;this.currentPlayer.upgradeProps||(this.currentPlayer.upgradeProps=new D);var r=this.currentPlayer.obtainedUpgrades;return null!=r&&r.length&&(r.forEach((function(r){var s=new h;s.upgradeID=void 0,isNaN(+r.progress)||(s.progress=r.progress),e.currentPlayer.upgradeProps[r.upgradeID]=s})),this.currentPlayer.obtainedUpgrades=void 0,this.savePP()),this.currentPlayer.obtainedUpgrades=void 0,this.currentPlayer.upgradeProps},e.getTrophyProgressProps=function(){var e=this;this.currentPlayer.trophyProps||(this.currentPlayer.trophyProps=new G);var r=this.currentPlayer.obtainedTrophies;return null!=r&&r.length&&(r.forEach((function(r){var s=new y;s.trophyID=void 0,isNaN(+r.progress)||(s.progress=r.progress),e.currentPlayer.trophyProps[r.trophyID]=s})),this.currentPlayer.obtainedTrophies=void 0,this.savePP()),this.currentPlayer.obtainedTrophies=void 0,this.currentPlayer.trophyProps},e.getLevelProgressByID=function(e){var r=new c;r.levelID=void 0;var s=this.getLevelProps(),t=s[e];return t?(isNaN(t.progress)&&(t.progress=0),this.savePP()):(t=r,s[e]=r,this.savePP()),t},e.getPlantProgressByID=function(e){var r=new m;r.plantID=void 0;var s,t=this.getPlantProgressProps(),n=t[e];n?(n.plantID=void 0,isNaN(n.progress)&&(n.progress=0),n.tutorialLevel||(n.tutorialLevel=0),isNaN(n.costume)&&(n.costume=-1),isNaN(null==(s=n.costumes)?void 0:s.length)&&(n.costumes=[]),this.savePP()):(t[e]=r,n=r,this.savePP());return n},e.getZombieKilledByID=function(e){var r=new M,s=this.getZombieKilledProps(),t=o.getZombieFeature(e).CODENAME,n=s[t];return n?(isNaN(n.progress)&&(n.progress=0),this.savePP()):(s[t]=r,n=r,this.savePP()),n},e.updateAllWorldProgress=function(){for(var e=0;e<E.amount;e++)this.getWorldProgressByID(e)},e.getWorldProgressByID=function(e){var r=new b;if(r.worldID=void 0,isNaN(e))return r;var s=this.getWorldProps(),t=s[e];switch(t?(t.unlocked||(t.unlocked=!1),t.endlessMiniGameProps||(t.endlessMiniGameProps=new w),t.endlessProps||(t.endlessProps=new v),t.wmx||(t.wmx=0),t.worldID&&(t.worldID=void 0),this.savePP()):(s[e]=r,t=r,this.savePP()),e){case E.chooser:isNaN(this.currentPlayer.worldChooserI)||(this.currentPlayer.worldProps.worldChooserPos=this.currentPlayer.worldChooserI,this.currentPlayer.worldChooserI=void 0),isNaN(this.currentPlayer.currentWM)||(this.currentPlayer.worldProps.currentWM=this.currentPlayer.currentWM,this.currentPlayer.currentWM=void 0);break;case E.egypt:this.currentPlayer.egyptWMX&&(t.wmx=this.currentPlayer.egyptWMX,this.currentPlayer.egyptWMX=void 0),this.currentPlayer.egyptEndlessProperties&&(t.endlessProps=this.currentPlayer.egyptEndlessProperties,this.currentPlayer.egyptEndlessProperties=void 0),this.currentPlayer.egyptEndlessMiniGameProperties&&(t.endlessMiniGameProps=this.currentPlayer.egyptEndlessMiniGameProperties,this.currentPlayer.egyptEndlessMiniGameProperties=void 0);break;case E.pirate:this.currentPlayer.pirateWMX&&(t.wmx=this.currentPlayer.pirateWMX,this.currentPlayer.pirateWMX=void 0),this.currentPlayer.pirateEndlessProperties&&(t.endlessProps=this.currentPlayer.pirateEndlessProperties,this.currentPlayer.pirateEndlessProperties=void 0),this.currentPlayer.pirateEndlessMiniGameProperties&&(t.endlessMiniGameProps=this.currentPlayer.pirateEndlessMiniGameProperties,this.currentPlayer.pirateEndlessMiniGameProperties=void 0);break;case E.cowboy:this.currentPlayer.cowboyWMX&&(t.wmx=this.currentPlayer.cowboyWMX,this.currentPlayer.cowboyWMX=void 0),this.currentPlayer.cowboyEndlessProperties&&(t.endlessProps=this.currentPlayer.cowboyEndlessProperties,this.currentPlayer.cowboyEndlessProperties=void 0),this.currentPlayer.cowboyEndlessMiniGameProperties&&(t.endlessMiniGameProps=this.currentPlayer.cowboyEndlessMiniGameProperties,this.currentPlayer.cowboyEndlessMiniGameProperties=void 0);break;case E.future:this.currentPlayer.futureWMX&&(t.wmx=this.currentPlayer.futureWMX,this.currentPlayer.futureWMX=void 0),this.currentPlayer.futureEndlessProperties&&(t.endlessProps=this.currentPlayer.futureEndlessProperties,this.currentPlayer.futureEndlessProperties=void 0),this.currentPlayer.futureEndlessMiniGameProperties&&(t.endlessMiniGameProps=this.currentPlayer.futureEndlessMiniGameProperties,this.currentPlayer.futureEndlessMiniGameProperties=void 0);break;case E.dark:this.currentPlayer.darkWMX&&(t.wmx=this.currentPlayer.darkWMX,this.currentPlayer.darkWMX=void 0),this.currentPlayer.darkEndlessProperties&&(t.endlessProps=this.currentPlayer.darkEndlessProperties,this.currentPlayer.darkEndlessProperties=void 0),this.currentPlayer.darkEndlessMiniGameProperties&&(t.endlessMiniGameProps=this.currentPlayer.darkEndlessMiniGameProperties,this.currentPlayer.darkEndlessMiniGameProperties=void 0);break;case E.beach:this.currentPlayer.beachWMX&&(t.wmx=this.currentPlayer.beachWMX,this.currentPlayer.beachWMX=void 0),this.currentPlayer.beachEndlessProperties&&(t.endlessProps=this.currentPlayer.beachEndlessProperties,this.currentPlayer.beachEndlessProperties=void 0),this.currentPlayer.beachEndlessMiniGameProperties&&(t.endlessMiniGameProps=this.currentPlayer.beachEndlessMiniGameProperties,this.currentPlayer.beachEndlessMiniGameProperties=void 0);break;case E.iceage:this.currentPlayer.iceageWMX&&(t.wmx=this.currentPlayer.iceageWMX,this.currentPlayer.iceageWMX=void 0),this.currentPlayer.iceageEndlessProperties&&(t.endlessProps=this.currentPlayer.iceageEndlessProperties,this.currentPlayer.iceageEndlessProperties=void 0),this.currentPlayer.iceageEndlessMiniGameProperties&&(t.endlessMiniGameProps=this.currentPlayer.iceageEndlessMiniGameProperties,this.currentPlayer.iceageEndlessMiniGameProperties=void 0);break;case E.lostcity:this.currentPlayer.lostcityWMX&&(t.wmx=this.currentPlayer.lostcityWMX,this.currentPlayer.lostcityWMX=void 0),this.currentPlayer.lostcityEndlessProperties&&(t.endlessProps=this.currentPlayer.lostcityEndlessProperties,this.currentPlayer.lostcityEndlessProperties=void 0),this.currentPlayer.lostcityEndlessMiniGameProperties&&(t.endlessMiniGameProps=this.currentPlayer.lostcityEndlessMiniGameProperties,this.currentPlayer.lostcityEndlessMiniGameProperties=void 0);break;case E.epic:this.currentPlayer.epicWMX&&(t.wmx=this.currentPlayer.epicWMX,this.currentPlayer.epicWMX=void 0)}return t},e.getUpgradeProgressByID=function(e){var r=new h;r.upgradeID=void 0;var s=this.getUpgradeProgressProps(),t=s[e];return t?(t.upgradeID=void 0,isNaN(t.progress)&&(t.progress=0),0!=t.enabled&&(t.enabled=!0),this.savePP()):(s[e]=r,t=r,this.savePP()),t},e.getTrophyProgressByID=function(e){var r=new y;r.trophyID=void 0;var s=this.getTrophyProgressProps(),t=s[e];return t?(t.trophyID=void 0,isNaN(t.progress)&&(t.progress=0),this.savePP()):(s[e]=r,t=r,this.savePP()),t},e.unlockTrophy=function(r){var s=this.getTrophyProgressByID(r),t=P.trophyFeatures()[r];switch(t.TROPHYTYPE){case"worldkey":e.currentPlayer.worldkey||(e.currentPlayer.worldkey=0),e.currentPlayer.worldkey++;break;case"dangerroom":var n;null==(n=t.objdata.UnlockLevel)||n.forEach((function(r){var s=e.getLevelProgressByID(r);s.progress<=0&&(s.progress=u.unlocked_neverPlayed)}));break;default:s.progress=p.unlocked_willBeObtained}e.savePP()},e.unlockUpgrade=function(r){this.getUpgradeProgressByID(r).progress=d.unlocked_willBeObtained,e.savePP()},e.unlockPlant=function(r){this.getPlantProgressByID(r).progress=f.obtained_toBeUnlocked,e.savePP()},e.unlockWorld=function(r){this.getWorldProgressByID(r).unlocked=!0,e.savePP()},e.getObtainedPlantList=function(){for(var e=[],r=[],s=0;s<i.amount;s++){var t=this.getPlantProgressByID(s);-1!=n.defaultPlantChooserOrder.indexOf(s)&&t.progress>0&&(e.push(t),r.push(s))}return{PPs:e,IDs:r}},e.getObtainedPlantEnumList=function(){return this.getObtainedPlantList().IDs.sort((function(e,r){return n.defaultPlantChooserOrder.indexOf(e)-n.defaultPlantChooserOrder.indexOf(r)}))},e.judgePlantCostumeIsUnlocked=function(e,r){return-1!=r.costumes.indexOf(e.costume)},e.getAvailablePlantCostumeList=function(){var e=this,r=this.getObtainedPlantList(),s=[];return r.IDs.forEach((function(t,i){for(var o=r.PPs[i],a=n.getPlantFeature(t),l=0;l<a.COSTUME;l++)e.judgePlantCostumeIsUnlocked({plantID:t,costume:l},o)||s.push({plantID:t,costume:l})})),s},e.unlockPlantCostume=function(r){var s=this.getPlantProgressByID(r.plantID);s.costumes.push(r.costume),s.costume=r.costume,e.savePP()},e.getToday=function(){var e;this.currentPlayer.date||(this.currentPlayer.date=new k);var r=new Date,s=r.getDate(),n=r.getMonth(),i=r.getFullYear(),o=!1;return this.currentPlayer.date.date==s&&this.currentPlayer.date.month==n&&this.currentPlayer.date.year==i||(o=!0),!o&&null!=(e=this.currentPlayer.date.plantCostumeToday)&&e.length||(this.currentPlayer.date.plantCostumeToday=t.randomize(this.getAvailablePlantCostumeList()).filter((function(e,r){return r<8}))),this.currentPlayer.date.date=s,this.currentPlayer.date.month=n,this.currentPlayer.date.year=i,this.savePP(),this.currentPlayer.date},e}());O.currentPlayer=new C,O.allPlayers=[],r._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerPropertiesWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts","./PlayerProperties.ts"],(function(t){var e,i,r,o,n,l,a,s,p,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,a=t.Label,s=t.EditBox,p=t.Component},function(t){u=t.MultiLanguage},function(t){c=t.AllPlayerProperties}],execute:function(){var y,P,b,f,g,h,d,v,w,T,S,L,m,z;n._RF.push({},"b0b9am89Z5HLapzqEppb/wM","PlayerPropertiesWindow",void 0);var W=l.ccclass,x=l.property,B=(y=W("PlayerPropertiesWindowToolTips"),P=x(a),b=x(a),y((h=e((g=function(){function t(){r(this,"Save",h,this),r(this,"Title",d,this)}return t.prototype.start=function(){this.Title&&(this.Title.string=u.getStringByPropsWithoutTricks("PlayerPropsLyrics","Title")),this.Save&&(this.Save.string=u.getStringByPropsWithoutTricks("PlayerPropsLyrics","Save"))},t}()).prototype,"Save",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(g.prototype,"Title",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g))||f);t("PlayerPropertiesWindow",(v=W("PlayerPropertiesWindow"),w=x(B),T=x(s),v((m=e((L=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,r(e,"tooltips",m,o(e)),r(e,"editbox",z,o(e)),e}i(e,t);var n=e.prototype;return n.start=function(){this.tooltips.start()},n.onEnable=function(){this.editbox.string=JSON.stringify(c.currentPlayer,null,"\t")},e}(p)).prototype,"tooltips",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new B}}),z=e(L.prototype,"editbox",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=L))||S));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerSelector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerProperties.ts","./SettingWindow.ts","./SoundRescourses.ts","./MultiLanguage.ts"],(function(e){var t,i,r,l,a,n,s,o,c,y,u,P,p,h,g,b,d,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,s=e.Label,o=e.Node,c=e.EditBox,y=e.AudioClip,u=e.instantiate,P=e.Color,p=e.Component},function(e){h=e.AllPlayerProperties},function(e){g=e.createImportElement,b=e.createExportElement,d=e.Setting},function(e){f=e.sounds},function(e){m=e.MultiLanguage}],execute:function(){var L,v,S,E,D,x,w,N,C,z,B,T,I,k,O,_,j,H,R,A,M,U,F,W,J,Y,q,G,K,Q,V,X,Z,$,ee,te,ie,re,le;a._RF.push({},"ba299j+kYJNa7j+rim9jPnb","PlayerSelector",void 0);var ae=n.ccclass,ne=n.property,se=e("importPP",g((function(e){var t;e&&(h.allPlayers.push(e),h.savePP(),null==(t=ce.cp)||t.restartPlayerLabels())}))),oe=(L=ae("PlayerListWindow Labels"),v=ne(s),S=ne(s),E=ne(s),D=ne(s),x=ne(s),w=ne(s),N=ne(s),C=ne(s),z=ne(s),B=ne(s),T=ne(s),L((O=t((k=function(){function e(){r(this,"Title",O,this),r(this,"Create",_,this),r(this,"Edit",j,this),r(this,"Import",H,this),r(this,"Export",R,this),r(this,"Delete",A,this),r(this,"Confirm",M,this),r(this,"Cancel",U,this),r(this,"DeleteTitle",F,this),r(this,"DeleteSure",W,this),r(this,"DeleteIllustration",J,this)}return e.prototype.setToolTip=function(){this.Confirm.string=m.getString(m.lyrics.PlayerListLyrics.Confirm,!1),this.Title.string=m.getString(m.lyrics.PlayerListLyrics.Title,!1),this.Create.string=m.getString(m.lyrics.PlayerListLyrics.Create,!1),this.Edit.string=m.getString(m.lyrics.PlayerListLyrics.Edit,!1),this.Import.string=m.getString(m.lyrics.PlayerListLyrics.Import,!1),this.Export.string=m.getString(m.lyrics.PlayerListLyrics.Export,!1),this.Delete.string=m.getString(m.lyrics.PlayerListLyrics.Delete,!1),this.DeleteSure.string=m.getString(m.lyrics.PlayerListLyrics.Delete,!1),this.Cancel.string=m.getString(m.lyrics.PlayerListLyrics.Cancel,!1),this.DeleteTitle.string=m.getString(m.lyrics.PlayerListLyrics.DeleteTitle,!1),this.DeleteIllustration.string=m.getString(m.lyrics.PlayerListLyrics.DeleteIllustration,!1)},e}()).prototype,"Title",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(k.prototype,"Create",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(k.prototype,"Edit",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(k.prototype,"Import",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(k.prototype,"Export",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(k.prototype,"Delete",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(k.prototype,"Confirm",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(k.prototype,"Cancel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(k.prototype,"DeleteTitle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(k.prototype,"DeleteSure",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(k.prototype,"DeleteIllustration",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=k))||I),ce=e("PlayerSelector",(Y=ae("PlayerSelector"),q=ne(s),G=ne(o),K=ne(oe),Q=ne(c),V=ne(y),Y(((le=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,r(t,"Player0Label",$,l(t)),t.PlayerLabels=[],r(t,"DeleteSure",ee,l(t)),r(t,"tooltip",te,l(t)),r(t,"PlayerNameEditBox",ie,l(t)),r(t,"clickSound",re,l(t)),t}i(t,e);var a=t.prototype;return a.restartPlayerLabels=function(){var e,t=this;if(null==(e=h.allPlayers)||!e.length)h.getPlayer(0);h.allPlayers.length&&h.allPlayers.forEach((function(e,i){e.name||(e.name="New Player");var r=!0,l=t.PlayerLabels[i];if(!l){var a=u(t.Player0Label.node.parent);a.parent=t.Player0Label.node.parent.parent,l=a.getChildByName("PlayerName").getComponent(s),t.PlayerLabels.push(l),r=!1}l&&(r||l.node.parent.on(o.EventType.TOUCH_END,(function(){var e=t.PlayerLabels.indexOf(l);-1!=e&&t.changePlayer(e),f.play(t.clickSound,1,.1)}),t),l.string=e.name)})),this.PlayerLabels.concat().forEach((function(e,i){if(!h.allPlayers[i]){e.node.parent.destroy();var r=t.PlayerLabels.indexOf(e);-1!=r&&t.PlayerLabels.splice(r,1)}}));var i=h.allPlayers.indexOf(h.currentPlayer);this.readPlayer(i),h.savePP()},a.onLoad=function(){t.cp=this},a.addPlayer=function(){this.PlayerNameEditBox.node.active=!1;h.getPlayer(h.allPlayers.length);this.restartPlayerLabels()},a.exportPP=function(){b(h.currentPlayer,h.currentPlayer.name?h.currentPlayer.name:"pp")},a.importPP=function(){null==se||se.click()},a.editPlayer=function(){this.PlayerNameEditBox.string||(this.PlayerNameEditBox.string="New Player"),h.currentPlayer.name=this.PlayerNameEditBox.string,h.savePP(),this.PlayerNameEditBox.node.active=!1,this.restartPlayerLabels()},a.deletePlayerReally=function(){this.PlayerNameEditBox.node.active=!1;var e=h.allPlayers.indexOf(h.currentPlayer);-1!=e&&(h.allPlayers.splice(e,1),h.savePP(),h.getPlayer(0),this.restartPlayerLabels()),this.DeleteSure.active=!1},a.deletePlayer=function(){this.PlayerNameEditBox.node.active=!1,this.DeleteSure.active=!0},a.cancel=function(){this.DeleteSure.active=!1},a.editStart=function(){this.PlayerNameEditBox.node.active=!0,this.PlayerNameEditBox.string=h.currentPlayer.name},a.onEnable=function(){this.DeleteSure.active=!1},a.readPlayer=function(e){this.PlayerLabels.forEach((function(t,i){var r=e==i;t.color=r?new P(0,255,0,255):new P(255,255,255,255),t.isUnderline=r,t.isItalic=r,t.node.parent.getChildByName("HighLight").active=r}))},a.changePlayer=function(e){this.PlayerNameEditBox.node.active=!1;h.getPlayer(e);d.saveSettings(),this.readPlayer(e)},a.start=function(){var e=this;this.tooltip.setToolTip(),this.PlayerNameEditBox.node.active=!1,this.PlayerLabels=[this.Player0Label],this.Player0Label.node.parent.on(o.EventType.TOUCH_END,(function(){e.changePlayer(0),f.play(e.clickSound,1,.1)}),this),this.restartPlayerLabels()},t}(p)).cp=void 0,$=t((Z=le).prototype,"Player0Label",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(Z.prototype,"DeleteSure",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(Z.prototype,"tooltip",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(Z.prototype,"PlayerNameEditBox",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(Z.prototype,"clickSound",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=Z))||X));a._RF.pop()}}}));

System.register("chunks:///_virtual/PotatoMine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./NodePools.ts"],(function(t){var n,o,e,a,i,r,l,s,h,c,d,u,p,f,g;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,l=t.AudioClip},function(t){s=t.PlantType,h=t.Plant,c=t.PlantProps},function(t){d=t.ZombiePool,u=t.Rectangle},function(t){p=t.Square},function(t){f=t.sounds},function(t){g=t.ArrayGet}],execute:function(){var w,C,m,b,y,P,v;i._RF.push({},"8e90bzMJCRDvKfgEIWRnVBn","PotatoMine",void 0);var S=r.ccclass,A=r.property,D=function(t){function n(){for(var n,o=arguments.length,e=new Array(o),a=0;a<o;a++)e[a]=arguments[a];return(n=t.call.apply(t,[this].concat(e))||this).ChargeTime=14,n.Damage=1800,n.PlantfoodChildrenCount=2,n}return o(n,t),n}(c);t("PotatoMinePlant",(w=S("PotatoMinePlant"),C=A(l),m=A(l),w((P=n((y=function(t){function n(){for(var n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this)._objdataOwn=new D,n.growthCountdown_=14,e(n,"foodSound",P,a(n)),e(n,"landSound",v,a(n)),n.grown=!1,n.activated=!1,n.detector=void 0,n}o(n,t);var i=n.prototype;return i.onObjdataSet=function(t,n){this.growthCountdown_=n.ChargeTime},i.specialPlantOnEnable=function(){this.activated=!1,this.grown=!1,this.growthCountdown_=this._objdataOwn.ChargeTime,this.anmControl.playAnimation("Spawn_Baby",1),this.anmControl.IdleAnim="Idle_Baby",this.anmControl.RandomAnim=[],this.deathAnm="Death_Baby"},i.specialPlantFood=function(t){this.grown||this.grow(),this.activated=!0,this.anmControl.playAnimation("Food")},i.grow=function(){this.grown=!0,this.eatDamagable=!1,this.growSound(),this.anmControl.playAnimation("Grow",1),this.anmControl.IdleAnim="Idle",this.deathAnm="Charging",this.eaterDetectable=!1,this.smasherDetectable=!1},i.growSound=function(){f.playDirtRise()},i.explodeAction=function(){this.inLnC.explodeSqudow1x1(this._objdataOwn.Damage)},i.animationListener=function(t){switch(t.name){case"activate":this.activated=!0;break;case"explode":this.explodeAction();break;case"die":this.deathAnm="",this.die();break;case"throw":this.throwChildren();break;case"foodEnd":this.foodEnd();break;case"foodSound":f.play(this.foodSound,1,.1)}},i.throwChildren=function(){var t=this,n=this._objdataOwn.PlantfoodChildrenCount,o=[];if(d.inLawnPool().forEach((function(e){o.length>=n||e.inLnC.isInLawn()&&-1==o.indexOf(e.inLnC)&&e.inLnC.putPlantAvailable(!0,t.ID)&&o.push(e.inLnC)})),o.length<n)for(var e=g.randomize(p.getAllLnC()),a=0;o.length<n&&a<e.length;a++){var i=e[a];-1==o.indexOf(i)&&i.putPlantAvailable(!0,this.ID)&&o.push(i)}o.forEach((function(n){var o=t.inLnC.spawnPlantByPlantEnum(t.ID);o&&(o.judgeInLnC(),o.node.setPosition(0,0,0),t.inLnC.pushPlant(o),o.plantType=s.plant,o.anmControl.playAnimation("Flying",1/0),o.damagable=!1,o.leapTo(n,.8,200))}))},i.onLeapStart=function(){this.activated=!1},i.onLeapEnd=function(){this.grow(),f.play(this.landSound,1,.1),this.anmControl.playAnimation("Spawn",1)},i.specialPlantOnSquareChange=function(t,n){this.detector=u.createRectangleNodeCenter(n.node,p.SquareDisW,p.SquareDisH)},i.detectEnemy=function(){var t,n=this,o=!1;null==(t=this.inLane)||t.zombiePool().forEach((function(t){o||t.flying||!t.plantDetectorRec.judgeCrossRec(n.bodyRec)&&!t.bodyRec.judgeCrossRec(n.detector)||(o=!0)})),o&&(this.activated=!1,this.die())},i.waterable=function(){return this.activated},i.specialPlantUpdate=function(t,n,o){this.grown||(this.growthCountdown_>0&&(this.growthCountdown_-=t),this.growthCountdown_<=0&&this.grow()),!this.activated||this.fooding||this.sheepend||this.detectEnemy()},n}(h)).prototype,"foodSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=n(y.prototype,"landSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/PotatoMinePrimal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PotatoMine.ts","./SoundRescourses.ts"],(function(t){var o,n,i,e,a;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){e=t.PotatoMinePlant},function(t){a=t.sounds}],execute:function(){var r;n._RF.push({},"7830fHqmAFNxJYmzEaUai+2","PotatoMinePrimal",void 0);var s=i.ccclass;i.property,t("PotatoMinePrimalPlant",s("PotatoMinePrimalPlant")(r=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var i=n.prototype;return i.explodeAction=function(){this.inLnC.explodeSpudow3x3(this._objdataOwn.Damage)},i.growSound=function(){a.play(this.landSound,1,.1)},n}(e))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/Potion.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./levelController.ts","./Zombies.ts"],(function(t){var n,e,i,o,a,r,s,l,u,c,p,h,f;return{setters:[function(t){n=t.inheritsLoose,e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.AudioClip},function(t){u=t.PlantProps,c=t.Plant},function(t){p=t.sounds},function(t){h=t.LevelPlay},function(t){f=t.ZombieEnum}],execute:function(){var d,y,b,m,P,v,w,g,A,D,C,S,L,O;r._RF.push({},"95405k2XLxO4aSdd8oXbP5N","Potion",void 0);var R=s.ccclass,_=s.property,z=t("PotionProps",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).MaxEnchantLevel=3,n}return n(e,t),e}(u)),j=(d=R("PotionSound"),y=_([l]),b=_([l]),m=_([l]),d((w=e((v=function(){function t(){i(this,"drop",w,this),i(this,"splat",g,this),i(this,"consume",A,this)}var n=t.prototype;return n.playDrop=function(){p.playArray(this.drop,1,.1)},n.playSplat=function(){p.playArray(this.splat,1,.1)},n.playConsume=function(){p.playArray(this.consume,1,.1)},t}()).prototype,"drop",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=e(v.prototype,"splat",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=e(v.prototype,"consume",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=v))||P);t("PotionPlant",(D=R("PotionPlant"),C=_(j),D((O=e((L=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"soundRes",O,o(n)),n._objdataOwn=new z,n}n(e,t);var r=e.prototype;return r.plantCount=function(){return 0},r.specialPlantOnEnable=function(){this.deathAnm="Splat",this.foodable=!1,this.eaterDetectable=!1,this.smasherDetectable=!1,this.anmControl.playAnimation("Spawn")},r.onCommonshotHit=function(t){return!1},r.animationListener=function(t){"drop"==t.name&&(this.soundRes.playDrop(),this.eaterDetectable=!0,this.smasherDetectable=!0)},r.specialPlantShovelable=function(){return h.sandBoxModeOn},r.dealZombieStrengthen=function(t){},r.throwAway=function(t,n,e,i){this.die()},r.leapTo=function(t,n,e,i,o,a){this.die()},r.specialPlantDie=function(t){this.soundRes.playSplat()},r.playDeathParticle=function(t){},r.levelTaskWarnPlantLose=function(){return!1},r.setHidden=function(t){},r.specialPlantOnEaten=function(t,n,e,i){var o=!0;switch(n.ID){case f.cowboy_piano:o=!1}i<=0&&o&&(this.deathAnm="Consume",this.anmControl.playAnimation(this.deathAnm,1),this.dealZombieStrengthen(n),this.soundRes.playConsume())},r.specialPlantUpdate=function(t,n,e){var i;null==(i=this.plantInLnC)||i.setOccupied(.03)},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(c)).prototype,"soundRes",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new j}}),S=L))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/PotionInvisibility.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Potion.ts"],(function(t){var n,i,o,e,r;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator},function(t){e=t.PotionPlant,r=t.PotionProps}],execute:function(){var c;i._RF.push({},"6719eugBhlCDqAwzghJTPpl","PotionInvisibility",void 0);var l=o.ccclass,s=(o.property,function(t){function i(){return t.apply(this,arguments)||this}return n(i,t),i}(r));t("PotionInvisibilityPlant",l("PotionInvisibilityPlant")(c=function(t){function i(){for(var n,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(n=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new s,n}return n(i,t),i.prototype.dealZombieStrengthen=function(t){t.potionInvisible=!0},i}(e))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/PotionSpeed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Potion.ts"],(function(t){var n,o,e,r,i;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator},function(t){r=t.PotionPlant,i=t.PotionProps}],execute:function(){var c;o._RF.push({},"ef364dct+dCxIfjFp92E2xR","PotionSpeed",void 0);var p=e.ccclass,u=(e.property,function(t){function o(){return t.apply(this,arguments)||this}return n(o,t),o}(i));t("PotionSpeedPlant",p("PotionSpeedPlant")(c=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this)._objdataOwn=new u,n}return n(o,t),o.prototype.dealZombieStrengthen=function(t){t.potionSpeedLevel++},o}(r))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/PotionToughness.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Potion.ts"],(function(n){var o,t,e,r,i;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator},function(n){r=n.PotionPlant,i=n.PotionProps}],execute:function(){var s;t._RF.push({},"02356yvzo9GL4xtxrdvnD/i","PotionToughness",void 0);var u=e.ccclass,c=(e.property,function(n){function t(){return n.apply(this,arguments)||this}return o(t,n),t}(i));n("PotionToughnessPlant",u("PotionToughnessPlant")(s=function(n){function t(){for(var o,t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return(o=n.call.apply(n,[this].concat(e))||this)._objdataOwn=new c,o}return o(t,n),t.prototype.dealZombieStrengthen=function(n){n.potionToughnessLevel++},t}(r))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/PowerLily.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./Sunflower.ts"],(function(t){var n,o,r,e,i,a;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator},function(t){e=t.CherryBombPlant,i=t.CherryBombProps},function(t){a=t.sunflower}],execute:function(){var c;o._RF.push({},"f51283ku6ZAkLASU1ALEGbz","PowerLily",void 0);var u=r.ccclass,l=(r.property,function(t){function o(){for(var n,o=arguments.length,r=new Array(o),e=0;e<o;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).ProduceCount=1,n}return n(o,t),o}(i));t("PowerLilyPlant",u("PowerLilyPlant")(c=function(t){function o(){for(var n,o=arguments.length,r=new Array(o),e=0;e<o;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this)._objdataOwn=new l,n}n(o,t);var r=o.prototype;return r.explode=function(){this.deathAnm="Death";for(var t=0;t<this._objdataOwn.ProduceCount;t++)a.producePlantFood(this.worldPosition)},r.animationListener=function(t){"produce"==t.name&&(this.explode(),this.die())},o}(e))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupFingers.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI.ts","./Square.ts","./Mouse.ts","./SoundRescourses.ts","./CharacterManager.ts","./SettingWindow.ts","./levelController.ts","./ParticleSelfdestroy.ts","./NodePools.ts","./Zombie.ts","./GroundFire.ts","./LnC.ts","./Plant.ts","./Tombs.ts","./Particles.ts"],(function(e){var n,t,i,o,a,r,s,l,u,h,d,c,p,w,f,g,m,b,y,P,v,B,C,x,F,z,D,I,j,L,U,S,R,_,T,E,O,M,k,N,W;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,s=e._decorator,l=e.Button,u=e.JsonAsset,h=e.Prefab,d=e.AudioClip,c=e.Vec3,p=e.Sprite,w=e.Vec2,f=e.HALF_PI,g=e.Widget,m=e.find,b=e.Node,y=e.Color,P=e.instantiate,v=e.tween,B=e.Component},function(e){C=e.UIInGame},function(e){x=e.Square},function(e){F=e.Mouse},function(e){z=e.sounds},function(e){D=e.Rectangle,I=e.ZombiePool,j=e.TombPool,L=e.LineSegment},function(e){U=e.SettingWindow},function(e){S=e.LevelPlay},function(e){R=e.ParticleSelfdestroy},function(e){_=e.instantiatePooly},function(e){T=e.ZombieDamageDetails,E=e.zombieDamageType},function(e){O=e.GroundFireColorEnum},function(e){M=e.TileType},function(e){k=e.PlantWarmingRadius},function(e){N=e.TombEnum},function(e){W=e.particle}],execute:function(){var A,G,Z,H,q,K,V,J,X,Y,Q,$,ee,ne,te,ie,oe,ae,re,se,le,ue,he,de,ce,pe,we,fe;r._RF.push({},"18097APbSZKvbjiWDz1LyEh","PowerupFingers",void 0);var ge=s.ccclass,me=s.property;e("PowerupFingers",(A=ge("PowerupFingers"),G=me(l),Z=me(l),H=me(l),q=me(l),K=me(l),V=me(u),J=me(h),X=me(h),Y=me(h),Q=me(h),$=me(h),ee=me(d),A(((fe=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this).oldPos=new c(0,0,0),i(n,"fireButton",ie,o(n)),i(n,"snowButton",oe,o(n)),i(n,"tossButton",ae,o(n)),i(n,"zapButton",re,o(n)),i(n,"cherryButton",se,o(n)),i(n,"pupjson",le,o(n)),n.PowerUpProperties=[],n.powerUpBorder=new p,n.powerUpBG=new p,n.mousePushed=!1,i(n,"wizardFinger",ue,o(n)),n._wizardFinger=void 0,i(n,"wizardPoint",he,o(n)),n._wizardPoint=[],n.tossedZombies=[],i(n,"tossPar",de,o(n)),i(n,"flameFinger",ce,o(n)),i(n,"flameSquare",pe,o(n)),n._flameFinger=void 0,n.thrownFires=[],n.plantHeatCD=0,i(n,"flameLPSound",we,o(n)),n.totalTime=5,n.countDown=0,n.index=-1,n.oldAlpha=0,n.shown=!1,n.arrows=[],n}t(n,e);var r=n.prototype;return r.getWizardRec=function(){return D.createRectangleCenter(F.position,3*x.SquareDisW,3*x.SquareDisH)},r.getFlameRec=function(){return D.createRectangleCenter(F.position,3*x.SquareDisW,3*x.SquareDisH)},r.judgeMouseDownStart=function(){switch(this.index){case 4:return x.lawnRec.judgeInRecP(F.position)}return!1},r.judgeMouseMoveStart=function(){switch(this.index){case 0:var e;return null==(e=F.mouseInLnC)?void 0:e.isInLawn();case 1:var n=!1;return I.pool().forEach((function(e){n||e.bodyRec.judgeCrossLine(F.moveLine)&&(n=!0)})),n||j.pool().forEach((function(e){n||e.bodyRec.judgeCrossLine(F.moveLine)&&(n=!0)})),n;case 2:var t,i=!1;return(null==(t=F.moveLine)||null==(t=t.getVec())?void 0:t.length())>5&&I.pool().forEach((function(e){i||!e.objdataOwn.CannotBeDetectedByPowerToss&&e.leapable&&e.specialZombieLeapable()&&e.bodyRec.judgeCrossLine(F.moveLine)&&(i=!0)})),i;case 3:var o=this.getWizardRec(),a=!1;return I.pool().forEach((function(e){a||o.judgeCrossRec(e.bodyRecReal)&&(a=!0)})),a||j.pool().forEach((function(e){a||o.judgeCrossRec(e.bodyRec)&&(a=!0)})),a}return!1},r.snowBallUpdate=function(e,n){if(this.mousePushed)for(var t=this.getObjdataByIndex(1).TimePerUse,i=Math.floor(e/t)-Math.floor(n/t),o=0;o<i;o++)this.throwOneSnowBall()},r.throwOneSnowBall=function(){n.prjManager.throwSnowBall(350,F.position.clone())},r.update=function(e){if(this.countDown>0&&e>0){var n=this.countDown+0,t=Math.floor(7*this.countDown/this.totalTime);this.countDown-=e;var i=this.countDown+0;switch(t!=Math.floor(7*this.countDown/this.totalTime)&&z.playPowerUpCD(this.countDown/this.totalTime),this.powerUpBG.fillRange=this.countDown/this.totalTime,this.index){case 0:this.flameUpdate(e);break;case 1:this.snowBallUpdate(n,i);break;case 2:this.tossUpdate(e);break;case 3:this.wizardUpdate(e)}this.countDown<=0&&this.tryChangingIndex(-1,null)}-5==C.index&&-1!=this.index&&this.mousePushed&&this.countDown<=0&&e>0&&this.judgeMouseMoveStart()&&this.powerUpStart(),this.flameUpdateForce(e)},r.powerUpStart=function(){var e,n=null==(e=this.getObjdataByIndex(this.index))?void 0:e.TotalTime;this.totalTime=isNaN(n)?4:n,this.countDown=this.totalTime,this.allButtons.forEach((function(e){e.interactable=!1})),z.playPowerUpStart(this.index),this.plantHeatCD=0},r.spawnWizardPar=function(){if(!this._wizardFinger){var e=_(this.wizardFinger);e.parent=this.node.parent,e.worldPosition=new c(F.position.x,F.position.y,10),this._wizardFinger=e.getComponent(R),this._wizardFinger.db.playAnimation("Idle",1/0)}},r.killWizardPar=function(){var e;(this._wizardPoint.concat().forEach((function(e){var n;e&&(null==(n=e.db)||n.playAnimation("Die"),e.willBeKilled=!0)})),this._wizardPoint=[],this._wizardFinger)&&(this._wizardFinger.willBeKilled=!0,null==(e=this._wizardFinger)||null==(e=e.db)||e.playAnimation("Die"),this._wizardFinger=null)},r.tossUpdate=function(e){var n=this;this.mousePushed&&(this.tossedZombies=this.tossedZombies.filter((function(e){return e.bodyRec.judgeCrossLine(F.moveLine)})),I.pool().forEach((function(e){var t;if(n.mousePushed&&!e.objdataOwn.CannotBeDetectedByPowerToss){var i,o=null==(t=F.moveLine)?void 0:t.getVec();if((null==o?void 0:o.length())>3)if(-1==(null==(i=n.tossedZombies)?void 0:i.indexOf(e))&&e.leapable&&e.specialZombieLeapable()&&e.bodyRec.judgeCrossLine(F.moveLine)){var a=Math.sign(o.x);if(!e.leapHeightTween||a<=0||e.objdataOwn.CannotBeFlickedByPowerToss){n.tossedZombies.push(e);var r=o.y/o.x,s=0;Math.abs(r)>=1&&!e.objdataOwn.CannotChangeLaneByPowerToss&&(a=(s=Math.sign(o.y))/r);var l=x.getLnC(e.lIndex-s,Math.round(e.cIndex+a));null!=l&&l.isInLawn()||l.getTileType()==M.sea&&!e.currentFlyZombie||(s=0),z.playPowerToss(),e.leapBy(new w(a,-s),!0,1,100)}else e.tossAway(2,o),z.playPowerToss();var u=_(n.tossPar);u.parent=e.inLane.prjLayer,u.worldPosition=F.moveLine.getP1().toVec3(),u.angle=90*-o.signAngle(w.UNIT_X)/f}}})))},r.wizardUpdate=function(e){var n=this;if(this.mousePushed){this._wizardFinger?this._wizardFinger.node.worldPosition=new c(F.position.x,F.position.y,10):this.spawnWizardPar();var t=Number(this.getObjdataByIndex(3).DPS)*e,i=[],o=this.getWizardRec();I.pool().forEach((function(e){-1==i.indexOf(e)&&o.judgeCrossRec(e.bodyRecReal)&&i.push(e)}));var a=[];i.forEach((function(e){e&&(e.dealDamage(new T(t,!0,!1,!0,null,E.electricity)),a.push(new w(e.worldPositionX,e.worldPositionY+e.height+e.zombieHeight/2)))}));var r=[];j.pool().forEach((function(e){-1==r.indexOf(e)&&o.judgeCrossRec(e.bodyRec)&&r.push(e)})),r.forEach((function(e){e&&(e.dealDamage(t),a.push(new w(e.worldPositionX,e.worldPositionY+e.height+40)))}));for(var s=this._wizardPoint.concat(),l=a.length;l<s.length;l++){s[l].db.playAnimation("Die"),s[l].willBeKilled=!0;var u=this._wizardPoint.indexOf(s[l]);-1!=u&&this._wizardPoint.splice(u,1)}var h=F.position.clone();a.forEach((function(e,t){var i=n._wizardPoint[t];i||((i=_(n.wizardPoint).getComponent(R)).node.parent=n.node.parent,i.db.playAnimation("Idle",1/0),i.node.setSiblingIndex(0),n._wizardPoint.push(i)),i.node.worldPosition=new c(h.x,h.y);var o=new w(e.x-h.x,e.y-h.y);i.node.angle=90*Math.atan2(o.y,o.x)/f,i.node.scale=new c(o.length()/175,1,1)}))}},r.onMouseInLnCChanged=function(e,n){null!=n&&n.isInLawn()&&this.countDown>0&&0==this.index&&this.spawnFlameSquarePar(n)},r.spawnFlamePar=function(){if(!this._flameFinger){var e=_(this.flameFinger);e.parent=this.node.parent,e.worldPosition=new c(F.position.x,F.position.y,10),this._flameFinger=e.getComponent(R),this._flameFinger.db.playAnimation("Idle",1/0)}},r.spawnFlameSquarePar=function(e){if(this.mousePushed){var n=_(this.flameSquare);n.parent=e.inLane.prjLayer,n.worldPosition=e.node.worldPosition}},r.killFlamePar=function(){var e;this._flameFinger&&(this._flameFinger.willBeKilled=!0,null==(e=this._flameFinger)||null==(e=e.db)||e.playAnimation("Die"),this._flameFinger=null)},r.flameUpdateForce=function(e){var n=this,t=this.getObjdataByIndex(0),i=Number(t.GroundFlameNormalDPS)*e;isNaN(i)||this.thrownFires.concat().forEach((function(e){if(e.dead){var t=n.thrownFires.indexOf(e);-1!=t&&n.thrownFires.splice(t,1)}else if(e.inLnC){var o,a,r=e.inLnC.rec;null==(o=e.inLnC.inLane)||null==(o=o.zombiePool())||o.forEach((function(e){r.judgeCrossRec(e.bodyRecReal)&&e.dealDamage(new T(i,!1,!1,!0,null,E.fire,!0,!0))})),null==(a=e.inLnC.inLane)||null==(a=a.tombPool())||a.forEach((function(e){r.judgeCrossRec(e.bodyRec)&&e.dealDamage(i)}))}}))},r.flameUpdate=function(e){if(this.mousePushed){z.play(this.flameLPSound,1,NaN,.9),this._flameFinger?this._flameFinger.node.worldPosition=new c(F.position.x,F.position.y,10):this.spawnFlamePar();var n=this.getObjdataByIndex(0),t=Number(n.FlamethrowerNormalDPS)*e,i=[],o=this.getFlameRec();I.pool().forEach((function(e){-1==i.indexOf(e)&&o.judgeCrossRec(e.bodyRec)&&i.push(e)})),i.forEach((function(e){e&&e.dealDamage(new T(t,!1,!1,!0,null,E.fire,!0,!0))}));var a=[];j.pool().forEach((function(e){-1==a.indexOf(e)&&o.judgeCrossRec(e.bodyRec)&&a.push(e)})),a.forEach((function(e){e&&(e.ID==N.iceblock_plant||e.ID==N.iceblock_zombie?e.dealDamage(2*t):e.dealDamage(t))}));var r=Number(n.GroundFlameDuration);if(this.mousePushed){var s=F.mouseInLnC;if(null!=s&&s.isInLawn()){var l=this.thrownFires.find((function(e){return e.inLnC==s}));if(l)l.duration=r;else{var u=s.addGroundFire(r,15,O.yellow,0);l=u,this.thrownFires.push(u)}if(this.plantHeatCD>0)this.plantHeatCD-=e;else s.plantHeat(new k)&&(this.plantHeatCD=+n.FlamethrowerWarmingInterval)}}}else this.killFlamePar()},r.onMouseDown=function(e){if(this.mousePushed=!0,this.tossedZombies=[],-5==C.index&&-1!=this.index&&(this.countDown<=0&&this.judgeMouseDownStart()&&this.powerUpStart(),this.countDown>0))switch(this.index){case 1:this.throwOneSnowBall();break;case 2:F.moveLine=new L(F.position,F.position);break;case 3:z.playPowerUpStart(this.index)}},r.onMouseUp=function(e){this.mousePushed=!1,this.tossedZombies=[],this.killWizardPar(),this.killFlamePar()},r.onLoad=function(){var e=JSON.stringify(this.pupjson);this.PowerUpProperties=JSON.parse(e).json.objects;var t=this.getComponent(g);t&&(t.left=C.PocketUI?520:0),this.countDown=0,n.component=this,this.oldPos=this.node.position.clone(),this.node.position=this.oldPos.clone().add3f(0,-300,0)},r.start=function(){var e,n,t=this;this.mousePushed=!1,this.powerUpBG=null==(e=m("Canvas/LawnCommon/lawnTotal/powerUpBG"))?void 0:e.getComponent(p),this.powerUpBorder=null==(n=m("Canvas/LawnCommon/lawnTotal/powerUpBorder"))?void 0:n.getComponent(p),this.tryChangingIndex(-1,null,!1),[this.fireButton,this.snowButton,this.tossButton,this.zapButton,this.cherryButton].forEach((function(e,n){e.node.on(b.EventType.MOUSE_DOWN,(function(){if(t.shown){var e=t.getObjdataByIndex(n);t.tryChangingIndex(n,e),t.mousePushed=!1}}),t),e.node.on(b.EventType.MOUSE_UP,(function(e){t.onMouseUp(e)}),t)}))},n.gameStart=function(){var e;null==(e=n.component)||e._gameStart()},r.judgeUIIndex=function(){-5!=C.index&&this.tryChangingIndex(-1,null,!1)},r.tryChangingIndex=function(e,n,t){if(void 0===t&&(t=!0),!(this.countDown>0))switch(e){case 0:case 1:case 2:case 3:case 4:if(this.arrows.forEach((function(e){e.destroy()})),this.arrows=[],!n||e==this.index){this.tryChangingIndex(-1,null);break}t&&-5!=C.index&&C.uiingame.tryChangingIndex(-5),this.index=e;var i=n.BoardTimerColor;this.powerUpBG.color=new y(i.mRed,i.mGreen,i.mBlue,i.mAlpha),this.powerUpBorder.color=new y(i.mRed,i.mGreen,i.mBlue,255);break;default:this.killWizardPar(),this.killFlamePar(),this.allButtons.forEach((function(e){e.interactable=!0})),this.index=-1,this.powerUpBG.color=new y(255,255,255,0),this.powerUpBorder.color=new y(255,255,255,0),t&&C.uiingame.tryChangingIndex(-1),this.powerUpBG.fillRange=1}},r.getObjdataByIndex=function(e){var n=null;return this.PowerUpProperties.forEach((function(t){var i,o,a,r,s;n||(0==e&&"powerupflamethrower"==(null==t||null==(i=t.objdata)?void 0:i.TypeName)||1==e&&"powerupsnowball"==(null==t||null==(o=t.objdata)?void 0:o.TypeName)||2==e&&"powerupflickzombie"==(null==t||null==(a=t.objdata)?void 0:a.TypeName)||3==e&&"powerupwizardfinger"==(null==t||null==(r=t.objdata)?void 0:r.TypeName)||4==e&&"powerupcherrybomb"==(null==t||null==(s=t.objdata)?void 0:s.TypeName))&&(n=t.objdata)})),n},r.powerUpFlame=function(){if(this.shown){var e=this.getObjdataByIndex(0);this.tryChangingIndex(0,e)}},r.powerUpSnow=function(){if(this.shown){var e=this.getObjdataByIndex(1);this.tryChangingIndex(1,e)}},r.powerUpToss=function(){if(this.shown){var e=this.getObjdataByIndex(2);this.tryChangingIndex(2,e)}},r.powerUpZap=function(){if(this.shown){var e=this.getObjdataByIndex(3);this.tryChangingIndex(3,e)}},r.powerUpCherry=function(){if(this.shown){var e=this.getObjdataByIndex(4);this.tryChangingIndex(4,e)}},r._gameStart=function(){this.show()},r.show=function(){var e,n=this;!U.allowCheat&&!S.component.PowerUpsForceShow||S.component.PowerUpsForceHide||this.shown||(this.shown=!0,null!=(e=S.component)&&e.PowerUpsTip&&this.allButtons.forEach((function(e){var t=P(W.arrow());t.parent=e.node,t.position=new c(0,20,0),t.scale=new c(1,1,2.5),n.arrows.push(t)})),v(this.node).to(.3,{position:this.oldPos},{easing:"cubicOut"}).start())},r.hide=function(){this.shown&&(this.shown=!1,this.tryChangingIndex(-1,null,!0),v(this.node).by(.3,{position:new c(0,-300,0)},{easing:"cubicIn"}).start())},a(n,[{key:"allButtons",get:function(){return[this.fireButton,this.snowButton,this.tossButton,this.zapButton,this.cherryButton]}}],[{key:"uiIndexLocked",get:function(){return this.component.countDown>0}}]),n}(B)).prjManager=void 0,fe.component=void 0,ie=n((te=fe).prototype,"fireButton",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=n(te.prototype,"snowButton",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=n(te.prototype,"tossButton",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=n(te.prototype,"zapButton",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=n(te.prototype,"cherryButton",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=n(te.prototype,"pupjson",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=n(te.prototype,"wizardFinger",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=n(te.prototype,"wizardPoint",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=n(te.prototype,"tossPar",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=n(te.prototype,"flameFinger",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=n(te.prototype,"flameSquare",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=n(te.prototype,"flameLPSound",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=te))||ne));r._RF.pop()}}}));

System.register("chunks:///_virtual/preSplashScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ElectronAPI.ts"],(function(e){var n,t,r,c,o,s;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator,c=e.director,o=e.Component},function(e){s=e.default}],execute:function(){var p;t._RF.push({},"6e631wnaMVDZL2Rx3CcISnG","preSplashScene",void 0);var a=r.ccclass;r.property,e("preSplashScene",a("preSplashScene")(p=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.start=function(){s.window(),c.loadScene("splashScene")},t}(o))||p);t._RF.pop()}}}));

System.register("chunks:///_virtual/PrimalPeashooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./commonShot.ts","./Zombie.ts","./SoundRescourses.ts"],(function(t){var o,n,a,e,i,s,c,r,l,h,u,d,f;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){i=t.cclegacy,s=t._decorator,c=t.AudioClip,r=t.Size},function(t){l=t.PeashooterPlant,h=t.PeashooterProps},function(t){u=t.SplashDamage},function(t){d=t.zombiePoison},function(t){f=t.sounds}],execute:function(){var p,S,g,m,b;i._RF.push({},"47ba7dMXhNDu4+WxuxwF5lY","PrimalPeashooter",void 0);var P=s.ccclass,_=s.property,k=function(t){function o(){for(var o,n=arguments.length,a=new Array(n),e=0;e<n;e++)a[e]=arguments[e];return(o=t.call.apply(t,[this].concat(a))||this).KnockbackDistance=1,o.KnockbackChance=.5,o}return n(o,t),o}(h);t("PrimalPeashooterPlant",(p=P("PrimalPeashooter"),S=_([c]),p((b=o((m=function(t){function o(){for(var o,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(o=t.call.apply(t,[this].concat(i))||this)._rangeScale=0,o._objdataOwn=new k,o.foodCount=0,a(o,"foodShootSound",b,e(o)),o}n(o,t);var i=o.prototype;return i.specialFightAloneStrengthen=function(t){t.RangeScale&&(this._rangeScale=t.RangeScale)},i.shotInitialize=function(t){if(this.fooding)t.setKnockBack(this._objdataOwn.KnockbackDistance),t.setDamage(100*this._dmgScale),t.setSplashDamages([new u(100,new r(2,1),0,0,0,new d(0,0),3,this._objdataOwn.KnockbackDistance)]),t.setStun(3);else{var o=Math.random()<this._objdataOwn.KnockbackChance?1:0;t.setKnockBack(o*this._objdataOwn.KnockbackDistance),t.setStun(1-o)}this._dmgScale&&t.setDamage(t.damage_*this._dmgScale),this._rangeScale>0&&t.setSplashDamages([new u(0,new r(this._rangeScale,this._rangeScale),0,0,0,new d(0,0),0,this._objdataOwn.KnockbackDistance)])},i.specialPlantFood=function(){this.foodCount=0,this.anmControl.playAnimation("Food",1/0),this.busy=1/0},i.animationListenerAdd=function(t){"shootFood"==t.name&&(this._shoot(),f.playArray(this.foodShootSound,1,.1),++this.foodCount>=this._objdataOwn.PlantfoodPeaCount&&this.foodEnd())},i.specialPlantOnEnable=function(){this.initialize(),this.foodCount=0},o}(l)).prototype,"foodShootSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=m))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/PrimalWallNut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WallNut.ts"],(function(t){var i,l,s,e;return{setters:[function(t){i=t.inheritsLoose},function(t){l=t.cclegacy,s=t._decorator},function(t){e=t.WallNutPlant}],execute:function(){var a;l._RF.push({},"66600o+bKNIBIyIoFQGsqb0","PrimalWallNut",void 0);var r=s.ccclass;s.property,t("PrimalWallNutPlant",r("PrimalWallNutPlant")(a=function(t){function l(){return t.apply(this,arguments)||this}return i(l,t),l.prototype.normalSmash=function(t){if(!this.fooding&&!this.invincible)if(this.armorHealth>0)this.armorHealth=0,this.foodable=!0,this.setArmor();else if(this.hurtStage<3){for(var i=this.health+0;i-this.toughness/4>0;)i-=this.toughness/4;this.dealNormalDamage(i)}else this.die(),this.dieOnLnC()},l}(e))||a);l._RF.pop()}}}));

System.register("chunks:///_virtual/Prizes.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,n,o,a,u,s,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,u=e.Prefab,s=e.JsonAsset,l=e.Component}],execute:function(){var p,c,h,f,g,y,b,d,F,z,P,m,v,w,J;o._RF.push({},"f36f0SuWO5FcKaAAqnkCjmU","Prizes",void 0);var k=a.ccclass,A=a.property,R=e("prizeRes",function(){function e(){}return e.coinbag=function(){return this.res.coinbag},e.seedPacket=function(){return this.res.seedPacket},e.upgrade=function(){return this.res.upgrade},e.upgradeFeature=function(){return this.res.upgradeFeatures},e.trophy=function(){return this.res.trophy},e.trophyFeatures=function(){return this.res.trophyFeatures},e}());R.res=void 0;e("Prizes",(p=k("Prizes"),c=A(u),h=A(u),f=A(u),g=A(u),y=A(s),b=A(s),p((z=r((F=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,i(r,"coinbag",z,n(r)),i(r,"seedPacket",P,n(r)),i(r,"upgrade",m,n(r)),i(r,"trophy",v,n(r)),i(r,"upgradeFeatureJson",w,n(r)),r.upgradeFeatures=[],i(r,"trophyFeatureJson",J,n(r)),r.trophyFeatures=[],r}return t(r,e),r.prototype.onLoad=function(){R.res=this,this.upgradeFeatures=this.upgradeFeatureJson.json.UPGRADES,this.trophyFeatures=this.trophyFeatureJson.json.TROPHIES},r}(l)).prototype,"coinbag",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=r(F.prototype,"seedPacket",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=r(F.prototype,"upgrade",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=r(F.prototype,"trophy",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=r(F.prototype,"upgradeFeatureJson",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=r(F.prototype,"trophyFeatureJson",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=F))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/ProjectileManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Character.ts","./NodePools.ts","./CabbagePult.ts","./Square.ts","./SoundRescourses.ts","./PowerupFingers.ts"],(function(e){var n,o,t,r,a,i,l,s,c,u,p,f,g,d,m,y,h,w;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,l=e.Prefab,s=e.AudioClip,c=e.Vec2,u=e.Component},function(e){p=e.commonShot},function(e){f=e.CharacterType},function(e){g=e.NodePools,d=e.ArrayGet},function(e){m=e.cabbagePult},function(e){y=e.Square},function(e){h=e.sounds},function(e){w=e.PowerupFingers}],execute:function(){var b,P,S,j,v,C,B;a._RF.push({},"e2a4aMwVmVCUL8xjgLJS6yF","ProjectileManager",void 0);var L=i.ccclass,M=i.property,T=e("projectile",function(){function e(){}return e.registerProjectile=function(e,n,o){this.manager;if(e.getComponent(p)){var t=e.getComponent(p);n==f.plant||n==f.zombie?t.enemyType=n:t.enemyType=f.default}},e}());T.manager=void 0;e("ProjectileManager",(b=L("ProjectileManager"),P=M(l),S=M([s]),b((C=n((v=function(e){function n(){for(var n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,t(n,"snowBall",C,r(n)),t(n,"snowBallThrowSound",B,r(n)),n}o(n,e);var a=n.prototype;return a.onLoad=function(){T.manager=this,w.prjManager=this},a.throwSnowBall=function(e,n){var o,t=g.instantiatePooly(this.snowBall),r=y.getLaneComponent(2),a=m.lobOneCabbageOnPos(t,new c(r.toLeft.worldPosition.x,r.floorY),10,r.prjLayer,n,9,f.zombie,13,40);null==(o=a.db)||o.playAnimation(d.getRandom(["Idle","Idle1","Idle2"])),a.setDamage(e),h.play(d.getRandom(this.snowBallThrowSound))},n}(u)).prototype,"snowBall",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=n(v.prototype,"snowBallThrowSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=v))||j));a._RF.pop()}}}));

System.register("chunks:///_virtual/Projectiles.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts"],(function(e){var r,o,i,t,s,l,n,a,m;return{setters:[function(e){r=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){s=e.cclegacy,l=e._decorator,n=e.Prefab,a=e.Component},function(e){m=e.instantiatePooly}],execute:function(){var u,_,c,w,b,p,y,g,f,h,z,d,P,j,k,v,L,D,F,R,H,J,T,x,A,B,C,E,I,K,M,N,O,S,V;s._RF.push({},"e90648V0hJJKaOtHWFPh0Tg","Projectiles",void 0);var W=l.ccclass,q=l.property,G=e("ProjectileEnum",function(e){return e[e.pea=0]="pea",e[e.mower_modern=1]="mower_modern",e[e.mower_egypt=2]="mower_egypt",e[e.mower_pirate=3]="mower_pirate",e[e.mower_cowboy=4]="mower_cowboy",e[e.mower_future=5]="mower_future",e[e.mower_dark=6]="mower_dark",e[e.mower_beach=7]="mower_beach",e[e.mower_iceage=8]="mower_iceage",e[e.mower_lostcity=9]="mower_lostcity",e[e.mower_eighties=10]="mower_eighties",e[e.mower_dino=11]="mower_dino",e[e.zomboss_missile_egypt=12]="zomboss_missile_egypt",e[e.zomboss_missile_cowboy=13]="zomboss_missile_cowboy",e[e.zomboss_missile_future=14]="zomboss_missile_future",e}({})),Q=e("projectileRes",function(){function e(){}return e.getProjectile=function(e){switch(e){case G.pea:return m(this.res.pea);case G.mower_modern:return m(this.res.mower_modern);case G.mower_egypt:return m(this.res.mower_egypt);case G.mower_pirate:return m(this.res.mower_pirate);case G.mower_cowboy:return m(this.res.mower_cowboy);case G.mower_future:return m(this.res.mower_future);case G.mower_dark:return m(this.res.mower_dark);case G.mower_beach:return m(this.res.mower_beach);case G.mower_iceage:return m(this.res.mower_iceage);case G.mower_lostcity:return m(this.res.mower_lostcity);case G.mower_eighties:return m(this.res.mower_eighties);case G.mower_dino:return m(this.res.mower_dino);case G.zomboss_missile_egypt:return m(this.res.zomboss_missile_egypt);case G.zomboss_missile_cowboy:return m(this.res.zomboss_missile_cowboy);case G.zomboss_missile_future:return m(this.res.zomboss_missile_future)}return m(this.res.pea)},e}());Q.res=void 0;e("Projectiles",(u=W("Projectiles"),_=q(n),c=q(n),w=q(n),b=q(n),p=q(n),y=q(n),g=q(n),f=q(n),h=q(n),z=q(n),d=q(n),P=q(n),j=q(n),k=q(n),v=q(n),L=q(n),u((R=r((F=function(e){function r(){for(var r,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return r=e.call.apply(e,[this].concat(s))||this,i(r,"freeLocator",R,t(r)),i(r,"zomboss_missile_egypt",H,t(r)),i(r,"zomboss_missile_cowboy",J,t(r)),i(r,"zomboss_missile_future",T,t(r)),i(r,"pea",x,t(r)),i(r,"mower_modern",A,t(r)),i(r,"mower_egypt",B,t(r)),i(r,"mower_pirate",C,t(r)),i(r,"mower_cowboy",E,t(r)),i(r,"mower_future",I,t(r)),i(r,"mower_dark",K,t(r)),i(r,"mower_beach",M,t(r)),i(r,"mower_iceage",N,t(r)),i(r,"mower_lostcity",O,t(r)),i(r,"mower_eighties",S,t(r)),i(r,"mower_dino",V,t(r)),r}return o(r,e),r.prototype.onLoad=function(){Q.res=this},r}(a)).prototype,"freeLocator",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=r(F.prototype,"zomboss_missile_egypt",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=r(F.prototype,"zomboss_missile_cowboy",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=r(F.prototype,"zomboss_missile_future",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=r(F.prototype,"pea",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=r(F.prototype,"mower_modern",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=r(F.prototype,"mower_egypt",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=r(F.prototype,"mower_pirate",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=r(F.prototype,"mower_cowboy",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=r(F.prototype,"mower_future",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=r(F.prototype,"mower_dark",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=r(F.prototype,"mower_beach",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=r(F.prototype,"mower_iceage",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=r(F.prototype,"mower_lostcity",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=r(F.prototype,"mower_eighties",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=r(F.prototype,"mower_dino",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=F))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/ProjectileSpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./NodePools.ts","./Peashooter.ts","./Character.ts"],(function(e){var t,n,o,i,r,a,s,l,c,u,h,p,d,f,b,w,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,s=e._decorator,l=e.Prefab,c=e.AudioClip,u=e.Color,h=e.Vec2},function(e){p=e.Plant,d=e.PlantProps},function(e){f=e.sounds},function(e){b=e.instantiatePooly},function(e){w=e.peaShooter},function(e){S=e.CharacterType}],execute:function(){var y,P,j,g,O,v,m,_,z,C;a._RF.push({},"2d4cdkWXBNBaL/wlv0fzqgg","ProjectileSpawner",void 0);var A=s.ccclass,R=s.property,D=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).SpeedX=10,t.SpeedY=0,t}return n(t,e),t}(d),L=A("ProjectileSpawnerSound")(y=function(){})||y;e("ProjectileSpawnerPlant",(P=A("ProjectileSpawnerPlant"),j=R(L),g=R(l),O=R([c]),P((_=t((m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"soundRes",_,i(t)),t._objdataOwn=new D,o(t,"projectile",z,i(t)),o(t,"shootSounds",C,i(t)),t}n(t,e);var a=t.prototype;return a.onObjdataSet=function(e,t){},a.specialPlantOnEnable=function(){this.deathAnm="",this.foodable=!1,this.eaterDetectable=!1,this.smasherDetectable=!1,this.baseColor=new u(0,0,0,0),this.shadeAlphaScale=0,this.height=this.objdataOwn.StartingHeight},a.specialPlantOnSquareChange=function(e,t){this._shoot(),this.die(!1,!1,!1,!1),this.node.destroy()},a._shoot=function(){f.playArray(this.shootSounds,1,.1);var e=b(this.projectile),t=w.shootOnePea(e,this.worldPosition,this.objdataOwn.StartingHeight,this.inLane.prjLayer,new h(this.objdataOwn.SpeedX,this.objdataOwn.SpeedY),S.zombie);t&&(t.judgeZombieBodyRecForShooter=!0)},r(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),t}(p)).prototype,"soundRes",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new L}}),z=t(m.prototype,"projectile",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(m.prototype,"shootSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=m))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/PuffShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./Plants.ts"],(function(o){var t,n,e,i,a,r,s,u,l,f,c,d,h,p,S,y,m;return{setters:[function(o){t=o.inheritsLoose,n=o.applyDecoratedDescriptor,e=o.initializerDefineProperty,i=o.assertThisInitialized,a=o.createClass},function(o){r=o.cclegacy,s=o._decorator,u=o.AudioClip,l=o.Color},function(o){f=o.PeashooterProps,c=o.peashooterSound,d=o.PeashooterPlant},function(o){h=o.PlantPool,p=o.Rectangle},function(o){S=o.Square},function(o){y=o.sounds},function(o){m=o.PlantEnum}],execute:function(){var P,g,D,C,b,v,F,w,_,A,L,R;r._RF.push({},"34ee0ldRRtFW6EvDX/mfEQ7","PuffShroom",void 0);var I=s.ccclass,x=s.property,E=o("PuffShroomProps",function(o){function n(){for(var t,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(t=o.call.apply(o,[this].concat(e))||this).LifeSpan=60,t}return t(n,o),n}(f)),z=(P=I("puffShroomSound"),g=x([u]),D=x([u]),P((v=n((b=function(o){function n(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=o.call.apply(o,[this].concat(a))||this,e(t,"foodStartSounds",v,i(t)),e(t,"fadeSounds",F,i(t)),t}t(n,o);var a=n.prototype;return a.playFood=function(){y.playArray(this.foodStartSounds,1,.1)},a.playFadeSound=function(){y.playArray(this.fadeSounds,1,.1)},n}(c)).prototype,"foodStartSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(b.prototype,"fadeSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=b))||C);o("PuffShroomPlant",(w=I("PuffShroomPlant"),_=x(z),w((R=n((L=function(o){function n(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=o.call.apply(o,[this].concat(a))||this,e(t,"soundRes",R,i(t)),t.foodDuration=0,t._objdataOwn=new E,t._lifeCD=60,t}t(n,o);var r=n.prototype;return r.specialPlantFood=function(o){var t=this;void 0===o&&(o=!0),o&&(this.soundRes.playFood(),h.pool().concat().forEach((function(o){if(!o.fooding&&(o.ID==m.PuffShroom||o.ID==m.SeaShroom)){var n=o,e=n.inLnC.cIndex-t.inLnC.cIndex,i=n.inLnC.lIndex-t.inLnC.lIndex,a=Math.sqrt(e*e+i*i);n.foodDuration=a/8,n.food(!1)}}))),this.lifeCD=this._objdataOwn.LifeSpan,this.anmControl.playAnimation("FoodStart",2,0,1/(this.foodDuration+.05))},r.setDetecter=function(o,t){this.detector=p.createRectangleNodeSide(t.node,3.5*S.SquareDisW,S.SquareDisH)},r.shotInitialize=function(o){o.maxDistance_=4},r.getFadeTimeMult=function(){return 1},r.specialPeashooterUpdate=function(o){this.fooding||(this.lifeCD-=o*this.getFadeTimeMult())},r.specialPeashooterOnEnable=function(){this.lifeCD=this._objdataOwn.LifeSpan,this.deathAnm="Death"},r.specialPlantFoodEnd=function(){this.anmControl.playAnimation("FoodEnd",1)},r.animationListenerAdd=function(o){"toFooding"==o.name&&(this.anmControl.playAnimation("Fooding",1/0,0,1),this.foodShooting())},a(n,[{key:"lifeCD",get:function(){return this._lifeCD},set:function(o){var t,n=0;if(this._lifeCD=o,o<=0)return this.deathAnm="Fade",this.soundRes.playFadeSound(),void this.die();for(n=0;n<3;n++){var e=this._objdataOwn.LifeSpan;if(o>e/3*n&&o<=e/3*(n+1))break}null==(t=this.anmControl.body.armature().getSlot("head"))||t._setDisplayIndex(2-n);var i=1==(!this.fooding&&o<10&&o>0&&Math.floor(4*o)%4)?100:255,a=this.baseColor.clone();this.baseColor=new l(a.r,a.g,a.b,i)}}]),n}(d)).prototype,"soundRes",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new z}}),A=L))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/Pumpkin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WallNut.ts"],(function(t){var n,i,e,a;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator},function(t){a=t.WallNutPlant}],execute:function(){var o;i._RF.push({},"4a226yglb9CeIyVMLO4Q5/8","Pumpkin",void 0);var s=e.ccclass;e.property,t("PumpkinPlant",s("PumpkinPlant")(o=function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var e=i.prototype;return e.onDamaged=function(t,n,i){for(var e=1;e<=3;e++)if(i<=this.toughness/3*e){this.setAnimation(3-e);break}},e.specialPlantFood=function(t){this.armorHealth=this.armorToughness,this.foodable=!1,this.setArmor(0),this.setAnimation(),this.soundRes.playFoodSound(),this.foodEnd()},e.setAnimation=function(t){if(void 0===t&&(t=0),this.hurtStage!=t){this.deathAnm="";var n,i=this.anmControl;switch(i.RandomAnim=[],this.hurtStage=t,t){case 1:i.IdleAnim="Idle2";break;case 2:i.IdleAnim="Idle3";break;default:i.IdleAnim="Idle1",this.hurtStage=0}if(!this.dead)i.playRandom(),null==(n=this.plantInLnC)||n.readIndex()}},i}(a))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/railway.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts"],(function(t){var n,r,e,i,s;return{setters:[function(t){n=t.inheritsLoose,r=t.createClass},function(t){e=t.cclegacy,i=t._decorator},function(t){s=t.Tile}],execute:function(){var a;e._RF.push({},"8e662qRxuJEY6bPNsUBbW5R","railway",void 0);var o=i.ccclass;i.property,t("railway",o("railway")(a=function(t){function e(){for(var n,r=arguments.length,e=new Array(r),i=0;i<r;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this)._pos=1,n.carts=[],n.group=[],n}n(e,t);var i=e.prototype;return i.setTileParent=function(t){},i.haveCartInLnC=function(t){for(var n=0;n<this.carts.length;n++)if(this.carts[n].inLnC==t)return this.carts[n];return null},i.tileOnEnable=function(){this.group=[]},i.specialTileOnLoad=function(){this.carts=[]},r(e,[{key:"pos",get:function(){return this._pos},set:function(t){this._pos=t}}]),e}(s))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/RedStinger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./Zombie.ts","./NodePools.ts","./Peashooter.ts","./Character.ts"],(function(t){var e,n,a,i,o,r,s,h,l,u,d,c,f,g,p,m,S,y,b,D,A,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,h=t.AudioClip,l=t.dragonBones,u=t.Prefab,d=t.Node,c=t.Vec2},function(t){f=t.Plant,g=t.PlantProps},function(t){p=t.Rectangle},function(t){m=t.Square},function(t){S=t.sounds},function(t){y=t.ZombieDamageDetails,b=t.zombieDamageType},function(t){D=t.instantiatePooly},function(t){A=t.peaShooter},function(t){P=t.CharacterType}],execute:function(){var R,_,w,C,v,j,I,z,E,F,O,B,L,H,k,T,W,x,M,q,N,V,Y,Z,K,U,G,J;r._RF.push({},"1503bEf9zlKybbD/WTeTtI3","RedStinger",void 0);var Q=s.ccclass,X=s.property,$=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).ShootInterval=.2,e.ShootIntervalAdditional=.25,e.DamageScale0=1,e.DamageScale1=.3333333,e.DamageScale2=.2,e.PFDuration=5,e.PFDPS=200,e.ProjectileDamage=30,e.ProjectileDamageWeak=20,e}return n(e,t),e}(g),tt=(R=Q("Red Stinger Sound"),_=X(h),w=X(h),C=X([h]),v=X([h]),j=X(h),I=X(h),R((F=e((E=function(){function t(){a(this,"foodCharge",F,this),a(this,"foodStart",O,this),a(this,"shootSounds",B,this),a(this,"shootSoundsScared",L,this),a(this,"rayEnd",H,this),a(this,"rayStart",k,this)}var e=t.prototype;return e.playFoodCharge=function(){S.play(this.foodCharge,1,.2)},e.playFoodStart=function(){S.play(this.foodStart,1,.1)},e.playShoot=function(t){void 0===t&&(t=!1),S.playArray(t?this.shootSoundsScared:this.shootSounds,.3,.1)},e.playRayEnd=function(){S.play(this.rayEnd,1,.1)},e.playRayStart=function(){S.play(this.rayStart,1,.1)},t}()).prototype,"foodCharge",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(E.prototype,"foodStart",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(E.prototype,"shootSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(E.prototype,"shootSoundsScared",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=e(E.prototype,"rayEnd",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(E.prototype,"rayStart",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=E))||z);t("RedStingerPlant",(T=Q("RedStingerPlant"),W=X(tt),x=X(l.ArmatureDisplay),M=X(u),q=X(u),N=X(d),T((Z=e((Y=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this)._hurtStage=0,a(e,"soundRes",Z,i(e)),e.shootAnm="Shoot",e._inArea=0,e.shooting=!1,e.detector=new p,e.shootCD=0,e._objdataOwn=new $,a(e,"rayDB",K,i(e)),e.foodCD=10,a(e,"prj0",U,i(e)),a(e,"prjWeak",G,i(e)),a(e,"peaPoint",J,i(e)),e}n(e,t);var r=e.prototype;return r.getHurtStage=function(t){for(var e=0;e<4;e++)if(t<this.toughness*(e+1)/4)return 3-e;return 0},r.getIdleAnm=function(t,e){switch(e){case 1:return"Idle_Scared";case 2:switch(t){case 1:return"Idle_Hide_1";case 2:return"Idle_Hide_2";case 3:return"Idle_Hide_3";default:return"Idle_Hide_0"}default:return"Idle"}},r.getRandAnm=function(t,e){switch(e){case 1:return["Rand_Scared"];case 2:return[];default:return["Rand"]}},r.getShootAnm=function(t){switch(t){case 1:return"Shoot_Scared";case 2:return null;default:return"Shoot"}},r.getDeathAnm=function(t){switch(t){case 1:return"Death_Scared";case 2:return"Death_Hide";default:return"Death"}},r.waterable=function(){return 0==this.inArea&&!this.shooting},r.replantable=function(){return this.hurtStage>0&&2==this.inArea},r.replant=function(){this.heal(this.toughness)},r.animationOnComplete=function(){this.shooting=!1},r.specialPlantOnEnable=function(){this.shooting=!1,this._hurtStage=0,this._inArea=0,this.rayDB.node.active=!1},r.specialPlantOnSquareChange=function(t,e){this.detector=p.createRectangleNodeSide(e.node,m.SquareDisW*(9-e.cIndex),m.SquareDisH),this.inArea=Math.floor(e.cIndex/3)},r.onDamaged=function(t,e,n){var a,i=this.getHurtStage(n);i!=this.hurtStage&&(this.hurtStage=i,2==this.inArea&&(null==(a=this.plantInLnC)||a.readIndex()))},r.detectEnemy=function(){if(2==this.inArea)return!1;for(var t=this.inLane.zombiePool(),e=0;e<t.length;e++){var n;if(this.detector.judgeCrossRec(null==(n=t[e])?void 0:n.bodyRecForShooter))return!0}for(var a=this.inLane.tombPool(),i=0;i<a.length;i++){var o;if(this.detector.judgeCrossRec(null==(o=a[i])?void 0:o.bodyRec))return!0}return!1},r.damageScale=function(t,e){switch(this.inArea){case 1:return this._objdataOwn.DamageScale1;case 2:return this._objdataOwn.DamageScale2;default:return this._objdataOwn.DamageScale0}},r.specialPlantOnLoad=function(){var t,e=this;null==(t=this.rayDB)||t.on(l.EventObject.FRAME_EVENT,(function(t){"die"==t.name&&(e.rayDB.node.active=!1)}),this)},r.specialPlantFood=function(t){this.onDamaged(0,this.toughness,this.toughness),this.anmControl.playAnimation("FoodStart",1/0),this.rayDB.playAnimation("Idle",1/0),this.foodCD=1/0},r.specialPlantFoodEnd=function(){this.anmControl.playAnimation("FoodEnd",1),this.rayDB.playAnimation("Die",2),this.soundRes.playRayEnd()},r.foodRay=function(t){var e=this,n=this._objdataOwn.PFDPS*t*this._dmgScale;this.inLane.zombiePool().forEach((function(t){e.detector.judgeCrossRec(t.bodyRecReal)&&(t.dealDamage(new y(n,!0,!1,!1,null,b.ray)),t.sapflingCD=.5)})),this.inLane.tombPool().forEach((function(t){e.detector.judgeCrossRec(t.bodyRec)&&t.dealDamage(n)}))},r._shoot=function(t,e){var n;void 0===t&&(t=this.prj0),void 0===e&&(e=!1);var a=D(t),i=A.shootOnePea(a,new c(this.peaPoint.worldPosition.x,this.worldPositionY),this.peaPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,new c(20,0),P.zombie),o=e?this._objdataOwn.ProjectileDamageWeak:this._objdataOwn.ProjectileDamage;i.setDamage(o*this._dmgScale),null!=(n=this.inLnC)&&n.havePeaBuff&&i.addPeaBuff()},r.animationListener=function(t){if("ShootSound"==t.name)this.soundRes.playShoot(1==this.inArea);else if("Shoot"==t.name){var e=1==this.inArea;this._shoot(e?this.prjWeak:this.prj0,e)}else"foodShoot"==t.name?(this.soundRes.playRayStart(),this.rayDB.node.active=!0,this.foodCD=this._objdataOwn.PFDuration):"foodChargeSound"==t.name?this.soundRes.playFoodCharge():"foodStartSound"==t.name?this.soundRes.playFoodStart():"tweenToIdle"==t.name&&this.anmControl.playRandom(.1)},r.specialPlantUpdate=function(t,e,n){if(this.fooding)this.foodCD>0?(this.foodCD-=t,isFinite(this.foodCD)&&this.foodRay(t)):this.foodEnd();else if(this.shootCD>0&&(this.shootCD-=t),this.shootCD<=0&&n>0&&this.detectEnemy()){var a=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional;a*=this._cdScale,this.shootCD=a,this.shooting=!0,this.anmControl.playAnimation(this.shootAnm,1,0,Math.max(1,(1==this.inArea?1:2)/a))}},o(e,[{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){this.anmControl.IdleAnim=this.getIdleAnm(t,this.inArea),this.anmControl.RandomAnim=this.getRandAnm(t,this.inArea),this._hurtStage==t||this.shooting||this.fooding||this.anmControl.playRandom(),this._hurtStage=t}},{key:"inArea",get:function(){return this._inArea},set:function(t){this.shootAnm=this.getShootAnm(t),this.deathAnm=this.getDeathAnm(t),this.anmControl.IdleAnim=this.getIdleAnm(this.hurtStage,t),this.anmControl.RandomAnim=this.getRandAnm(this.hurtStage,t),this._inArea==t||this.shooting||this.fooding||this.anmControl.playRandom(),this._inArea=t}}]),e}(f)).prototype,"soundRes",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new tt}}),K=e(Y.prototype,"rayDB",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(Y.prototype,"prj0",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(Y.prototype,"prjWeak",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(Y.prototype,"peaPoint",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=Y))||V));r._RF.pop()}}}));

System.register("chunks:///_virtual/Repeater.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts"],(function(t){var o,e,n,a,i,r,s,l,c,u;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,s=t.Prefab,l=t.tween,c=t.dragonBones},function(t){u=t.PeashooterPlant}],execute:function(){var p,h,d,f,y;i._RF.push({},"0ce4bS4im9AmLSjGLyc0BdI","Repeater",void 0);var P=r.ccclass,m=r.property;t("RepeaterPlant",(p=P("RepeaterPlant"),h=m(s),p((y=o((f=function(t){function o(){for(var o,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return o=t.call.apply(t,[this].concat(i))||this,n(o,"peaMega",y,a(o)),o}e(o,t);var i=o.prototype;return i.specialPlantFood=function(){var t=this;this.anmControl.playAnimation("Food",1/0),this.soundRes.playFood(),this.busy=1/0,this._foodLeftPeaCount=this._objdataOwn.PlantfoodPeaCount;l(this).to(2,{foodLeftPeaCount:0}).call((function(){t.anmControl.playAnimation("FoodBig",1),t.anmControl.body.once(c.EventObject.COMPLETE,t.foodEnd,t)})).start()},i.animationListener=function(t){"Shoot"==t.name&&this._shoot(),"shootMega"==t.name&&(this._shoot(!1,!1,this.peaMega),this.soundRes.playShootMega()),"ShootSound"==t.name&&this.soundRes.playShootSound()},o}(u)).prototype,"peaMega",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/Rotobaga.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./NodePools.ts","./Character.ts","./Square.ts","./CharacterManager.ts","./SoundRescourses.ts"],(function(o){var t,n,e,i,a,r,s,u,l,h,c,d,f,p,y,S,b,w,g;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){a=o.cclegacy,r=o._decorator,s=o.AudioClip,u=o.Prefab,l=o.Vec2,h=o.HALF_PI},function(o){c=o.peaShooter,d=o.PeashooterPlant},function(o){f=o.NodePools},function(o){p=o.CharacterType},function(o){y=o.Square},function(o){S=o.Rectangle,b=o.ZombiePool,w=o.TombPool},function(o){g=o.sounds}],execute:function(){var m,P,v,R,F,M,E,x,D,C,z,q,A,I,L,_,N,X,B,H;a._RF.push({},"7c365RLDvtKUKsmFwtGwl+1","Rotobaga",void 0);var W=r.ccclass,Y=r.property,j=o("rotobagaSound",(m=W("rotobagaSound"),P=Y(s),v=Y([s]),R=Y([s]),F=Y([s]),M=Y([s]),m((D=t((x=function(){function o(){e(this,"foodSound",D,this),e(this,"shootSound",C,this),e(this,"breathSound",z,this),e(this,"foodEndSound",q,this),e(this,"shootFoodSound",A,this),this.volumeScale=.5}var t=o.prototype;return t.playFood=function(){g.play(this.foodSound,this.volumeScale,.1)},t.playBreath=function(){g.playArray(this.breathSound,this.volumeScale,NaN,.5)},t.playFoodEnd=function(){g.playArray(this.foodEndSound,this.volumeScale,.1)},t.playShootSound=function(){g.playArray(this.shootSound,this.volumeScale,NaN,.5)},t.playFoodShoot=function(){g.playArray(this.shootFoodSound,this.volumeScale,.1)},o}()).prototype,"foodSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(x.prototype,"shootSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(x.prototype,"breathSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(x.prototype,"foodEndSound",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(x.prototype,"shootFoodSound",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=x))||E));o("RotobagaPlant",(I=W("Rotobaga"),L=Y(j),_=Y(u),I((B=t((X=function(o){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=o.call.apply(o,[this].concat(a))||this).detectors=[],e(t,"soundResRotobaga",B,i(t)),e(t,"peaMega",H,i(t)),t}n(t,o);var a=t.prototype;return a._shootX=function(o,t,n,e){void 0===o&&(o=new l(1,1)),void 0===t&&(t=!1),void 0===n&&(n=this.pea),void 0===e&&(e=15);var i=0;t&&(i=Math.round(5*Math.random())-2.5),e=15+i;var a=new l(y.SquareDisW*o.x+2*i,y.SquareDisH*o.y).normalize().multiplyScalar(e),r=f.instantiatePooly(n);if(r){var s=c.shootOnePea(r,new l(this.peaSpawnpoint.worldPosition.x,this.worldPositionY),Math.max(1,this.peaSpawnpoint.worldPosition.y-this.inLnC.plantPoint.worldPosition.y),this.inLane.prjLayer,a,p.zombie);this.inLnC.havePeaBuff&&s.addPeaBuff()}},a.onFoodLeftPeaCountDec=function(){var o=this;[new l(1,1),new l(-1,1),new l(1,-1),new l(-1,-1)].forEach((function(t){o._shootX(t,!0,o.peaMega)}))},a.setDetecter=function(o,t){this.detectors=[],this.detectors.push(S.createRectangleNodeCenter(t.node,16*y.SquareDisW,30,90*Math.atan2(y.SquareDisH,y.SquareDisW)/h),S.createRectangleNodeCenter(t.node,16*y.SquareDisW,30,90*Math.atan2(-y.SquareDisH,y.SquareDisW)/h))},a.specialPlantFoodEnd=function(){this.soundResRotobaga.playFoodEnd(),this.busy=0},a.specialPlantFood=function(){this.anmControl.playAnimation("Food",1),this.soundResRotobaga.playFood(),this.busy=1/0},a.detectEnemy=function(){var o=this,t=!1;return this.detectors.forEach((function(n){t||(b.pool().forEach((function(o){t||n.judgeCrossRec(o.bodyRecForShooter)&&(t=!0)})),w.pool().forEach((function(n){t||Math.abs(n.cIndex-o.cIndex)==Math.abs(n.lIndex-o.lIndex)&&(t=!0)})))})),t},a.getDirections=function(){var o=this,t=[];return this.detectors.forEach((function(n){b.pool().forEach((function(e){if(n.judgeCrossRec(e.bodyRecForShooter)){var i=Math.sign(e.worldPositionX-o.worldPositionX),a=Math.sign(e.worldPositionY-o.worldPositionY);(0==i?0==a?[new l(1,1),new l(1,-1),new l(-1,1),new l(-1,-1)]:[new l(1,a),new l(-1,a)]:0==a?[new l(i,1),new l(i,-1)]:[new l(i,a)]).forEach((function(o){t.every((function(t){return t.x!=o.x||t.y!=o.y}))&&t.push(o)}))}})),w.pool().forEach((function(n){if(Math.abs(n.cIndex-o.cIndex)==Math.abs(n.lIndex-o.lIndex)){var e=Math.sign(n.worldPositionX-o.worldPositionX),i=Math.sign(n.worldPositionY-o.worldPositionY);t.every((function(o){return o.x!=e||o.y!=i}))&&t.push(new l(e,i))}}))})),t},a._shootPeaAnimation=function(){this.soundResRotobaga.playBreath(),this.anmControl.playAnimation("Shoot",1,.1,Math.max(.66/this.busy,1))},a.animationListener=function(o){var t=this;"Shoot"==o.name&&this.getDirections().forEach((function(o){t._shootX(o,!1)})),"ShootSound"==o.name&&this.soundResRotobaga.playShootSound(),"shootStart"==o.name&&(this.soundResRotobaga.playFoodShoot(),this.foodShooting()),"shootEnd"==o.name&&this.foodEnd()},t}(d)).prototype,"soundResRotobaga",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new j}}),H=t(X.prototype,"peaMega",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=X))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/runningGuacodile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./SoundRescourses.ts","./Zombie.ts","./FrontYard.ts","./NodePools.ts","./Particles.ts","./ParticleSelfdestroy.ts","./levelController.ts","./LnC.ts"],(function(e){var i,t,n,a,o,s,l,r,h,c,u,d,p,f,m,w,y,v,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,l=e.AudioClip,r=e.dragonBones,h=e.Vec3},function(e){c=e.commonShot},function(e){u=e.sounds},function(e){d=e.ZombieDamageDetails,p=e.zombieDamageType},function(e){f=e.FrontYard},function(e){m=e.instantiatePooly},function(e){w=e.particle},function(e){y=e.ParticleSelfdestroy},function(e){v=e.LevelPlay},function(e){g=e.TileType}],execute:function(){var b,P,S,C,A,L,D;o._RF.push({},"359263ox5pLNpkP+IJuxjQY","runningGuacodile",void 0);var F=s.ccclass,I=s.property;e("runningGuacodile",(b=F("runningGuacodile"),P=I([l]),S=I(Number),b((L=i((A=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return(i=e.call.apply(e,[this].concat(o))||this).depthScale=12,i.wave=null,n(i,"biteSound",L,a(i)),n(i,"damagePerHit",D,a(i)),i}t(i,e);var o=i.prototype;return o.pop=function(){},o.detectEnemy=function(e){},o.hitFloor=function(e){this.height=0,this.depth=0,this.gravity=this.bodyLinearVelocity=0,this.wave&&(this.wave.getComponent(r.ArmatureDisplay).playAnimation("Fade"),this.wave.willBeKilled=!0,this.wave=null)},o.onFaded=function(){this.wave&&(this.wave.getComponent(r.ArmatureDisplay).playAnimation("Fade"),this.wave.willBeKilled=!0,this.wave=null)},o.hitWater=function(){if(this.height<=0){var e;if(this.depth=this.depthScale*f.depth(this.worldPositionX,this.inLnC),!this.wave)this.wave=null==(e=m(w.plantWaterWave()))?void 0:e.getComponent(y),this.wave&&(this.wave.getComponent(r.ArmatureDisplay).playAnimation("Idle",1/0),this.wave.node.parent=this.node.parent);this.wave&&(this.wave.node.scale=new h(.5,.5,1),this.wave.node.worldPosition=new h(this.worldPositionX,this.worldPositionY,0))}else this.depth=0,this.wave&&(this.wave.getComponent(r.ArmatureDisplay).playAnimation("Fade"),this.wave.willBeKilled=!0,this.wave=null)},o.animationListener=function(e){var i;if("switchingFalse"==e.name)this.switching=!1,null==(i=this.db)||i.playAnimation("Idle",1/0);else if("bite"==e.name){if(this.fallingInSky)return;this.bite()}else if("biteSound"==e.name){if(this.fallingInSky)return;u.playArray(this.biteSound,this.popSoundVolume,.1)}},o.animationCompleteListener=function(){var e;this.switching=!1,null==(e=this.db)||e.playAnimation("Idle",1/0)},o.bite=function(){var e=this,i=this.bodyRec();this.inLane.zombiePool().forEach((function(t){t.bodyRecReal.judgeCrossRec(i)&&t.dealDamage(new d(e.damagePerHit,!0,!0,!0,null,p.physicle))})),this.inLane.tombPool().forEach((function(t){t.bodyRec.judgeCrossRec(i)&&t.dealDamage(e.damagePerHit)})),this.screenShaker&&(v.shakeScreen(),this.inLnC.getTileType()==g.water&&w.spawnWaterSplash(this.lIndex,new h(this.worldPositionX+10*this.linearVelocity.x,this.worldPositionY,0)))},o.specialOnLaneChange=function(e,i){this.wave&&this.wave.node.setParent(this.node.parent)},o.characterOnEnable=function(){this.initialize(),this.fallingInSky=!1},i}(c)).prototype,"biteSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=i(A.prototype,"damagePerHit",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 70}}),C=A))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/runningParsnip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Zombie.ts","./SoundRescourses.ts"],(function(n){var i,e,t,r,a,o,s,u,c,l,p,h;return{setters:[function(n){i=n.applyDecoratedDescriptor,e=n.inheritsLoose,t=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){a=n.cclegacy,o=n._decorator,s=n.AudioClip,u=n.CCFloat},function(n){c=n.commonShot},function(n){l=n.ZombieDamageDetails,p=n.zombieDamageType},function(n){h=n.sounds}],execute:function(){var d,f,m,y,g,b,S,P,v;a._RF.push({},"4f43cV93zhB97o8Wvzwp42H","runningParsnip",void 0);var w=o.ccclass,z=o.property;n("runningParsnip",(d=w("runningParsnip"),f=z([s]),m=z([s]),y=z(u),d((S=i((b=function(n){function i(){for(var i,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return i=n.call.apply(n,[this].concat(a))||this,t(i,"rushSnipSounds",S,r(i)),t(i,"rushSnipSaySounds",P,r(i)),t(i,"damagePerHit",v,r(i)),i}e(i,n);var a=i.prototype;return a.pop=function(){},a.detectEnemy=function(n){},a.animationListener=function(n){var i;if("Idle"==n.name)this.switching=!1,null==(i=this.db)||i.playAnimation("Idle",1/0);else if("hit"==n.name){if(this.fallingInSky)return;this.hit(),h.playArray(this.rushSnipSaySounds,1,.1),h.playArray(this.rushSnipSounds,1,.1)}},a.animationCompleteListener=function(){var n;this.switching=!1,null==(n=this.db)||n.playAnimation("Idle",1/0)},a.hit=function(){var n=this;this.inLane.zombiePool().forEach((function(i){i.bodyRec.judgeCrossRec(n.bodyRec())&&i.dealDamage(new l(n.damagePerHit,!0,!0,!0,null,p.physicle))})),this.inLane.tombPool().forEach((function(i){i.bodyRec.judgeCrossRec(n.bodyRec())&&i.dealDamage(n.damagePerHit)}))},a.characterOnEnable=function(){this.initialize(),this.db.playAnimation("Spawn",1),this.fallingInSky=!1,this.switching=!0},i}(c)).prototype,"rushSnipSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=i(b.prototype,"rushSnipSaySounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=i(b.prototype,"damagePerHit",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 70}}),g=b))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/SandBoxLevelSettingWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelController.ts","./SettingWindow.ts","./LnC.ts","./UI.ts","./MultiLanguage.ts"],(function(e){var t,i,n,r,o,l,a,s,u,S,c,g,h,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){l=e.cclegacy,a=e._decorator,s=e.Label,u=e.Sprite,S=e.Component},function(e){c=e.LevelPlay},function(e){g=e.SettingWindow},function(e){h=e.LnCSpawnZombieStyleEnum},function(e){p=e.UIInGame},function(e){f=e.MultiLanguage}],execute:function(){var y,b,w,d,L,P,m,C,D,v,E,_,T,z,F,k,x,R,B,M,G,N,O,Z,W,I,K,U,j,A,H,V,q,J,Q,X,Y,$,ee,te,ie,ne,re,oe,le;l._RF.push({},"fe53aD9ndVEk5T/aGwBI+tn","SandBoxLevelSettingWindow",void 0);var ae=a.ccclass,se=a.property,ue=(y=ae("SandBoxLevelSettingToolTip"),b=se(s),w=se(s),d=se(s),L=se(s),P=se(s),m=se(s),C=se(s),D=se(s),v=se(s),E=se(s),_=se(s),T=se(s),z=se(s),F=se(s),y((R=t((x=function(){function e(){n(this,"Title",R,this),n(this,"SwitchStageEffect",B,this),n(this,"PushTide",M,this),n(this,"PullTide",G,this),n(this,"ChangeCards",N,this),n(this,"ChangeCardsKeyTip",O,this),n(this,"SuperSlow",Z,this),n(this,"SpawnZombies",W,this),n(this,"SwitchLawn",I,this),n(this,"FreePlant",K,this),n(this,"CoolDownOff",U,this),n(this,"FreePlantfood",j,this),n(this,"DropSunFromSky",A,this),n(this,"SwitchMusic",H,this)}return e.prototype.setToolTip=function(){this.SwitchMusic&&(this.SwitchMusic.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.SwitchMusic,!1)),this.Title&&(this.Title.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.Title,!1)),this.SwitchStageEffect&&(this.SwitchStageEffect.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.SwitchStageEffect,!1)),this.PushTide&&(this.PushTide.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.PushTide,!1)),this.PullTide&&(this.PullTide.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.PullTide,!1)),this.ChangeCards&&(this.ChangeCards.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.ChangeCards,!1)),this.ChangeCardsKeyTip&&(this.ChangeCardsKeyTip.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.ChangeCardsKeyTip,!1)),this.SuperSlow&&(this.SuperSlow.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.SuperSlow,!1)),this.SpawnZombies&&(this.SpawnZombies.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.SpawnZombies,!1)),this.SwitchLawn&&(this.SwitchLawn.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.SwitchLawn,!1)),this.FreePlant&&(this.FreePlant.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.FreePlant,!1)),this.CoolDownOff&&(this.CoolDownOff.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.CoolDownOff,!1)),this.FreePlantfood&&(this.FreePlantfood.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.FreePlantfood,!1)),this.DropSunFromSky&&(this.DropSunFromSky.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.DropSunFromSky,!1))},e}()).prototype,"Title",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(x.prototype,"SwitchStageEffect",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(x.prototype,"PushTide",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(x.prototype,"PullTide",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(x.prototype,"ChangeCards",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(x.prototype,"ChangeCardsKeyTip",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(x.prototype,"SuperSlow",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(x.prototype,"SpawnZombies",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(x.prototype,"SwitchLawn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(x.prototype,"FreePlant",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(x.prototype,"CoolDownOff",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(x.prototype,"FreePlantfood",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(x.prototype,"DropSunFromSky",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(x.prototype,"SwitchMusic",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=x))||k);e("SandBoxLevelSettingWindow",(V=ae("SandBoxLevelSettingWindow"),q=se(ue),J=se(u),Q=se(u),X=se(u),Y=se(u),V(((le=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"tooltips",te,r(t)),n(t,"skySetter",ie,r(t)),n(t,"fpSetter",ne,r(t)),n(t,"noCDSetter",re,r(t)),n(t,"fpfSetter",oe,r(t)),t}i(t,e);var l=t.prototype;return l.onLoad=function(){t.cp=this},l.reverseSkySunDrop=function(){t._skySunDrop=!t._skySunDrop,this.skySetter.color=t._skySunDrop?g.GREEN:g.RED},l.reverseFreePlant=function(){t._freePlant=!t._freePlant,this.fpSetter.color=t._freePlant?g.GREEN:g.RED},l.reverseNoCDPlant=function(){t._noCDPlant=!t._noCDPlant,this.noCDSetter.color=t._noCDPlant?g.GREEN:g.RED},l.reverseFreePF=function(){t._freePF=!t._freePF,this.fpfSetter.color=t._freePF?g.GREEN:g.RED},l.onEnable=function(){t._zombieSpawnStyle=0,this.skySetter.color=t._skySunDrop?g.GREEN:g.RED,this.fpSetter.color=t._freePlant?g.GREEN:g.RED,this.noCDSetter.color=t._noCDPlant?g.GREEN:g.RED,this.fpfSetter.color=t._freePF?g.GREEN:g.RED},l.start=function(){this.tooltips.setToolTip()},o(t,null,[{key:"freePlant",get:function(){return this._freePlant&&c.sandBoxModeOn}},{key:"noCDPlant",get:function(){return this._noCDPlant&&c.sandBoxModeOn}},{key:"freePF",get:function(){return this._freePF&&c.sandBoxModeOn}},{key:"skySunDrop",get:function(){return this._skySunDrop||!c.sandBoxModeOn}},{key:"zombieSpawnStyle",get:function(){return this._zombieSpawnStyle},set:function(e){e>=h.amount&&(e=h.directPut),p.uiingame.readSBZombieSpawnStyle(e),this._zombieSpawnStyle=e}}]),t}(S)).plantList=[],le._freePlant=!0,le._noCDPlant=!0,le._freePF=!0,le._skySunDrop=!0,le._zombieSpawnStyle=0,le.zombieReversed=!1,le.cp=void 0,te=t((ee=le).prototype,"tooltips",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ue}}),ie=t(ee.prototype,"skySetter",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(ee.prototype,"fpSetter",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(ee.prototype,"noCDSetter",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(ee.prototype,"fpfSetter",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=ee))||$));l._RF.pop()}}}));

System.register("chunks:///_virtual/SandBoxZombieCards.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotalZombie.ts","./cardSelectAlmanac.ts","./Zombies.ts","./UI.ts","./BodyGrouper.ts","./SoundRescourses.ts","./Mouse.ts"],(function(e){var n,o,t,i,r,a,s,u,c,d,l,m,f,p,h,g,b,y,C,x,I,v;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.UITransform,u=e.instantiate,c=e.Vec3,d=e.dragonBones,l=e.Color,m=e.Node,f=e.EventMouse,p=e.Component},function(e){h=e.CardFeatureTotalZombie},function(e){g=e.cardSelectAlmanac},function(e){b=e.zombies,y=e.ZombieEnum},function(e){C=e.UIInGame},function(e){x=e.BodyGrouper},function(e){I=e.sounds},function(e){v=e.Mouse}],execute:function(){var E,S,_,B,T,D;r._RF.push({},"99826QbZU5LHoKNL0lEg500","SandBoxZombieCards",void 0);var w=a.ccclass,z=a.property;e("SandBoxZombieCards",(E=w("SandBoxZombieCards"),S=z([h]),E(((D=function(e){function n(){for(var n,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,t(n,"zombieCards",T,i(n)),n.uitransform=void 0,n.currentID=0,n.index=-1,n}o(n,e);var r=n.prototype;return r.onLoad=function(){this.uitransform=this.getComponent(s),n.component=this,this.index=-1},r.judgeMouseIsIn=function(){return!!this.uitransform&&v.judgeInUITransform(this.uitransform)},r.onMouseScroll=function(e){var n=e.getScrollY()<0?1:-1,o=this.zombieCards[0].ID;this.zombieCards.forEach((function(e,t){e.cardGrouper(o+t+n,!1)}))},r.zombieGhost=function(e){var n,o;this.currentID=e;var t=b.getZombie(e,!0).getChildByName("Body"),i=u(t);i.parent=C.uiingame.plantInHandLayer,i.position=new c(0,-20,0),i.worldScale=new c(.45,.45,.45),null==(n=i.getChildByName("butterFacePAR"))||null==(n=n.getComponent(d.ArmatureDisplay))||null==(n=n.color)||n.set(new l(0,0,0,0));var r=i.getComponent(d.ArmatureDisplay),a=r.getComponent(x);a.body=r,null==(o=r.armature().getSlot("POISONFACE"))||o._setDisplayIndex(-1);var s=[],m=[];switch(e){case y.cowboy_bricks:case y.cowboy_bucket:case y.cowboy_cone:s=["hat_HEAD"];break;case y.monk_helmet:case y.kongfu_helmet:m=["HELMET_THERE_HEAD"]}a.body.armature().getSlots().forEach((function(e){-1!=m.indexOf(e.name)?e.displayIndex=0:-1!=s.indexOf(e.name)&&(e.displayIndex=-1)})),r.playAnimation(a.IdleAnm,1/0),a.showArm(!0)},r.update=function(e){var n=this;this.zombieCards.forEach((function(e,o){e.getComponent(g).index=n.index==o?1:0}))},r.start=function(){var e=this;this.zombieCards.forEach((function(n,o){n.cardGrouper(o,!1),n.getComponent(g).suncostShown=!1,n.node.on(m.EventType.MOUSE_DOWN,(function(t){if(!C.uiingame.indexLocked)if(t.getButton()==f.BUTTON_LEFT){var i=9!=C.index||o!=e.index?9:-1;C.uiingame.index=-1,C.uiingame.tryChangingIndex(i),9==C.index?(e.zombieGhost(n.ID),I.playCardChosen(),e.index=o):(I.playCardCancel(),e.index=-1)}else t.getButton()==f.BUTTON_RIGHT&&C.uiingame.tryChangingIndex(-1)}),e)}))},n}(p)).component=void 0,T=n((B=D).prototype,"zombieCards",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=B))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/Sapfling.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CabbagePult.ts","./NodePools.ts","./CharacterManager.ts","./Character.ts","./Square.ts","./SoundRescourses.ts"],(function(n){var o,e,t,a,i,r,u,l,s,c,p,b,d,f,y;return{setters:[function(n){o=n.applyDecoratedDescriptor,e=n.inheritsLoose,t=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){i=n.cclegacy,r=n._decorator,u=n.AudioClip},function(n){l=n.cabbagePultSound,s=n.cabbagePult,c=n.CabbagePultPlant},function(n){p=n.NodePools},function(n){b=n.ZombiePool},function(n){d=n.CharacterType},function(n){f=n.Square},function(n){y=n.sounds}],execute:function(){var g,S,h,P,m,w,z,v,C,L,R,O;i._RF.push({},"222f3qIX7xPWIkhmZpcd8dW","Sapfling",void 0);var A=r.ccclass,B=r.property,D=n("sapflingSound",(g=A("sapflingSound"),S=B(u),h=B(u),g((w=o((m=function(n){function o(){for(var o,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return o=n.call.apply(n,[this].concat(i))||this,t(o,"sneezeSound",w,a(o)),t(o,"brushSound",z,a(o)),o}e(o,n);var i=o.prototype;return i.playLobSound=function(){y.playArray(this.lobSound,.6,.1)},i.playSneezeSound=function(){y.play(this.sneezeSound,.2,.1)},i.playBrushSound=function(){y.play(this.brushSound,.1,.5)},o}(l)).prototype,"sneezeSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=o(m.prototype,"brushSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=m))||P));n("SapflingPlant",(v=A("SapflingPlant"),C=B(D),v((O=o((R=function(n){function o(){for(var o,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return o=n.call.apply(n,[this].concat(i))||this,t(o,"soundRes",O,a(o)),o}e(o,n);var i=o.prototype;return i.zombieIsVisible=function(n){return!n.flying&&!n.objdataOwnOrg.CannotBeDetectedBySapfling},i.tombDetector=function(){return!1},i.foodLob=function(){var n=this;b.pool().concat().forEach((function(o){var e=p.instantiatePooly(n.cabbage);s.lobOneCabbageOnZombie(e,n.worldPosition,n.cabbageSpawnPoint.worldPosition.y-n.node.worldPosition.y,n.inLane.prjLayer,o,2,d.zombie,!0)})),f.getRandomSquares(20).forEach((function(o){var e=p.instantiatePooly(n.cabbage);s.lobOneCabbageOnNode(e,n.worldPosition,n.cabbageSpawnPoint.worldPosition.y-n.node.worldPosition.y,n.inLane.prjLayer,o,2,d.zombie,!0)}))},i.specialAnimationListener=function(n){"sneeze"==n.name?this.soundRes.playSneezeSound():"brush"==n.name&&this.soundRes.playBrushSound()},o}(c)).prototype,"soundRes",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new D}}),L=R))||L));i._RF.pop()}}}));

System.register("chunks:///_virtual/ScaredyShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./CharacterManager.ts","./Square.ts","./Lane.ts","./Plants.ts","./SoundRescourses.ts"],(function(o){var t,n,i,e,a,r,s,h,d,u,l,c,f,p,m,S,y,b,P,g,C,v,w,L;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,i=o.initializerDefineProperty,e=o.assertThisInitialized,a=o.createClass},function(o){r=o.cclegacy,s=o._decorator,h=o.AudioClip,d=o.Prefab,u=o.Node,l=o.Vec2,c=o.macro,f=o.tween,p=o.dragonBones},function(o){m=o.Plant,S=o.PlantProps},function(o){y=o.NodePools},function(o){b=o.peaShooter},function(o){P=o.CharacterType},function(o){g=o.Rectangle},function(o){C=o.Square},function(o){v=o.Lane},function(o){w=o.PlantEnum},function(o){L=o.sounds}],execute:function(){var R,A,_,E,k,D,M,I,z,j,F,H,O,x,q,K,N,T,U,B,W,V,Y,X;r._RF.push({},"bb74fHTzXNArIOYLe9wP4Rc","ScaredyShroom",void 0);var G=s.ccclass,J=s.property,Q=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return(t=o.call.apply(o,[this].concat(i))||this).ShootInterval=1.35,t.ShootIntervalAdditional=.15,t.PlantfoodSporeCount=40,t.KnockbackChance=.2,t.KnockbackDistance=.2,t}return n(t,o),t}(S),Z=o("scaredyShroomSound",(R=G("scaredyShroomSound"),A=J([h]),_=J([h]),E=J([h]),R((M=t((D=function(){function o(){i(this,"shootSound",M,this),i(this,"foodSound",I,this),i(this,"hideSound",z,this)}var t=o.prototype;return t.playHideSound=function(){L.playArray(this.hideSound,1,.1)},t.playShootSound=function(){L.playArray(this.shootSound,1,.1)},t.playFoodSound=function(){L.playArray(this.foodSound,1,.1)},o}()).prototype,"shootSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(D.prototype,"foodSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(D.prototype,"hideSound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=D))||k));o("ScaredyShroomPlant",(j=G("ScaredyShroomPlant"),F=J(d),H=J(d),O=J(d),x=J(d),q=J(Z),K=J(u),j((U=t((T=function(o){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=o.call.apply(o,[this].concat(a))||this)._objdataOwn=new Q,i(t,"sporeFood",U,e(t)),i(t,"spore0",B,e(t)),i(t,"spore1",W,e(t)),i(t,"spore2",V,e(t)),t._foodLeftPeaCount=0,i(t,"soundRes",Y,e(t)),t.detector=null,t.projectileSpeed=1,t.oldIdle="",t.oldRandom=[],t.scaryDetector=null,t.hiding=!1,i(t,"sporeSpawnPointUp",X,e(t)),t.busy=0,t.shooting=!1,t}n(t,o);var r=t.prototype;return r.waterable=function(){return!this.hiding&&!this.shooting},r._shoot=function(o,t,n,i){void 0===o&&(o=!1),void 0===t&&(t=!1),void 0===n&&(n=this.spore0),void 0===i&&(i=!1);var e=y.instantiatePooly(n);if(e){var a=0;o&&(a=Math.pow(-1,Math.round(Math.random()))*Math.round(3*Math.random())*5);var r=0;t&&(r=Math.round(5*Math.random()));var s=b.shootOnePea(e,new l(this.sporeSpawnPointUp.worldPosition.x,this.worldPositionY),this.sporeSpawnPointUp.getWorldPosition().y-this.inLnC.plantPoint.worldPosition.y+a,this.inLane.prjLayer,new l((15+(t?1:0)*r)*this.projectileSpeed,0*(t?1:0)*(Math.round(10*Math.random())*Math.pow(-1,Math.round(Math.random())))),P.zombie);i&&s.setKnockBack(this._objdataOwn.KnockbackDistance)}},r.specialPlantFoodEnd=function(){var o;(o=this.detectScary())?this.hide(o):this.anmControl.playRandom(),this.busy=0},r.onFoodLeftPeaCountDec=function(){this._shoot(!0,!0,this.sporeFood,!0)},r.specialPlantFood=function(o){var t=this;if(void 0===o&&(o=!0),o){var n;this.soundRes.playFoodSound();var i=[];null==(n=this.inLnC)||null==(n=n.get3x3())||n.forEach((function(o){o.getAllPlants().forEach((function(o){o!=t&&o.ID==t.ID&&i.push(o)}))})),i.forEach((function(o){o.food(!1)}))}this.anmControl.playAnimation("Food",c.REPEAT_FOREVER),this.busy=1/0,this._foodLeftPeaCount=this._objdataOwn.PlantfoodSporeCount;f(this).to(2,{foodLeftPeaCount:0}).call((function(){t.foodEnd()})).start()},r._shootPeaAnimation=function(){var o="Shoot2";Math.random()<=this._objdataOwn.KnockbackChance&&(o="Shoot"),this.anmControl.playAnimation(o,1,.1,Math.max(1.1/this.busy,1))},r.animationListener=function(o){"Shoot"!=o.name&&"ShootKnockback"!=o.name||this._shoot(!1,!1,"ShootKnockback"==o.name?this.spore2:this.spore0,"ShootKnockback"==o.name),"ShootSound"==o.name&&this.soundRes.playShootSound(),"HideEnd"==o.name&&(this.hiding=!1)},r.setDetecter=function(){this.detector=g.createRectangleNodeSide(this.inLnC.node,C.SquareDisW*(9-this.cIndex),C.SquareDisH),this.scaryDetector=g.createRectangleNodeCenter(this.inLnC.node,3*C.SquareDisW,3*C.SquareDisH)},r.specialPlantOnEnable=function(){var o=this;this.shooting=!1,this.hiding=!1,this.oldIdle=this.anmControl.IdleAnim,this.oldRandom=this.anmControl.RandomAnim,this.projectileSpeed=1,this.anmControl.body.addEventListener(p.EventObject.COMPLETE,(function(t){o.shooting=!1}),this)},r.detectScary=function(){var o=this,t=0;if(this.havePumpkin())return 0;var n=this.inLane.zombiePool(),i=C.getLane(this.inLane.LaneIndex-1).getComponent(v).zombiePool(),e=C.getLane(this.inLane.LaneIndex+1).getComponent(v).zombiePool();return n.concat(i,e).forEach((function(n){if(1!=t&&o.scaryDetector.judgeCrossRec(n.bodyRecForShooter)){if(n.node.worldPosition.x<o.node.worldPosition.x)return void(t=1);if(n.node.worldPosition.x>=o.node.worldPosition.x)return void(t=2)}})),t},r.specialPlantOnSquareChange=function(o,t){this.setDetecter()},r.startShooting=function(){this.shooting=!0,this.busy=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional,this._shootPeaAnimation()},r.hideEnd=function(){this.hiding=!1,this.short_=this.short,this.soundRes.playHideSound(),this.anmControl.IdleAnim=this.oldIdle,this.anmControl.RandomAnim=this.oldRandom,this.fooding?this.hiding=!1:this.anmControl.playAnimation("HideEnd",1)},r.hide=function(o){this.soundRes.playHideSound(),this.hiding=!0,this.short_=!0,this.deathAnm="DeathHiding",this.anmControl.IdleAnim="Hiding",this.anmControl.RandomAnim=["Hiding"],this.fooding||(1==o?this.anmControl.playAnimation("HideStartL",1):2==o&&this.anmControl.playAnimation("HideStartR",1))},r.detectEnemy=function(){for(var o=this.inLane.zombiePool(),t=0;t<o.length;t++)if(this.detector.judgeCrossRec(o[t].bodyRecForShooter))return!0;for(var n=this.inLane.tombPool(),i=0;i<n.length;i++)if(this.detector.judgeCrossRec(n[i].bodyRec))return!0;return!1},r.havePumpkin=function(){for(var o=this.inLnC.vineInSquare.concat(),t=0;t<o.length;t++)if(o[t].ID==w.Pumpkin)return!0;return!1},r.specialPlantUpdate=function(o,t,n){if(this.busy>0&&(this.busy-=o),this.busy<=0&&!this.hiding&&n>0&&this.detectEnemy()&&this.startShooting(),n>0){var i=this.detectScary();!this.hiding&&i&&!this.shooting&&n>0&&this.hide(i),this.hiding&&0==i&&n>0&&this.hideEnd()}},a(t,[{key:"foodLeftPeaCount",get:function(){return this._foodLeftPeaCount},set:function(o){for(var t=Math.floor(this._foodLeftPeaCount)-Math.floor(o),n=0;n<t;n++)this.onFoodLeftPeaCountDec();this._foodLeftPeaCount=o}}]),t}(m)).prototype,"sporeFood",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(T.prototype,"spore0",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(T.prototype,"spore1",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(T.prototype,"spore2",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(T.prototype,"soundRes",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Z}}),X=t(T.prototype,"sporeSpawnPointUp",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=T))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/Scenes.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,r,t,c,i,a,o,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,c=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,o=e.SceneAsset,s=e.Component}],execute:function(){var l,u,p,S,f,m,b,h,y,d,w;i._RF.push({},"1ee17OeWA9Fk4wRPxkLGPEx","Scenes",void 0);var R=a.ccclass,g=a.property,v=e("scenes",function(){function e(){}return e.inGameScene=function(){return this.sceneRes.inGameScene},e.worldMapScene=function(){return this.sceneRes.worldMapScene},e.almanacScene=function(){return this.sceneRes.almanacScene},e.storeScene=function(){return this.sceneRes.storeScene},e}());v.sceneRes=void 0;e("Scenes",(l=R("Scenes"),u=g(o),p=g(o),S=g(o),f=g(o),l((h=n((b=function(e){function n(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,t(n,"inGameScene",h,c(n)),t(n,"worldMapScene",y,c(n)),t(n,"almanacScene",d,c(n)),t(n,"storeScene",w,c(n)),n}return r(n,e),n.prototype.onLoad=function(){v.sceneRes=this},n}(s)).prototype,"inGameScene",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=n(b.prototype,"worldMapScene",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=n(b.prototype,"almanacScene",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=n(b.prototype,"storeScene",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollViewWithoutTouchevent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,e,n,c;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator,c=o.ScrollView}],execute:function(){var u;e._RF.push({},"80311OHvhFO54C5ub8cMLg6","ScrollViewWithoutTouchevent",void 0);var i=n.ccclass;n.property,o("ScrollViewWithoutTouchevent",i("ScrollViewWithoutTouchevent")(u=function(o){function e(){return o.apply(this,arguments)||this}t(e,o);var n=e.prototype;return n._onTouchMoved=function(o,t){},n._onTouchBegan=function(o,t){},n._onTouchCancelled=function(o,t){},n._onTouchEnded=function(o,t){},e}(c))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/SeagullZombieAshParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombieAshParticle.ts","./SoundRescourses.ts"],(function(e){var t,i,o,r,s;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,o=e._decorator},function(e){r=e.ZombieAshParticle},function(e){s=e.sounds}],execute:function(){var n;i._RF.push({},"29924/V30VDGZlGTJp/vFVt","SeagullZombieAshParticle",void 0);var c=o.ccclass;o.property,e("SeagullZombieAshParticle",c("SeagullZombieAshParticle")(n=function(e){function i(){return e.apply(this,arguments)||this}return t(i,e),i.prototype.zombieAshDBListener=function(e){"birdExpl"==e.name&&s.playBirdExpl()},i}(r))||n);i._RF.pop()}}}));

System.register("chunks:///_virtual/SeaShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PuffShroom.ts","./LnC.ts"],(function(t){var n,o,e,a,i,r,s;return{setters:[function(t){n=t.inheritsLoose,o=t.createClass},function(t){e=t.cclegacy,a=t._decorator},function(t){i=t.PuffShroomPlant,r=t.PuffShroomProps},function(t){s=t.TileType}],execute:function(){var h;e._RF.push({},"d682cyWuD1DH5tIhF0d6R2s","SeaShroom",void 0);var l=a.ccclass,u=(a.property,function(t){function o(){for(var n,o=arguments.length,e=new Array(o),a=0;a<o;a++)e[a]=arguments[a];return(n=t.call.apply(t,[this].concat(e))||this).FadeSpeedMultInWater=.5,n}return n(o,t),o}(r));t("SeaShroomPlant",l("SeaShroomPlant")(h=function(t){function e(){for(var n,o=arguments.length,e=new Array(o),a=0;a<o;a++)e[a]=arguments[a];return(n=t.call.apply(t,[this].concat(e))||this)._objdataOwn=new u,n._isInWater=!0,n.depthScale=1,n}n(e,t);var a=e.prototype;return a.onObjdataSet=function(t,n){},a.getFadeTimeMult=function(){return this.plantInLnC.getTileType()!=s.water||this.plantInLnC.lilyPad?(this.isInWater=!1,1):(this.isInWater=!0,this.objdataOwn.FadeSpeedMultInWater)},o(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"isInWater",get:function(){return this._isInWater},set:function(t){t!=this.isInWater&&(t?(this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.shootAnimationName="Shoot"):(this.anmControl.IdleAnim="Idle_Sad",this.anmControl.RandomAnim=["Random_Sad"],this.shootAnimationName="Shoot_Sad"),this.shooting||this.fooding||this.anmControl.playRandom()),this._isInWater=t}}]),e}(i))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/SeedChooser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotal.ts","./NodePools.ts","./cardSelectAlmanac.ts","./SoundRescourses.ts","./Plants.ts","./MultiLanguage.ts","./UI.ts","./AnimationController.ts","./PlayerProperties.ts"],(function(t){var e,n,o,i,l,a,r,s,c,u,p,d,h,f,y,m,g,w,C,b,v,S,D,P,I,T,O,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){l=t.cclegacy,a=t._decorator,r=t.Enum,s=t.Sprite,c=t.Node,u=t.ScrollView,p=t.Label,d=t.Vec3,h=t.EventMouse,f=t.UITransform,y=t.Vec2,m=t.Color,g=t.Component,w=t.instantiate},function(t){C=t.CardFeatureTotal},function(t){b=t.NodePools},function(t){v=t.cardSelectAlmanac},function(t){S=t.sounds},function(t){D=t.PlantEnum,P=t.plants},function(t){I=t.MultiLanguage},function(t){T=t.UIInGame},function(t){O=t.AnimationController},function(t){E=t.AllPlayerProperties}],execute:function(){var B,A,N,L,V,M,U,z,_,F,G,R,k,j,W,x,H,K,Q,q,J;l._RF.push({},"e1b80ReMENKi7VVz0yCcde6","SeedChooser",void 0);var X=a.ccclass,Y=a.property;r(D);t("SeedChooser",(B=X("SeedChooser"),A=Y(s),N=Y(c),L=Y(u),V=Y(c),M=Y(p),U=Y(p),z=Y([c]),_=Y(c),F=Y(c),B((k=e((R=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return(e=t.call.apply(t,[this].concat(l))||this).currentSeedBank=[],o(e,"displayBG",k,i(e)),e.PlantsInCard=[],o(e,"card0",j,i(e)),e.ca0=null,o(e,"scrollView",W,i(e)),o(e,"plantDisplayer",x,i(e)),e.plantDisplayed=void 0,o(e,"plantNameLabel",H,i(e)),o(e,"briefIntro",K,i(e)),o(e,"moveButtons",Q,i(e)),o(e,"costumeRoller",q,i(e)),e.displayed=-1,o(e,"imitatorSlot",J,i(e)),e}n(e,t);var l=e.prototype;return l.start=function(){var t=this;this.costumeRoller.on(c.EventType.MOUSE_DOWN,(function(){t.rollCostume()}),this)},l.rollCostume=function(){var t=this.plantDisplayed.getComponent(O);t&&t.rollCostumeUp(P.getPlantFeature(t.ID).COSTUME)},l.onLoad=function(){this.ca0=this.card0.getComponent(v),this.imitatorSlot.parent.position=T.PocketUI?new d(0,-275,0):new d(-295,-195,0),this.imitatorSlot.position=new d(T.PocketUI?0:-60,0,0)},l.judgeAllowed=function(t,e){},l.layCards=function(t){var e=this;void 0===t&&(t=this.currentSeedBank),(!t||t.length<=0)&&(t=P.defaultPlantChooserOrder);var n=this.ca0.getComponent(C);n.cardGrouper(t[0]),this.PlantsInCard.push(n);var o=this.ca0;o.seedChooserModeOn=!0,this.ca0.node.on(c.EventType.MOUSE_DOWN,(function(t){t.getButton()==h.BUTTON_LEFT&&(e.switchPlant(0,o.disallowed),S.playCardChosen())})),this.judgeAllowed(n,o);for(var i=function(n){var o=w(e.ca0.node);o.parent=e.ca0.node.parent;var i=o.getComponent(C);i.cardGrouper(t[n],i.ID!=D.Imitater);var l=o.getComponent(v);i.ID==D.Imitater&&(e.imitatorSlot.parent.active=!0,o.parent=e.imitatorSlot,o.position=new d(0,0,0),l.suncostShown=!1,l.defaultSunCostShown=!1),l.seedChooserModeOn=!0,e.judgeAllowed(i,l),e.PlantsInCard.push(o.getComponent(C)),o.on(c.EventType.MOUSE_DOWN,(function(t){t.getButton()==h.BUTTON_LEFT&&(e.switchPlant(n,l.disallowed),S.playCardChosen())}))},l=1;l<t.length;l++)i(l);this.scrollView.scrollToTop(0),this.scrollView.stopAutoScroll();var a=this.scrollView.content.getComponent(f).height>this.scrollView.content.parent.getComponent(f).height;this.moveButtons.forEach((function(t){t.active=a}))},l.scrowUp=function(){this.scrollView.scrollToOffset(new y(0,this.scrollView.getScrollOffset().y-100),.2)},l.scrowDown=function(){this.scrollView.scrollToOffset(new y(0,this.scrollView.getScrollOffset().y+100),.2)},l.switchPlant=function(t,e){if(t<this.PlantsInCard.length&&this.displayed!=t){var n;this.plantDisplayed&&b.destroyPooly(this.plantDisplayed);var o=this.PlantsInCard[t];this.plantDisplayed=b.instantiatePooly(o.thisCard.plantDIS),this.plantDisplayed.parent=this.plantDisplayer;var i=o.ID,l=P.getPlantAlmanac(i);this.plantDisplayed.position=new d(l.DisplayOffset.x,l.DisplayOffset.y,0);var a=I.getString(o.thisPlant.NAME);this.plantNameLabel.string=a,this.briefIntro.string=1==e?I.getDirectQuote("[PLANT_DISALLOWED]").replace("<PLANTNAME>",a):I.getString(l.BriefIntroduction),this.displayed=t;var r=P.getPlantBGSprite(o.ID);this.displayBG.spriteFrame=r;var s=e>0?122:255,c=new m(s,s,s,255);this.displayBG.color=c;var u=this.plantDisplayed.getComponent(O);null==u||null==(n=u.body)||null==(n=n.color)||n.set(s,s,s,255),null==u||u.readCostume(o.ID);var p=E.getPlantProgressByID(o.ID);this.costumeRoller.active=p.costumes.length>0}},l.onEnable=function(){this.displayed=-1,this.plantDisplayed=null,this.imitatorSlot.parent.active=!1,this.layCards(),this.switchPlant(0,this.ca0.disallowed)},e}(g)).prototype,"displayBG",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(R.prototype,"card0",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(R.prototype,"scrollView",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(R.prototype,"plantDisplayer",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(R.prototype,"plantNameLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(R.prototype,"briefIntro",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(R.prototype,"moveButtons",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=e(R.prototype,"costumeRoller",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(R.prototype,"imitatorSlot",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=R))||G));l._RF.pop()}}}));

System.register("chunks:///_virtual/SettingWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./UI.ts","./ElectronAPI.ts","./levelController.ts","./Square.ts","./PlayerProperties.ts","./KeyListener.ts","./MultiLanguage.ts","./index.mjs_cjs=&original=.js","./foodLinkTile.ts","./Plants.ts","./SoundManager.ts","./SoundRescourses.ts","./index.js"],(function(e){var i,t,r,n,l,a,o,s,u,c,g,p,h,S,d,m,b,f,y,w,T,L,C,v,R,E,F,N,P,A,M,B,G,U,z,k,D,x,I,K,V,q,O,W;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,l=e.createClass},function(e){a=e.cclegacy,o=e._decorator,s=e.Label,u=e.director,c=e.assetManager,g=e.AudioClip,p=e.Sprite,h=e.AudioSource,S=e.JsonAsset,d=e.EditBox,m=e.SpriteComponent,b=e.Slider,f=e.Color,y=e.sys,w=e.Vec2,T=e.game,L=e.tween,C=e.input,v=e.Input,R=e.KeyCode,E=e.ProgressBar,F=e.Component},function(e){N=e.MusicController,P=e.SoundFXController},function(e){A=e.setExitToMapScene,M=e.UIInGame},function(e){B=e.default},function(e){G=e.LevelPlay},function(e){U=e.Square},function(e){z=e.AllPlayerProperties},function(e){k=e.KeyListener,D=e.CursorStyleEnum},function(e){x=e.MultiLanguage,I=e.LanguageEnum},null,function(e){K=e.FoodLinkTileTypeEnum},function(e){V=e.plants},function(e){q=e.musicType},function(e){O=e.sounds},function(e){W=e.default}],execute:function(){var _,X,j,Y,J,Q,H,Z,$,ee,ie,te,re,ne,le,ae,oe,se,ue,ce,ge,pe,he,Se,de,me,be,fe,ye,we,Te,Le,Ce,ve,Re,Ee,Fe,Ne,Pe,Ae,Me,Be,Ge,Ue,ze,ke,De,xe,Ie,Ke,Ve,qe,Oe,We,_e,Xe,je,Ye,Je,Qe,He,Ze,$e,ei,ii,ti,ri,ni,li,ai,oi,si,ui,ci,gi,pi,hi,Si,di,mi,bi,fi,yi,wi,Ti,Li,Ci,vi,Ri,Ei,Fi,Ni,Pi,Ai,Mi,Bi,Gi;e({createExportElement:function(e,i){var t=document.createElement("a");t.download=i+".json",t.href="data:text/plain,"+JSON.stringify(e,null,"\t"),t.click()},createImportElement:Ii,createImportMP3:Oi}),a._RF.push({},"1978cSMPitG/7HCQRS5rNTh","SettingWindow",void 0);var Ui=o.ccclass,zi=o.property,ki="PvZ2_Settings",Di=(e("WindowSize",16/9),function(){this.MusicVolume=1,this.SFXVolume=1,this.CardsAtUpper=!1,this.LnCSelectionMode=0,this.AllowCheat=!0,this.AnimationFrameRate=0,this.ShowKeyTips=!0,this.ShowFPS=!1,this.Language=0,this.cursor=0,this.bilibiliNumber=null,this.TileTurnipType=K.epsilon,this.ClassicCardBG=!1,this.CamelPlayedTime=0,this.PocketUI=!1,this.PlayerIndex=0}),xi=(_=Ui("Settingwindow Labels"),X=zi(s),j=zi(s),Y=zi(s),J=zi(s),Q=zi(s),H=zi(s),Z=zi(s),$=zi(s),ee=zi(s),ie=zi(s),te=zi(s),re=zi(s),ne=zi(s),le=zi(s),ae=zi(s),oe=zi(s),se=zi(s),ue=zi(s),ce=zi(s),ge=zi(s),pe=zi(s),he=zi(s),Se=zi(s),_((be=i((me=function(){function e(){r(this,"Title",be,this),r(this,"Music",fe,this),r(this,"SoundFX",ye,this),r(this,"Language",we,this),r(this,"CursorStyle",Te,this),r(this,"UpperCardLayer",Le,this),r(this,"AllowCheat",Ce,this),r(this,"ShowKeyboardTip",ve,this),r(this,"ShowFPS",Re,this),r(this,"SandBoxLevel",Ee,this),r(this,"SquareTipMode",Fe,this),r(this,"FullScreen",Ne,this),r(this,"AnimationMaxFrameRate",Pe,this),r(this,"QuitGame",Ae,this),r(this,"Difficulty",Me,this),r(this,"EnterBilibili",Be,this),r(this,"Confirm",Ge,this),r(this,"WhiteListRequire",Ue,this),r(this,"AnimationMaxFrameRateSuggestion",ze,this),r(this,"LocalLevel",ke,this),r(this,"TileTurnip",De,this),r(this,"ClassicCardBG",xe,this),r(this,"PocketUI",Ie,this)}return e.prototype.setToolTip=function(){this.ClassicCardBG.string=x.getString(x.lyrics.SettingLyrics.ClassicCardBG,!1),this.TileTurnip.string=x.getString(x.lyrics.SettingLyrics.TileTurnip,!1),this.Difficulty.string=x.getString(x.lyrics.SettingLyrics.Difficulty,!1),this.Title.string=x.getString(x.lyrics.SettingLyrics.Title,!1),this.Music.string=x.getString(x.lyrics.SettingLyrics.Music,!1),this.SoundFX.string=x.getString(x.lyrics.SettingLyrics.SoundFX,!1),this.Language.string=x.getString(x.lyrics.SettingLyrics.Language,!1),this.CursorStyle.string=x.getString(x.lyrics.SettingLyrics.CursorStyle,!1),this.UpperCardLayer.string=x.getString(x.lyrics.SettingLyrics.UpperCardLayer,!1),this.AllowCheat.string=x.getString(x.lyrics.SettingLyrics.AllowCheat,!1),this.ShowKeyboardTip.string=x.getString(x.lyrics.SettingLyrics.ShowKeyboardTip,!1),this.ShowFPS.string=x.getString(x.lyrics.SettingLyrics.ShowFPS,!1),this.SandBoxLevel.string=x.getString(x.lyrics.SettingLyrics.SandBoxLevel,!1),this.SquareTipMode.string=x.getString(x.lyrics.SettingLyrics.SquareTipMode,!1),this.FullScreen.string=x.getString(x.lyrics.SettingLyrics.FullScreen,!1),this.AnimationMaxFrameRate.string=x.getString(x.lyrics.SettingLyrics.AnimationMaxFrameRate,!1),this.QuitGame.string=x.getString(x.lyrics.SettingLyrics.QuitGame,!1),this.AnimationMaxFrameRateSuggestion.string=x.getString(x.lyrics.SettingLyrics.AnimationMaxFrameRateSuggestion,!1),this.LocalLevel.string=x.getString(x.lyrics.SettingLyrics.PlayLocalLevel,!1),this.EnterBilibili.string=x.getString(x.lyrics.SettingLyrics.Bilibili.EnterBilibili,!1),this.Confirm.string=x.getString(x.lyrics.SettingLyrics.Bilibili.Confirm,!1),this.WhiteListRequire.string=x.isWhiteList?"":x.getString(x.lyrics.SettingLyrics.Bilibili.WhiteListRequire,!1),this.PocketUI.string=x.getString(x.lyrics.SettingLyrics.PocketUI,!1)},e}()).prototype,"Title",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=i(me.prototype,"Music",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=i(me.prototype,"SoundFX",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=i(me.prototype,"Language",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=i(me.prototype,"CursorStyle",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=i(me.prototype,"UpperCardLayer",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=i(me.prototype,"AllowCheat",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=i(me.prototype,"ShowKeyboardTip",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=i(me.prototype,"ShowFPS",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=i(me.prototype,"SandBoxLevel",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=i(me.prototype,"SquareTipMode",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=i(me.prototype,"FullScreen",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=i(me.prototype,"AnimationMaxFrameRate",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=i(me.prototype,"QuitGame",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=i(me.prototype,"Difficulty",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=i(me.prototype,"EnterBilibili",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=i(me.prototype,"Confirm",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=i(me.prototype,"WhiteListRequire",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=i(me.prototype,"AnimationMaxFrameRateSuggestion",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=i(me.prototype,"LocalLevel",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=i(me.prototype,"TileTurnip",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=i(me.prototype,"ClassicCardBG",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=i(me.prototype,"PocketUI",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=me))||de);function Ii(e){var i=document.createElement("input");return i.type="file",i.accept=".json,.json5",i.id="fileInput",i.style.display="none",i.onchange=function(t){var r,n=null==t||null==(r=t.target)?void 0:r.files[0];if(n){var l=new FileReader;l.onload=function(i){var t,r=null==i||null==(t=i.target)?void 0:t.result;try{var n=W.parse(r);e(n)}catch(e){console.error("JSON",e)}},l.readAsText(n)}i.value=""},document.body.appendChild(i),i}var Ki=Ii((function(e){var i;G.levelData=e,G.thisLevelsID=[],G.nextLevelsID=[];var t=e.objects,r=G.getLevelDefinition(t).objdata.Modules,n=null==(i=G.getLevelModule(t,r).find((function(e){return"RhythmGameProperties"==e.objclass})))?void 0:i.objdata;if(n){var l=q[null==n?void 0:n.MusicName];if(isNaN(l))return Vi=t,void(null==qi||qi.click())}A(u.getScene().name),k.darken((function(){k.goToGame([t])}))})),Vi=[],qi=Oi((function(e){G.rhythmMusicClip=e,A(u.getScene().name),console.log(Vi),k.darken((function(){k.goToGame([Vi])}))}));function Oi(e){var i=document.createElement("input");return i.type="file",i.accept=".mp3",i.id="fileInput",i.style.display="none",i.onchange=function(t){var r,n=null==t||null==(r=t.target)?void 0:r.files[0];if(n){var l=new FileReader;l.onload=function(i){var t;null==i||null==(t=i.target)||t.result;try{var r=URL.createObjectURL(n);c.loadRemote(r,{audioLoadMode:g.AudioType.DOM_AUDIO,ext:".mp3"},(function(i,t){t?e(t):console.log(i)}))}catch(e){console.error("",e)}},l.readAsText(n)}i.value=""},document.body.appendChild(i),i}e("READ_FILE_TYPE",function(e){return e[e.DATA_URL=0]="DATA_URL",e[e.TEXT=1]="TEXT",e[e.BINARY=2]="BINARY",e[e.ARRAYBUFFER=3]="ARRAYBUFFER",e}({}));var Wi=e("Setting",function(){function e(){}return e.saveSettings=function(){var e={MusicVolume:N.MusicVolume,SFXVolume:P.SoundFXVolume,CardsAtUpper:M.cardsAtUpper,LnCSelectionMode:U.lncSelectionMode,AllowCheat:_i.allowCheat,ShowKeyTips:_i.showKeyTips,ShowFPS:_i.showFPS,cursor:_i.cursor,AnimationFrameRate:_i.animationFrameRate,Language:x.currentLanguage,bilibiliNumber:x.bilibiliNumber,TileTurnipType:V.TileTurnipType,ClassicCardBG:_i.classicCardBG,CamelPlayedTime:x.camelGamingTime,PocketUI:M.PocketUI,PlayerIndex:z.allPlayers.indexOf(z.currentPlayer)};y.localStorage.setItem(ki,JSON.stringify(e))},e.getSettings=function(){var e=y.localStorage.getItem(ki),i=JSON.parse(e);return i||new Di},e}()),_i=e("SettingWindow",(Ke=Ui("SettingWindow"),Ve=zi(xi),qe=zi(s),Oe=zi(p),We=zi(s),_e=zi(s),Xe=zi(s),je=zi(s),Ye=zi(h),Je=zi(g),Qe=zi(p),He=zi(p),Ze=zi(p),$e=zi(S),ei=zi(p),ii=zi(d),ti=zi(m),ri=zi(m),ni=zi(b),li=zi(b),ai=zi(s),oi=zi(m),si=zi(s),Ke(((Gi=function(e){function i(){for(var i,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return i=e.call.apply(e,[this].concat(l))||this,r(i,"tooltips",gi,n(i)),r(i,"animationFrameRateToolTip",pi,n(i)),r(i,"TurnipBG",hi,n(i)),r(i,"TurnipPattern",Si,n(i)),r(i,"cursorStyleName",di,n(i)),r(i,"languageName",mi,n(i)),r(i,"languageTipLabel",bi,n(i)),r(i,"audioSource",fi,n(i)),r(i,"failSound",yi,n(i)),r(i,"showFPSButton",wi,n(i)),r(i,"pocketUIButton",Ti,n(i)),r(i,"showKeyTipButton",Li,n(i)),r(i,"debugLevelJson",Ci,n(i)),r(i,"classicCardBGSprite",vi,n(i)),r(i,"bilibiliEnter",Ri,n(i)),r(i,"uiCardsAtUpperSprite",Ei,n(i)),r(i,"fullScreenSprite",Fi,n(i)),r(i,"musicSlider",Ni,n(i)),r(i,"sfxSlider",Pi,n(i)),r(i,"ssmodeToolTip",Ai,n(i)),r(i,"allowCheatSprite",Mi,n(i)),r(i,"difficultyLevel",Bi,n(i)),i}t(i,e),i.getDefaultResolution=function(){var e=B.getCurrentResolution();if(null!=e&&e.length){var i=e.indexOf(""),t=e.concat().slice(0,i),r=e.concat().slice(i+1,e.length),n=Number(t),l=Number(r);if(!isNaN(n)&&!isNaN(l))return new w(n,l)}return new w(1920,1200)};var a=i.prototype;return a.readAnimationFrameRate=function(){i.animationFrameRate?(this.animationFrameRateToolTip.string=i.frameRate.toString()+" FPS",T.frameRate=i.frameRate):(T.frameRate=1/0,this.animationFrameRateToolTip.string=x.getString(x.lyrics.SettingLyrics.AnimationMaxFrameRateUnlimited,!1))},a.switchAnimationFrameRate=function(){i.animationFrameRate=(i.animationFrameRate+1)%4,this.readAnimationFrameRate(),Wi.saveSettings()},a.setTileTurnip=function(){var e="A",i=new f(31,255,0,255);switch(V.TileTurnipType){case K.beta:e="B",i=new f(255,0,0,255);break;case K.delta:e="",i=new f(255,235,0,255);break;case K.gamma:e="",i=new f(0,245,255,255);break;case K.epsilon:e="E",i=new f(194,0,255,255)}this.TurnipBG.color=i,this.TurnipPattern.string=e},a.switchTileTurnip=function(){V.TileTurnipType++,V.TileTurnipType>=K.amount&&(V.TileTurnipType=0),this.setTileTurnip(),Wi.saveSettings()},a.readCursor=function(){switch(i.cursor){case D.default:this.cursorStyleName.string=x.getString(x.lyrics.SettingLyrics.CursorStyleOptions.Default,!1);break;case D.soft:this.cursorStyleName.string=x.getString(x.lyrics.SettingLyrics.CursorStyleOptions.Soft,!1);break;default:this.cursorStyleName.string=x.getString(x.lyrics.SettingLyrics.CursorStyleOptions.Unchanged,!1)}},a.switchCursor=function(){i.cursor=(i.cursor+1)%(D.unchanged+1),this.readCursor(),k.loadCursor(i.cursor),Wi.saveSettings()},a.readLanguage=function(){switch(x.currentLanguage){case I.EN:this.languageName.string="English";break;case I.ZH:this.languageName.string=""}},a.switchLanguage=function(){if(x.currentLanguage+1==I.ZH&&!x.isWhiteList){O.play(this.failSound,1,0,0);var e=Math.round(x.camelGamingTime/36)/100,i=new f(199,143,0,255);return this.tooltips.EnterBilibili.color=new f(255,0,0,255),L(this.tooltips.EnterBilibili).to(1,{color:i}).start(),this.languageTipLabel.node.active=!0,void(this.languageTipLabel.string=" 3  <TIME> ".replace("<TIME>",e.toString()))}x.currentLanguage=(x.currentLanguage+1)%I.amount,this.readLanguage(),k.restartScene(),Wi.saveSettings()},a.switchFPSShower=function(){i.showFPS=!i.showFPS,this.showFPSButton.color=i.showFPS?i.GREEN:i.RED,Wi.saveSettings()},a.switchPocketUI=function(){M.PocketUI=!M.PocketUI,this.readPocketUI(),Wi.saveSettings()},a.readPocketUI=function(){this.pocketUIButton.color=M.PocketUI?i.GREEN:i.RED},a.switchKeyTipShower=function(){i.showKeyTips=!i.showKeyTips,this.showKeyTipButton.color=i.showKeyTips?i.GREEN:i.RED,Wi.saveSettings()},a.goToDebugLevel=function(){k.goToLevel(["sandbox"])},a.readClassicCardBG=function(){this.classicCardBGSprite.color=i.classicCardBG?i.GREEN:i.RED},a.switchClassicCardBG=function(){i.classicCardBG=!i.classicCardBG,this.readClassicCardBG(),Wi.saveSettings()},a.blockMouse=function(){},a.onLoad=function(){var e=Wi.getSettings();x.bilibiliNumber=null==e?void 0:e.bilibiliNumber,x.camelGamingTime=isNaN(e.CamelPlayedTime)?0:e.CamelPlayedTime,x.isWhiteList&&(x.camelGamingTime=99999999999),x.currentLanguage=isNaN(e.Language)||!x.isWhiteList?0:e.Language,null==i.defaultResolution&&(i.defaultResolution=i.getDefaultResolution()),N.MusicVolume=isNaN(e.MusicVolume)?1:e.MusicVolume,P.SoundFXVolume=isNaN(e.SFXVolume)?1:e.SFXVolume,M.cardsAtUpper=e.CardsAtUpper,M.PocketUI=!!e.PocketUI,i.allowCheat=e.AllowCheat,i.classicCardBG=!!e.ClassicCardBG,i.showKeyTips=null==e.ShowKeyTips||e.ShowKeyTips,i.showFPS=null!=e.ShowFPS&&e.ShowFPS,i.animationFrameRate=isNaN(e.AnimationFrameRate)?0:e.AnimationFrameRate,i.cursor=isNaN(e.cursor)?D.default:e.cursor,U.lncSelectionMode=isNaN(e.LnCSelectionMode)?0:e.LnCSelectionMode,V.TileTurnipType=isNaN(e.TileTurnipType)?K.epsilon:e.TileTurnipType,Wi.saveSettings(),C.on(v.EventType.KEY_DOWN,(function(e){e.keyCode,R.NUM_0}),this)},a.enterBilibili=function(){var e;null!=(e=this.bilibiliEnter)&&null!=(e=e.string)&&e.length&&(x.bilibiliNumber=this.bilibiliEnter.string,Wi.saveSettings(),k.restartScene())},a.start=function(){var e=this;this.tooltips.setToolTip(),this.musicSlider.progress=N.MusicVolume,this.sfxSlider.progress=P.SoundFXVolume,this.uiCardsAtUpperSprite.color=M.cardsAtUpper?i.GREEN:i.RED,this.allowCheatSprite.color=i.allowCheat?i.GREEN:i.RED,this.showKeyTipButton.color=i.showKeyTips?i.GREEN:i.RED,this.showFPSButton.color=i.showFPS?i.GREEN:i.RED,this.fullScreenSprite.color=null!=B&&B.isFullScreen()?i.GREEN:i.RED,this.sfxSlider.handle.node.angle=360*-this.sfxSlider.progress,this.musicSlider.handle.node.angle=360*-this.musicSlider.progress,this.readClassicCardBG(),this.readPocketUI(),isNaN(z.currentPlayer.difficulty)&&(z.currentPlayer.difficulty=3);var t,r=z.currentPlayer.difficulty;(r<0&&(r=3),r>3&&(r=0),z.currentPlayer.difficulty=r,this.readDifficulty(r),this.readCursor(),this.readLanguage(),this.readAnimationFrameRate(),"3.1415926535897932384626"==x.bilibiliNumber)?(this.bilibiliEnter.node.active=this.tooltips.WhiteListRequire.node.active=!1,this.tooltips.Language.node.parent.active=!1,x.currentLanguage=I.EN):(this.bilibiliEnter.node.active=isNaN(null==(t=x.bilibiliNumber)?void 0:t.length),this.tooltips.WhiteListRequire.node.active=!this.bilibiliEnter.node.active);this.setTileTurnip(),C.on(v.EventType.KEY_DOWN,(function(i){e.node.active&&k.shiftDown&&k.altDown&&k.ctrlDown&&(i.keyCode==R.KEY_R&&k.numEnterDown?(x.bilibiliNumber=null,x.camelGamingTime=0,Wi.saveSettings(),k.restartScene()):i.keyCode==R.KEY_C?(x.bilibiliNumber="3.1415926535897932384626",x.currentLanguage=I.EN,Wi.saveSettings(),k.restartScene()):i.keyCode==R.KEY_P&&"3.1415926535897932384626"!=x.bilibiliNumber&&(x.bilibiliNumber="31415926535897932384626",Wi.saveSettings(),k.restartScene()))}),this)},a.onEnable=function(){this.languageTipLabel.string=""},a.uiCardsAtUpper=function(){M.cardsAtUpper=!M.cardsAtUpper,this.uiCardsAtUpperSprite.color=M.cardsAtUpper?i.GREEN:i.RED,Wi.saveSettings()},a.quit=function(){B.quit()},i.fullScreen=function(){B.isFullScreen()?B.window():B.fullScreen()},a.fullScreen=function(){i.fullScreen()},a.playLocalLevel=function(){null==Ki||Ki.click()},a.musicSlide=function(){N.setMusicVolume(this.musicSlider.progress),this.musicSlider.handle.node.angle=360*-this.musicSlider.progress,this.musicSlider.getComponent(E).progress=N.MusicVolume},a.sfxSlide=function(){P.setSoundFxVolume(this.sfxSlider.progress),this.sfxSlider.handle.node.angle=360*-this.sfxSlider.progress,this.sfxSlider.getComponent(E).progress=P.SoundFXVolume},a.ssmodeChange=function(){U.lncSelectionMode=(U.lncSelectionMode+1)%3,Wi.saveSettings()},a.setAllowCheat=function(){i.allowCheat=!i.allowCheat,this.allowCheatSprite.color=i.allowCheat?i.GREEN:i.RED,Wi.saveSettings()},a.readDifficulty=function(e){var i="A";switch(e){case 0:i="D";break;case 1:i="C";break;case 2:i="B";break;default:i="A"}this.difficultyLevel.string=i},a.setDifficulty=function(){var e=z.currentPlayer.difficulty-1;e<0&&(e=3),e>3&&(e=0),z.currentPlayer.difficulty=e,this.readDifficulty(e),z.savePP()},a.update=function(e){this.fullScreenSprite.color=B.isFullScreen()?i.GREEN:i.RED,this.musicSlider.getComponent(E).progress=N.MusicVolume,this.sfxSlider.getComponent(E).progress=P.SoundFXVolume;var t="Nothing";switch(U.lncSelectionMode){case 0:t=x.getString(x.lyrics.SettingLyrics.SquareTipModeOptions.EachSquare,!1);break;case 1:t=x.getString(x.lyrics.SettingLyrics.SquareTipModeOptions.Crossing,!1);break;default:t=x.getString(x.lyrics.SettingLyrics.SquareTipModeOptions.None,!1)}this.ssmodeToolTip.string=t},l(i,null,[{key:"frameRate",get:function(){switch(i.animationFrameRate){case 1:return 24;case 2:return 30;case 3:return 60}return 0}}]),i}(F)).showFPS=!1,Gi.defaultResolution=null,Gi.animationFrameRate=0,Gi.cursor=D.default,Gi.showKeyTips=!0,Gi.allowCheat=!0,Gi.classicCardBG=!1,Gi.GREEN=new f(20,255,0,255),Gi.RED=new f(255,0,0,255),gi=i((ci=Gi).prototype,"tooltips",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new xi}}),pi=i(ci.prototype,"animationFrameRateToolTip",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hi=i(ci.prototype,"TurnipBG",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Si=i(ci.prototype,"TurnipPattern",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),di=i(ci.prototype,"cursorStyleName",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mi=i(ci.prototype,"languageName",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bi=i(ci.prototype,"languageTipLabel",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fi=i(ci.prototype,"audioSource",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yi=i(ci.prototype,"failSound",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wi=i(ci.prototype,"showFPSButton",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ti=i(ci.prototype,"pocketUIButton",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Li=i(ci.prototype,"showKeyTipButton",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ci=i(ci.prototype,"debugLevelJson",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vi=i(ci.prototype,"classicCardBGSprite",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ri=i(ci.prototype,"bilibiliEnter",[ii],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ei=i(ci.prototype,"uiCardsAtUpperSprite",[ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fi=i(ci.prototype,"fullScreenSprite",[ri],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ni=i(ci.prototype,"musicSlider",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pi=i(ci.prototype,"sfxSlider",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ai=i(ci.prototype,"ssmodeToolTip",[ai],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mi=i(ci.prototype,"allowCheatSprite",[oi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bi=i(ci.prototype,"difficultyLevel",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ui=ci))||ui));a._RF.pop()}}}));

System.register("chunks:///_virtual/shadeFloor.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,n,r,i,a,s,l,c,h;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.Prefab,l=e.NodePool,c=e.instantiate,h=e.Component}],execute:function(){var u,p,d,f,v,y;i._RF.push({},"04a71WG3ztLwYYMDSzCOCjz","shadeFloor",void 0);var P=a.ccclass,g=a.property;e("shadeFloor",(u=P("shadeFloor"),p=g(s),u(((y=function(e){function o(){for(var o,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return o=e.call.apply(e,[this].concat(i))||this,n(o,"shade",v,r(o)),o.shadePool=new l,o}t(o,e);var i=o.prototype;return i.giveShade=function(){return this.shadePool.size()?this.shadePool.get():c(this.shade)},i.putShade=function(e){this.shadePool.put(e)},i.onLoad=function(){o.component=this},o}(h)).component=void 0,v=o((f=y).prototype,"shade",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/ShadowShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Zombie.ts","./CharacterManager.ts","./NodePools.ts","./SoundRescourses.ts"],(function(o){var n,t,i,e,a,r,s,l,u,d,p,c,h,f,P,y;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,i=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){a=o.cclegacy,r=o._decorator,s=o.AudioClip,l=o.Prefab},function(o){u=o.Plant,d=o.PlantProps},function(o){p=o.ZombieDamageDetails,c=o.zombieDamageType,h=o.zombiePoison},function(o){f=o.ZombiePool},function(o){P=o.instantiatePooly},function(o){y=o.sounds}],execute:function(){var m,S,b,w,g,D,v,x,E,_,z,O,R,j;a._RF.push({},"8d400Hs9RdLfoEUYaSQ+giS","ShadowShroom",void 0);var A=r.ccclass,F=r.property,L=(m=A("shadowshroomSound"),S=F([s]),b=F([s]),m((D=n((g=function(){function o(){i(this,"deathExplodeSounds",D,this),i(this,"foodExplodeSounds",v,this)}var n=o.prototype;return n.playExplode=function(){y.playArray(this.deathExplodeSounds,1,.1)},n.playFood=function(){y.playArray(this.foodExplodeSounds,1,.1)},o}()).prototype,"deathExplodeSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(g.prototype,"foodExplodeSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=g))||w),C=function(o){function n(){for(var n,t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return(n=o.call.apply(o,[this].concat(i))||this).PoisonDuration=30,n.PoisonDPS=30,n}return t(n,o),n}(d);o("ShadowShroomPlant",(x=A("ShadowShroomPlant"),E=F(L),_=F(l),x((R=n((O=function(o){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=o.call.apply(o,[this].concat(a))||this,i(n,"soundRes",R,e(n)),n._objdataOwn=new C,i(n,"explPar",j,e(n)),n}t(n,o);var a=n.prototype;return a.specialPlantOnEaten=function(o,n,t,i){i<=0&&(n.setPoison(this._objdataOwn.PoisonDPS*this._dmgScale,this._objdataOwn.PoisonDuration,this.darkModeOn),this.playParticle(),this.soundRes.playExplode(),this.die(!1,!0,!1),this.node.destroy())},a.playParticle=function(){var o,n=P(this.explPar);n.parent=null==(o=this.inLane)?void 0:o.prjLayer,n.worldPosition=this.node.worldPosition},a.specialPlantFood=function(o){this.anmControl.playAnimation("Food",1)},a.animationOnComplete=function(){this.fooding&&this.foodEnd()},a.animationListener=function(o){var n=this;"foodExplode"==o.name?f.pool().concat().forEach((function(o){var t=o.poison.isValid();o.setPoison(n._objdataOwn.PoisonDPS,n._objdataOwn.PoisonDuration),t&&(o.dealDamage(new p(o.poison.DPS*o.poison.duration,!1,!1,!1,null,c.physicle,!0,!0)),o.poison=new h(0,0))})):"foodSound"==o.name?this.soundRes.playFood():"playPar"==o.name&&this.playParticle()},n}(u)).prototype,"soundRes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new L}}),j=n(O.prototype,"explPar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=O))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShootingStarfruit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Square.ts","./CharacterManager.ts","./StarFruit.ts","./Lane.ts"],(function(o){var t,n,i,s,a,e,r,h,d;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,i=o._decorator,s=o.Vec2},function(o){a=o.Square},function(o){e=o.ZombiePool,r=o.TombPool},function(o){h=o.StarFruitPlant},function(o){d=o.Lane}],execute:function(){var l;n._RF.push({},"37416Pe9UdD54fshPVpOQxg","ShootingStarfruit",void 0);var u=i.ccclass;i.property,o("ShootingStarfruitPlant",u("ShootingStarfruit")(l=function(o){function n(){return o.apply(this,arguments)||this}t(n,o);var i=n.prototype;return i.specialPlantFood=function(){this.anmControl.playAnimation("Food",1),this.busy=1/0},i.specialPlantFoodEnd=function(){this.busy=0},i.animationListener=function(o){var t=this;if("Shoot"==o.name&&(this._shootStars(),this.fooding||this.soundResStar.playShootSound()),"foodEnd"==o.name&&this.foodEnd(),"foodStart"==o.name){this.soundResStar.playFoodSound(),this.anmControl.playAnimation("Fooding",1/0);var n=this._objdataOwn.PlantfoodPeaCount;this.anmControl.playAnimation("Fooding",1/0);var i=0;this.schedule((function(){t._shootStars(!0,!0,t.peaFood,20),++i>=n&&t.foodEnd()}),1/n,n,.01)}if("do"==o.name){this._shootStars(),this.soundResStar.playPiano(1);var e=this._shoot(!1,!1,this.peaFood,15,new s(1,0));e.worldPosition=new s(e._worldPositionX,a.getLane(4).getComponent(d).floorY)}if("re"==o.name){this._shootStars(),this.soundResStar.playPiano(2);var r=this._shoot(!1,!1,this.peaFood,15,new s(1,0));r.worldPosition=new s(r._worldPositionX,a.getLane(3).getComponent(d).floorY)}if("mi"==o.name){this._shootStars(),this.soundResStar.playPiano(3);var h=this._shoot(!1,!1,this.peaFood,15,new s(1,0));h.worldPosition=new s(h._worldPositionX,a.getLane(2).getComponent(d).floorY)}if("fa"==o.name){this._shootStars(),this.soundResStar.playPiano(4);var l=this._shoot(!1,!1,this.peaFood,15,new s(1,0));l.worldPosition=new s(l._worldPositionX,a.getLane(1).getComponent(d).floorY)}if("so"==o.name){this._shootStars(),this.soundResStar.playPiano(5);var u=this._shoot(!1,!1,this.peaFood,15,new s(1,0));u.worldPosition=new s(u._worldPositionX,a.getLane(0).getComponent(d).floorY)}if("la"==o.name){this._shootStars(),this.soundResStar.playPiano(6);var f=this._shoot(!1,!1,this.peaFood,15,new s(1,0));f.worldPosition=new s(f._worldPositionX,a.getLane(0).getComponent(d).floorY+a.SquareDisH)}},i.detectEnemy=function(){var o=this,t=!1;return e.pool().forEach((function(n){if(!t){var i=n.bodyRecForShooter.prjX();i.y>o.worldPositionX&&i.x<a.lawnRec.prjX().y+a.SquareDisW/2&&(t=!0)}})),!!t||(r.pool().forEach((function(n){t||n.inLnC.cIndex>o.inLnC.cIndex&&(t=!0)})),t)},i._shootStars=function(o,t,n,i){void 0===o&&(o=!1),void 0===t&&(t=!1),void 0===n&&(n=this.pea),void 0===i&&(i=20);for(var e=0;e<=4;e++){var r=this._shoot(o,t,n,i,new s(1,0));r.worldPosition=new s(r._worldPositionX,a.getLane(e).getComponent(d).floorY)}},n}(h))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/Shovel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i,s,o,r,a,l,c;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node,l=t.dragonBones,c=t.Component}],execute:function(){var h,u,d,p,b,f,y;o._RF.push({},"9ac6bbxNX5PRbmn33VVbBXO","Shovel",void 0);var v=r.ccclass,x=r.property;t("Shovel",(h=v("Shovel"),u=x(a),d=x(l.ArmatureDisplay),h((f=n((b=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).index=0,n.indexPoint=0,i(n,"listener",f,s(n)),n.sunback=!1,i(n,"db",y,s(n)),n}e(n,t);var o=n.prototype;return o.select=function(){0==this.index?1==this.indexPoint?this.db.playAnimation("Pointed"+(this.sunback?"Sunback":""),-1):this.db.playAnimation("Idle"+(this.sunback?"Sunback":""),-1):1==this.index&&this.db.playAnimation("Chosen"+(this.sunback?"Sunback":""),-1)},o.choose=function(){this.index=1,this.select()},o.unchoose=function(){this.index=0,this.select()},o.switchMode=function(t){},o.onBtnEnter=function(){this.indexPoint=1,this.select()},o.onBtnLeave=function(){this.indexPoint=0,this.select()},o.onEnable=function(){this.index=0,this.select()},o.onLoad=function(){this.listener||(this.listener=this.node),this.db||(this.db=this.getComponent(l.ArmatureDisplay)),this.listener.on(a.EventType.MOUSE_ENTER,this.onBtnEnter,this),this.listener.on(a.EventType.MOUSE_LEAVE,this.onBtnLeave,this),this.index=0,this.indexPoint=0},n}(c)).prototype,"listener",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=n(b.prototype,"db",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShovelUIController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Shovel.ts","./UI.ts","./NodePools.ts","./SettingWindow.ts"],(function(e){var t,o,n,i,s,l,r,a,h,c,d,u,p,v,f,y,I,g,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,l=e._decorator,r=e.Prefab,a=e.Label,h=e.Vec3,c=e.Color,d=e.math,u=e.UITransform,p=e.instantiate,v=e.Widget,f=e.Component},function(e){y=e.Shovel},function(e){I=e.UIInGame},function(e){g=e.NodePools},function(e){S=e.SettingWindow}],execute:function(){var m,w,C,U,b,P,k,T,x,K;s._RF.push({},"229dc/E+75CkLChHl2JtR8h","ShovelUIController",void 0);var H=l.ccclass,L=l.property;e("ShovelUIController",(m=H("ShovelUIController"),w=L(r),C=L(r),U=L(a),m(((K=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return(t=e.call.apply(e,[this].concat(s))||this).index=0,t.UIParent=null,n(t,"Shovel",k,i(t)),n(t,"shovelInHand",T,i(t)),n(t,"KeyTip",x,i(t)),t.keyOffset=new h(30,-20,0),t.shovelIcon=null,t.shovelReady=null,t.uiTransform=void 0,t.gameStarted=!1,t.oldpos=new h(0,0,0),t}o(t,e),t.gameStart=function(e){void 0===e&&(e=!1),this.shovelUI._gameStart(e)};var s=t.prototype;return s._gameStart=function(e){void 0===e&&(e=!1),this.shovelIcon.sunback=e,this.shovelIcon.select(),this.gameStarted||(this.gameStarted=!0,this.node.position=this.oldpos,this.KeyTip.node.worldPosition=this.node.worldPosition.clone().add(this.keyOffset))},s.keyScale=function(){return this.index?new h(.9,.9):new h(.7,.7)},s.keyColor=function(){return S.showKeyTips?this.index?new d.Color(100,255,100,255):new d.Color(245,255,0,255):new c(0,0,0,0)},s.shovelSelect=function(){this.index=-2==this.UIParent.index?1:0,this.shovelIcon.index=this.index,this.shovelIcon.select(),this.index&&(this.shovelReady=g.instantiatePooly(this.shovelInHand),this.shovelReady.parent=I.uiingame.plantInHandLayer),this.KeyTip.color=this.keyColor(),this.KeyTip.node.scale=this.keyScale()},s.start=function(){this.KeyTip.color=this.keyColor()},s.onLoad=function(){this.uiTransform=this.getComponent(u),this.gameStarted=!1,t.shovelUI=this;var e=p(this.Shovel);e.setPosition(0,0),e.parent=this.node,this.shovelIcon=e.getComponent(y),this.node.position=I.PocketUI?new h(460,-270,0):new h(290,245,0);var o=this.getComponent(v);o&&(o.right=I.PocketUI?10:180),this.oldpos=this.node.position.clone(),this.node.position=new h(5e3,5e3,5e3),this.KeyTip.node.position=new h(5e3,5e3,5e3)},t}(f)).shovelUI=void 0,k=t((P=K).prototype,"Shovel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(P.prototype,"shovelInHand",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(P.prototype,"KeyTip",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=P))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/SkyBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts"],(function(n){var t,i,e,o;return{setters:[function(n){t=n.inheritsLoose},function(n){i=n.cclegacy,e=n._decorator},function(n){o=n.Zombie}],execute:function(){var r;i._RF.push({},"06d1cZqR9RGLpQvyXYqe4VX","SkyBasicZombie",void 0);var a=e.ccclass;e.property,n("SkyBasicZombie",a("SkyBasicZombie")(r=function(n){function i(){for(var t,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(t=n.call.apply(n,[this].concat(e))||this).fallInSkyRotateEasing="quadOut",t}t(i,n);var e=i.prototype;return e.playDirtSpawn=function(n){this.walking=!1,this.switching=!0,this.body.playAnimation("Summon",1)},e.fallInSkyTargetAngle=function(n){return 130*(this.reversed?-1:1)},e.walkTimeScale=function(n,t,i){return 1},e.lockedTimeScale=function(){return this.fallingInSky?.001:NaN},i}(o))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/Skyshooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./LnC.ts"],(function(t){var n,o,i,e,s,a;return{setters:[function(t){n=t.inheritsLoose,o=t.createClass},function(t){i=t.cclegacy,e=t._decorator},function(t){s=t.PeashooterPlant},function(t){a=t.TileType}],execute:function(){var r;i._RF.push({},"254deDOuS9NNLGb4CSIn6ID","Skyshooter",void 0);var l=e.ccclass;e.property,t("SkyshooterPlant",l("SkyshooterPlant")(r=function(t){function i(){for(var n,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(n=t.call.apply(t,[this].concat(i))||this)._isFloating=!1,n.minShootInterval=.67,n}n(i,t);var e=i.prototype;return e.specialOnTileTypeChange=function(t,n){var o=n==a.floor||n==a.deck;this.isFloating=!o},e.waterable=function(){return!this.shooting&&!this.isFloating},e.specialPeashooterOnEnable=function(){this.anmControl.IdleAnim="Idle",this.isFloating=!1},o(i,[{key:"isFloating",get:function(){return this._isFloating},set:function(t){this._isFloating!=t&&(this.anmControl.IdleAnim="Idle"+(t?"_Sky":""),this.anmControl.RandomAnim=["Random"+(t?"_Sky":"")],this.shootAnimationName="Shoot"+(t?"_Sky":""),this.foodAnimationName="Food"+(t?"_Sky":""),this.deathAnm="Death"+(t?"_Sky":""),this.fooding||this.anmControl.playAnimation(t?"Fly":"Land",1,.1)),this._isFloating=t}}]),i}(s))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/SleighCartZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./LnC.ts","./Icetile.ts","./Square.ts","./MechZombie.ts","./SoundRescourses.ts"],(function(e){var t,i,n,o,a,r,s,l,u,c,h,d,g,p,f,m,b,y,S,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,s=e._decorator,l=e.AudioClip,u=e.Prefab,c=e.Vec3,h=e.UITransform},function(e){d=e.ZombieDamageDetails,g=e.zombieDamageType},function(e){p=e.NodePools,f=e.ArrayGet},function(e){m=e.TileType},function(e){b=e.Icetile},function(e){y=e.Square},function(e){S=e.MechZombie},function(e){w=e.sounds}],execute:function(){var I,k,P,D,W,A,C,v,x,B,R,T,L,_,z,q,E,Z,M;r._RF.push({},"f2cc7F3BvtLhblv4mRSDEN5","SleighCartZombie",void 0);var j=s.ccclass,H=s.property;e("ModernSleighCartZombie",(I=j("ModernSleighCartZombie"),k=H([l]),P=H([l]),D=H([l]),W=H([l]),A=H([l]),C=H([l]),v=H(u),x=H(l),I((T=t((R=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"blopSound",T,o(t)),n(t,"initiateSound",L,o(t)),n(t,"explodeSound",_,o(t)),n(t,"rollingSound",z,o(t)),n(t,"smashSound",q,o(t)),n(t,"ironHitSound",E,o(t)),n(t,"ice",Z,o(t)),t._hurtStage=0,t.BP1Slots=[],t.BP2Slots=[],t.growingIce=null,t.potatoMineDisappear=!1,n(t,"eruptSound",M,o(t)),t}i(t,e);var r=t.prototype;return r.specialMechZombieOnLoad=function(){var e=this;this.BP1Slots=[],this.BP2Slots=[],this.db.armature().getSlots().forEach((function(t){t.name.includes("_BP1")?e.BP1Slots.push(t):t.name.includes("_BP2")&&e.BP2Slots.push(t)}))},r.dealHurrikale=function(e){},r.setPerfume=function(e){},r.setChiliStun=function(e){return!1},r.specialSoundEventListener=function(e){"blop"==e.name?w.playArray(this.blopSound,.5,.1):"explode"==e.name?w.playArray(this.explodeSound,2,.1):"roll"==e.name?w.playArray(this.rollingSound,1,.1):"smash"==e.name?w.playArray(this.smashSound,1,.1):"hit"==e.name&&w.playArray(this.ironHitSound,1,.1)},r.onWaveAdded=function(e){e.db.playAnimation("Idle_G")},r.playSpecialMechDie=function(e){this.judgeDeath(0),this.growingIce&&(this.growingIce.master=null),this.growingIce=null},r.breakArm=function(){},r.setChill=function(e){return!1},r.setButter=function(e){return!1},r.specialZombieOnSquareChange=function(e,t){var i=t.getTileType();(i==m.deck||i==m.floor&&!this.reversed)&&this.spawnIce(e,t)},r.judgeHitPoint=function(){var e=2;this.health>2*this.toughness/3?("Walk"!=this.body.WalkAnm&&(this.db.playAnimation("Walk"),this.body.WalkAnm="Walk"),e=0):this.health>this.toughness/3&&this.health<=2*this.toughness/3?("Walk_Broken1"!=this.body.WalkAnm&&(this.walking&&this.db.playAnimation("Break0_1"),this.body.WalkAnm="Walk_Broken1",this.playBreakSound()),e=1):this.health>0&&this.health<=this.toughness/3&&("Walk_Broken2"!=this.body.WalkAnm&&(this.walking&&this.db.playAnimation("Break1_2"),this.body.WalkAnm="Walk_Broken2",this.playBreakSound()),e=2),this.hurtStage!=e&&(this.hurtStage=e)},r.spawnIce=function(e,t){if(!(this.shouldSpeedScale()<=0)){this.growingIce&&(this.growingIce.master=null),this.growingIce=null;var i=t.getTileType();if(i!=m.sky&&i!=m.sea&&i!=m.water&&!(e.cIndex<=t.cIndex&&9!=t.cIndex)&&5!=t.lIndex&&-1!=t.lIndex&&-1!=t.cIndex)if(t.iceTile||9==t.cIndex){if(t.iceTile&&9!=t.cIndex)this.growingIce=t.iceTile;else if(9==t.cIndex){var n=this.inLane;n.meltCountdown=80;var o=null;if(n.iceTile)o=n.iceTile.node;else{(o=p.instantiatePooly(this.ice)).parent=this.inLane.Lower,o.scale=new c(-y.SquareDisW/164.5,y.SquareDisW/164.5,y.SquareDisW/164.5);var a=y.getSquareWorldPosition(n.LaneIndex,8,1,.5);o.setWorldPosition(a.x+2*y.SquareDisW,a.y,0),o.getComponent(h).width=0,o.getComponent(b).length=0,n.iceTile=o.getComponent(b),o.getComponent(b).lane=n,n.addIceTile(o.getComponent(b))}this.growingIce=o.getComponent(b)}}else{var r,s=p.instantiatePooly(this.ice);s.parent=this.inLane.Lower,s.scale=new c(-y.SquareDisW/164.5,y.SquareDisW/164.5,y.SquareDisW/164.5);var l=y.getSquareWorldPosition(t.lIndex,t.cIndex,1,.5);s.setWorldPosition(l.x,l.y,0),this.growingIce=s.getComponent(b),this.growingIce.length=0,this.growingIce.getComponent(h).width=0,t.iceTile=this.growingIce,null==t||null==(r=t.getAllPlants())||r.forEach((function(e){null==e||e.kill()})),this.growingIce.lnc=t,this.inLane.addIceTile(s.getComponent(b)),t.readIndex()}}},r.setFreeze=function(e){return!1},r.detectPlant=function(e){var t=this;if(this.detectPlantOn())if(this.inLane){if(!(e<=0)){this.walking||this.playWalk();var i=new d(this.dps*e,!0,!1,!1,null);this.hypno?(this.inLane.zombiePool().forEach((function(e){t.bodyRec.judgeCrossRec(e.bodyRec)&&e.dealDamage(i)})),this.inLane.tombPool().forEach((function(i){t.bodyRec.judgeCrossRec(i.bodyRec)&&i.dealDamage(t.dps*e)}))):(this.inLane.plantPool().forEach((function(e){e.smasherDetectable&&t.bodyRec.judgeCrossRec(e.bodyRec)&&e.smash(t)})),this.inLane.hypnoZombiePool().forEach((function(e){t.bodyRec.judgeCrossRec(e.bodyRec)&&e.dealDamage(i)})))}}else this.playWalk()},r.specialMechUpdate=function(e){this.isAlive()&&this.walking&&(this.inLane.meltCountdown=80,this.growingIce&&(this.growingIce.master||(this.growingIce.master=this)))},r.specialMechOnEnable=function(){this.judgeHitPoint(),this.playOneShot(f.getRandom(this.initiateSound)),this.body.DeathAnm="Death",this.hurtStage=0,this.deathSound=[this.eruptSound]},r.onDamaged=function(e,t,i){t<=0?i.damage>=this.totalToughness()||i.damageType==g.fire?this.body.DeathAnm="Explode":(this.body.DeathAnm="Death",this.deathSound=[this.eruptSound]):this.judgeHitPoint()},a(t,[{key:"hurtStage",get:function(){return this._hurtStage},set:function(e){switch(e){case 1:case 2:break;default:e=0}this.BP2Slots.forEach((function(t){t._setDisplayIndex(e)})),this.BP1Slots.forEach((function(t){t._setDisplayIndex(e>=1?1:0)})),this._hurtStage=e}},{key:"plantDetectorRec",get:function(){return this.bodyRec},set:function(e){this._plantDetectorRec=e}}]),t}(S)).prototype,"blopSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(R.prototype,"initiateSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(R.prototype,"explodeSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(R.prototype,"rollingSound",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(R.prototype,"smashSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(R.prototype,"ironHitSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=t(R.prototype,"ice",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(R.prototype,"eruptSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=R))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/sliderTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./CharacterManager.ts","./Square.ts","./Tiles.ts","./GridItem.ts","./ParticleSelfdestroy.ts","./NodePools.ts","./FrontYard.ts"],(function(i){var e,t,n,o,s,r,l,a,c,d,h,u,p,f,P;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){s=i.cclegacy,r=i._decorator,l=i.Prefab},function(i){a=i.Tile},function(i){c=i.Rectangle},function(i){d=i.Square},function(i){h=i.TileEnum},function(i){u=i.GridItemEnum},function(i){p=i.ParticleSelfdestroy},function(i){f=i.instantiatePooly},function(i){P=i.FrontYard}],execute:function(){var w,L,S,g,y,m,v;s._RF.push({},"2eaf2NpCFxDw4YLW30aax6G","sliderTile",void 0);var D=r.ccclass,C=r.property;i("sliderTile",(w=D("sliderTile"),L=C(Boolean),S=C(l),w((m=e((y=function(i){function e(){for(var e,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=i.call.apply(i,[this].concat(s))||this,n(e,"isUp",m,o(e)),n(e,"BG",v,o(e)),e.BGPSD=void 0,e.sliderActived=!1,e.detector=new c,e.switching=!1,e}t(e,i);var s=e.prototype;return s.setTileParent=function(i){},s.specialTileOnLoad=function(){this.tileID=this.isUp?h.sliderUp:h.sliderDown},s.onLnCChange=function(i,e){var t;e&&(this.detector=c.createRectangleNodeCenter(e.node,.05*d.SquareDisW,d.SquareDisH)),null==(t=this.gridItemCP)||t.setGridItemType([u.powertile]),this.BGPSD&&(this.BGPSD.node.worldPosition=this.node.worldPosition,this.BGPSD.node.worldScale=this.node.worldScale)},s.tileOnEnable=function(){if(this.switching=!1,this.sliderActived=!1,this.IdleAnmList=["Idle"],!this.BGPSD){var i=f(this.BG);i.parent=P.sliderLayer,this.BGPSD=i.getComponent(p),i.worldPosition=this.node.worldPosition,i.worldScale=this.node.worldScale}},s.animationOnComplete=function(i){this.switching=!1},s.specialDie=function(){this.BGPSD&&(this.BGPSD.db.playAnimation("Die",1/0),this.BGPSD=null)},s.specialTileUpdate=function(i){var e,t=this;if(null!=(e=this.inLnC)&&e.inLane){if(this.dead)return;var n=!1;this.inLnC.inLane.zombiePool().concat(this.inLnC.inLane.hypnoZombiePool()).forEach((function(i){i.objdataOwn.CannotBePushedBySliders||i.flying||i.sandStormTween||i.changeLaneTween||!t.detector.judgeCrossRec(i.bodyRecReal)||(t.isUp&&t.inLnC.lIndex>0?(i.changeLaneTo(t.inLnC.lIndex-1,.75,"quadInOut"),n=!0):!t.isUp&&t.inLnC.lIndex<4&&(i.changeLaneTo(t.inLnC.lIndex+1,.75,"quadInOut"),n=!0))})),this.switching||(n&&!this.sliderActived?(this.db.playAnimation("ActiveStart",1),this.IdleAnmList=["ActiveLoop"],this.switching=!0,this.sliderActived=!0):!n&&this.sliderActived&&(this.db.playAnimation("ActiveEnd",1),this.IdleAnmList=["Idle"],this.sliderActived=!1))}},e}(a)).prototype,"isUp",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=e(y.prototype,"BG",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=y))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/SnapDragon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Square.ts","./CharacterManager.ts","./NodePools.ts","./SnapDragonFoodPar.ts","./Zombie.ts","./SoundRescourses.ts"],(function(n){var t,a,o,e,i,r,c,s,l,d,u,h,p,f,m,g,S,b;return{setters:[function(n){t=n.applyDecoratedDescriptor,a=n.inheritsLoose,o=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){i=n.cclegacy,r=n._decorator,c=n.AudioClip,s=n.Prefab,l=n.Vec3},function(n){d=n.PlantProps,u=n.Plant},function(n){h=n.Square},function(n){p=n.Rectangle},function(n){f=n.NodePools},function(n){m=n.SnapDragonFoodPar},function(n){g=n.zombieDamageType,S=n.ZombieDamageDetails},function(n){b=n.sounds}],execute:function(){var L,P,y,w,k,D,v,A,R,z,_,C,E,j,F,q,O,I;i._RF.push({},"453b1GI2oNCAZ6L07SmB6zz","SnapDragon",void 0);var H=r.ccclass,x=r.property,U=n("snapdragonSound",(L=H("snapdragonSound"),P=x(c),y=x([c]),w=x([c]),L((v=t((D=function(){function n(){o(this,"foodSound",v,this),o(this,"attackSound",A,this),o(this,"flapSound",R,this)}var t=n.prototype;return t.playFoodSound=function(){b.play(this.foodSound,1,.1)},t.playAttackSound=function(){b.playArray(this.attackSound,1,.2)},t.playFlapSound=function(){b.playArray(this.flapSound,1,.1)},n}()).prototype,"foodSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(D.prototype,"attackSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(D.prototype,"flapSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=D))||k)),Z=n("SnapDragonProps",function(n){function t(){for(var t,a=arguments.length,o=new Array(a),e=0;e<a;e++)o[e]=arguments[e];return(t=n.call.apply(n,[this].concat(o))||this).AttackInterval=1.85,t.AttackIntervalAdditional=.15,t.Damage=30,t.DamagePlantfood=1800,t}return a(t,n),t}(d));n("SnapDragonPlant",(z=H("SnapDragonPlant"),_=x(U),C=x(s),E=x(s),z((q=t((F=function(n){function t(){for(var t,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=n.call.apply(n,[this].concat(i))||this,o(t,"soundRes",q,e(t)),o(t,"attPar",O,e(t)),o(t,"foodPar",I,e(t)),t._objdataOwn=new Z,t.detector=void 0,t.attacking=!1,t.cd=0,t}a(t,n);var i=t.prototype;return i.attParScale=function(){return h.SquareDisH/350},i.foodParScale=function(){return 3*h.SquareDisH/440},i.specialPlantOnSquareChange=function(n,t){this.detector=p.createRectangleNodeSide(this.inLnC.node,2.5*h.SquareDisW,3*h.SquareDisH)},i.specialPlantOnEnable=function(){this.cd=0,this.attacking=!1},i.specialPlantFood=function(n){this.cd=0,this.attacking=!1,this.anmControl.playAnimation("Food",1)},i.waterable=function(){return!this.attacking},i.snapdragonAnimationListener=function(n){},i.foodAttack=function(){var n=f.instantiatePooly(this.foodPar);n.parent=this.inLane.LowerLane.prjLayer,n.worldPosition=this.inLnC.node.worldPosition.clone().add3f(2*h.SquareDisW,0,0);var t=this.anmControl.body.node.worldScale.x;n.worldScale=new l(t,t,t),this.soundRes.playFoodSound();var a=n.getComponent(m);a.inLane=this.inLane,a.damage=this._objdataOwn.DamagePlantfood,this._dmgScale&&(a.damage*=this._dmgScale)},i.animationListener=function(n){var t=this;"attackSound"==n.name?this.soundRes.playAttackSound():"flap"==n.name?this.soundRes.playFlapSound():"attackEnd"==n.name?this.attacking=!1:"foodEnd"==n.name?this.foodEnd():"foodAttack"==n.name?this.foodAttack():"attackPar"==n.name?[this.inLane.UpperLane,this.inLane,this.inLane.LowerLane].forEach((function(n,a){if(!(n.LaneIndex<0||n.LaneIndex>4)){var o=-(a-1)*h.SquareDisH,e=f.instantiatePooly(t.attPar);e.parent=n.prjLayer,e.worldPosition=t.inLnC.node.worldPosition.clone().add3f(2.5*h.SquareDisW,o,0);var i=t.attParScale();e.worldScale=new l(i,i,i)}})):"attack"==n.name?this.attackEnemies():"attackSound"==n.name?this.soundRes.playAttackSound():"flap"==n.name&&this.soundRes.playFlapSound(),this.snapdragonAnimationListener(n)},i.ZombieOnHit=function(n){},i.getDamageType=function(){return g.fire},i.attackEnemies=function(){var n=this,t=this._objdataOwn.Damage;this._dmgScale&&(t*=this._dmgScale);var a=new S(t/2,!0,!1,!1,null,this.getDamageType()),o=[];this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(t){t.bodyRecReal.judgeCrossRec(n.detector)&&-1==o.indexOf(t)&&(t.dealDamage(a),n.ZombieOnHit(t),o.push(t))})),this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(t){t.bodyRec.judgeCrossRec(n.detector)&&t.dealDamage(a.damage)}))},i.detectEnemy=function(){var n=this,t=!1;return this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(a){t||(t=a.bodyRecForShooter.judgeCrossRec(n.detector))})),t||this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(a){t||(t=a.bodyRec.judgeCrossRec(n.detector))})),t},i.specialPlantUpdate=function(n,t,a){if(!this.fooding&&(this.cd>0&&(this.cd-=n),this.cd<=0&&a>0&&this.detectEnemy())){this.attacking=!0,this.cd=this._objdataOwn.AttackInterval+this._objdataOwn.AttackIntervalAdditional*Math.random();var o=.1;this._cdScale&&(this.cd*=this._cdScale,o*=this._cdScale);var e=1.33/this.cd;this.anmControl.playAnimation("Attack",1,o,Math.max(e,1))}},t}(u)).prototype,"soundRes",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new U}}),O=t(F.prototype,"attPar",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(F.prototype,"foodPar",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=F))||j));i._RF.pop()}}}));

System.register("chunks:///_virtual/SnapDragonFoodPar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./NodePools.ts","./Square.ts","./CharacterManager.ts","./Zombie.ts"],(function(e){var a,n,i,o,t,r,s,l,c,d,u,f,p,b;return{setters:[function(e){a=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){t=e.cclegacy,r=e._decorator,s=e.Prefab,l=e.dragonBones},function(e){c=e.ParticleSelfdestroy},function(e){d=e.NodePools},function(e){u=e.Square},function(e){f=e.Rectangle},function(e){p=e.ZombieDamageDetails,b=e.zombieDamageType}],execute:function(){var m,h,g,L,v;t._RF.push({},"dc80fH7moFB7aL6Kk0BRt3H","SnapDragonFoodPar",void 0);var y=r.ccclass,D=r.property;e("SnapDragonFoodPar",(m=y("SnapDragonFoodPar"),h=D(s),m((v=a((L=function(e){function a(){for(var a,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return(a=e.call.apply(e,[this].concat(t))||this).inLane=void 0,i(a,"ballFire",v,o(a)),a.damage=1800,a.dealtZombies=[],a.dealtTombs=[],a.burning=!0,a}n(a,e);var t=a.prototype;return t.specialOnEnable=function(){this.dealtTombs=[],this.dealtZombies=[],this.burning=!1},t.animationListener=function(e){var a=this;"burn"==e.name&&(this.burning=!0,[-1,0,1].forEach((function(e){[-1,0,1].forEach((function(n){var i=a.inLane;if(-1==e?i=a.inLane.UpperLane:1==e&&(i=a.inLane.LowerLane),!(i.LaneIndex<0||i.LaneIndex>4)){var o=d.instantiatePooly(a.ballFire);o.parent=i.prjLayer,o.getComponent(l.ArmatureDisplay).playAnimation("Play"+(1+Math.round(Math.random())).toString()),o.worldPosition=a.node.worldPosition.clone().add3f(n*u.SquareDisW,-e*u.SquareDisH,0)}}))})))},t.update=function(e){var a=this;if(this.dealtZombies.concat().forEach((function(e){if(!e.isAlive()){var n=a.dealtZombies.indexOf(e);a.dealtZombies.splice(n,1)}})),this.dealtTombs.concat().forEach((function(e){if(null==e||!e.isAlive()){var n=a.dealtTombs.indexOf(e);a.dealtTombs.splice(n,1)}})),this.burning){var n=f.createRectangleNodeCenter(this.node,3*u.SquareDisW,3*u.SquareDisH);[this.inLane.UpperLane,this.inLane,this.inLane.LowerLane].forEach((function(e){e.zombiePool().forEach((function(e){-1==a.dealtZombies.indexOf(e)&&e.bodyRecReal.judgeCrossRec(n)&&(e.dealDamage(new p(a.damage,!1,!1,!1,null,b.fire)),e.isAlive()&&a.dealtZombies.push(e))})),e.tombPool().forEach((function(e){-1==a.dealtTombs.indexOf(e)&&e.bodyRec.judgeCrossRec(n)&&(e.dealDamage(a.damage),null!=e&&e.isAlive()&&a.dealtTombs.push(e))}))}))}},a}(c)).prototype,"ballFire",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=L))||g));t._RF.pop()}}}));

System.register("chunks:///_virtual/SniperPlant.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./UI.ts","./SoundRescourses.ts","./levelController.ts","./Square.ts"],(function(n){var t,e,a,i,o,l,r,c,s,u,p,h,d,P,S,f,g;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,a=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){o=n.cclegacy,l=n._decorator,r=n.Prefab,c=n.input,s=n.Input,u=n.game,p=n.director},function(n){h=n.Plant},function(n){d=n.NodePools},function(n){P=n.UIInGame},function(n){S=n.sounds},function(n){f=n.LevelPlay},function(n){g=n.Square}],execute:function(){var y,b,C,L,m;o._RF.push({},"60bc59fo5ZBs5/odIcq+Yex","SniperPlant",void 0);var v=l.ccclass,I=l.property;n("SniperPlant",(y=v("SniperPlant"),b=I(r),y((m=t((L=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return t=n.call.apply(n,[this].concat(o))||this,a(t,"locator",m,i(t)),t.locatorNode=null,t.playSoundWhenCancel=!0,t}e(t,n);var o=t.prototype;return o.baseLocatable=function(){return!(this.fooding||this.dead||this.sheepend||-1!=P.index||this.leapTween||this.locatorNode||P.uiingame.paused)},o.specialPlantOnSheepend=function(){P.uiingame.currentSniperPlant==this&&(P.uiingame.tryChangingIndex(-1),this.locateCancel())},o.specialPlantFood=function(n){P.uiingame.currentSniperPlant==this&&(P.uiingame.tryChangingIndex(-1),this.locateCancel()),this.specialSniperFood(n)},o.specialSniperFood=function(n){},o.LocateStartKeyCode=function(){return null},o.specialPlantOnLoad=function(){var n=this;c.on(s.EventType.KEY_DOWN,(function(t){t.keyCode!=n.LocateStartKeyCode()||!f.gameStarted||u.isPaused()||p.isPaused()||n.sniperPlantLocatable()&&n.baseLocatable()&&n.locateStart()}),this)},o.specialSniperPlantDie=function(n){},o.specialPlantDie=function(n){void 0===n&&(n=!1),P.uiingame.currentSniperPlant==this&&(P.uiingame.tryChangingIndex(-1),this.locateCancel()),this.specialSniperPlantDie(n)},o.teach=function(){this.sniperPlantLocatable()&&this.baseLocatable()?(this.addArrow(1/0),this.defaultTeach(1)):this.arrowCountdown=0},o.sniperPlantLocatable=function(){return!1},o.specialPlantOnMouseDown=function(){return!(!this.sniperPlantLocatable()||!this.baseLocatable())&&(this.locateStart(),this.arrowCountdown=0,!0)},o.locateCancel=function(){this.locatorNode=null,this.playSoundWhenCancel&&S.playSniperPlantCancelSound(),this.specialSniperPlantLocateCancel()},o.locateStart=function(){this.locatorNode=d.instantiatePooly(this.locator),this.locatorNode.parent=P.uiingame.plantInHandLayer,P.uiingame.tryChangingIndex(-4),P.uiingame.currentSniperPlant=this,S.playLocateSound(),1!=g.lncSelectionMode&&P.uiingame.squares.plantGhost(),this.specialSniperPlantLocateStart()},o.trigger=function(n){this.specialSniperPlantTrigger(n),P.uiingame.currentSniperPlant=null,this.locatorNode=null,P.uiingame.tryChangingIndex(-1)},o.specialPlantOnEnable=function(){this.locatorNode=null,this.specialSniperPlantOnEnable(),this.playSoundWhenCancel=!0},o.specialSniperPlantOnEnable=function(){},o.specialSniperPlantLocateStart=function(){},o.specialSniperPlantLocateCancel=function(){},o.specialSniperPlantTrigger=function(n){},t}(h)).prototype,"locator",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=L))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/SnowPea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./NodePools.ts"],(function(o){var e,t,n,a,i,r,s,l,c,d,h,u,p,P,f;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,n=o.initializerDefineProperty,a=o.assertThisInitialized,i=o.createClass},function(o){r=o.cclegacy,s=o._decorator,l=o.Prefab,c=o.Sprite,d=o.tween,h=o.Vec3,u=o.AnimationComponent},function(o){p=o.PeashooterPlant,P=o.PeashooterProps},function(o){f=o.NodePools}],execute:function(){var w,y,F,m,b,g,C;r._RF.push({},"827e88tbrhBe4CasTGWMNaj","SnowPea",void 0);var v=s.ccclass,z=s.property,I=function(o){function e(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=o.call.apply(o,[this].concat(n))||this).ChanceToFreeze=.2,e}return t(e,o),e}(P);o("SnowPeaPlant",(w=v("SnowPeaPlant"),y=z(l),F=z(l),w((g=e((b=function(o){function e(){for(var e,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e=o.call.apply(o,[this].concat(i))||this,n(e,"snowPeaFoodPar",g,a(e)),e.snowPeaFoodIce=null,n(e,"peaFreezy",C,a(e)),e._objdataOwn=new I,e}t(e,o);var r=e.prototype;return r.specialPlantFoodEnd=function(){if(this.anmControl.playAnimation("Water",1),this.busy=0,this.soundRes.playFoodEnd(),this.snowPeaFoodIce){var o=this.snowPeaFoodIce,e=o.getChildByName("bg"),t=o.getChildByName("face").getComponent(c);d(t.color).to(1,{a:0}).start(),d(e).to(1,{position:new h(3e3)}).call((function(){e.position=new h,f.destroyPooly(o)})).start()}this.snowPeaFoodIce=null},r.specialPeashooterUpdate=function(o){var e=this;this.inLane&&this.fooding&&this.inLane.zombiePool().forEach((function(o){o.node.worldPosition.x>e.node.worldPosition.x&&o.setChill(5)}))},r.specialPlantFood=function(){this.anmControl.playAnimation("FoodStart",2,0,1.2),this.soundRes.playFood(),this.snowPeaFoodPar&&(this.snowPeaFoodIce=f.instantiatePooly(this.snowPeaFoodPar),this.snowPeaFoodIce.parent=this.inLane.Lower,this.snowPeaFoodIce.worldPosition=this.inLnC.node.worldPosition,this.snowPeaFoodIce.getComponent(u).play()),this.busy=1/0},r.animationListenerAdd=function(o){"foodStart"==o.name&&(this.anmControl.playAnimation("Food",1/0),this.foodShooting())},i(e,[{key:"defaultPea",get:function(){return Math.random()<this._objdataOwn.ChanceToFreeze?this.peaFreezy:this.pea}}]),e}(p)).prototype,"snowPeaFoodPar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(b.prototype,"peaFreezy",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/SolarTomato.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./CharacterManager.ts","./Square.ts","./Sunflower.ts","./SoundRescourses.ts","./NodePools.ts"],(function(e){var n,t,a,o,r,i,l,u,s,c,p,d,h,f,S,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,l=e.Prefab,u=e.AudioClip,s=e.Vec3},function(e){c=e.CherryBombPlant,p=e.CherryBombProps},function(e){d=e.Rectangle},function(e){h=e.Square},function(e){f=e.sunflower},function(e){S=e.sounds},function(e){b=e.instantiatePooly}],execute:function(){var y,P,m,w,g,L,v,C,D,k,x;r._RF.push({},"f9d91TaBxdCSLkIe7EdpG5d","SolarTomato",void 0);var R=i.ccclass,_=i.property,j=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))||this).StunDuration=8,n.SunValuePerZombie=50,n}return t(n,e),n}(p);e("SolarTomatoPlant",(y=R("SolarTomatoPlant"),P=_(l),m=_(u),w=_(u),g=_(u),y((C=n((v=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(n=e.call.apply(e,[this].concat(r))||this)._objdataOwn=new j,a(n,"splatPar",C,o(n)),a(n,"attackPreSound",D,o(n)),a(n,"attackSound",k,o(n)),a(n,"explodeSound",x,o(n)),n}t(n,e);var r=n.prototype;return r.specialCherryBombOnEnable=function(){this.shadeAlphaScale=1},r.explode=function(){var e=this,n=d.createRectangleNodeCenter(this.inLnC.node,3*h.SquareDisW,3*h.SquareDisH);[this.inLane,this.inLane.UpperLane,this.inLane.LowerLane].forEach((function(t){var a;[-1,0,1].forEach((function(n){var a=b(e.splatPar);a.parent=t.prjLayer,a.worldPosition=new s(e.worldPositionX+n*h.SquareDisW,t.floorY,10)})),null==(a=t.zombiePool())||a.forEach((function(t){n.judgeCrossRec(t.bodyRecReal)&&(t.stun(e._objdataOwn.StunDuration),t.setSunBeanParticleCD(e._objdataOwn.StunDuration),f.produceSun(e._objdataOwn.SunValuePerZombie,t.worldPosition,0,!0))}))}))},r.animationListener=function(e){"explode"==e.name?(this.explode(),this.deathAnm="Death",this.die(!0,!0,!1),this.shadeAlphaScale=0,S.play(this.explodeSound,1,.2)):"charge"==e.name?S.play(this.attackPreSound,1,.2):"shout"==e.name&&S.play(this.attackSound,1,.2)},n}(c)).prototype,"splatPar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=n(v.prototype,"attackPreSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=n(v.prototype,"attackSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(v.prototype,"explodeSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=v))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./levelController.ts","./FrontYard.ts","./NodePools.ts"],(function(t){var _,a,e,i,o,S,r,s,g,n,P,u,L,h,c,d,l,y;return{setters:[function(t){_=t.applyDecoratedDescriptor,a=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass},function(t){S=t.cclegacy,r=t._decorator,s=t.Enum,g=t.JsonAsset,n=t.resources,P=t.assetManager,u=t.AudioClip,L=t.AudioSource,h=t.Component},function(t){c=t.MusicController},function(t){d=t.LevelPlay},function(t){l=t.FrontYard},function(t){y=t.ArrayGet}],execute:function(){var M,C,B,E,v,p,m,k,I,D;S._RF.push({},"1d62fK5aZxCqp3U26v5DPCm","SoundManager",void 0);var f=r.ccclass,b=r.property,Y=t("Music",f("Music")(M=function(){this.name="",this.clip=null,this.path="",this.musicLength=10,this.type=[],this.world=""})||M),V=t("MusicGroup",(function(){this.musicStart=w.MusicAmount,this.musicLoop=w.MusicAmount})),Z=t("WorldMusic",function(t){return t.Modern="Modern",t.Egypt="Egypt",t.Pirate="Pirate",t.Cowboy="Cowboy",t.Future="Future",t.Dark="Dark",t.Beach="Beach",t.Ice="Iceage",t.Lostcity="Lostcity",t.Eighties="Eighties",t.Punk="Punk",t.Pop="Pop",t.Rap="Rap",t.Eightbit="Eightbit",t.Metal="Metal",t.Ballad="Ballad",t.Dino="Dino",t.Sky="Sky",t.Kongfu="Kongfu",t}({})),U=t("MusicSortEnum",function(t){return t[t.UltimateBattle=0]="UltimateBattle",t[t.Victory=1]="Victory",t[t.DemonstrateMinigame=2]="DemonstrateMinigame",t[t.Leave=3]="Leave",t[t.Lose=4]="Lose",t[t.ZombossIntro=5]="ZombossIntro",t[t.ZombossStage0=6]="ZombossStage0",t[t.ZombossStage1=7]="ZombossStage1",t[t.ZombossStage2_start=8]="ZombossStage2_start",t[t.ZombossStage2=9]="ZombossStage2",t[t.CYS_Start=10]="CYS_Start",t[t.CYS_LP=11]="CYS_LP",t[t.Stage1_Start=12]="Stage1_Start",t[t.Stage1_LP=13]="Stage1_LP",t[t.Stage2_Start=14]="Stage2_Start",t[t.Stage2_LP=15]="Stage2_LP",t[t.Stage3_Start=16]="Stage3_Start",t[t.Stage3_LP=17]="Stage3_LP",t[t.Stage4_Start=18]="Stage4_Start",t[t.Stage4_LP=19]="Stage4_LP",t}({})),w=t("musicType",function(t){return t[t.WorldMap=0]="WorldMap",t[t.UB_Egypt=1]="UB_Egypt",t[t.UB_Pirate=2]="UB_Pirate",t[t.UB_Cowboy=3]="UB_Cowboy",t[t.UB_Kongfu=4]="UB_Kongfu",t[t.UB_Future=5]="UB_Future",t[t.UB_Dark=6]="UB_Dark",t[t.UB_Beach=7]="UB_Beach",t[t.UB_Ice=8]="UB_Ice",t[t.UB_Lost=9]="UB_Lost",t[t.UB_Sky=10]="UB_Sky",t[t.UB_Dino=11]="UB_Dino",t[t.UB_Modern=12]="UB_Modern",t[t.UB_Punk=13]="UB_Punk",t[t.UB_Ballad=14]="UB_Ballad",t[t.UB_Pop=15]="UB_Pop",t[t.UB_Rap=16]="UB_Rap",t[t.UB_EightBit=17]="UB_EightBit",t[t.UB_Metal=18]="UB_Metal",t[t.MG_Egypt=19]="MG_Egypt",t[t.MG_Pirate=20]="MG_Pirate",t[t.MG_Cowboy=21]="MG_Cowboy",t[t.MG_Kongfu=22]="MG_Kongfu",t[t.MG_Future=23]="MG_Future",t[t.MG_Dark=24]="MG_Dark",t[t.MG_Beach=25]="MG_Beach",t[t.MG_Ice=26]="MG_Ice",t[t.MG_Lost=27]="MG_Lost",t[t.MG_Sky=28]="MG_Sky",t[t.MG_Dino=29]="MG_Dino",t[t.MG_Modern=30]="MG_Modern",t[t.MG_Punk=31]="MG_Punk",t[t.MG_Ballad=32]="MG_Ballad",t[t.MG_Pop=33]="MG_Pop",t[t.MG_Rap=34]="MG_Rap",t[t.MG_EightBit=35]="MG_EightBit",t[t.MG_Metal=36]="MG_Metal",t[t.UB_Victory=37]="UB_Victory",t[t.MG_Victory=38]="MG_Victory",t[t.Piano=39]="Piano",t[t.LEAVE_Egypt=40]="LEAVE_Egypt",t[t.LEAVE_Pirate=41]="LEAVE_Pirate",t[t.LEAVE_Cowboy=42]="LEAVE_Cowboy",t[t.LEAVE_Kongfu=43]="LEAVE_Kongfu",t[t.LEAVE_Future=44]="LEAVE_Future",t[t.LEAVE_Dark=45]="LEAVE_Dark",t[t.LEAVE_Beach=46]="LEAVE_Beach",t[t.LEAVE_Ice=47]="LEAVE_Ice",t[t.LEAVE_Lost=48]="LEAVE_Lost",t[t.LEAVE_Sky=49]="LEAVE_Sky",t[t.LEAVE_Eighties=50]="LEAVE_Eighties",t[t.LEAVE_Dino=51]="LEAVE_Dino",t[t.LEAVE_Modern=52]="LEAVE_Modern",t[t.LOSE_Egypt=53]="LOSE_Egypt",t[t.LOSE_Pirate=54]="LOSE_Pirate",t[t.LOSE_Cowboy=55]="LOSE_Cowboy",t[t.LOSE_Kongfu=56]="LOSE_Kongfu",t[t.LOSE_Future=57]="LOSE_Future",t[t.LOSE_Dark=58]="LOSE_Dark",t[t.LOSE_Beach=59]="LOSE_Beach",t[t.LOSE_Ice=60]="LOSE_Ice",t[t.LOSE_Lost=61]="LOSE_Lost",t[t.LOSE_Sky=62]="LOSE_Sky",t[t.LOSE_Eighties=63]="LOSE_Eighties",t[t.LOSE_Dino=64]="LOSE_Dino",t[t.LOSE_Modern=65]="LOSE_Modern",t[t.ZBI_Egypt=66]="ZBI_Egypt",t[t.ZBI_Pirate=67]="ZBI_Pirate",t[t.ZBI_Cowboy=68]="ZBI_Cowboy",t[t.ZBI_Future=69]="ZBI_Future",t[t.ZBI_Dark=70]="ZBI_Dark",t[t.ZBI_Beach=71]="ZBI_Beach",t[t.ZBI_Ice=72]="ZBI_Ice",t[t.ZBI_Lost=73]="ZBI_Lost",t[t.ZBI_Sky=74]="ZBI_Sky",t[t.ZBI_Eighties=75]="ZBI_Eighties",t[t.ZBI_Dino=76]="ZBI_Dino",t[t.ZBI_Modern=77]="ZBI_Modern",t[t.ZB_Stage0=78]="ZB_Stage0",t[t.ZB_Stage0_Lostcity=79]="ZB_Stage0_Lostcity",t[t.ZB_Stage1=80]="ZB_Stage1",t[t.ZB_Stage2_Start=81]="ZB_Stage2_Start",t[t.ZB_Stage2=82]="ZB_Stage2",t[t.ZB_Victory=83]="ZB_Victory",t[t.CYS_Start_Egypt=84]="CYS_Start_Egypt",t[t.CYS_Start_Pirate=85]="CYS_Start_Pirate",t[t.CYS_Start_Cowboy=86]="CYS_Start_Cowboy",t[t.CYS_Start_Kongfu=87]="CYS_Start_Kongfu",t[t.CYS_Start_Future=88]="CYS_Start_Future",t[t.CYS_Start_Dark=89]="CYS_Start_Dark",t[t.CYS_Start_Beach=90]="CYS_Start_Beach",t[t.CYS_Start_Ice=91]="CYS_Start_Ice",t[t.CYS_Start_Lost=92]="CYS_Start_Lost",t[t.CYS_Start_Sky=93]="CYS_Start_Sky",t[t.CYS_Start_Eighties=94]="CYS_Start_Eighties",t[t.CYS_Start_Dino=95]="CYS_Start_Dino",t[t.CYS_Start_Modern=96]="CYS_Start_Modern",t[t.CYS_LP_Egypt=97]="CYS_LP_Egypt",t[t.CYS_LP_Pirate=98]="CYS_LP_Pirate",t[t.CYS_LP_Cowboy=99]="CYS_LP_Cowboy",t[t.CYS_LP_Kongfu=100]="CYS_LP_Kongfu",t[t.CYS_LP_Future=101]="CYS_LP_Future",t[t.CYS_LP_Dark=102]="CYS_LP_Dark",t[t.CYS_LP_Beach=103]="CYS_LP_Beach",t[t.CYS_LP_Ice=104]="CYS_LP_Ice",t[t.CYS_LP_Lost=105]="CYS_LP_Lost",t[t.CYS_LP_Sky=106]="CYS_LP_Sky",t[t.CYS_LP_Eighties=107]="CYS_LP_Eighties",t[t.CYS_LP_Dino=108]="CYS_LP_Dino",t[t.CYS_LP_Modern=109]="CYS_LP_Modern",t[t.Stage1_Start_Egypt=110]="Stage1_Start_Egypt",t[t.Stage1_Start_Pirate=111]="Stage1_Start_Pirate",t[t.Stage1_Start_Cowboy=112]="Stage1_Start_Cowboy",t[t.Stage1_Start_Kongfu=113]="Stage1_Start_Kongfu",t[t.Stage1_Start_Future=114]="Stage1_Start_Future",t[t.Stage1_Start_Dark=115]="Stage1_Start_Dark",t[t.Stage1_Start_Beach=116]="Stage1_Start_Beach",t[t.Stage1_Start_Ice=117]="Stage1_Start_Ice",t[t.Stage1_Start_Lost=118]="Stage1_Start_Lost",t[t.Stage1_Start_Sky=119]="Stage1_Start_Sky",t[t.Stage1_Start_Eighties=120]="Stage1_Start_Eighties",t[t.Stage1_Start_Dino=121]="Stage1_Start_Dino",t[t.Stage1_Start_Modern=122]="Stage1_Start_Modern",t[t.Stage1_LP_Egypt=123]="Stage1_LP_Egypt",t[t.Stage1_LP_Pirate=124]="Stage1_LP_Pirate",t[t.Stage1_LP_Cowboy=125]="Stage1_LP_Cowboy",t[t.Stage1_LP_Kongfu=126]="Stage1_LP_Kongfu",t[t.Stage1_LP_Future=127]="Stage1_LP_Future",t[t.Stage1_LP_Dark=128]="Stage1_LP_Dark",t[t.Stage1_LP_Beach=129]="Stage1_LP_Beach",t[t.Stage1_LP_Ice=130]="Stage1_LP_Ice",t[t.Stage1_LP_Lost=131]="Stage1_LP_Lost",t[t.Stage1_LP_Sky=132]="Stage1_LP_Sky",t[t.Stage1_LP_Eighties=133]="Stage1_LP_Eighties",t[t.Stage1_LP_Dino=134]="Stage1_LP_Dino",t[t.Stage1_LP_Modern=135]="Stage1_LP_Modern",t[t.Stage2_Start_Egypt=136]="Stage2_Start_Egypt",t[t.Stage2_Start_Pirate=137]="Stage2_Start_Pirate",t[t.Stage2_Start_Cowboy=138]="Stage2_Start_Cowboy",t[t.Stage2_Start_Kongfu=139]="Stage2_Start_Kongfu",t[t.Stage2_Start_Future=140]="Stage2_Start_Future",t[t.Stage2_Start_Dark=141]="Stage2_Start_Dark",t[t.Stage2_Start_Beach=142]="Stage2_Start_Beach",t[t.Stage2_Start_Ice=143]="Stage2_Start_Ice",t[t.Stage2_Start_Lost=144]="Stage2_Start_Lost",t[t.Stage2_Start_Sky=145]="Stage2_Start_Sky",t[t.Stage2_Start_Eighties=146]="Stage2_Start_Eighties",t[t.Stage2_Start_Dino=147]="Stage2_Start_Dino",t[t.Stage2_Start_Modern=148]="Stage2_Start_Modern",t[t.Stage2_LP_Egypt=149]="Stage2_LP_Egypt",t[t.Stage2_LP_Pirate=150]="Stage2_LP_Pirate",t[t.Stage2_LP_Cowboy=151]="Stage2_LP_Cowboy",t[t.Stage2_LP_Kongfu=152]="Stage2_LP_Kongfu",t[t.Stage2_LP_Future=153]="Stage2_LP_Future",t[t.Stage2_LP_Dark=154]="Stage2_LP_Dark",t[t.Stage2_LP_Beach=155]="Stage2_LP_Beach",t[t.Stage2_LP_Ice=156]="Stage2_LP_Ice",t[t.Stage2_LP_Lost=157]="Stage2_LP_Lost",t[t.Stage2_LP_Sky=158]="Stage2_LP_Sky",t[t.Stage2_LP_Eighties=159]="Stage2_LP_Eighties",t[t.Stage2_LP_Dino=160]="Stage2_LP_Dino",t[t.Stage2_LP_Modern=161]="Stage2_LP_Modern",t[t.Stage3_Start_Egypt=162]="Stage3_Start_Egypt",t[t.Stage3_Start_Pirate=163]="Stage3_Start_Pirate",t[t.Stage3_Start_Cowboy=164]="Stage3_Start_Cowboy",t[t.Stage3_Start_Kongfu=165]="Stage3_Start_Kongfu",t[t.Stage3_Start_Future=166]="Stage3_Start_Future",t[t.Stage3_Start_Dark=167]="Stage3_Start_Dark",t[t.Stage3_Start_Beach=168]="Stage3_Start_Beach",t[t.Stage3_Start_Ice=169]="Stage3_Start_Ice",t[t.Stage3_Start_Lost=170]="Stage3_Start_Lost",t[t.Stage3_Start_Sky=171]="Stage3_Start_Sky",t[t.Stage3_Start_Eighties=172]="Stage3_Start_Eighties",t[t.Stage3_Start_Dino=173]="Stage3_Start_Dino",t[t.Stage3_Start_Modern=174]="Stage3_Start_Modern",t[t.Stage3_LP_Egypt=175]="Stage3_LP_Egypt",t[t.Stage3_LP_Pirate=176]="Stage3_LP_Pirate",t[t.Stage3_LP_Cowboy=177]="Stage3_LP_Cowboy",t[t.Stage3_LP_Kongfu=178]="Stage3_LP_Kongfu",t[t.Stage3_LP_Future=179]="Stage3_LP_Future",t[t.Stage3_LP_Dark=180]="Stage3_LP_Dark",t[t.Stage3_LP_Beach=181]="Stage3_LP_Beach",t[t.Stage3_LP_Ice=182]="Stage3_LP_Ice",t[t.Stage3_LP_Lost=183]="Stage3_LP_Lost",t[t.Stage3_LP_Sky=184]="Stage3_LP_Sky",t[t.Stage3_LP_Eighties=185]="Stage3_LP_Eighties",t[t.Stage3_LP_Dino=186]="Stage3_LP_Dino",t[t.Stage3_LP_Modern=187]="Stage3_LP_Modern",t[t.Stage4_Start_Egypt=188]="Stage4_Start_Egypt",t[t.Stage4_Start_Pirate=189]="Stage4_Start_Pirate",t[t.Stage4_Start_Cowboy=190]="Stage4_Start_Cowboy",t[t.Stage4_Start_Kongfu=191]="Stage4_Start_Kongfu",t[t.Stage4_Start_Future=192]="Stage4_Start_Future",t[t.Stage4_Start_Dark=193]="Stage4_Start_Dark",t[t.Stage4_Start_Beach=194]="Stage4_Start_Beach",t[t.Stage4_Start_Ice=195]="Stage4_Start_Ice",t[t.Stage4_Start_Lost=196]="Stage4_Start_Lost",t[t.Stage4_Start_Sky=197]="Stage4_Start_Sky",t[t.Stage4_Start_Eighties=198]="Stage4_Start_Eighties",t[t.Stage4_Start_Dino=199]="Stage4_Start_Dino",t[t.Stage4_Start_Modern=200]="Stage4_Start_Modern",t[t.Stage4_LP_Egypt=201]="Stage4_LP_Egypt",t[t.Stage4_LP_Pirate=202]="Stage4_LP_Pirate",t[t.Stage4_LP_Cowboy=203]="Stage4_LP_Cowboy",t[t.Stage4_LP_Kongfu=204]="Stage4_LP_Kongfu",t[t.Stage4_LP_Future=205]="Stage4_LP_Future",t[t.Stage4_LP_Dark=206]="Stage4_LP_Dark",t[t.Stage4_LP_Beach=207]="Stage4_LP_Beach",t[t.Stage4_LP_Ice=208]="Stage4_LP_Ice",t[t.Stage4_LP_Lost=209]="Stage4_LP_Lost",t[t.Stage4_LP_Sky=210]="Stage4_LP_Sky",t[t.Stage4_LP_Eighties=211]="Stage4_LP_Eighties",t[t.Stage4_LP_Dino=212]="Stage4_LP_Dino",t[t.Stage4_LP_Modern=213]="Stage4_LP_Modern",t[t.VIC_Egypt=214]="VIC_Egypt",t[t.VIC_Pirate=215]="VIC_Pirate",t[t.VIC_Cowboy=216]="VIC_Cowboy",t[t.VIC_Kongfu=217]="VIC_Kongfu",t[t.VIC_Future=218]="VIC_Future",t[t.VIC_Dark=219]="VIC_Dark",t[t.VIC_Beach=220]="VIC_Beach",t[t.VIC_Ice=221]="VIC_Ice",t[t.VIC_Lost=222]="VIC_Lost",t[t.VIC_Sky=223]="VIC_Sky",t[t.VIC_Eighties=224]="VIC_Eighties",t[t.VIC_Dino=225]="VIC_Dino",t[t.VIC_Modern=226]="VIC_Modern",t[t.Punk_Start=227]="Punk_Start",t[t.Punk_LP=228]="Punk_LP",t[t.Pop_LP0=229]="Pop_LP0",t[t.Pop_LP1=230]="Pop_LP1",t[t.Pop_LP2=231]="Pop_LP2",t[t.Pop_LP3=232]="Pop_LP3",t[t.Rap_LP0=233]="Rap_LP0",t[t.Rap_LP1=234]="Rap_LP1",t[t.Rap_LP2=235]="Rap_LP2",t[t.Rap_LP3=236]="Rap_LP3",t[t.EightBit_LP=237]="EightBit_LP",t[t.Ballad_Start=238]="Ballad_Start",t[t.Ballad_LP=239]="Ballad_LP",t[t.Metal_Start0=240]="Metal_Start0",t[t.Metal_Start1=241]="Metal_Start1",t[t.Metal_LP0=242]="Metal_LP0",t[t.Metal_LP1=243]="Metal_LP1",t[t.Metal_LP2=244]="Metal_LP2",t[t.Metal_LP3=245]="Metal_LP3",t[t.Metal_LP4=246]="Metal_LP4",t[t.Metal_LP5=247]="Metal_LP5",t[t.MusicAmount=248]="MusicAmount",t}({}));f("MusicFiles")(C=function(){this.WorldMap=void 0,this.UB_Egypt=void 0,this.UB_Pirate=void 0,this.UB_Cowboy=void 0,this.UB_Kongfu=void 0,this.UB_Future=void 0,this.UB_Dark=void 0,this.UB_Beach=void 0,this.UB_Ice=void 0,this.UB_Lost=void 0,this.UB_Sky=void 0,this.UB_Dino=void 0,this.UB_Modern=void 0,this.MG_Egypt=void 0,this.MG_Pirate=void 0,this.MG_Cowboy=void 0,this.MG_Kongfu=void 0,this.MG_Future=void 0,this.MG_Dark=void 0,this.MG_Beach=void 0,this.MG_Ice=void 0,this.MG_Lost=void 0,this.MG_Sky=void 0,this.MG_Dino=void 0,this.MG_Modern=void 0,this.MG_Ballad=void 0,this.MG_Pop=void 0,this.MG_Rap=void 0,this.MG_EightBit=void 0,this.MG_Metal=void 0,this.UB_Victory=void 0,this.MG_Victory=void 0,this.PIANO_Cowboy=void 0,this.LEAVE_Egypt=void 0,this.LEAVE_Pirate=void 0,this.LEAVE_Cowboy=void 0,this.LEAVE_Kongfu=void 0,this.LEAVE_Future=void 0,this.LEAVE_Dark=void 0,this.LEAVE_Beach=void 0,this.LEAVE_Ice=void 0,this.LEAVE_Lost=void 0,this.LEAVE_Sky=void 0,this.LEAVE_Eighties=void 0,this.LEAVE_Dino=void 0,this.LEAVE_Modern=void 0,this.LOSE_Egypt=void 0,this.LOSE_Pirate=void 0,this.LOSE_Cowboy=void 0,this.LOSE_Kongfu=void 0,this.LOSE_Future=void 0,this.LOSE_Dark=void 0,this.LOSE_Beach=void 0,this.LOSE_Ice=void 0,this.LOSE_Lost=void 0,this.LOSE_Sky=void 0,this.LOSE_Eighties=void 0,this.LOSE_Dino=void 0,this.LOSE_Modern=void 0,this.ZBI_Egypt=void 0,this.ZBI_Pirate=void 0,this.ZBI_Cowboy=void 0,this.ZBI_Future=void 0,this.ZBI_Dark=void 0,this.ZBI_Beach=void 0,this.ZBI_Ice=void 0,this.ZBI_Lost=void 0,this.ZBI_Sky=void 0,this.ZBI_Eighties=void 0,this.ZBI_Dino=void 0,this.ZBI_Modern=void 0,this.ZB_Stage0=void 0,this.ZB_Stage1=void 0,this.ZB_Stage2_Start=void 0,this.ZB_Stage2=void 0,this.ZB_Victory=void 0,this.CYS_Start_Egypt=void 0,this.CYS_Start_Pirate=void 0,this.CYS_Start_Cowboy=void 0,this.CYS_Start_Kongfu=void 0,this.CYS_Start_Future=void 0,this.CYS_Start_Dark=void 0,this.CYS_Start_Beach=void 0,this.CYS_Start_Ice=void 0,this.CYS_Start_Lost=void 0,this.CYS_Start_Sky=void 0,this.CYS_Start_Eighties=void 0,this.CYS_Start_Dino=void 0,this.CYS_Start_Modern=void 0,this.CYS_LP_Egypt=void 0,this.CYS_LP_Pirate=void 0,this.CYS_LP_Cowboy=void 0,this.CYS_LP_Kongfu=void 0,this.CYS_LP_Future=void 0,this.CYS_LP_Dark=void 0,this.CYS_LP_Beach=void 0,this.CYS_LP_Ice=void 0,this.CYS_LP_Lost=void 0,this.CYS_LP_Sky=void 0,this.CYS_LP_Eighties=void 0,this.CYS_LP_Dino=void 0,this.CYS_LP_Modern=void 0,this.P1_Start_Egypt=void 0,this.P1_Start_Pirate=void 0,this.P1_Start_Cowboy=void 0,this.P1_Start_Kongfu=void 0,this.P1_Start_Future=void 0,this.P1_Start_Dark=void 0,this.P1_Start_Beach=void 0,this.P1_Start_Ice=void 0,this.P1_Start_Lost=void 0,this.P1_Start_Sky=void 0,this.P1_Start_Eighties=void 0,this.P1_Start_Dino=void 0,this.P1_Start_Modern=void 0,this.P1_LP_Egypt=void 0,this.P1_LP_Pirate=void 0,this.P1_LP_Cowboy=void 0,this.P1_LP_Kongfu=void 0,this.P1_LP_Future=void 0,this.P1_LP_Dark=void 0,this.P1_LP_Beach=void 0,this.P1_LP_Ice=void 0,this.P1_LP_Lost=void 0,this.P1_LP_Sky=void 0,this.P1_LP_Eighties=void 0,this.P1_LP_Dino=void 0,this.P1_LP_Modern=void 0,this.P2_Start_Egypt=void 0,this.P2_Start_Pirate=void 0,this.P2_Start_Cowboy=void 0,this.P2_Start_Kongfu=void 0,this.P2_Start_Future=void 0,this.P2_Start_Dark=void 0,this.P2_Start_Beach=void 0,this.P2_Start_Ice=void 0,this.P2_Start_Lost=void 0,this.P2_Start_Sky=void 0,this.P2_Start_Eighties=void 0,this.P2_Start_Dino=void 0,this.P2_Start_Modern=void 0,this.P2_LP_Egypt=void 0,this.P2_LP_Pirate=void 0,this.P2_LP_Cowboy=void 0,this.P2_LP_Kongfu=void 0,this.P2_LP_Future=void 0,this.P2_LP_Dark=void 0,this.P2_LP_Beach=void 0,this.P2_LP_Ice=void 0,this.P2_LP_Lost=void 0,this.P2_LP_Sky=void 0,this.P2_LP_Eighties=void 0,this.P2_LP_Dino=void 0,this.P2_LP_Modern=void 0,this.P3_Start_Egypt=void 0,this.P3_Start_Pirate=void 0,this.P3_Start_Cowboy=void 0,this.P3_Start_Kongfu=void 0,this.P3_Start_Future=void 0,this.P3_Start_Dark=void 0,this.P3_Start_Beach=void 0,this.P3_Start_Ice=void 0,this.P3_Start_Lost=void 0,this.P3_Start_Sky=void 0,this.P3_Start_Eighties=void 0,this.P3_Start_Dino=void 0,this.P3_Start_Modern=void 0,this.P3_LP_Egypt=void 0,this.P3_LP_Pirate=void 0,this.P3_LP_Cowboy=void 0,this.P3_LP_Kongfu=void 0,this.P3_LP_Future=void 0,this.P3_LP_Dark=void 0,this.P3_LP_Beach=void 0,this.P3_LP_Ice=void 0,this.P3_LP_Lost=void 0,this.P3_LP_Sky=void 0,this.P3_LP_Eighties=void 0,this.P3_LP_Dino=void 0,this.P3_LP_Modern=void 0,this.P4_Start_Egypt=void 0,this.P4_Start_Pirate=void 0,this.P4_Start_Cowboy=void 0,this.P4_Start_Kongfu=void 0,this.P4_Start_Future=void 0,this.P4_Start_Dark=void 0,this.P4_Start_Beach=void 0,this.P4_Start_Ice=void 0,this.P4_Start_Lost=void 0,this.P4_Start_Sky=void 0,this.P4_Start_Eighties=void 0,this.P4_Start_Dino=void 0,this.P4_Start_Modern=void 0,this.P4_LP_Egypt=void 0,this.P4_LP_Pirate=void 0,this.P4_LP_Cowboy=void 0,this.P4_LP_Kongfu=void 0,this.P4_LP_Future=void 0,this.P4_LP_Dark=void 0,this.P4_LP_Beach=void 0,this.P4_LP_Ice=void 0,this.P4_LP_Lost=void 0,this.P4_LP_Sky=void 0,this.P4_LP_Eighties=void 0,this.P4_LP_Dino=void 0,this.P4_LP_Modern=void 0,this.VIC_Egypt=void 0,this.VIC_Pirate=void 0,this.VIC_Cowboy=void 0,this.VIC_Kongfu=void 0,this.VIC_Future=void 0,this.VIC_Dark=void 0,this.VIC_Beach=void 0,this.VIC_Ice=void 0,this.VIC_Lost=void 0,this.VIC_Sky=void 0,this.VIC_Eighties=void 0,this.VIC_Dino=void 0,this.VIC_Modern=void 0});s(V),s(U);t("SoundManager",(B=f("SoundManager"),E=b(g),v=b(g),B(((D=function(t){function _(){for(var _,a=arguments.length,o=new Array(a),S=0;S<a;S++)o[S]=arguments[S];return(_=t.call.apply(t,[this].concat(o))||this).currentMusicSort=NaN,_.currentWorldMusic=null,_.isJam=!1,_._insertedMusic=null,_._insertedMusicDuration=1/0,_.leftRepeat=0,_.nextToPlay=null,_.nextSortToPlay=null,_._audioSource=void 0,_._audioSourceReplay=void 0,_.currentPlayingComponent=null,_.currentMusic=null,_.currentMusicType=w.UB_Victory,_.keepupMusic=null,e(_,"musicJson",k,i(_)),e(_,"lawnJson",I,i(_)),_.pianoCountDown=0,_.pianoCountUp=0,_}a(_,t);var S=_.prototype;return S.switchMusic=function(t,_,a,e,i,o){if(void 0===a&&(a=!1),void 0===e&&(e=!1),void 0===i&&(i=!0),void 0===o&&(o=!1),t!=this.currentWorldMusic||_!=this.currentMusicSort||a){var S=w.UB_Victory,r=1/0,s=!1,g=null,n=null;if(this.isJam=!1,_==U.Victory&&this.currentMusicSort==U.UltimateBattle)S=w.UB_Victory,s=!1,r=1;else if(_==U.Victory&&this.currentMusicSort==U.DemonstrateMinigame)S=w.MG_Victory,s=!1,r=1;else if(_==U.Victory&&(this.currentMusicSort==U.ZombossIntro||this.currentMusicSort==U.ZombossStage0||this.currentMusicSort==U.ZombossStage1||this.currentMusicSort==U.ZombossStage2||this.currentMusicSort==U.ZombossStage2_start&&(_=U.ZombossStage2)))S=w.ZB_Victory,s=!1,r=1;else if(_==U.ZombossStage0)S=t==Z.Lostcity?w.ZB_Stage0_Lostcity:w.ZB_Stage0,s=!0,r=1/0;else if(_==U.ZombossStage1)S=w.ZB_Stage1,s=!0,r=1/0;else if(_==U.ZombossStage2)S=w.ZB_Stage2,s=!0,r=1/0;else if(_==U.ZombossStage2_start)S=w.ZB_Stage2_Start,g=w.ZB_Stage2,s=!0,r=1/0,_=U.ZombossStage2;else switch(t){case Z.Egypt:_==U.UltimateBattle?(S=w.UB_Egypt,s=!0):_==U.DemonstrateMinigame?(S=w.MG_Egypt,s=!0):_==U.Leave?(S=w.LEAVE_Egypt,s=!1,r=1):_==U.Lose?(S=w.LOSE_Egypt,s=!1,r=1):_==U.ZombossIntro?(S=w.ZBI_Egypt,s=!1,g=w.ZB_Stage0,_=U.ZombossStage0):_==U.Victory?(S=w.VIC_Egypt,s=!1,r=1):_==U.Stage1_Start?(S=w.Stage1_Start_Egypt,n=U.Stage1_LP,s=!1):_==U.Stage1_LP?(S=w.Stage1_LP_Egypt,s=!0):_==U.Stage2_Start?(S=w.Stage2_Start_Egypt,n=U.Stage2_LP,s=!1):_==U.Stage2_LP?(S=w.Stage2_LP_Egypt,s=!0):_==U.Stage3_Start?(S=w.Stage3_Start_Egypt,n=U.Stage3_LP,s=!1):_==U.Stage3_LP?(S=w.Stage3_LP_Egypt,s=!0):_==U.Stage4_Start?(S=w.Stage4_Start_Egypt,n=U.Stage4_LP,s=!1):_==U.Stage4_LP?(S=w.Stage4_LP_Egypt,s=!0):_==U.CYS_Start?(S=w.CYS_Start_Egypt,n=U.CYS_LP,s=!1):_==U.CYS_LP&&(S=w.CYS_LP_Egypt,s=!0);break;case Z.Pirate:_==U.UltimateBattle?(S=w.UB_Pirate,s=!0):_==U.DemonstrateMinigame?(S=w.MG_Pirate,s=!0):_==U.Leave?(S=w.LEAVE_Pirate,s=!1,r=1):_==U.Lose?(S=w.LOSE_Pirate,s=!1,r=1):_==U.ZombossIntro?(S=w.ZBI_Pirate,s=!1,g=w.ZB_Stage0,_=U.ZombossStage0):_==U.Victory?(S=w.VIC_Pirate,s=!1,r=1):_==U.Stage1_Start?(S=w.Stage1_Start_Pirate,n=U.Stage1_LP,s=!1):_==U.Stage1_LP?(S=w.Stage1_LP_Pirate,s=!0):_==U.Stage2_Start?(S=w.Stage2_Start_Pirate,n=U.Stage2_LP,s=!1):_==U.Stage2_LP?(S=w.Stage2_LP_Pirate,s=!0):_==U.Stage3_Start?(S=w.Stage3_Start_Pirate,n=U.Stage3_LP,s=!1):_==U.Stage3_LP?(S=w.Stage3_LP_Pirate,s=!0):_==U.Stage4_Start?(S=w.Stage4_Start_Pirate,n=U.Stage4_LP,s=!1):_==U.Stage4_LP?(S=w.Stage4_LP_Pirate,s=!0):_==U.CYS_Start?(S=w.CYS_Start_Pirate,n=U.CYS_LP,s=!1):_==U.CYS_LP&&(S=w.CYS_LP_Pirate,s=!0);break;case Z.Cowboy:_==U.UltimateBattle?(S=w.UB_Cowboy,s=!0):_==U.DemonstrateMinigame?(S=w.MG_Cowboy,s=!0):_==U.Leave?(S=w.LEAVE_Cowboy,s=!1,r=1):_==U.Lose?(S=w.LOSE_Cowboy,s=!1,r=1):_==U.ZombossIntro?(S=w.ZBI_Cowboy,s=!1,g=w.ZB_Stage0,_=U.ZombossStage0):_==U.Victory?(S=w.VIC_Cowboy,s=!1,r=1):_==U.Stage1_Start?(S=w.Stage1_Start_Cowboy,n=U.Stage1_LP,s=!1):_==U.Stage1_LP?(S=w.Stage1_LP_Cowboy,s=!0):_==U.Stage2_Start?(S=w.Stage2_Start_Cowboy,n=U.Stage2_LP,s=!1):_==U.Stage2_LP?(S=w.Stage2_LP_Cowboy,s=!0):_==U.Stage3_Start?(S=w.Stage3_Start_Cowboy,n=U.Stage3_LP,s=!1):_==U.Stage3_LP?(S=w.Stage3_LP_Cowboy,s=!0):_==U.Stage4_Start?(S=w.Stage4_Start_Cowboy,n=U.Stage4_LP,s=!1):_==U.Stage4_LP?(S=w.Stage4_LP_Cowboy,s=!0):_==U.CYS_Start?(S=w.CYS_Start_Cowboy,n=U.CYS_LP,s=!1):_==U.CYS_LP&&(S=w.CYS_LP_Cowboy,s=!0);break;case Z.Future:_==U.UltimateBattle?(S=w.UB_Future,s=!0):_==U.DemonstrateMinigame?(S=w.MG_Future,s=!0):_==U.Leave?(S=w.LEAVE_Future,s=!1,r=1):_==U.Lose?(S=w.LOSE_Future,s=!1,r=1):_==U.ZombossIntro?(S=w.ZBI_Future,s=!1,g=w.ZB_Stage0,_=U.ZombossStage0):_==U.Victory?(S=w.VIC_Future,s=!1,r=1):_==U.Stage1_Start?(S=w.Stage1_Start_Future,n=U.Stage1_LP,s=!1):_==U.Stage1_LP?(S=w.Stage1_LP_Future,s=!0):_==U.Stage2_Start?(S=w.Stage2_Start_Future,n=U.Stage2_LP,s=!1):_==U.Stage2_LP?(S=w.Stage2_LP_Future,s=!0):_==U.Stage3_Start?(S=w.Stage3_Start_Future,n=U.Stage3_LP,s=!1):_==U.Stage3_LP?(S=w.Stage3_LP_Future,s=!0):_==U.Stage4_Start?(S=w.Stage4_Start_Future,n=U.Stage4_LP,s=!1):_==U.Stage4_LP?(S=w.Stage4_LP_Future,s=!0):_==U.CYS_Start?(S=w.CYS_Start_Future,n=U.CYS_LP,s=!1):_==U.CYS_LP&&(S=w.CYS_LP_Future,s=!0);break;case Z.Dark:_==U.UltimateBattle?(S=w.UB_Dark,s=!0):_==U.DemonstrateMinigame?(S=w.MG_Dark,s=!0):_==U.Leave?(S=w.LEAVE_Dark,s=!1,r=1):_==U.Lose?(S=w.LOSE_Dark,s=!1,r=1):_==U.ZombossIntro?(S=w.ZBI_Dark,s=!1,g=w.ZB_Stage0,_=U.ZombossStage0):_==U.Victory?(S=w.VIC_Dark,s=!1,r=1):_==U.Stage1_Start?(S=w.Stage1_Start_Dark,n=U.Stage1_LP,s=!1):_==U.Stage1_LP?(S=w.Stage1_LP_Dark,s=!0):_==U.Stage2_Start?(S=w.Stage2_Start_Dark,n=U.Stage2_LP,s=!1):_==U.Stage2_LP?(S=w.Stage2_LP_Dark,s=!0):_==U.Stage3_Start?(S=w.Stage3_Start_Dark,n=U.Stage3_LP,s=!1):_==U.Stage3_LP?(S=w.Stage3_LP_Dark,s=!0):_==U.Stage4_Start?(S=w.Stage4_Start_Dark,n=U.Stage4_LP,s=!1):_==U.Stage4_LP?(S=w.Stage4_LP_Dark,s=!0):_==U.CYS_Start?(S=w.CYS_Start_Dark,n=U.CYS_LP,s=!1):_==U.CYS_LP&&(S=w.CYS_LP_Dark,s=!0);break;case Z.Beach:_==U.UltimateBattle?(S=w.UB_Beach,s=!0):_==U.DemonstrateMinigame?(S=w.MG_Beach,s=!0):_==U.Leave?(S=w.LEAVE_Beach,s=!1,r=1):_==U.Lose?(S=w.LOSE_Beach,s=!1,r=1):_==U.ZombossIntro?(S=w.ZBI_Beach,s=!1,g=w.ZB_Stage0,_=U.ZombossStage0):_==U.Victory?(S=w.VIC_Beach,s=!1,r=1):_==U.Stage1_Start?(S=w.Stage1_Start_Beach,n=U.Stage1_LP,s=!1):_==U.Stage1_LP?(S=w.Stage1_LP_Beach,s=!0):_==U.Stage2_Start?(S=w.Stage2_Start_Beach,n=U.Stage2_LP,s=!1):_==U.Stage2_LP?(S=w.Stage2_LP_Beach,s=!0):_==U.Stage3_Start?(S=w.Stage3_Start_Beach,n=U.Stage3_LP,s=!1):_==U.Stage3_LP?(S=w.Stage3_LP_Beach,s=!0):_==U.Stage4_Start?(S=w.Stage4_Start_Beach,n=U.Stage4_LP,s=!1):_==U.Stage4_LP?(S=w.Stage4_LP_Beach,s=!0):_==U.CYS_Start?(S=w.CYS_Start_Beach,n=U.CYS_LP,s=!1):_==U.CYS_LP&&(S=w.CYS_LP_Beach,s=!0);break;case Z.Ice:_==U.UltimateBattle?(S=w.UB_Ice,s=!0):_==U.DemonstrateMinigame?(S=w.MG_Ice,s=!0):_==U.Leave?(S=w.LEAVE_Ice,s=!1,r=1):_==U.Lose?(S=w.LOSE_Ice,s=!1,r=1):_==U.ZombossIntro?(S=w.ZBI_Ice,s=!1,g=w.ZB_Stage0,_=U.ZombossStage0):_==U.Victory?(S=w.VIC_Ice,s=!1,r=1):_==U.Stage1_Start?(S=w.Stage1_Start_Ice,n=U.Stage1_LP,s=!1):_==U.Stage1_LP?(S=w.Stage1_LP_Ice,s=!0):_==U.Stage2_Start?(S=w.Stage2_Start_Ice,n=U.Stage2_LP,s=!1):_==U.Stage2_LP?(S=w.Stage2_LP_Ice,s=!0):_==U.Stage3_Start?(S=w.Stage3_Start_Ice,n=U.Stage3_LP,s=!1):_==U.Stage3_LP?(S=w.Stage3_LP_Ice,s=!0):_==U.Stage4_Start?(S=w.Stage4_Start_Ice,n=U.Stage4_LP,s=!1):_==U.Stage4_LP?(S=w.Stage4_LP_Ice,s=!0):_==U.CYS_Start?(S=w.CYS_Start_Ice,n=U.CYS_LP,s=!1):_==U.CYS_LP&&(S=w.CYS_LP_Ice,s=!0);break;case Z.Lostcity:_==U.UltimateBattle?(S=w.UB_Lost,s=!0):_==U.DemonstrateMinigame?(S=w.MG_Lost,s=!0):_==U.Leave?(S=w.LEAVE_Lost,s=!1,r=1):_==U.Lose?(S=w.LOSE_Lost,s=!1,r=1):_==U.ZombossIntro?(S=w.ZBI_Lost,s=!1,g=w.ZB_Stage0_Lostcity,_=U.ZombossStage0):_==U.Victory?(S=w.VIC_Lost,s=!1,r=1):_==U.Stage1_Start?(S=w.Stage1_Start_Lost,n=U.Stage1_LP,s=!1):_==U.Stage1_LP?(S=w.Stage1_LP_Lost,s=!0):_==U.Stage2_Start?(S=w.Stage2_Start_Lost,n=U.Stage2_LP,s=!1):_==U.Stage2_LP?(S=w.Stage2_LP_Lost,s=!0):_==U.Stage3_Start?(S=w.Stage3_Start_Lost,n=U.Stage3_LP,s=!1):_==U.Stage3_LP?(S=w.Stage3_LP_Lost,s=!0):_==U.Stage4_Start?(S=w.Stage4_Start_Lost,n=U.Stage4_LP,s=!1):_==U.Stage4_LP?(S=w.Stage4_LP_Lost,s=!0):_==U.CYS_Start?(S=w.CYS_Start_Lost,n=U.CYS_LP,s=!1):_==U.CYS_LP&&(S=w.CYS_LP_Lost,s=!0);break;case Z.Eighties:_==U.UltimateBattle?(S=w.UB_Ballad,s=!0):_==U.DemonstrateMinigame?(S=w.MG_Ballad,s=!0):_==U.Leave?(S=w.LEAVE_Eighties,s=!1,r=1):_==U.Lose?(S=w.LOSE_Eighties,s=!1,r=1):_==U.ZombossIntro?(S=w.ZBI_Future,s=!1,g=w.ZB_Stage0,_=U.ZombossStage0):_==U.Victory?(S=w.VIC_Eighties,s=!1,r=1):_==U.Stage1_Start?(S=w.Stage1_Start_Eighties,n=U.Stage1_LP,s=!1):_==U.Stage1_LP?(S=w.Stage1_LP_Eighties,s=!0):_==U.Stage2_Start?(S=w.Stage2_Start_Eighties,n=U.Stage2_LP,s=!1):_==U.Stage2_LP?(S=w.Stage2_LP_Eighties,s=!0):_==U.Stage3_Start?(S=w.Stage3_Start_Eighties,n=U.Stage3_LP,s=!1):_==U.Stage3_LP?(S=w.Stage3_LP_Eighties,s=!0):_==U.Stage4_Start?(S=w.Stage4_Start_Eighties,n=U.Stage4_LP,s=!1):_==U.Stage4_LP?(S=w.Stage4_LP_Eighties,s=!0):_==U.CYS_Start?(S=w.CYS_Start_Eighties,n=U.CYS_LP,s=!1):_==U.CYS_LP&&(S=w.CYS_LP_Eighties,s=!0);break;case Z.Sky:_==U.UltimateBattle?(S=w.UB_Sky,s=!0):_==U.DemonstrateMinigame?(S=w.MG_Sky,s=!0):_==U.Leave?(S=w.LEAVE_Sky,s=!1,r=1):_==U.Lose?(S=w.LOSE_Sky,s=!1,r=1):_==U.ZombossIntro?(S=w.ZBI_Sky,s=!1,g=w.ZB_Stage0,_=U.ZombossStage0):_==U.Victory?(S=w.VIC_Sky,s=!1,r=1):_==U.Stage1_Start?(S=w.Stage1_Start_Sky,n=U.Stage1_LP,s=!1):_==U.Stage1_LP?(S=w.Stage1_LP_Sky,s=!0):_==U.Stage2_Start?(S=w.Stage2_Start_Sky,n=U.Stage2_LP,s=!1):_==U.Stage2_LP?(S=w.Stage2_LP_Sky,s=!0):_==U.Stage3_Start?(S=w.Stage3_Start_Sky,n=U.Stage3_LP,s=!1):_==U.Stage3_LP?(S=w.Stage3_LP_Sky,s=!0):_==U.Stage4_Start?(S=w.Stage4_Start_Sky,n=U.Stage4_LP,s=!1):_==U.Stage4_LP?(S=w.Stage4_LP_Sky,s=!0):_==U.CYS_Start?(S=w.CYS_Start_Sky,n=U.CYS_LP,s=!1):_==U.CYS_LP&&(S=w.CYS_LP_Sky,s=!0);break;case Z.Kongfu:_==U.UltimateBattle?(S=w.UB_Kongfu,s=!0):_==U.DemonstrateMinigame?(S=w.MG_Kongfu,s=!0):_==U.Leave?(S=w.LEAVE_Kongfu,s=!1,r=1):_==U.Lose?(S=w.LOSE_Kongfu,s=!1,r=1):_==U.ZombossIntro?(S=w.ZBI_Egypt,s=!1,g=w.ZB_Stage0,_=U.ZombossStage0):_==U.Victory?(S=w.VIC_Kongfu,s=!1,r=1):_==U.Stage1_Start?(S=w.Stage1_Start_Kongfu,n=U.Stage1_LP,s=!1):_==U.Stage1_LP?(S=w.Stage1_LP_Kongfu,s=!0):_==U.Stage2_Start?(S=w.Stage2_Start_Kongfu,n=U.Stage2_LP,s=!1):_==U.Stage2_LP?(S=w.Stage2_LP_Kongfu,s=!0):_==U.Stage3_Start?(S=w.Stage3_Start_Kongfu,n=U.Stage3_LP,s=!1):_==U.Stage3_LP?(S=w.Stage3_LP_Kongfu,s=!0):_==U.Stage4_Start?(S=w.Stage4_Start_Kongfu,n=U.Stage4_LP,s=!1):_==U.Stage4_LP?(S=w.Stage4_LP_Kongfu,s=!0):_==U.CYS_Start?(S=w.CYS_Start_Kongfu,n=U.CYS_LP,s=!1):_==U.CYS_LP&&(S=w.CYS_LP_Kongfu,s=!0);break;case Z.Ballad:if(_==U.UltimateBattle)S=w.UB_Ballad,this.isJam=!0,s=!0;else{if(_!=U.DemonstrateMinigame)return o?(S=y.getRandom([w.Ballad_Start]),this.playBGM(S,!1,1/0),this.isJam=!0,S):this.switchMusicSort(_,a,e,i);S=w.MG_Ballad,this.isJam=!0,s=!0}break;case Z.Punk:if(_==U.UltimateBattle)S=w.UB_Punk,this.isJam=!0,s=!0;else{if(_!=U.DemonstrateMinigame)return o?(S=y.getRandom([w.Punk_Start]),this.playBGM(S,!1,1/0),this.isJam=!0,S):this.switchMusicSort(_,a,e,i);S=w.MG_Punk,this.isJam=!0,s=!0}break;case Z.Pop:if(_==U.UltimateBattle)S=w.UB_Pop,this.isJam=!0,s=!0;else{if(_!=U.DemonstrateMinigame)return o?(S=y.getRandom([w.Pop_LP0]),this.playBGM(S,!1,1/0),this.isJam=!0,S):this.switchMusicSort(_,a,e,i);S=w.MG_Pop,this.isJam=!0,s=!0}break;case Z.Rap:if(_==U.UltimateBattle)S=w.UB_Rap,this.isJam=!0,s=!0;else{if(_!=U.DemonstrateMinigame)return o?(S=y.getRandom([w.Rap_LP0]),this.playBGM(S,!1,1/0),this.isJam=!0,S):this.switchMusicSort(_,a,e,i);S=w.MG_Rap,this.isJam=!0,s=!0}break;case Z.Eightbit:if(_==U.UltimateBattle)S=w.UB_EightBit,this.isJam=!0,s=!0;else{if(_!=U.DemonstrateMinigame)return o?(S=y.getRandom([w.EightBit_LP]),this.playBGM(S,!1,1/0),this.isJam=!0,S):this.switchMusicSort(_,a,e,i);S=w.MG_EightBit,this.isJam=!0,s=!0}break;case Z.Metal:if(_==U.UltimateBattle)S=w.UB_Metal,this.isJam=!0,s=!0;else{if(_!=U.DemonstrateMinigame)return o?(S=y.getRandom([w.Metal_Start0,w.Metal_Start1]),this.playBGM(S,!1,1/0),this.isJam=!0,S):this.switchMusicSort(_,a,e,i);S=w.MG_Metal,this.isJam=!0,s=!0}break;case Z.Dino:_==U.UltimateBattle?(S=w.UB_Dino,s=!0):_==U.DemonstrateMinigame?(S=w.MG_Dino,s=!0):_==U.Leave?(S=w.LEAVE_Dino,s=!1,r=1):_==U.Lose?(S=w.LOSE_Dino,s=!1,r=1):_==U.ZombossIntro?(S=w.ZBI_Dino,s=!1,g=w.ZB_Stage0,_=U.ZombossStage0):_==U.Victory?(S=w.VIC_Dino,s=!1,r=1):_==U.Stage1_Start?(S=w.Stage1_Start_Dino,n=U.Stage1_LP,s=!1):_==U.Stage1_LP?(S=w.Stage1_LP_Dino,s=!0):_==U.Stage2_Start?(S=w.Stage2_Start_Dino,n=U.Stage2_LP,s=!1):_==U.Stage2_LP?(S=w.Stage2_LP_Dino,s=!0):_==U.Stage3_Start?(S=w.Stage3_Start_Dino,n=U.Stage3_LP,s=!1):_==U.Stage3_LP?(S=w.Stage3_LP_Dino,s=!0):_==U.Stage4_Start?(S=w.Stage4_Start_Dino,n=U.Stage4_LP,s=!1):_==U.Stage4_LP?(S=w.Stage4_LP_Dino,s=!0):_==U.CYS_Start?(S=w.CYS_Start_Dino,n=U.CYS_LP,s=!1):_==U.CYS_LP&&(S=w.CYS_LP_Dino,s=!0);break;default:_==U.UltimateBattle?(S=w.UB_Modern,s=!0):_==U.DemonstrateMinigame?(S=w.MG_Modern,s=!0):_==U.Leave?(S=w.LEAVE_Modern,s=!1,r=1):_==U.Lose?(S=w.LOSE_Modern,s=!1,r=1):_==U.ZombossIntro?(S=w.ZBI_Modern,s=!1,g=w.ZB_Stage0,_=U.ZombossStage0):_==U.Victory?(S=w.VIC_Modern,s=!1,r=1):_==U.Stage1_Start?(S=w.Stage1_Start_Modern,n=U.Stage1_LP,s=!1):_==U.Stage1_LP?(S=w.Stage1_LP_Modern,s=!0):_==U.Stage2_Start?(S=w.Stage2_Start_Modern,n=U.Stage2_LP,s=!1):_==U.Stage2_LP?(S=w.Stage2_LP_Modern,s=!0):_==U.Stage3_Start?(S=w.Stage3_Start_Modern,n=U.Stage3_LP,s=!1):_==U.Stage3_LP?(S=w.Stage3_LP_Modern,s=!0):_==U.Stage4_Start?(S=w.Stage4_Start_Modern,n=U.Stage4_LP,s=!1):_==U.Stage4_LP?(S=w.Stage4_LP_Modern,s=!0):_==U.CYS_Start?(S=w.CYS_Start_Modern,n=U.CYS_LP,s=!1):_==U.CYS_LP&&(S=w.CYS_LP_Modern,s=!0)}return i&&this.playBGM(S,s&&!e,r),this.nextToPlay=g,this.nextSortToPlay=n,this.currentMusicSort=_,this.isJam||(this.currentWorldMusic=t),S}},S.switchWorldMusic=function(t,_,a){return void 0===_&&(_=!0),void 0===a&&(a=!1),t==this.currentWorldMusic?this.currentMusicType:this.switchMusic(t,this.currentMusicSort,!1,!1,_,a)},S.switchMusicSort=function(t,_,a,e){return void 0===_&&(_=!1),void 0===a&&(a=!1),void 0===e&&(e=!0),t==this.currentMusicSort||this.isJam?this.currentMusicType:this.switchMusic(this.currentWorldMusic,t,_,a,e)},S.insertMusic=function(t){this.audioSource.stop(),this.audioSourceReplay.stop(),this.audioSource.currentTime=0,this.audioSourceReplay.currentTime=0,this.audioSource.clip=t,this.audioSourceReplay.clip=t,this.currentPlayingComponent=this.audioSource,this.currentPlayingComponent.play(),this.currentPlayingComponent.volume=c.MusicVolume*c._volumeScalePause,this._insertedMusic=t,this._insertedMusicDuration=t.getDuration()-1},S.playBGM=function(t,_,a){var e;if(void 0===_&&(_=!1),void 0===a&&(a=1/0),!(t>=w.MusicAmount)){t==w.Piano&&(this.pianoCountUp=0),this.leftRepeat=a-1;var i=this.currentPlayingComponent&&_?this.currentPlayingComponent.currentTime:0;this.audioSource.stop(),this.audioSourceReplay.stop(),this.audioSourceReplay.currentTime=0,this.currentMusic=this.BackgroundMusic[t],this.keepupMusic=this.BackgroundMusic[t],null!=(e=this.currentMusic.clip)&&e._nativeAsset&&(this.audioSource.clip=this.currentMusic.clip,this.audioSourceReplay.clip=this.currentMusic.clip),this.currentPlayingComponent=this.audioSource,this.nextToPlay=null,this.currentPlayingComponent.play(),this.currentPlayingComponent.currentTime=i,this.currentPlayingComponent.volume=c.MusicVolume*c._volumeScalePause,this.currentMusicType=t}},S.pauseBGM=function(){var t,_;null!=(t=this.audioSource)&&t.playing&&this.audioSource.pause(),null!=(_=this.audioSourceReplay)&&_.playing&&this.audioSourceReplay.pause()},S.resumeBGM=function(){this.currentMusic&&this.currentPlayingComponent&&(this.currentPlayingComponent.play(),this.currentPlayingComponent.volume=c.MusicVolume*c._volumeScalePause)},S.changeLoopPlayer=function(){var t=this;this.currentPlayingComponent=this.currentPlayingComponent==this.audioSource?this.audioSourceReplay:this.audioSource,c.BalladList.find((function(_){return t.currentMusic==t.BackgroundMusic[_]}))?this.currentMusic=this.BackgroundMusic[y.getRandom([w.Ballad_LP])]:c.RapList.find((function(_){return t.currentMusic==t.BackgroundMusic[_]}))?this.currentMusic=this.BackgroundMusic[y.getRandom([w.Rap_LP0,w.Rap_LP1,w.Rap_LP2,w.Rap_LP3].filter((function(_){return t.currentMusic!=t.BackgroundMusic[_]})))]:c.PopList.find((function(_){return t.currentMusic==t.BackgroundMusic[_]}))?this.currentMusic=this.BackgroundMusic[y.getRandom([w.Pop_LP0,w.Pop_LP1,w.Pop_LP2,w.Pop_LP3].filter((function(_){return t.currentMusic!=t.BackgroundMusic[_]})))]:c.PunkList.find((function(_){return t.currentMusic==t.BackgroundMusic[_]}))?this.currentMusic=this.BackgroundMusic[y.getRandom([w.Punk_LP])]:c.MetalList.find((function(_){return t.currentMusic==t.BackgroundMusic[_]}))?this.currentMusic=this.BackgroundMusic[y.getRandom([w.Metal_LP0,w.Metal_LP1,w.Metal_LP2,w.Metal_LP3,w.Metal_LP4,w.Metal_LP5].filter((function(_){return t.currentMusic!=t.BackgroundMusic[_]})))]:null!=this.nextToPlay?this.currentMusic=this.BackgroundMusic[this.nextToPlay]:this.pianoCountDown<=0&&null!=this.nextSortToPlay&&(this.currentMusic=this.BackgroundMusic[this.switchMusicSort(this.nextSortToPlay,!0,!0,!1)]),this.currentPlayingComponent.clip=this.currentMusic.clip,this.currentPlayingComponent.play(),this.currentPlayingComponent.currentTime=0,this.currentPlayingComponent.volume=c.MusicVolume*c._volumeScalePause,this.leftRepeat--},_.loadMusicDirectly=function(t,a){var e=this,i=t.length;i>0?t.forEach((function(t){var o=e.bgms[t];n.load("music/"+o.path,(function(t,e){t||P.loadRemote(e.nativeUrl,{audioLoadMode:u.AudioType.DOM_AUDIO},(function(t,e){i--;var S=_.bgms.indexOf(o);-1!=S&&(_.bgms[S].clip=e),t?console.log(t):console.log(o.path),i<=0&&a()}))}))})):a()},_.loadMusic=function(t,a,e,i){var o;void 0===e&&(e=!1),null!=(o=l.frontYardFeatures)&&o.length||!this.component||l.setFrontYardFeatures(this.component.lawnJson.json.LAWNS);var S=_.bgms.filter((function(_){var i;return(!_.clip||+(null==(i=_.clip)?void 0:i.refCount)<=0)&&(e||-1!=a.indexOf(_.world))&&_.type.some((function(_){return-1!=t.indexOf(_)}))})),r=S.length;r>0?S.forEach((function(t){n.load("music/"+t.path,(function(a,e){a||P.loadRemote(e.nativeUrl,{audioLoadMode:u.AudioType.DOM_AUDIO},(function(a,e){r--;var o=_.bgms.indexOf(t);-1!=o&&(_.bgms[o].clip=e),a?console.log(a):console.log(t.path),r<=0&&i()}))}))})):i()},_.unLoadMusic=function(){_.bgms.forEach((function(t){var _=t.clip;t.clip=null,_&&P.releaseAsset(_)}))},S.onLoad=function(){l.setFrontYardFeatures(this.lawnJson.json.LAWNS),this._audioSource=this.node.getChildByName("player1").getComponent(L),this._audioSourceReplay=this.node.getChildByName("player2").getComponent(L),this._insertedMusic=null,this._insertedMusicDuration=1/0,_.component=this,_.musicFeatures=this.musicJson.json.Musics,_.bgms.length<w.MusicAmount&&(_.bgms=[],_.musicFeatures.forEach((function(t,a){var e=new Y;e.name=t.name,e.type=t.type,e.world=t.world,e.path=t.path,e.musicLength=t.musicLength,_.bgms.push(e)})))},S.update=function(t){this.currentMusic&&this.currentPlayingComponent&&(this.currentPlayingComponent.volume=c.MusicVolume*c._volumeScalePause,this.leftRepeat>0&&(this.currentPlayingComponent.currentTime>=this.currentMusic.musicLength||this._insertedMusic&&this.currentPlayingComponent.currentTime>=this._insertedMusicDuration)&&(this._insertedMusic=null,this._insertedMusicDuration=1/0,this.changeLoopPlayer())),this.pianoCountDown>0&&d.gaming&&(this.pianoCountUp+=t,this.pianoCountDown-=t,this.pianoCountDown<=0?(this.switchMusic(this.currentWorldMusic,this.currentMusicSort,!0),this.currentPlayingComponent.currentTime=this.currentMusic.musicLength*Math.random()):this.currentMusicType!=w.Piano&&this.playBGM(w.Piano,!1))},S.start=function(){c._volumeScalePause=1},o(_,[{key:"BackgroundMusic",get:function(){return _.bgms}},{key:"audioSource",get:function(){return this._audioSource||(this._audioSource=this.node.getChildByName("player1").getComponent(L)),this._audioSource}},{key:"audioSourceReplay",get:function(){return this._audioSourceReplay||(this._audioSourceReplay=this.node.getChildByName("player2").getComponent(L)),this._audioSourceReplay}}]),_}(h)).bgms=[],D.musicFeatures=[],D.component=void 0,k=_((m=D).prototype,"musicJson",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=_(m.prototype,"lawnJson",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=m))||p));S._RF.pop()}}}));

System.register("chunks:///_virtual/SoundRescourses.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./NodePools.ts","./UI.ts"],(function(i){var e,t,a,n,l,o,r,p,s,u,c,h,y,f;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,a=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){l=i.cclegacy,o=i._decorator,r=i.AudioClip,p=i.AudioSource,s=i.assetManager,u=i.Component},function(i){c=i.MusicController,h=i.SoundFXController},function(i){y=i.ArrayGet},function(i){f=i.gamingSpeed}],execute:function(){var b,d,m,w,S,v,g,C,z,P,k,F,A,R,D,L,W,N,O,T,H,E,U,M,B,Z,x,G,I,_,j,V,X,Y,q,J,K,Q,$,ii,ei,ti,ai,ni,li,oi,ri,pi,si,ui,ci,hi,yi,fi,bi,di,mi,wi,Si,vi,gi,Ci,zi,Pi,ki,Fi,Ai,Ri,Di,Li,Wi,Ni,Oi,Ti,Hi,Ei,Ui,Mi,Bi,Zi,xi,Gi,Ii,_i,ji,Vi,Xi,Yi,qi,Ji,Ki,Qi,$i,ie,ee,te,ae,ne,le,oe,re,pe,se,ue,ce,he,ye,fe,be,de,me,we,Se,ve,ge,Ce,ze,Pe,ke,Fe,Ae,Re,De,Le,We,Ne,Oe,Te,He,Ee,Ue,Me,Be,Ze,xe,Ge,Ie,_e,je,Ve,Xe,Ye,qe,Je,Ke,Qe,$e,it,et,tt,at,nt,lt,ot,rt,pt,st,ut,ct,ht,yt,ft,bt,dt,mt,wt,St,vt,gt,Ct,zt,Pt,kt,Ft,At,Rt,Dt,Lt,Wt;l._RF.push({},"904d1auYeNBHZ5TOCP4aBg3","SoundRescourses",void 0);var Nt=o.ccclass,Ot=o.property,Tt=function(i,e,t,a){void 0===a&&(a=!1),this.clip=void 0,this.volume=1,this.cooldown=0,this.isMusic=!1,this.clip=i,this.isMusic=a,this.volume=e,this.cooldown=t},Ht=function(i,e,t){this.clips=void 0,this.volume=1,this.cooldown=0,this.clips=i,this.volume=e,this.cooldown=t},Et=i("sounds",function(){function i(){}return i.playLocateSound=function(){this.sr.playLocateSound()},i.playGiftboxOpenSound=function(){this.sr.playGiftboxOpenSound()},i.playSniperPlantCancelSound=function(){this.sr.playSniperPlantCancelSound()},i.playChillWindSound=function(){this.sr.playChillWindSound()},i.playPlantIceblockedSound=function(){this.sr.playPlantIceblockedSound()},i.playLavaIdle=function(){this.sr.playLavaIdle()},i.playLavaFade=function(){this.sr.playLavaFade()},i.playCameraMove=function(){this.sr.playCameraMove()},i.playAwooga=function(){this.sr.playAwooga()},i.playPlantBurn=function(){this.sr.playPlantBurn()},i.playReadySetPlant=function(){this.sr.playReadySetPlant()},i.playHugeWave=function(){this.sr.playHugeWave()},i.playFinalWave=function(){this.sr.playFinalWave()},i.playSeedChooserOn=function(){this.sr.playSeedChooserOn()},i.playSeedChooserOff=function(){this.sr.playSeedChooserOff()},i.playLetsRock=function(){this.sr.playLetsRock()},i.playButterOn=function(){this.sr.playButterOn()},i.playTombBreak=function(){this.sr.playTombBreak()},i.playTombRiseHeavy=function(){this.sr.playTombRiseHeavy()},i.playEmpSpark=function(){this.sr.playEmpSpark()},i.playZombieGulp=function(){this.sr.playZombieGulp()},i.playPowerToss=function(){this.sr.playPowerToss()},i.playZombieChew=function(i){this.sr.playzombieChew(i)},i.playTileShadowSpawn=function(){this.sr.playTileShadowSpawn()},i.playSeaSplash=function(){this.sr.playSeaSplash()},i.playWaterSplash=function(){this.sr.playWaterSplash()},i.playZombossHPFillStart=function(){this.sr.playZombossHPFillStart()},i.playZombossHPFilling=function(){this.sr.playZombossHPFilling()},i.playPlantFoodStart=function(){this.sr.playPlantFoodStart()},i.playZombieLie=function(){this.sr.playZombieLie()},i.playZombieLimbPop=function(){this.sr.playZombieLimbPop()},i.playCardChooseFailed=function(i){void 0===i&&(i=!1),this.sr.playCardChooseFailed(i)},i.playCardCancel=function(){this.sr.playCardCancel()},i.playCardChosen=function(){this.sr.playCardChosen()},i.playRightButtonCancel=function(){this.sr.playRightButtonCancel()},i.playShovelActive=function(){this.sr.playShovelActive()},i.playSpeedUp=function(){this.sr.playSpeedUp()},i.playPlantOnWater=function(){this.sr.playPlantOnWater()},i.playRhythmHit=function(){this.sr.playRhythmHit()},i.playPlantOnFloor=function(){this.sr.playPlantOnFloor()},i.playShovelDig=function(){this.sr.playShovelDig()},i.playPlantThrow=function(){this.sr.playPlantThrow()},i.playShovelDigWater=function(){this.sr.playShovelDigWater()},i.playZombieShock=function(i){void 0===i&&(i=!1),this.sr.playZombieShock(i)},i.playGargantuarAsh=function(){this.sr.playGargantuarAsh()},i.playLevelExit=function(){this.sr.playLevelExit()},i.playDirtRise=function(i,e){void 0===i&&(i=!1),void 0===e&&(e=!0),this.sr.playDirtRise(i,e)},i.playTombRiseMagical=function(){this.sr.playTombRiseMagical()},i.playSpudow=function(){this.sr.playSpudow()},i.playPlantStrengthen=function(){this.sr.playPlantStrengthen()},i.playExplosion=function(){this.sr.playExplosion()},i.playArmorHitPlastic=function(){this.sr.playArmorHitPlastic()},i.playArmorHitShield=function(){this.sr.playArmorHitShield()},i.playConveyorArrive=function(){this.sr.playConveyorArrive()},i.playPause=function(){this.sr.playPause()},i.playWorldMapStart=function(){this.sr.playWorldMapStart()},i.playWorldEnterWind=function(){this.sr.playWorldEnterWind()},i.playSandStormWarn=function(){this.sr.playSandStormWarn()},i.playReadyOrSet=function(){this.sr.playReadyOrSet()},i.playPowerUpCD=function(i){this.sr.playPowerUpCD(i)},i.playPowerUpStart=function(i){this.sr.playPowerUpStart(i)},i.playBirdExpl=function(){this.sr.playBirdExpl()},i.playGemSpawn=function(){this.sr.playGemSpawn()},i.playZombieFart=function(){this.sr.playZombieFart()},i.playLevelTaskComplete=function(){this.sr.playLevelTaskComplete()},i.playLevelTaskFail=function(){this.sr.playLevelTaskFail()},i.playLevelTaskWarn=function(){this.sr.playLevelTaskWarn()},i.playMowerSpawn=function(){this.sr.playMowerSpawn()},i.playLevelEnter=function(){this.sr.playLevelEnter()},i.playPlantNodeUnlock=function(){this.sr.playPlantNodeUnlock()},i.playLevelPathPush=function(){this.sr.playLevelPathPush()},i.playPortalStart=function(){this.sr.playPortalStart()},i.playPortalLoop=function(){this.sr.playPortalLoop()},i.playPortalEnd=function(){this.sr.playPortalEnd()},i.playLevelNodeReveal=function(i){this.sr.playLevelNodeReveal(i)},i.playLevelNodeFinish=function(i){this.sr.playLevelNodeFinish(i)},i.play=function(i,e,t,a,n,l){void 0===e&&(e=1),void 0===t&&(t=NaN),void 0===a&&(a=.5),void 0===n&&(n=!1),void 0===l&&(l=!1),i&&this.sr.play(i,e,t,a,n,l)},i.playArray=function(i,e,t,a){void 0===e&&(e=1),void 0===t&&(t=NaN),void 0===a&&(a=.5),null!=i&&i.length&&this.sr.playArray(i,e,t,a)},i}());Et.sr=void 0;i("SoundRescourses",(b=Nt("SoundRescourses"),d=Ot(r),m=Ot([r]),w=Ot(r),S=Ot(r),v=Ot([r]),g=Ot([r]),C=Ot(r),z=Ot(r),P=Ot(r),k=Ot(r),F=Ot(r),A=Ot(r),R=Ot(r),D=Ot(r),L=Ot([r]),W=Ot([r]),N=Ot([r]),O=Ot([r]),T=Ot(r),H=Ot([r]),E=Ot([r]),U=Ot(p),M=Ot(r),B=Ot([r]),Z=Ot([r]),x=Ot(r),G=Ot([r]),I=Ot([r]),_=Ot([r]),j=Ot([r]),V=Ot([r]),X=Ot(r),Y=Ot(r),q=Ot(r),J=Ot(r),K=Ot(r),Q=Ot(r),$=Ot(r),ii=Ot(r),ei=Ot(r),ti=Ot(r),ai=Ot([r]),ni=Ot([r]),li=Ot(r),oi=Ot([r]),ri=Ot([r]),pi=Ot(r),si=Ot(r),ui=Ot(r),ci=Ot([r]),hi=Ot(r),yi=Ot([r]),fi=Ot([r]),bi=Ot([r]),di=Ot([r]),mi=Ot([r]),wi=Ot([r]),Si=Ot(r),vi=Ot(r),gi=Ot(r),Ci=Ot(r),zi=Ot(r),Pi=Ot(r),ki=Ot(r),Fi=Ot(r),Ai=Ot(r),Ri=Ot(r),Di=Ot([r]),Li=Ot(r),Wi=Ot(r),Ni=Ot(r),Oi=Ot(r),Ti=Ot([r]),Hi=Ot(r),Ei=Ot(r),Ui=Ot(r),Mi=Ot(r),Bi=Ot(r),Zi=Ot(r),xi=Ot(r),Gi=Ot(r),Ii=Ot(r),_i=Ot([r]),ji=Ot([r]),Vi=Ot([r]),Xi=Ot([r]),Yi=Ot([r]),qi=Ot([r]),b((Qi=e((Ki=function(i){function e(){for(var e,t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return e=i.call.apply(i,[this].concat(l))||this,a(e,"plantFoodStart",Qi,n(e)),a(e,"zombieLie",$i,n(e)),a(e,"zombieLimbPop",ie,n(e)),a(e,"seaSplash",ee,n(e)),a(e,"waterSplash",te,n(e)),a(e,"zombossHPFilling",ae,n(e)),a(e,"zombossHPFillStart",ne,n(e)),a(e,"cardChooseFailed",le,n(e)),e.cardChooseFailedCD=0,a(e,"cardChosen",oe,n(e)),a(e,"cardCancel",re,n(e)),a(e,"rightButtonCancel",pe,n(e)),a(e,"shovelActive",se,n(e)),a(e,"speedUp",ue,n(e)),a(e,"speedLower",ce,n(e)),a(e,"shovelDig",he,n(e)),a(e,"plantThrow",ye,n(e)),a(e,"shovelDigWater",fe,n(e)),a(e,"plantOnWater",be,n(e)),a(e,"rhythmHit",de,n(e)),a(e,"plantOnFloor",me,n(e)),a(e,"tileShadowSpawn",we,n(e)),a(e,"audioSource0",Se,n(e)),e.coolingDownSounds=[],e.coolingDownSoundArrays=[],e.tickPlaySounds=[],e.tickPlaySoundArrays=[],a(e,"levelExit",ve,n(e)),a(e,"zombieShock",ge,n(e)),a(e,"gargantuarShock",Ce,n(e)),a(e,"gargantuarAsh",ze,n(e)),a(e,"dirtRise",Pe,n(e)),a(e,"dirtRiseHeavy",ke,n(e)),e.dirtRiseCooldown=0,a(e,"tombRiseMagical",Fe,n(e)),a(e,"spudow",Ae,n(e)),a(e,"explosion",Re,n(e)),a(e,"plantStrengthen",De,n(e)),a(e,"cameraMove",Le,n(e)),a(e,"plantBurn",We,n(e)),a(e,"awooga",Ne,n(e)),a(e,"hugeWave",Oe,n(e)),a(e,"finalWave",Te,n(e)),a(e,"readySetPlant",He,n(e)),a(e,"seedChooserOn",Ee,n(e)),a(e,"seedChooserOff",Ue,n(e)),a(e,"letsRock",Me,n(e)),a(e,"butterOn",Be,n(e)),a(e,"tombBreak",Ze,n(e)),a(e,"tombRiseHeavy",xe,n(e)),a(e,"lavaIdle",Ge,n(e)),a(e,"lavaFade",Ie,n(e)),a(e,"giftboxOpenSound",_e,n(e)),a(e,"locateSound",je,n(e)),a(e,"sniperPlantCancelSound",Ve,n(e)),a(e,"plantIceBlocked",Xe,n(e)),a(e,"chillWind",Ye,n(e)),e.audioSource=void 0,a(e,"zombieChew",qe,n(e)),e.zombieChewCoolDown=0,a(e,"empSpark",Je,n(e)),e.empSparkCoolDown=0,a(e,"zombieGulp",Ke,n(e)),a(e,"powerToss",Qe,n(e)),a(e,"armorHitPlastic",$e,n(e)),a(e,"armorHitShield",it,n(e)),a(e,"conveyorArrive",et,n(e)),a(e,"pause",tt,n(e)),a(e,"worldMapStart",at,n(e)),a(e,"worldMapEnterWind",nt,n(e)),a(e,"sandStormWarn",lt,n(e)),a(e,"readyOrSet",ot,n(e)),a(e,"portalStart",rt,n(e)),a(e,"portalLoop",pt,n(e)),a(e,"portalEnd",st,n(e)),a(e,"powerUpEnd",ut,n(e)),a(e,"powerUpCD",ct,n(e)),a(e,"powerUpSnowStart",ht,n(e)),a(e,"powerUpCherryStart",yt,n(e)),a(e,"powerUpWizardStart",ft,n(e)),a(e,"powerUpFlameStart",bt,n(e)),a(e,"birdExpl",dt,n(e)),a(e,"gemSpawn",mt,n(e)),a(e,"zombieFart",wt,n(e)),a(e,"levelTaskComplete",St,n(e)),a(e,"levelTaskFail",vt,n(e)),a(e,"levelTaskWarn",gt,n(e)),a(e,"mowerSpawn",Ct,n(e)),a(e,"levelEnter",zt,n(e)),a(e,"plantNodeUnlock",Pt,n(e)),a(e,"levelPathPush",kt,n(e)),a(e,"levelNodeReveal",Ft,n(e)),a(e,"levelNodeGargReveal",At,n(e)),a(e,"levelNodeZombossReveal",Rt,n(e)),a(e,"levelNodeFinish",Dt,n(e)),a(e,"levelNodeGargFinish",Lt,n(e)),a(e,"levelNodeZombossFinish",Wt,n(e)),e}t(e,i);var l=e.prototype;return l.playPlantFoodStart=function(){Et.play(this.plantFoodStart,1,.1)},l.playZombieLie=function(){this.play(y.getRandom(this.zombieLie),1,.2)},l.playZombieLimbPop=function(){this.play(this.zombieLimbPop)},l.playSeaSplash=function(){this.play(this.seaSplash,1,.1)},l.playWaterSplash=function(){this.playArray(this.waterSplash,1,.1)},l.playZombossHPFilling=function(){this.playArray(this.zombossHPFilling,1,.1)},l.playZombossHPFillStart=function(){this.play(this.zombossHPFillStart,1,.1)},l.playCardChooseFailed=function(i){void 0===i&&(i=!1),(!i||this.cardChooseFailedCD<=0)&&(this.play(this.cardChooseFailed,1,0),this.cardChooseFailedCD=.5)},l.playCardChosen=function(){this.play(this.cardChosen,1,.02)},l.playCardCancel=function(){this.play(this.cardCancel,1,0)},l.playRightButtonCancel=function(){this.play(this.rightButtonCancel,1,0)},l.playShovelActive=function(){this.play(this.shovelActive,1,.01)},l.playSpeedUp=function(){1==f?this.play(this.speedLower,1,0):this.play(this.speedUp,1,0)},l.playShovelDig=function(){this.playArray(this.shovelDig,1,.1)},l.playPlantThrow=function(){this.playArray(this.plantThrow,1,.1)},l.playShovelDigWater=function(){this.playArray(this.shovelDigWater,1,.1)},l.playPlantOnWater=function(){this.playArray(this.plantOnWater,1,.1)},l.playRhythmHit=function(){this.play(this.rhythmHit,.4,0)},l.playPlantOnFloor=function(){this.playArray(this.plantOnFloor,1,.1)},l.playTileShadowSpawn=function(){this.playArray(this.tileShadowSpawn,1,NaN,.5)},l.update=function(i){this.empSparkCoolDown>0&&(this.empSparkCoolDown-=.01667),this.empSparkCoolDown<0&&(this.empSparkCoolDown=0),this.cardChooseFailedCD>0&&(this.cardChooseFailedCD-=.01667),this.cardChooseFailedCD<0&&(this.cardChooseFailedCD=0),this.dirtRiseCooldown>0&&(this.dirtRiseCooldown-=.01667),this.dirtRiseCooldown<0&&(this.dirtRiseCooldown=0),this.zombieChewCoolDown>0&&(this.zombieChewCoolDown-=.01667),this.zombieChewCoolDown<0&&(this.zombieChewCoolDown=0)},l.playOneShot=function(i,e,t){var a=this;if(void 0===t&&(t=h.SoundFXVolume),this.audioSource.volume=1,e>1)e=1;else if(e<=0)return;i&&s.loadRemote(i.nativeUrl,{audioLoadMode:r.AudioType.DOM_AUDIO},(function(i,n){n&&a.audioSource.playOneShot(n,t*e)}))},l.lateUpdate=function(i){var e=this;this.tickPlaySounds.forEach((function(i){i&&e.playOneShot(i.clip,i.volume,i.isMusic?c.MusicVolume:h.SoundFXVolume)})),this.tickPlaySounds=[],this.coolingDownSounds.concat().forEach((function(i){if(i.cooldown>0&&(i.cooldown-=.01667),i.cooldown<=0){var t=e.coolingDownSounds.indexOf(i);-1!=t&&e.coolingDownSounds.splice(t,1)}})),this.tickPlaySoundArrays.forEach((function(i){i&&e.playOneShot(y.getRandom(i.clips),i.volume)})),this.tickPlaySoundArrays=[],this.coolingDownSoundArrays.concat().forEach((function(i){if(i.cooldown>0&&(i.cooldown-=.01667),i.cooldown<=0){var t=e.coolingDownSoundArrays.indexOf(i);-1!=t&&e.coolingDownSoundArrays.splice(t,1)}}))},l.playLevelExit=function(){Et.play(this.levelExit)},l.playZombieShock=function(i){void 0===i&&(i=!1),this.playArray(i?this.gargantuarShock:this.zombieShock,1,.1)},l.playGargantuarAsh=function(){this.play(this.gargantuarAsh,1,.1)},l.playDirtRise=function(i,e){void 0===e&&(e=!0),(this.dirtRiseCooldown<=0||!e)&&(this.playArray(i?this.dirtRiseHeavy:this.dirtRise),this.dirtRiseCooldown=1)},l.playTombRiseMagical=function(){this.playArray(this.tombRiseMagical,1,.1)},l.playSpudow=function(){this.playArray(this.spudow,1,.1)},l.playExplosion=function(){this.playArray(this.explosion,1,.1)},l.playPlantStrengthen=function(){this.play(this.plantStrengthen,2,.1)},l.playCameraMove=function(){this.play(this.cameraMove,1,.1)},l.playPlantBurn=function(){this.play(this.plantBurn)},l.playAwooga=function(){this.play(this.awooga,1,0)},l.playHugeWave=function(){this.play(this.hugeWave,1,0)},l.playFinalWave=function(){this.play(this.finalWave,1,0)},l.playReadySetPlant=function(){this.play(this.readySetPlant,1,0)},l.playSeedChooserOn=function(){this.play(this.seedChooserOn,1,0)},l.playSeedChooserOff=function(){this.play(this.seedChooserOff,1,0)},l.playLetsRock=function(){this.play(this.letsRock,1,0)},l.playButterOn=function(){this.play(y.getRandom(this.butterOn))},l.playTombBreak=function(){this.play(y.getRandom(this.tombBreak))},l.playTombRiseHeavy=function(){this.play(this.tombRiseHeavy,1,.1)},l.playLavaIdle=function(){this.playArray(this.lavaIdle,1,5*Math.random()+2.5)},l.playLavaFade=function(){this.playArray(this.lavaFade,1,.5)},l.playGiftboxOpenSound=function(){this.play(this.giftboxOpenSound,1,.1)},l.playLocateSound=function(){this.play(this.locateSound,1,.1)},l.playSniperPlantCancelSound=function(){this.play(this.sniperPlantCancelSound,1,.1)},l.playPlantIceblockedSound=function(){this.playArray(this.plantIceBlocked,1,.1)},l.playChillWindSound=function(){this.play(this.chillWind,1,.1)},l.onLoad=function(){Et.sr=this,this.getComponent(p)||this.addComponent(p),this.audioSource=this.getComponent(p)},l.playzombieChew=function(i){if(void 0===i&&(i=[]),0==this.zombieChewCoolDown){var e=y.getRandom(i);e||(e=y.getRandom(this.zombieChew)),this.play(e,1,0),this.zombieChewCoolDown=.5}},l.playEmpSpark=function(){if(0==this.empSparkCoolDown){var i=y.getRandom(this.empSpark);this.play(i,1,.1),this.empSparkCoolDown=.4*Math.random()}},l.playZombieGulp=function(){this.playArray(this.zombieGulp)},l.playPowerToss=function(){this.playArray(this.powerToss,1,NaN,.2)},l.playArmorHitPlastic=function(){this.playArray(this.armorHitPlastic,1,NaN,1)},l.playArmorHitShield=function(){this.playArray(this.armorHitShield,1)},l.playConveyorArrive=function(){this.play(this.conveyorArrive,1,.1)},l.playPause=function(){this.play(this.pause,1,.1)},l.playWorldMapStart=function(){this.play(this.worldMapStart,1,.1)},l.playWorldEnterWind=function(){this.play(this.worldMapEnterWind,1,.1)},l.playSandStormWarn=function(){this.play(this.sandStormWarn,1,.1)},l.playReadyOrSet=function(){this.play(this.readyOrSet,1,.1)},l.playPortalStart=function(){this.play(this.portalStart,1,.2)},l.playPortalLoop=function(){this.play(this.portalLoop,1,NaN,.8)},l.playPortalEnd=function(){this.play(this.portalEnd,1,.2)},l.playPowerUpCD=function(i){if(i<=0)this.play(this.powerUpEnd,1,.1);else if(this.powerUpCD.length>0){var e=Math.ceil(i*(this.powerUpCD.length-1));this.play(this.powerUpCD[this.powerUpCD.length-1-e])}},l.playPowerUpStart=function(i){switch(i){case 0:this.play(this.powerUpFlameStart,1,.1);break;case 1:this.play(this.powerUpSnowStart,1,.1);break;case 3:this.play(this.powerUpWizardStart,1,.1);break;case 4:this.play(this.powerUpCherryStart,1,.1)}},l.playBirdExpl=function(){this.playArray(this.birdExpl)},l.playGemSpawn=function(){this.play(this.gemSpawn,1,.1)},l.playZombieFart=function(){this.play(this.zombieFart,1,.1)},l.playLevelTaskComplete=function(){this.play(this.levelTaskComplete,1,.02)},l.playLevelTaskFail=function(){this.play(this.levelTaskFail,1,.02)},l.playLevelTaskWarn=function(){this.play(this.levelTaskWarn,1,.5)},l.playMowerSpawn=function(){this.play(this.mowerSpawn,1,.02)},l.playLevelEnter=function(){this.play(this.levelEnter,1,.02)},l.playPlantNodeUnlock=function(){this.play(this.plantNodeUnlock,1,.02)},l.playLevelPathPush=function(){this.play(this.levelPathPush,1,.4)},l.playLevelNodeReveal=function(i){var e=this.levelNodeReveal;switch(i){case 2:e=this.levelNodeGargReveal;break;case 3:e=this.levelNodeZombossReveal}this.playArray(e,1,.1)},l.playLevelNodeFinish=function(i){var e=this.levelNodeFinish;switch(i){case 2:e=this.levelNodeGargFinish;break;case 3:e=this.levelNodeZombossFinish}this.playArray(e,1,.1)},l.play=function(i,e,t,a,n,l){if(void 0===e&&(e=1),void 0===t&&(t=NaN),void 0===a&&(a=.5),void 0===n&&(n=!1),void 0===l&&(l=!1),i&&isNaN(t)&&(t=i.getDuration()*a),i){for(var o=0;o<this.coolingDownSounds.length;o++)if(this.coolingDownSounds[o].clip==i)return;for(var r=0;r<this.tickPlaySounds.length;r++)if(this.tickPlaySounds[r].clip==i)return void(l||(this.tickPlaySounds[r].volume=Math.min(1,this.tickPlaySounds[r].volume+e)));t<0&&(t=0);var p=new Tt(i,e,t,n);this.tickPlaySounds.push(p),t>0&&this.coolingDownSounds.push(p)}},l.playArray=function(i,e,t,a){if(void 0===e&&(e=1),void 0===t&&(t=NaN),void 0===a&&(a=.5),null!=i&&i.length&&isNaN(t)&&(t=i[0].getDuration()*a),null!=i&&i.length){for(var n=0;n<this.coolingDownSoundArrays.length;n++)if(y.judgeSame(this.coolingDownSoundArrays[n].clips,i))return;for(var l=0;l<this.tickPlaySoundArrays.length;l++)if(y.judgeSame(this.tickPlaySoundArrays[l].clips,i))return void(this.tickPlaySoundArrays[l].volume=Math.min(1,this.tickPlaySoundArrays[l].volume+e));t<=0&&(t=0);var o=new Ht(i,e,t);this.tickPlaySoundArrays.push(o),t>0&&this.coolingDownSoundArrays.push(o)}},e}(u)).prototype,"plantFoodStart",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$i=e(Ki.prototype,"zombieLie",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=e(Ki.prototype,"zombieLimbPop",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=e(Ki.prototype,"seaSplash",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=e(Ki.prototype,"waterSplash",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=e(Ki.prototype,"zombossHPFilling",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=e(Ki.prototype,"zombossHPFillStart",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=e(Ki.prototype,"cardChooseFailed",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=e(Ki.prototype,"cardChosen",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=e(Ki.prototype,"cardCancel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=e(Ki.prototype,"rightButtonCancel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=e(Ki.prototype,"shovelActive",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=e(Ki.prototype,"speedUp",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=e(Ki.prototype,"speedLower",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=e(Ki.prototype,"shovelDig",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ye=e(Ki.prototype,"plantThrow",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=e(Ki.prototype,"shovelDigWater",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),be=e(Ki.prototype,"plantOnWater",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),de=e(Ki.prototype,"rhythmHit",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=e(Ki.prototype,"plantOnFloor",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),we=e(Ki.prototype,"tileShadowSpawn",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Se=e(Ki.prototype,"audioSource0",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=e(Ki.prototype,"levelExit",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=e(Ki.prototype,"zombieShock",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ce=e(Ki.prototype,"gargantuarShock",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ze=e(Ki.prototype,"gargantuarAsh",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=e(Ki.prototype,"dirtRise",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ke=e(Ki.prototype,"dirtRiseHeavy",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Fe=e(Ki.prototype,"tombRiseMagical",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ae=e(Ki.prototype,"spudow",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Re=e(Ki.prototype,"explosion",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),De=e(Ki.prototype,"plantStrengthen",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=e(Ki.prototype,"cameraMove",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=e(Ki.prototype,"plantBurn",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=e(Ki.prototype,"awooga",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=e(Ki.prototype,"hugeWave",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=e(Ki.prototype,"finalWave",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=e(Ki.prototype,"readySetPlant",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=e(Ki.prototype,"seedChooserOn",[ii],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=e(Ki.prototype,"seedChooserOff",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=e(Ki.prototype,"letsRock",[ti],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=e(Ki.prototype,"butterOn",[ai],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ze=e(Ki.prototype,"tombBreak",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xe=e(Ki.prototype,"tombRiseHeavy",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=e(Ki.prototype,"lavaIdle",[oi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ie=e(Ki.prototype,"lavaFade",[ri],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_e=e(Ki.prototype,"giftboxOpenSound",[pi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=e(Ki.prototype,"locateSound",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=e(Ki.prototype,"sniperPlantCancelSound",[ui],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=e(Ki.prototype,"plantIceBlocked",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ye=e(Ki.prototype,"chillWind",[hi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=e(Ki.prototype,"zombieChew",[yi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Je=e(Ki.prototype,"empSpark",[fi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ke=e(Ki.prototype,"zombieGulp",[bi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Qe=e(Ki.prototype,"powerToss",[di],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$e=e(Ki.prototype,"armorHitPlastic",[mi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),it=e(Ki.prototype,"armorHitShield",[wi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),et=e(Ki.prototype,"conveyorArrive",[Si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(Ki.prototype,"pause",[vi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(Ki.prototype,"worldMapStart",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(Ki.prototype,"worldMapEnterWind",[Ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=e(Ki.prototype,"sandStormWarn",[zi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e(Ki.prototype,"readyOrSet",[Pi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(Ki.prototype,"portalStart",[ki],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=e(Ki.prototype,"portalLoop",[Fi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=e(Ki.prototype,"portalEnd",[Ai],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=e(Ki.prototype,"powerUpEnd",[Ri],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=e(Ki.prototype,"powerUpCD",[Di],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ht=e(Ki.prototype,"powerUpSnowStart",[Li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=e(Ki.prototype,"powerUpCherryStart",[Wi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=e(Ki.prototype,"powerUpWizardStart",[Ni],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=e(Ki.prototype,"powerUpFlameStart",[Oi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=e(Ki.prototype,"birdExpl",[Ti],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mt=e(Ki.prototype,"gemSpawn",[Hi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=e(Ki.prototype,"zombieFart",[Ei],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=e(Ki.prototype,"levelTaskComplete",[Ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=e(Ki.prototype,"levelTaskFail",[Mi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=e(Ki.prototype,"levelTaskWarn",[Bi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=e(Ki.prototype,"mowerSpawn",[Zi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt=e(Ki.prototype,"levelEnter",[xi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=e(Ki.prototype,"plantNodeUnlock",[Gi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=e(Ki.prototype,"levelPathPush",[Ii],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=e(Ki.prototype,"levelNodeReveal",[_i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),At=e(Ki.prototype,"levelNodeGargReveal",[ji],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Rt=e(Ki.prototype,"levelNodeZombossReveal",[Vi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Dt=e(Ki.prototype,"levelNodeFinish",[Xi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Lt=e(Ki.prototype,"levelNodeGargFinish",[Yi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wt=e(Ki.prototype,"levelNodeZombossFinish",[qi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ji=Ki))||Ji));l._RF.pop()}}}));

System.register("chunks:///_virtual/SoundsController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./SettingWindow.ts"],(function(t){var n,i,o,s,e,u,a;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator,s=t.find},function(t){e=t.musicType,u=t.SoundManager},function(t){a=t.Setting}],execute:function(){i._RF.push({},"48b91/HEXVLkrHSK09gtryZ","SoundsController",void 0);o.ccclass,o.property;var c=function(){function t(){}return t.Instance=function(){return t.instance||(t.instance=new t),t.instance},t}();c.instance=void 0,c.totalVolume=1,t("SoundFXController",function(t){function i(){return t.apply(this,arguments)||this}return n(i,t),i.setSoundFxVolume=function(t){this.SoundFXVolume=t*this.totalVolume,a.saveSettings()},i}(c)).SoundFXVolume=1;var r=t("MusicController",function(t){function i(){return t.apply(this,arguments)||this}return n(i,t),i.soundManager=function(){return u.component?u.component:s("Resources/Music").getComponent(u)},i.insertMusic=function(t){this.soundManager().insertMusic(t)},i.playMusic=function(t,n){void 0===n&&(n=!1),this.soundManager().playBGM(t,n)},i.switchMusic=function(t,n){this.soundManager().switchMusic(t,n,!1,!1,!0,this.soundManager().isJam)},i.switchWorldMusic=function(t,n){void 0===n&&(n=!1),this.soundManager().switchWorldMusic(t,!0,n)},i.switchMusicSort=function(t,n,i,o,s){void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===o&&(o=!0),void 0===s&&(s=!1),s&&(this.soundManager().isJam=!1),this.soundManager().switchMusicSort(t,n,i,o)},i.pauseMusic=function(){this.soundManager().pauseBGM()},i.resumeMusic=function(){this.soundManager().resumeBGM()},i.setMusicVolume=function(t){this.MusicVolume=t*this.totalVolume,a.saveSettings()},i}(c));r.discoPlayed=!1,r.PunkList=[e.Punk_LP,e.Punk_Start],r.PopList=[e.Pop_LP0,e.Pop_LP1,e.Pop_LP2,e.Pop_LP3],r.RapList=[e.Rap_LP0,e.Rap_LP1,e.Rap_LP2,e.Rap_LP3],r.EightBitList=[e.EightBit_LP],r.BalladList=[e.Ballad_LP,e.Ballad_Start],r.MetalList=[e.Metal_Start0,e.Metal_Start1,e.Metal_LP0,e.Metal_LP1,e.Metal_LP2,e.Metal_LP3,e.Metal_LP4,e.Metal_LP5],r.MusicVolume=1,r._volumeScalePause=1,i._RF.pop()}}}));

System.register("chunks:///_virtual/Spikerock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Spikeweed.ts"],(function(e){var t,i,s,n,a,p;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,s=e._decorator},function(e){n=e.spikeweed,a=e.SpikeweedPlant,p=e.SpikeweedProps}],execute:function(){var o;i._RF.push({},"41857lcip1ILqlkdZGd44Ij","Spikerock",void 0);var l=s.ccclass,r=(s.property,function(e){function i(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).MaxSpike=3,t}return t(i,e),i}(p));e("SpikerockPlant",l("SpikerockPlant")(o=function(e){function i(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).spikeLeft=3,t._objdataOwn=new r,t}t(i,e);var s=i.prototype;return s.normalSmash=function(e){var t=this._objdataOwn.Damage;this._dmgScale&&(t*=this._dmgScale),n.stabOnZombie(null,e,t),this.fooding||this.invincible||this.setSpikeSlot(this.spikeLeft-1)},s.specialSpikeweedOnEnable=function(){this.setSpikeSlot()},s.specialSpikeweedFood=function(){this.setSpikeSlot()},s.replantable=function(){return this.spikeLeft<this._objdataOwn.MaxSpike},s.replant=function(){this.setSpikeSlot(this._objdataOwn.MaxSpike)},s.setSpikeSlot=function(e){void 0===e&&(e=this._objdataOwn.MaxSpike);var t,i=this.anmControl.body.armature();switch(e){case 2:i.getSlot("spikeL")._setDisplayIndex(0),i.getSlot("spikeM")._setDisplayIndex(0),i.getSlot("spikeR")._setDisplayIndex(-1),this.spikeLeft=2;break;case 1:i.getSlot("spikeL")._setDisplayIndex(0),i.getSlot("spikeM")._setDisplayIndex(-1),i.getSlot("spikeR")._setDisplayIndex(-1),this.spikeLeft=1;break;case 0:i.getSlot("spikeL")._setDisplayIndex(-1),i.getSlot("spikeM")._setDisplayIndex(-1),i.getSlot("spikeR")._setDisplayIndex(-1),this.spikeLeft=0,this.die();break;default:i.getSlot("spikeL")._setDisplayIndex(0),i.getSlot("spikeM")._setDisplayIndex(0),i.getSlot("spikeR")._setDisplayIndex(0),this.spikeLeft=3}this.dead||(null==(t=this.plantInLnC)||t.readIndex())},i}(a))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/Spikeweed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Zombie.ts","./LnC.ts","./Square.ts","./NodePools.ts","./Zombies.ts","./SoundRescourses.ts"],(function(t){var n,e,o,i,a,s,r,l,c,d,u,f,p,h,b,m,S,y,g,P,k;return{setters:[function(t){n=t.inheritsLoose,e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.AudioClip,l=t.Prefab,c=t.Vec2,d=t.Vec3,u=t.dragonBones},function(t){f=t.PlantProps,p=t.Plant},function(t){h=t.Rectangle},function(t){b=t.ZombieDamageDetails,m=t.zombieDamageType},function(t){S=t.TileType},function(t){y=t.Square},function(t){g=t.NodePools},function(t){P=t.ZombieEnum},function(t){k=t.sounds}],execute:function(){var w,D,_,v,O,A,C,E,R,L,Z,j,z,F,x,T;a._RF.push({},"4a5dc2VkfZMjLpTKsKE4QSn","Spikeweed",void 0);var q=s.ccclass,I=s.property,M=t("spikeweed",function(){function t(){}return t.stabOnZombie=function(t,n,e){switch(null==n?void 0:n.ID){case P.modern_sleighCart:n.body.DeathAnm=Math.random()>.3?"Death":"Lie";case P.pirate_barrel:case P.cowboy_piano:case P.modern_catapult:null==n||n.playDie(),null==t||t.normalSmash(n);break;default:null==n||n.dealDamage(new b(e,!0,!1,!0,null,m.physicle))}},t}()),B=t("SpikeweedProps",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).Damage=10,n.AttackInterval=.5,n.PlantfoodDuration=5,n.PlantfoodDPS=400,n.PlantfoodSideDPS=20,n.PlantfoodDragSPS=3,n}return n(e,t),e}(f)),N=t("spikeweedSound",(w=q("spikeweedSound"),D=I([r]),_=I([r]),v=I([r]),w((C=e((A=function(){function t(){o(this,"attackSound",C,this),o(this,"foodSound",E,this),o(this,"foodEndSound",R,this)}var n=t.prototype;return n.playAttackSound=function(){k.playArray(this.attackSound,1,.2)},n.playFoodSound=function(){k.playArray(this.foodSound,1,.1)},n.playFoodEndSound=function(){k.playArray(this.foodEndSound,1,.1)},t}()).prototype,"attackSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=e(A.prototype,"foodSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(A.prototype,"foodEndSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=A))||O));t("SpikeweedPlant",(L=q("SpikeweedPlant"),Z=I(l),j=I(N),L((x=e((F=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return(n=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new B,o(n,"pfSpikeParticle",x,i(n)),n.detector=h.createRectangleCenter(new c(2,2),2,2),o(n,"soundRes",T,i(n)),n.foodSpikes=[],n.attacking=!1,n.busy=0,n}n(e,t);var a=e.prototype;return a.animationListener=function(t){var n=this;"attack"==t.name&&(this.inLane.zombiePool().forEach((function(t){if(!t.flying&&t.bodyRec.judgeCrossRec(n.detector)){var e=n._objdataOwn.Damage;n._dmgScale&&(e*=n._dmgScale),n.damageOnZombie(t,e)}})),this.attacking=!1)},a.setDetector=function(t){this.detector=h.createRectangleNodeCenter(t.node,y.SquareDisW,y.SquareDisH)},a.specialPlantOnSquareChange=function(t,n){this.setDetector(n)},a.specialSpikeweedFood=function(){},a.specialPlantFood=function(t){this.foodSpikes=[],this.anmControl.playAnimation("Food",1/0),this.scheduleOnce(this.foodEnd,this._objdataOwn.PlantfoodDuration),this.soundRes.playFoodSound();for(var n=0;n<=8;n++){var e=y.getLnC(this.inLnC.lIndex,n);if(e&&e!=this.inLnC&&(e.getTileType()==S.deck||e.getTileType()==S.floor)){var o=g.instantiatePooly(this.pfSpikeParticle);o.parent=e.inLane.prjLayer,o.worldPosition=new d(e.plantPoint.worldPosition.x,e.inLane.floorY-5,10),o.getComponent(u.ArmatureDisplay).playAnimation("Idle"),this.foodSpikes.push(o.getComponent(u.ArmatureDisplay))}}this.specialSpikeweedFood()},a.specialPlantFoodEnd=function(){this.foodSpikes.forEach((function(t){t.playAnimation("Die")})),this.foodSpikes=[],this.anmControl.playRandom(),this.soundRes.playFoodEndSound()},a.attackAnimation=function(){this.attacking=!0,this.soundRes.playAttackSound(),this.anmControl.playAnimation("Attack",1,0,Math.max(1,.5/this.busy))},a.specialPlantOnEaten=function(t,n,e,o){M.stabOnZombie(this,n,.05*t)},a.detectZombie=function(){var t=this,n=!1;return this.inLane.zombiePool().forEach((function(e){n||!e.flying&&t.detector.judgeCrossRec(e.bodyRec)&&(n=!0)})),n},a.specialPlantUpdate=function(t,n,e){var o=this;if(this.busy>0&&(this.busy-=t),this.busy<=0&&(this.busy=0,!this.fooding&&this.detectZombie())){var i=this._objdataOwn.AttackInterval;this._cdScale&&(i*=this._cdScale),i=Math.max(.1,i),this.busy=i,this.attackAnimation()}if(this.fooding){var a=this._objdataOwn.PlantfoodSideDPS*t,s=this._objdataOwn.PlantfoodDPS*t;this._dmgScale&&(s*=this._dmgScale,a*=this._dmgScale),this.inLane.zombiePool().forEach((function(n){if(!n.flying)if(n.stun(.2),o.damageOnZombie(n,a),n.bodyRec.judgeCrossRec(o.detector))o.damageOnZombie(n,s);else if(n.knockBackable){var e=o._objdataOwn.PlantfoodDragSPS*t*y.SquareDisW;n.node.worldPosition.x>o.node.worldPosition.x?n.worldPositionX-=e:n.node.worldPosition.x<=o.node.worldPosition.x&&(n.worldPositionX+=e)}})),this.inLane.tombPool().forEach((function(t){t.dealDamage(a)}))}},a.specialSpikeweedOnEnable=function(){},a.specialPlantOnEnable=function(){this.busy=0,this.eaterDetectable=!1,this.attacking=!1,this.foodSpikes=[],this.specialSpikeweedOnEnable()},a.waterable=function(){return!this.attacking},a.normalSmash=function(t){var n=this._objdataOwn.Damage;this._dmgScale&&(n*=this._dmgScale),M.stabOnZombie(null,t,n),this.fooding||this.invincible||this.die()},a.damageOnZombie=function(t,n){M.stabOnZombie(this,t,n)},e}(p)).prototype,"pfSpikeParticle",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(F.prototype,"soundRes",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new N}}),z=F))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/splashScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SettingWindow.ts","./MultiLanguage.ts","./NodePools.ts","./SoundManager.ts","./KeyListener.ts"],(function(e){var r,s,o,n,t,i,a,l,c,g,u,d,f,p,P,b,S,L,h,y,m,R;return{setters:[function(e){r=e.applyDecoratedDescriptor,s=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){t=e.cclegacy,i=e._decorator,a=e.JsonAsset,l=e.ProgressBar,c=e.Label,g=e.Node,u=e.Color,d=e.tween,f=e.resources,p=e.Prefab,P=e.Sprite,b=e.Component},function(e){S=e.Setting,L=e.SettingWindow},function(e){h=e.MultiLanguage},function(e){y=e.ArrayGet},function(e){m=e.SoundManager},function(e){R=e.KeyListener}],execute:function(){var v,_,C,M,w,N,B,F,z,D,G,j,J;t._RF.push({},"6ca297FSrxEoo6+4c+jGGKn","splashScene",void 0);var T=i.ccclass,W=i.property;e("splashScene",(v=T("splashScene"),_=W(a),C=W(l),M=W(c),w=W([g]),N=W(a),v((z=r((F=function(e){function r(){for(var r,s=arguments.length,t=new Array(s),i=0;i<s;i++)t[i]=arguments[i];return r=e.call.apply(e,[this].concat(t))||this,o(r,"lyrics",z,n(r)),r.screenColor=new u(0,0,0,255),o(r,"loadProgressBar",D,n(r)),o(r,"loadProgressLabel",G,n(r)),o(r,"fireNodes",j,n(r)),o(r,"musicFeaturesJson",J,n(r)),r}s(r,e);var t=r.prototype;return t.onLoad=function(){h.lyrics=this.lyrics.json;var e=S.getSettings();h.currentLanguage=isNaN(e.Language)?0:e.Language,null==L.defaultResolution&&(L.defaultResolution=L.getDefaultResolution())},t.setProgress=function(e,r){if(void 0===r&&(r=.2),this.loadProgressBar){var s=e/12;r>0?d(this.loadProgressBar).to(r,{progress:s}).start():this.loadProgressBar.progress=s}},t.loadRes=function(){var e,r=this;null!=(e=m.musicFeatures)&&e.length||(m.musicFeatures=this.musicFeaturesJson.json.Musics),this.setProgress(0,0),this.loadProgressLabel.string=h.getString(h.lyrics.LoadingScene.Materials,!1),f.load("resouce_prefabs/MaterialsRP",p,(function(e,s){r.setProgress(1),r.loadProgressLabel.string=h.getString(h.lyrics.LoadingScene.Plants,!1),f.load("resouce_prefabs/PlantsRP",p,(function(e,s){r.setProgress(2),r.loadProgressLabel.string=h.getString(h.lyrics.LoadingScene.Zombies,!1),f.load("resouce_prefabs/ZombiesRP",p,(function(e,s){r.setProgress(3),r.loadProgressLabel.string=h.getString(h.lyrics.LoadingScene.Musics,!1),f.load("resouce_prefabs/MusicRP",p,(function(e,s){r.setProgress(4),r.loadProgressLabel.string=h.getString(h.lyrics.LoadingScene.SFXs,!1),f.load("resouce_prefabs/SoundsRP",p,(function(e,s){r.setProgress(5),r.loadProgressLabel.string=h.getString(h.lyrics.LoadingScene.Levels,!1),f.load("resouce_prefabs/LevelNodesRP",p,(function(e,s){r.setProgress(6),r.loadProgressLabel.string=h.getString(h.lyrics.LoadingScene.Droppings,!1),f.load("resouce_prefabs/DroppingsRP",p,(function(e,s){r.setProgress(7),r.loadProgressLabel.string=h.getString(h.lyrics.LoadingScene.Trophies,!1),f.load("resouce_prefabs/TrophiesRP",p,(function(e,s){r.setProgress(8),r.loadProgressLabel.string=h.getString(h.lyrics.LoadingScene.Particles,!1),f.load("resouce_prefabs/ParticlesRP",p,(function(e,s){r.setProgress(9),r.loadProgressLabel.string=h.getString(h.lyrics.LoadingScene.Worldmaps,!1),f.load("resouce_prefabs/WorldMapsRP",p,(function(e,s){r.setProgress(10),r.loadProgressLabel.string=h.getString(h.lyrics.LoadingScene.ZenGarden,!1),f.load("resouce_prefabs/ZenGardenRP",(function(e,s){r.setProgress(11),r.loadProgressLabel.string=h.getString(h.lyrics.LoadingScene.Others,!1),f.load("resouce_prefabs/ScenesRP",p,(function(e,s){r.setProgress(12),R.darken((function(){R.goToMain()}))}))}))}))}))}))}))}))}))}))}))}))}))},t.start=function(){var e=this;this.screenColor=new u(0,0,0,255),this.node.getChildByName("ScreenCover").getComponent(P).color=this.screenColor,this.loadProgressLabel.string="",d(this.screenColor).to(1.33,{a:0}).call((function(){e.loadRes()})).start(),this.fireNodes[0]&&(y.getRandom(this.fireNodes).active=!0)},t.update=function(e){this.node.getChildByName("ScreenCover").getComponent(P).color=this.screenColor},r}(b)).prototype,"lyrics",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=r(F.prototype,"loadProgressBar",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=r(F.prototype,"loadProgressLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=r(F.prototype,"fireNodes",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=r(F.prototype,"musicFeaturesJson",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=F))||B));t._RF.pop()}}}));

System.register("chunks:///_virtual/SplitPea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./Square.ts","./CharacterManager.ts"],(function(t){var o,e,a,n,i,r,s,c,h,l,u,f,d,p,P;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized,i=t.createClass},function(t){r=t.cclegacy,s=t._decorator,c=t.CCInteger,h=t.Prefab,l=t.tween,u=t.Vec2},function(t){f=t.PeashooterPlant,d=t.PeashooterProps},function(t){p=t.Square},function(t){P=t.Rectangle}],execute:function(){var y,_,C,b,S,g,v;r._RF.push({},"5cfcasdZnJG5Kr0DBCWOIf5","SplitPea",void 0);var m=s.ccclass,w=s.property,B=function(t){function o(){for(var o,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(o=t.call.apply(t,[this].concat(a))||this).PlantfoodPeaCountBack=90,o}return e(o,t),o}(d);t("SplitPeaPlant",(y=m("SplitPeaPlant"),_=w(c),C=w(h),y((g=o((S=function(t){function o(){for(var o,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(o=t.call.apply(t,[this].concat(i))||this)._foodLeftBackPeaCount=0,a(o,"foodBackPeaMaxCount",g,n(o)),o._objdataOwn=new B,a(o,"peaMega",v,n(o)),o}e(o,t);var r=o.prototype;return r.animationListenerAdd=function(t){"ShootL"==t.name?this.fooding?(this._shootBack(!1,!1,this.peaMega),this.soundRes.playShootMega(),this.foodEnd()):this._shootBack(!1,!1):"ShootR"==t.name&&this._shoot()},r._shootBack=function(t,o,e){void 0===e&&(e=this.pea);var a=this._shoot(t,o,e);a.linearVelocity.x*=-1,a.worldPositionX-=50},r.foodShooting=function(){var t=this;this._foodLeftBackPeaCount=this._objdataOwn.PlantfoodPeaCountBack,this._foodLeftPeaCount=this._objdataOwn.PlantfoodPeaCount,l(this).to(2,{foodLeftPeaCount:0,foodLeftBackPeaCount:0}).call((function(){t.anmControl.playAnimation("ShootL",1)})).start()},r.setDetecter=function(t,o){var e=p.lawnRec.prjX();this.detector=P.createRectangleCenter(new u((e.x+e.y)/2,o.node.worldPosition.y),11*p.SquareDisW,p.SquareDisH)},r.detectEnemySplit=function(){var t=this,o=0;return this.inLane.zombiePool().forEach((function(e){if(!(o>=3)&&e.bodyRecForShooter.judgeCrossRec(t.detector)){var a=e.bodyRec.prjX();if(1!=o&&a.y>t._worldPositionX&&(o+=1),o>=3)return;2!=o&&a.x<=t._worldPositionX&&(o+=2)}})),this.inLane.tombPool().forEach((function(e){if(!(o>=3)&&e.bodyRec.judgeCrossRec(t.detector)){var a=e.bodyRec.prjX();if(1!=o&&a.y>t._worldPositionX&&(o+=1),o>=3)return;2!=o&&a.x<=t._worldPositionX&&(o+=2)}})),o},r.specialPlantUpdate=function(t,o,e){if(this.busy>0&&(this.busy-=t),this.busy<=0&&!this.dead&&!this.fooding){var a=this.detectEnemySplit();if(a>0){this.shooting=!0;var n=this._objdataOwn.ShootInterval+this._objdataOwn.ShootIntervalAdditional*Math.random();this._cdScale&&(n*=this._cdScale),this.busy=n;var i=Math.max(1,1.1/this.busy);1==a&&this.anmControl.playAnimation("ShootR",1,.1,i),2==a&&this.anmControl.playAnimation("ShootL",1,.1,i),3==a&&this.anmControl.playAnimation("ShootB",1,.1,i)}}},i(o,[{key:"foodLeftBackPeaCount",get:function(){return this._foodLeftBackPeaCount},set:function(t){for(var o=Math.floor(this._foodLeftBackPeaCount)-Math.floor(t),e=0;e<o;e++)this._shootBack(!0,!0);this._foodLeftBackPeaCount=t}}]),o}(f)).prototype,"foodBackPeaMaxCount",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),v=o(S.prototype,"peaMega",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=S))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/SporeShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./Character.ts","./CabbagePult.ts","./NodePools.ts","./CharacterManager.ts","./Square.ts"],(function(o){var t,i,n,e,a,r,s,h,l,c,u,d,p,b,f,y,g,S,w,m,P,_;return{setters:[function(o){t=o.applyDecoratedDescriptor,i=o.inheritsLoose,n=o.initializerDefineProperty,e=o.assertThisInitialized,a=o.createClass},function(o){r=o.cclegacy,s=o._decorator,h=o.AudioClip,l=o.Node,c=o.Prefab,u=o.Vec2},function(o){d=o.Plant,p=o.PlantProps},function(o){b=o.sounds},function(o){f=o.CharacterType},function(o){y=o.cabbagePult},function(o){g=o.ArrayGet,S=o.instantiatePooly},function(o){w=o.Rectangle,m=o.ZombiePool,P=o.TombPool},function(o){_=o.Square}],execute:function(){var v,C,R,j,A,z,D,F,L,O,E,k,B,N,I,Z,q,x,M,X,Y,H,T,V;r._RF.push({},"54a0end1HJE97BLEVAuZ1ap","SporeShroom",void 0);var G=s.ccclass,J=s.property,U=function(o){function t(){for(var t,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return(t=o.call.apply(o,[this].concat(n))||this).ShootInterval=2.85,t.ShootIntervalAdditional=.15,t}return i(t,o),t}(p),W=(v=G("SporeShroomSound"),C=J(h),R=J([h]),j=J([h]),A=J([h]),z=J([h]),v((L=t((F=function(){function o(){n(this,"spawn",L,this),n(this,"breath",O,this),n(this,"shoot",E,this),n(this,"foodBreath",k,this),n(this,"foodShoot",B,this)}var t=o.prototype;return t.playSpawn=function(){b.play(this.spawn,1,.1)},t.playBreath=function(){b.playArray(this.breath,.5,.3)},t.playShoot=function(){b.playArray(this.shoot,.5,.3)},t.playFoodBreath=function(){b.playArray(this.foodBreath,.5,.3)},t.playFoodShoot=function(){b.playArray(this.foodShoot,.5,.3)},o}()).prototype,"spawn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(F.prototype,"breath",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(F.prototype,"shoot",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(F.prototype,"foodBreath",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(F.prototype,"foodShoot",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=F))||D);o("SporeShroomPlant",(N=G("SporeShroomPlant"),I=J(W),Z=J(l),q=J(c),x=J(c),N((Y=t((X=function(o){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=o.call.apply(o,[this].concat(a))||this,n(t,"soundRes",Y,e(t)),t._objdataOwn=new U,n(t,"cabbageSpawnPoint",H,e(t)),n(t,"prj0",T,e(t)),n(t,"prjFood",V,e(t)),t.detector=new w,t._shooting=!1,t.shootCD=0,t}i(t,o);var r=t.prototype;return r.onObjdataSet=function(o,t){},r.animationListener=function(o){switch(o.name){case"breath":this.soundRes.playBreath();break;case"foodBreath":this.soundRes.playFoodBreath();break;case"shootSound":this.soundRes.playShoot();break;case"foodShootSound":this.soundRes.playFoodShoot();break;case"gas":this.soundRes.playSpawn();break;case"foodEnd":this.foodEnd();break;case"shoot":this._shoot(this.inLane);break;case"shooting":this._shooting=!0;break;case"foodShoot":this.foodLob()}},r.foodLob=function(){var o=g.getRandom(m.pool());if(o)this._lobAtZ(o,this.prjFood);else{var t=g.getRandom(P.pool());t?this._lobAtN(t.node,this.prjFood):this._lobAtN(this.inLane.toRight,this.prjFood)}},r.specialPlantFoodEnd=function(){this.anmControl.playRandom()},r.specialPlantOnSquareChange=function(o,t){t&&(this.detector=w.createRectangleNodeSide(t.node,_.SquareDisW*(9-this.inLnC.cIndex),_.SquareDisH))},r._lobAtZ=function(o,t,i){void 0===t&&(t=this.prj0),void 0===i&&(i=!1);var n=S(t),e=y.lobOneCabbageOnZombie(n,new u(this.cabbageSpawnPoint.worldPosition.x,this.worldPositionY),this.cabbageSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,o,2,f.zombie,i,30,!0);this._dmgScale&&e.setDamage(e.damage_*this._dmgScale)},r._lobAtN=function(o,t,i){void 0===t&&(t=this.prj0),void 0===i&&(i=!1);var n=S(t);y.lobOneCabbageOnNode(n,new u(this.cabbageSpawnPoint.worldPosition.x,this.worldPositionY),this.cabbageSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,o,2,f.zombie,i,30)},r._shoot=function(o,t){var i=this;if(void 0===t&&(t=this.prj0),o){var n=null,e=null,a=1/0;o.zombiePool().forEach((function(o){o.worldPositionX<a&&i.detector.judgeCrossRec(o.bodyRec)&&(n=o,a=o.worldPositionX)})),n?this._lobAtZ(n,t):(a=1/0,o.tombPool().forEach((function(o){o.worldPositionX<a&&i.detector.judgeCrossRec(o.bodyRec)&&(e=o,a=o.worldPositionX)})),e?this._lobAtN(e.node,t):o.toRight&&this._lobAtN(o.toRight,t))}},r.detectEnemies=function(o){var t=this;if(!o)return!1;var i=!1;return o.zombiePool().forEach((function(o){i||t.detector.judgeCrossRec(o.bodyRec)&&(i=!0)})),!!i||(o.tombPool().forEach((function(o){i||t.detector.judgeCrossRec(o.bodyRec)&&(i=!0)})),!!i)},r.specialPlantOnEnable=function(){this.shootCD=0,this._shooting=!1},r.waterable=function(){return!this._shooting},r.specialPlantFood=function(o){this._shooting=!1,this.anmControl.playAnimation("Food",2)},r.animationOnComplete=function(){this._shooting=!1},r.specialPlantUpdate=function(o,t,i){this.fooding||(this.shootCD>0&&(this.shootCD-=o),this.shootCD<=0&&i>0&&!this._shooting&&this.detectEnemies(this.inLane)&&(this.shootCD=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional,this._cdScale&&(this.shootCD*=this._cdScale),this.anmControl.playAnimation("Shoot",1,.1*this._cdScale,Math.max(1,1/this.shootCD)),this._shooting=!0))},a(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),t}(d)).prototype,"soundRes",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new W}}),H=t(X.prototype,"cabbageSpawnPoint",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(X.prototype,"prj0",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(X.prototype,"prjFood",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=X))||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/SpringBean.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts"],(function(e){var n,t,i,o,a,s,r,l,c,u,d,h,p,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.AudioClip,l=e.Vec2},function(e){c=e.Plant,u=e.PlantProps},function(e){d=e.Rectangle,h=e.ZombiePool},function(e){p=e.Square},function(e){y=e.sounds}],execute:function(){var f,b,m,S,g,R,w,L,D,v,A,B,C,P,_,E,k,z;a._RF.push({},"a736bTbuoxA64KEceTSlBIx","SpringBean",void 0);var F=s.ccclass,I=s.property,O=(f=F("springbeanSound"),b=I(r),m=I(r),S=I(r),g=I(r),R=I(r),f((D=n((L=function(){function e(){i(this,"foodSound",D,this),i(this,"foodLeapSound",v,this),i(this,"foodBounceSound",A,this),i(this,"bounceSound",B,this),i(this,"readySound",C,this)}var n=e.prototype;return n.playFoodSound=function(){y.play(this.foodSound,1,.1)},n.playFoodLeapSound=function(){y.play(this.foodLeapSound,1,.1)},n.playFoodBounceSound=function(){y.play(this.foodBounceSound,1,.1)},n.playBounceSound=function(){y.play(this.bounceSound,1,.1)},n.playReadySound=function(){y.play(this.readySound,1,.1)},e}()).prototype,"foodSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(L.prototype,"foodLeapSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(L.prototype,"foodBounceSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(L.prototype,"bounceSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(L.prototype,"readySound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=L))||w),q=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).KnockbackDistance=1,n.RestTime=7,n}return t(n,e),n}(u);e("SpringBean",(P=F("SpringBean"),_=I(O),P((z=n((k=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return(n=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new q,i(n,"soundRes",z,o(n)),n.readyDetector=void 0,n.bounceDetector=void 0,n.switching=!1,n.ready=!1,n.asleep=0,n}t(n,e);var a=n.prototype;return a.dealLeapOnZombie=function(e){var n,t,i,o;e.leapable&&((null==(n=e.inLane)||!n.isSea)&&e.inLnC.cIndex>=4&&null!=(t=e.inLane.UpperLane)&&t.isSea?e.leapBy(new l(1,-1)):(null==(i=e.inLane)||!i.isSea)&&e.inLnC.cIndex>=4&&null!=(o=e.inLane.LowerLane)&&o.isSea?e.leapBy(new l(1,1)):e.leapBy(new l(this._objdataOwn.KnockbackDistance,0),!0,.5,27,!0,!0))},a.setDetector=function(e){this.readyDetector=d.createRectangleNodeCenter(e.node,3*p.SquareDisW,p.SquareDisH),this.bounceDetector=d.createRectangleNodeCenter(e.node,p.SquareDisW,p.SquareDisH)},a.setAnimation=function(e){void 0===e&&(e=0);var n=this.anmControl;1==e?(n.IdleAnim="Idle_Ready",n.RandomAnim=["Random_Ready"]):2==e?(n.IdleAnim="Sleep",n.RandomAnim=[]):(n.IdleAnim="Idle",n.RandomAnim=["Random"])},a.animationListener=function(e){var n=this;switch(e.name){case"sleep":this.damagable=!0,this.short_=!1,this.asleep=this._objdataOwn.RestTime;break;case"foodBounce":h.pool().forEach((function(e){e.flying||n.dealLeapOnZombie(e)})),this.soundRes.playFoodBounceSound();break;case"foodLeap":this.soundRes.playFoodLeapSound();break;case"ready":this.ready=!0,this.switching=!1;break;case"recover":this.switching=!1;break;case"foodEnd":this.foodEnd()}},a.specialPlantFood=function(e){this.setAnimation(),this.anmControl.playAnimation("Food",1),this.soundRes.playFoodSound(),this.ready=!1,this.asleep=0,this.switching=!1,this.damagable=!0},a.getReady=function(){this.damagable=!1,this.short_=!0,this.switching=!0,this.soundRes.playReadySound(),this.anmControl.playAnimation("Ready",1),this.setAnimation(1),this.eaterDetectable=!1,this.smasherDetectable=!1},a.recover=function(){this.ready=!1,this.switching=!0,this.short_=!1,this.damagable=!0,this.anmControl.playAnimation("Recover",1),this.setAnimation(),this.asleep=0,this.eaterDetectable=!0,this.smasherDetectable=!0},a.bounce=function(){this.asleep=1/0,this.soundRes.playBounceSound(),this.anmControl.playAnimation("Bounce",1),this.setAnimation(2),this.eaterDetectable=!0,this.smasherDetectable=!0},a.specialPlantOnEnable=function(){this.setAnimation(),this.anmControl.playRandom(),this.ready=!1,this.switching=!1,this.asleep=0},a.detectReadyEnemy=function(){var e,n=this,t=!1;null==(e=this.inLane)||e.zombiePool().forEach((function(e){t||e.bodyRecReal.judgeCrossRec(n.readyDetector)&&(t=!0)})),t&&!this.ready?this.getReady():!t&&this.ready&&this.recover()},a.detectBounceEnemy=function(){var e,n=this,t=!1;null==(e=this.inLane)||e.zombiePool().forEach((function(e){t||e.flying||!e.leapable||e.changeLaneTween||e.bodyRec.judgeCrossRec(n.bounceDetector)&&(n.dealLeapOnZombie(e),t=!0,n.bounce())}))},a.waterable=function(){return!this.asleep&&!this.ready&&!this.switching},a.specialPlantUpdate=function(e,n,t){this.asleep>0&&(this.asleep-=e,this.asleep<=0&&(this.asleep=0,this.recover())),!this.switching&&!this.fooding&&this.asleep<=0&&t>0&&!this.leapTween&&(this.detectReadyEnemy(),this.ready&&t>0&&this.detectBounceEnemy())},a.specialPlantOnSquareChange=function(e,n){this.setDetector(n)},n}(c)).prototype,"soundRes",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new O}}),E=k))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/Square.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LnC.ts","./UI.ts","./LnCLower.ts","./NodePools.ts","./FrontYard.ts","./Lane.ts","./CharacterManager.ts","./Mouse.ts","./levelController.ts","./Zombie.ts","./LevelTaskCount.ts","./Particles.ts","./zombossMissileLocatorFree.ts","./PowerupFingers.ts"],(function(e){var n,t,i,o,r,a,l,s,u,c,h,d,g,m,f,L,C,p,v,S,w,y,q,b,P,I,x,D,H,R,E,z,A;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,l=e._decorator,s=e.Node,u=e.dragonBones,c=e.UITransform,h=e.AudioSource,d=e.Vec2,g=e.find,m=e.Vec3,f=e.instantiate,L=e.Size,C=e.Component},function(e){p=e.LnC},function(e){v=e.UIInGame},function(e){S=e.LnCLower},function(e){w=e.instantiatePooly},function(e){y=e.FrontYard},function(e){q=e.Lane},function(e){b=e.Rectangle,P=e.PlantPool},function(e){I=e.Mouse},function(e){x=e.LevelPlay},function(e){D=e.ZombieDamageDetails,H=e.zombieDamageType},function(e){R=e.LevelTaskCountModeEnum},function(e){E=e.particle},function(e){z=e.zombossMissileLocatorFree},function(e){A=e.PowerupFingers}],execute:function(){var T,N,B,_,W,M,F,j,k,G,U,V,Y,O,X,Z,K,J,Q,$,ee,ne,te,ie,oe,re,ae,le,se,ue;a._RF.push({},"3cbc1qLm3VDPKDOscw+4M6b","Square",void 0);var ce=l.ccclass,he=l.property;e("Square",(T=ce("Square"),N=he(s),B=he(u.ArmatureDisplay),_=he(u.ArmatureDisplay),W=he(c),M=he(c),F=he(s),j=he(p),k=he(p),G=he(p),U=he(p),V=he(p),Y=he(s),O=he(h),T(((ue=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(n=e.call.apply(e,[this].concat(r))||this).laneAbstract=void 0,n.laneHere=void 0,n.laneThere=void 0,n.lanesInLawn=[],i(n,"lavaGuavaCrackLayer",K,o(n)),i(n,"rhythmBig",J,o(n)),i(n,"rhythmSmall",Q,o(n)),i(n,"selectCrossingV",$,o(n)),i(n,"selectCrossingH",ee,o(n)),n.UIInGame=null,n.indexShovel=0,n.indexPF=0,i(n,"square00",ne,o(n)),n.squares=[],n.inLawnLnCs=[],i(n,"LnCHere",te,o(n)),i(n,"LnCThere",ie,o(n)),i(n,"LnCLeft",oe,o(n)),i(n,"LnCRight",re,o(n)),i(n,"LnCAbstract",ae,o(n)),i(n,"LilypadLayer",le,o(n)),i(n,"ElectricLineLayer",se,o(n)),n.electricLineHitPar=void 0,n.electricHitCD=0,n}t(n,e),n.Square00WorldPosition=function(){return new d(this.Square00.worldPosition.x,this.Square00.worldPosition.y)},n.getSquareWorldPosition=function(e,n,t,i){return void 0===t&&(t=.5),void 0===i&&(i=.5),new d(this.Square00.worldPosition.x+n*this.SquareDisW+(t-.5)*this.SquareDisW,this.Square00.worldPosition.y-e*this.SquareDisH+(i-.5)*this.SquareDisH)},n.getSquare=function(e,n){if(e>=0&&e<=4){if(n>=0&&n<=8)return this.Square00.parent.getChildByName("Square"+e.toString()+n.toString());if(9==n)return this.Square00.parent.getChildByName("SquaresRight");if(-1==n)return this.Square00.parent.getChildByName("SquaresLeft")}else{if(5==e)return this.Square00.parent.getChildByName("SquaresHere");if(-1==e)return this.Square00.parent.getChildByName("SquaresThere")}return this.Square00.parent.getChildByName("SquaresAbstract")},n.getLnC=function(e,n){if(isNaN(e)||isNaN(n))return this.component.LnCAbstract;if(e>=0&&e<=4){if(n>=0&&n<=8)return this.component.inLawnLnCs[e][n];if(9==n)return this.component.LnCRight;if(-1==n)return this.component.LnCLeft}else{if(5==e)return this.component.LnCHere;if(-1==e)return this.component.LnCThere}return this.component.LnCAbstract},n.getAllLnC=function(){for(var e=[],t=0;t<=4;t++)for(var i=0;i<=8;i++)e.push(n.getLnC(t,i));return e},n.getRandomSquare=function(e,n,t,i){return void 0===e&&(e=0),void 0===n&&(n=4),void 0===t&&(t=0),void 0===i&&(i=8),this.getRandomLnC(e,n,t,i).node},n.getRandomLnC=function(e,n,t,i){void 0===e&&(e=0),void 0===n&&(n=4),void 0===t&&(t=0),void 0===i&&(i=8);var o=Math.floor(e);o<0&&(o=0),o>4&&(o=4);var r=Math.floor(n);r<0&&(r=0),r>4&&(r=4);var a=Math.floor(t);a<0&&(a=0),a>8&&(a=8);var l=Math.floor(i);l<0&&(l=0),l>8&&(l=8);var s=Math.floor(Math.random()*(r-o+1))+o,u=Math.floor(Math.random()*(l-a+1))+a;return this.getLnC(s,u)},n.getRandomSquares=function(e){for(var n=[];n.length<e&&n.length<45;){var t=this.getRandomSquare();-1==n.indexOf(t)&&n.push(t)}return n},n.getLane=function(e){return g(e>=-1&&e<=5?"Canvas/LawnCommon/squaresLower/Row"+e.toString():"Canvas/LawnCommon/squaresLower/Row-2")},n.getLaneComponent=function(e){if(this.component.laneAbstract||(this.component.laneAbstract=this.getLane(-2).getComponent(q)),this.component.laneHere||(this.component.laneHere=this.getLane(5).getComponent(q)),this.component.laneThere||(this.component.laneThere=this.getLane(-1).getComponent(q)),this.component.lanesInLawn.length<=0){this.component.lanesInLawn=[];for(var t=0;t<5;t++)this.component.lanesInLawn.push(n.getLane(t).getComponent(q))}return-1==e?this.component.laneThere:5==e?this.component.laneHere:e>=0&&e<=4?this.component.lanesInLawn[e]:this.component.laneAbstract},n.addTomb=function(e,t,i,o,r,a,l){void 0===o&&(o=!0),void 0===r&&(r=!1),void 0===a&&(a=!1),void 0===l&&(l=!0);var s=this.getLnC(e,t);if(null!=s&&s.isInLawn())return s.addTomb(i,o,r,a,l);var u=this.getLnC(-2,-2).addTomb(i,o,r,a,!1);return u&&(u.worldPositionY=this.getLaneComponent(0).floorY-e*n.SquareDisH,u.worldPositionX=this.getSquareWorldPosition(0,t).x,u.judgeInLnC()),u},n.judgeInLawn=function(e){return this.lawnRec.judgeInRecP(new d(e.x,e.y))},n.moveCrossing=function(e,n){if(void 0===e&&(e=-1),void 0===n&&(n=-1),e>=0&&e<=4&&n>=0&&n<=8){var t=this.getSquareWorldPosition(2,n);this.component.selectCrossingV.node.worldPosition=new m(t.x,t.y,10);var i=this.getSquareWorldPosition(e,4);this.component.selectCrossingH.node.worldPosition=new m(i.x,i.y,10)}else this.component.selectCrossingV.node.worldPosition=new m(-1e3,0),this.component.selectCrossingH.node.worldPosition=new m(0,-1e3)},n.armorOnAllZombies=function(e){for(var n=[],t=0;t<5;t++){var i=this.getLaneComponent(t);i.zombiePool().concat(i.hypnoZombiePool()).forEach((function(e){-1==n.indexOf(e)&&n.push(e)}))}n.forEach((function(n){n.addArmor(e)}))},n.calculatePlants=function(){var e;null==v||null==(e=v.uiingame)||e.calculateLevelTask(R.PlantCountLimit,{AllPlantCount:P.getPlantAmount()})},n.foodAllPlants=function(){n.getAllLnC().forEach((function(e){e.getAllPlants().forEach((function(e){e.food()}))}))},n.allLnCSpawnPlant=function(e){n.getAllLnC().forEach((function(n){n.spawnPlantByPlantEnum(e,!0,!0,!0)||n.getAllPlants().forEach((function(n){n.ID==e&&n._replantableForLnC()&&(n.replant(),n.health=n.toughness)}))}))},n.shovelAllPlants=function(){n.getAllLnC().forEach((function(e){e.removePlant()}))},n.judgeCIndex=function(e){var t=n.lawnRec.prjX().x;if(e>t+9*n.SquareDisW)return 9;if(e<=t)return-1;for(var i=0;i<9;i++)if(e<=t+n.SquareDisW*(i+1))return i;return-1},n.judgeLIndex=function(e){var t=n.lawnRec.prjY().y;if(e<t-5*n.SquareDisH)return 5;if(e>=t)return-1;for(var i=0;i<5;i++)if(e>=t-n.SquareDisH*(i+1))return i;return-1},n.transFrom_ox_To_gx=function(e){return this.transFrom_ow_To_gw(e-200)+this.Square00.worldPosition.x-n.SquareDisW/2},n.transFrom_oy_To_gy=function(e){return this.transFrom_oh_To_gh(160-e)+this.Square00.worldPosition.y+n.SquareDisH/2},n.transFrom_ow_To_gw=function(e){return e/64*n.SquareDisW},n.transFrom_oh_To_gh=function(e){return e/76*n.SquareDisH},n.locatePrjOnLnC=function(e,n,t,i){var o=w(E.freeLocator());o.parent=e.node;var r=o.getComponent(z);r.inLnC=e,r.countdown=t,r.prjID=n,r.targetType=i};var a=n.prototype;return a.plantGhost=function(){this.inLawnLnCs.forEach((function(e){e.forEach((function(e){1==e.indexPoint&&(e.index=1,e.ghostPoint.destroyAllChildren(),e.plantGhost())}))}))},a.readIndex=function(){this.UIInGame.index<=8&&this.UIInGame.index;this.indexShovel=-2==v.index?1:0,this.indexPF=-3==v.index?1:0,this.inLawnLnCs.forEach((function(e){e.forEach((function(e){e.readIndex()}))}))},a.deletePlantGhosts=function(){this.squares.forEach((function(e){e.getChildByName("PlantPoint").destroyAllChildren()}))},a.spawnElectricLineParticle=function(e,n){if(this.electricLineHitPar){var t=w(this.electricLineHitPar);t.parent=e,t.worldPosition=new m(n.x,n.y+30,10)}},a.dealElectricLines=function(e){var t=this;if(this.electricHitCD>0&&(this.electricHitCD-=e),this.electricHitCD<=0){var i=[],o=[];this.electricHitCD=.25,n.getAllLnC().forEach((function(e){(e.centerElectricCountdown>0||e.verticalElectricCountdown>0||e.horizontalElectricCountdown>0)&&(e.tombStone&&(e.tombStone.dealDamage(e.electricLineDamage),t.spawnElectricLineParticle(e.inLane.prjLayer,e.tombStone.worldPosition)),e.inLane.zombiePool().forEach((function(n){var t;-1==i.indexOf(n)&&null!=e&&null!=(t=e.rec)&&t.judgeCrossRec(n.bodyRec)&&(i.push(n),o.push(e.electricLineDamage))})))})),i.forEach((function(e,n){o[n]&&(e.dealDamage(new D(o[n],!0,!0,!0,null,H.electricity)),t.spawnElectricLineParticle(e.inLane.prjLayer,e.worldPosition))}))}},a.onLoad=function(){var e=this;n.lavaGuavaCrackLayer=this.lavaGuavaCrackLayer,n.tileLayer=g("Canvas/FrontYard/tiles"),n.crackleLayer=g("Canvas/FrontYard/crackle"),n.lilypadLayer=this.LilypadLayer,n.electricLineLayer=this.ElectricLineLayer.node,n._component=this;var t=this.square00;n.Square00=t;var i=null==t?void 0:t.getComponent(p);if(i){i.RowParent=this.node.parent.getChildByName("squaresLower").getChildByName("Row0"),i.inLane=i.RowParent.getComponent(q),i.lIndex=i.cIndex=0,this.squares.push(t);for(var o=0;o<=4;o++){for(var r=1;r<9;r++){var a=null;(a=f(t)).parent=this.node,a.setPosition(this.node.getChildByName("Square"+o.toString()+(r-1).toString()).getPosition().x+n.SquareDisW,this.node.getChildByName("Square"+o.toString()+(r-1).toString()).getPosition().y),a.name="Square"+o.toString()+r.toString();var l=a.getComponent(p);l.RowParent=n.getLane(o),l.inLane=a.getComponent(p).RowParent.getComponent(q),l.lIndex=o,l.cIndex=r,this.squares.push(a)}if(4==o)break;var s=null;(s=f(this.node.getChildByName("Square"+o.toString()+"0"))).parent=this.node,s.setPosition(this.node.getChildByName("Square"+o.toString()+"0").getPosition().x,this.node.getChildByName("Square"+o.toString()+"0").getPosition().y-n.SquareDisH),s.name="Square"+(o+1).toString()+"0";var u=s.getComponent(p);u.RowParent=n.getLane(o+1),u.inLane=s.getComponent(p).RowParent.getComponent(q),u.lIndex=o+1,u.cIndex=0,this.squares.push(s)}var c=this.node.parent.getChildByName("squaresLower").getChildByName("Row0").getChildByName("Square00");c.getComponent(S).standardize(t);for(var h=c.getSiblingIndex(),d=0;d<=4;d++){for(var m=1;m<9;m++){var L=f(c);L.parent=this.node.parent.getChildByName("squaresLower").getChildByName("Row"+d.toString()),L.setSiblingIndex(h),L.name="Square"+d.toString()+m.toString(),L.getComponent(S).standardize(this.node.getChildByName(L.name))}if(4==d)break;var C=f(c);C.parent=this.node.parent.getChildByName("squaresLower").getChildByName("Row"+(d+1).toString()),C.name="Square"+(d+1).toString()+"0",C.setSiblingIndex(h),C.getComponent(S).standardize(this.node.getChildByName(C.name))}this.UIInGame=g("Canvas/UIInGame").getComponent(v),this.indexShovel=0,this.indexPF=0;for(var w=-1;w<=5;w++)n.getLaneComponent(w).midY=n.getSquareWorldPosition(w,0).y}[0,1,2,3,4].forEach((function(n){var t=[];[0,1,2,3,4,5,6,7,8].forEach((function(i){t.push(e.squares[9*n+i].getComponent(p))})),e.inLawnLnCs.push(t)})),[this.LnCAbstract,this.LnCLeft,this.LnCRight].forEach((function(e){e.inLane=n.getLaneComponent(-2),e.lIndex=-2})),this.LnCLeft.cIndex=-1,this.LnCRight.cIndex=9,this.LnCHere.inLane=n.getLaneComponent(5),this.LnCHere.lIndex=5,this.LnCHere.cIndex=9,this.LnCThere.inLane=n.getLaneComponent(-1),this.LnCThere.lIndex=-1,this.LnCThere.cIndex=9;for(var y=-2;y<=5;y++)for(var b=-1;b<=9;b++){var P;null==(P=n.getLnC(y,b))||P.standardize()}},a.moveCart=function(){if(I.followingCart)for(var e=I.mouseInL-I.followingCart.inLnC.lIndex,n=0;n<Math.abs(e);n++)e<0&&I.followingCart.moveUp(),e>0&&I.followingCart.moveDown()},a.update=function(e){var t=n.judgeLIndex(I.position.y),i=n.judgeCIndex(I.position.x),o=n.getLnC(t,i);if(I.mouseInL=t,I.mouseInC=i,I.mouseInLnC!=o){var r=I.mouseInLnC,a=o;A.component.onMouseInLnCChanged(r,a),null==r||r.onMouseLeave(),I.mouseInLnC=null!=a&&a.isInLawn()?a:null,null==a||a.onMouseEnter()}1==n.lncSelectionMode&&1==o.index&&o.isInLawn()?n.moveCrossing(t,i):n.moveCrossing(-1,-1),this.moveCart(),o&&null!=o&&o.mold&&x.gaming&&v.index>=0&&v.index<=8?n.getAllLnC().forEach((function(e){var n;null==e||null==(n=e.mold)||n.playHide()})):x.component.gameWon||n.getAllLnC().forEach((function(e){var n;null==e||null==(n=e.mold)||n.playIdle()})),this.dealElectricLines(e)},a.lateUpdate=function(e){n.PowerTileAnmTimer+=e},a.start=function(){n.lawnRec=b.createRectangleNodeCenter(n.getSquare(2,4),9*n.SquareDisW,5*n.SquareDisH),n.zombieSpawnX=n.Square00WorldPosition().x+10.5*n.SquareDisW,this.selectCrossingV.contentSize=new L(n.SquareDisW,5*n.SquareDisH),this.selectCrossingH.contentSize=new L(9*n.SquareDisW,n.SquareDisH)},n.setSquareType=function(){y.currentLawn.initialize()},r(n,null,[{key:"component",get:function(){return this._component?this._component:g("Canvas/LawnCommon/Squares").getComponent(n)}}]),n}(C)).SquareDisH=85.5,ue.SquareDisW=72,ue.Square00=null,ue.lavaGuavaCrackLayer=void 0,ue.tileLayer=void 0,ue.crackleLayer=void 0,ue.zombieWinX=0,ue.zombieDieInsteadOfWinning=!1,ue.zombieSpawnX=1e3,ue.lawnRec=b.createRectangleCenter(new d(0,0),9*ue.SquareDisW,5*ue.SquareDisH),ue.lncSelectionMode=0,ue.lilypadLayer=void 0,ue._component=void 0,ue.electricLineLayer=void 0,ue.PowerTileAnmTimer=0,K=n((Z=ue).prototype,"lavaGuavaCrackLayer",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=n(Z.prototype,"rhythmBig",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=n(Z.prototype,"rhythmSmall",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=n(Z.prototype,"selectCrossingV",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=n(Z.prototype,"selectCrossingH",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=n(Z.prototype,"square00",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=n(Z.prototype,"LnCHere",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=n(Z.prototype,"LnCThere",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=n(Z.prototype,"LnCLeft",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=n(Z.prototype,"LnCRight",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=n(Z.prototype,"LnCAbstract",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=n(Z.prototype,"LilypadLayer",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=n(Z.prototype,"ElectricLineLayer",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=Z))||X));a._RF.pop()}}}));

System.register("chunks:///_virtual/Squash.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Zombie.ts","./CharacterManager.ts","./Square.ts","./LnC.ts","./levelController.ts","./NodePools.ts","./SoundRescourses.ts"],(function(t){var o,i,e,n,s,a,l,r,h,u,d,c,f,m,p,g,y,b,T;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,l=t.AudioClip,r=t.Vec2,h=t.tween},function(t){u=t.Plant,d=t.PlantProps},function(t){c=t.ZombieDamageDetails},function(t){f=t.Rectangle,m=t.ZombiePool},function(t){p=t.Square},function(t){g=t.TileType},function(t){y=t.LevelPlay},function(t){b=t.ArrayGet},function(t){T=t.sounds}],execute:function(){var w,P,S,L,k,A,v,R,q,C,D,Z,j,z,F,_;s._RF.push({},"5014euUaBJHzKQjX+6VD5ps","Squash",void 0);var X=a.ccclass,O=a.property,x=function(t){function o(){for(var o,i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return(o=t.call.apply(t,[this].concat(e))||this).PlantfoodSmashTime=2,o.SmashDamage=1800,o}return i(o,t),o}(d),E=(w=X("squashSound"),P=O([l]),S=O([l]),L=O([l]),k=O([l]),w((R=o((v=function(){function t(){e(this,"smashSounds",R,this),e(this,"lookSounds",q,this),e(this,"leapSaySounds",C,this),e(this,"foodSounds",D,this)}var o=t.prototype;return o.playSmash=function(){T.playArray(this.smashSounds,1,.1)},o.playLook=function(){T.playArray(this.lookSounds,1,.1)},o.playLeapSay=function(){T.playArray(this.leapSaySounds,1,.1)},o.playFood=function(){T.playArray(this.foodSounds,1,.1)},t}()).prototype,"smashSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=o(v.prototype,"lookSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=o(v.prototype,"leapSaySounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=o(v.prototype,"foodSounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=v))||A);t("SquashPlant",(Z=X("SquashPlant"),j=O(E),Z((_=o((F=function(t){function o(){for(var o,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(o=t.call.apply(t,[this].concat(s))||this)._objdataOwn=new x,o.lockedTarget=void 0,o.lookedAtTarget=void 0,o.facingLeft=!1,o.busy=!1,e(o,"soundRes",_,n(o)),o.foodLeftTime=2,o.squashTween=null,o.detector=new f,o}i(o,t);var s=o.prototype;return s.specialPlantOnEnable=function(){var t;this.busy=!1,this.foodable=!0,null==(t=this.squashTween)||t.stop(),this.squashTween=null,this.lockedTarget=null,this.lookedAtTarget=null,this.facingLeft=!1,this.deathAnm="Death",this.eatDamagable=!1},s.specialPlantShovelable=function(){return null==this.squashTween},s.normalSmash=function(t){},s.leapDisable=function(t){return!!this.squashTween},s.animationListener=function(t){if("judgeTarget"==t.name){if(this.fooding)return;this.lookedAtTarget&&this.lookedAtTarget.isAlive()?(this.soundRes.playLeapSay(),this.anmControl.playAnimation("Jump"+(this.facingLeft?"L":"R"),1)):(this.anmControl.playRandom(),this.busy=!1)}else"jump"==t.name?this.lookedAtTarget&&this.lookedAtTarget.isAlive()?this.smashToZombie(this.lookedAtTarget):this.fooding?this.foodLeftTime<0?this.smashToZombie(null):this.smashToZombie(b.getRandom(m.pool())):(this.anmControl.playRandom(),this.facingLeft=!1,this.busy=!1):"die"==t.name&&this.body.setParent(this.node,!0)},s.animationOnComplete=function(){!this.busy||this.dead||this.fooding||this.smashToZombie(null),this.fooding&&(this.anmControl.playAnimation("JumpR",1),this.foodLeftTime--)},s.specialPlantFood=function(t){this.anmControl.playAnimation("LookR",1),this.soundRes.playFood(),this.foodLeftTime=this._objdataOwn.PlantfoodSmashTime},s.lookAtZombie=function(t){this.busy=!0,this.eaterDetectable=!1,this.smasherDetectable=!1,this.lookedAtTarget=t;var o="LookR";this.facingLeft=!1,t.worldPositionX<this.worldPositionX&&(o="LookL",this.facingLeft=!0),this.soundRes.playLook(),this.anmControl.playAnimation(o,2)},s.smashZombies=function(){var t=f.createRectangleCenter(new r(this.worldPositionX,p.getLnC(this.inLane.LaneIndex,0).node.worldPosition.y),2*p.SquareDisW,p.SquareDisH),o=!1,i=this._objdataOwn.SmashDamage;this._dmgScale>0&&(i*=this._dmgScale);var e=new c(i,!0,!0,!0,new r(0,-20));e.bugKiller=!0,this.inLane.zombiePool().forEach((function(i){t.judgeCrossRec(i.bodyRec)&&(i.dealDamage(e),o=!0)}));var n=!1;if(!this.fooding){var s=this.inLnC.getTileType();s==g.water||s==g.sea?(this.body.setParent(this.node,!0),this.drown(s==g.sea),n=!0):s==g.sky?(this.body.setParent(this.node,!0),this.fall(),n=!0):o&&(this.deathAnm="null",this.die())}this.lockedTarget=null,this.lookedAtTarget=null,n||(y.shakeScreen(),this.soundRes.playSmash()),this.fooding&&this.foodLeftTime<0&&this.foodEnd()},s.smashToZombie=function(t){var o=this;t?(this.body.setParent(t.inLane.prjLayer,!0),this.foodable=!1,this.squashTween=h(this).to(.2,{height:120,worldPositionX:t.shadeSocket.worldPosition.x,worldPositionY:t.worldPositionY},{easing:"quadOut"}).to(.2,{}).call((function(){o.lockedTarget=t,o.anmControl.playAnimation("Fall"+(o.facingLeft?"L":"R")+(o.fooding?"":"Fade"),1)})).to(.1,{height:0}).call((function(){o.smashZombies(),o.squashTween=null,o.foodable=!0})).start()):(this.body.setParent(this.node,!0),this.facingLeft=this.plantInLnC.plantPoint.worldPosition.x<this._worldPositionX,this.foodable=!1,this.squashTween=h(this).to(.2,{height:120,worldPositionX:this.plantInLnC.plantPoint.worldPosition.x,worldPositionY:this.plantInLnC.plantPoint.worldPosition.y},{easing:"quadOut"}).to(.2,{}).call((function(){o.anmControl.playAnimation("Fall"+(o.facingLeft?"L":"R")+(o.fooding?"":"Fade"),1)})).to(.1,{height:0}).call((function(){o.smashZombies(),o.busy=!1,o.squashTween=null,o.foodable=!0})).start())},s.bindsToPots=function(){return!this.squashTween&&!this.fooding},s.specialPlantOnSquareChange=function(t,o){this.detector=f.createRectangleNodeCenter(this.plantInLnC.node,3*p.SquareDisW,p.SquareDisH)},s.waterable=function(){return!this.busy},s.detectEnemies=function(){var t=this,o=1/0,i=null;this.inLane.zombiePool().forEach((function(e){var n=e.bodyRec.prjX().x;n<o&&e.bodyRec.judgeCrossRec(t.detector)&&(i=e,o=n)})),i&&this.lookAtZombie(i)},s.burn=function(){},s.specialPlantUpdate=function(t,o,i){this.lockedTarget&&(this.worldPositionX=this.lockedTarget.shadeSocket.worldPosition.x,this.worldPositionY=this.lockedTarget.worldPositionY),(!this.busy||this.lockedTarget&&!this.lockedTarget.isAlive())&&(this.lockedTarget=null),(!this.busy||this.lookedAtTarget&&!this.lookedAtTarget.isAlive())&&(this.lookedAtTarget=null),!this.lookedAtTarget&&!this.busy&&!this.fooding&&i>0&&this.detectEnemies()},s.specialPlantUpdateForce=function(t,o,i){this.body.worldPosition=this.node.worldPosition},o}(u)).prototype,"soundRes",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new E}}),z=F))||z));s._RF.pop()}}}));

System.register("chunks:///_virtual/stageEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts"],(function(t){var i,n,e,a,r,o,s,l,p,u,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,s=t.AudioClip,l=t.dragonBones,p=t.find,u=t.Component},function(t){c=t.sounds}],execute:function(){var d,h,f,y,m,g,A;r._RF.push({},"c9464IbAxdGdJwFFQW8KmBd","stageEffect",void 0);var S=o.ccclass,w=o.property;t("StageEffect",(d=S("stageEffect"),h=w([s]),f=w([s]),d((g=i((m=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(i=t.call.apply(t,[this].concat(r))||this).lower=null,i.upper=null,i.initiated=!1,e(i,"startSound0",g,a(i)),e(i,"startSound1",A,a(i)),i}n(i,t);var r=i.prototype;return r.onEnable=function(){this.lower=this.getComponent(l.ArmatureDisplay),this.upper=p("Canvas/LawnCommon/stageEffect/"+this.node.name).getComponent(l.ArmatureDisplay),this.playNone()},r.playEnd=function(){this.initiated&&(this.initiated=!1,this.upper.playAnimation("End"),this.lower.playAnimation("End"))},r.playNone=function(){this.initiated&&(this.upper.playAnimation("None"),this.lower.playAnimation("None"),this.initiated=!1)},r.playIdle=function(){this.initiated||(this.upper.playAnimation("Idle"),this.lower.playAnimation("Idle"),this.initiated=!0)},r.playStart=function(){this.initiated||(this.upper.playAnimation("Start"),this.lower.playAnimation("Start"),this.startSound0.length&&c.playArray(this.startSound0,1,0),this.startSound1.length&&c.playArray(this.startSound1,1,0),this.initiated=!0)},i}(u)).prototype,"startSound0",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=i(m.prototype,"startSound1",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=m))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/Stallia.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./levelController.ts"],(function(e){var n,t,o,r,i,a,l,s,u,c,p,d,h,f,b,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.AudioClip,s=e.Color,u=e.tween},function(e){c=e.Plant,p=e.PlantProps},function(e){d=e.Rectangle,h=e.ZombiePool},function(e){f=e.Square},function(e){b=e.sounds},function(e){y=e.LevelPlay}],execute:function(){var m,S,w,C,P,g,v,R,D,L,E,z,x,T,q,j;i._RF.push({},"c8ac1JjQAJDaqryEOtad9Lt","Stallia",void 0);var A=a.ccclass,F=a.property,_=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(n=e.call.apply(e,[this].concat(o))||this).PerfumeDuration=12,n.PerfumeDurationPlantfood=12,n}return t(n,e),n}(p),O=(m=A("stalliaSound"),S=F([l]),w=F([l]),m((g=n((P=function(){function e(){o(this,"foodSound",g,this),o(this,"explodeSound",v,this)}var n=e.prototype;return n.playFoodSound=function(){b.playArray(this.foodSound,1,.1)},n.playExplodeSound=function(){b.playArray(this.explodeSound,1,.1)},e}()).prototype,"foodSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(P.prototype,"explodeSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=P))||C);e("StalliaPlant",(R=A("StalliaPlant"),D=F(O),L=F(s),E=F(s),R((T=n((x=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,o(n,"soundRes",T,r(n)),n._objdataOwn=new _,o(n,"purple1",q,r(n)),o(n,"purple2",j,r(n)),n.screenColor=new s(0,0,0,0),n.screenColorTween=void 0,n.detector=new d,n}t(n,e);var i=n.prototype;return i.specialPlantOnEnable=function(){this.eaterDetectable=!1,this.smasherDetectable=!1,this.screenColorTween=null},i.specialPlantLateUpdate=function(e){0!=this.screenColor.a&&!this.sheepend&&this.screenColorTween&&y.screenFlashColors.push(this.screenColor)},i.specialPlantFood=function(e){this.anmControl.playAnimation("Food")},i.animationListener=function(e){var n=this;if("explode"==e.name){var t,o=d.createRectangleNodeCenter(this.inLnC.node,3*f.SquareDisW,3*f.SquareDisH);this.soundRes.playExplodeSound(),null==(t=this.inLane)||t.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(e){e.bodyRecReal.judgeCrossRec(o)&&e.setPerfume(n._objdataOwn.PerfumeDuration)}))}else if("foodExplode"==e.name){h.pool().concat().forEach((function(e){e.setPerfume(n._objdataOwn.PerfumeDurationPlantfood)}));var r=u(this.screenColor).to(1/60/this.anmControl.body.timeScale,{r:this.purple2.r,g:this.purple2.g,b:this.purple2.b,a:this.purple2.a}).to(1/4/this.anmControl.body.timeScale,{a:0}).call((function(){n.screenColorTween=null})).start();this.screenColorTween=r,this.bodyTweens.push(r)}else if("foodEnd"==e.name)this.foodEnd();else if("foodExplodeStart"==e.name){this.soundRes.playFoodSound(),this.screenColor=new s(this.purple1.r,this.purple1.g,this.purple1.b,0);var i=u(this.screenColor).to(.4/this.anmControl.body.timeScale,{a:this.purple1.a}).start();this.screenColorTween=i,this.bodyTweens.push(i)}},i.specialPlantUpdate=function(e,n,t){this.fooding||this.sheepend||this.detectEnemy()},i.detectEnemy=function(){var e,n=this,t=!1;null==(e=this.inLane)||e.zombiePool().forEach((function(e){t||e.shouldSpeedScale()*e.randomSpeed>0&&e.bodyRec.judgeCrossRec(n.detector)&&(t=!0)})),t&&this.die()},i.specialPlantOnSquareChange=function(e,n){this.detector=d.createRectangleNodeCenter(n.node,.5*f.SquareDisW,f.SquareDisH)},n}(c)).prototype,"soundRes",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new O}}),q=n(x.prototype,"purple1",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(255,255,255,255)}}),j=n(x.prototype,"purple2",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(255,255,255,255)}}),z=x))||z));i._RF.pop()}}}));

System.register("chunks:///_virtual/StarFruit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./Square.ts","./CharacterManager.ts","./SoundRescourses.ts"],(function(o){var t,e,n,i,r,a,s,u,c,l,d,h,f,p,S,y;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,a=o._decorator,s=o.AudioClip,u=o.Prefab,c=o.HALF_PI,l=o.Vec2},function(o){d=o.PeashooterPlant},function(o){h=o.Square},function(o){f=o.Rectangle,p=o.ZombiePool,S=o.TombPool},function(o){y=o.sounds}],execute:function(){var b,D,g,m,F,R,q,P,v,w,C,E,A,L,_,z;r._RF.push({},"e7d20dLX0JKjqlLE9Yio589","StarFruit",void 0);var H=a.ccclass,W=a.property,j=(b=H("starFruitSound"),D=W([s]),g=W([s]),m=W([s]),b((q=t((R=function(){function o(){n(this,"shootSound",q,this),n(this,"foodSound",P,this),n(this,"piano",v,this)}var t=o.prototype;return t.playShootSound=function(){y.playArray(this.shootSound,1,.1)},t.playFoodSound=function(){y.playArray(this.foodSound,1,.1)},t.playPiano=function(o){o>=1&&o<=6&&this.piano.length>o-1&&y.play(this.piano[o-1],2,.1)},o}()).prototype,"shootSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(R.prototype,"foodSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=t(R.prototype,"piano",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=R))||F);o("StarFruitPlant",(w=H("StarFruit"),C=W(u),E=W(j),w((_=t((L=function(o){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=o.call.apply(o,[this].concat(r))||this,n(t,"peaFood",_,i(t)),t.sideDetectors=[],t.laneDetector=null,n(t,"soundResStar",z,i(t)),t}e(t,o);var r=t.prototype;return r.specialPlantFood=function(){this.anmControl.playAnimation("FoodStart",1/0),this.busy=1/0},r.setDetecter=function(o,t){this.sideDetectors=[],this.sideDetectors.push(f.createRectangleNodeCenter(t.node,30,5*h.SquareDisH),f.createRectangleNodeSide(t.node,10*h.SquareDisW,30,90*Math.atan2(h.SquareDisH,1.732*h.SquareDisW)/c),f.createRectangleNodeSide(t.node,10*h.SquareDisW,30,90*-Math.atan2(h.SquareDisH,1.732*h.SquareDisW)/c)),this.laneDetector=f.createRectangleNodeSide(t.node,-(t.cIndex+1)*h.SquareDisW,h.SquareDisH)},r.detectEnemy=function(){var o=this,t=!1;return this.inLane.zombiePool().forEach((function(e){t||e.isAlive()&&e.bodyRecForShooter.judgeCrossRec(o.laneDetector)&&(t=!0)})),!!t||(this.inLane.tombPool().forEach((function(e){t||e.bodyRec.judgeCrossRec(o.laneDetector)&&(t=!0)})),!!t||(p.pool().concat().forEach((function(e){t||o.sideDetectors.forEach((function(o){t||o.judgeCrossRec(e.bodyRecForShooter)&&(t=!0)}))})),!!t||(S.pool().concat().forEach((function(e){t||o.sideDetectors.forEach((function(o){t||o.judgeCrossRec(e.bodyRec)&&(t=!0)}))})),t)))},r.specialPlantFoodEnd=function(){this.busy=0,this.anmControl.playAnimation("FoodEnd",1)},r._shootStars=function(o,t,e,n){var i=this;void 0===o&&(o=!1),void 0===t&&(t=!1),void 0===e&&(e=this.pea),void 0===n&&(n=20),[new l(-1,0),new l(0,1),new l(0,-1),new l(1.732*h.SquareDisW,h.SquareDisH),new l(1.732*h.SquareDisW,-h.SquareDisH)].forEach((function(r){i._shoot(o,t,e,n,r)}))},r.onFoodLeftPeaCountDec=function(){this._shootStars(!0,!0,this.peaFood,20)},r.animationListener=function(o){"Shoot"==o.name&&(this._shootStars(),this.soundResStar.playShootSound()),"foodStart"==o.name&&(this.soundResStar.playFoodSound(),this.anmControl.playAnimation("Fooding",1/0),this.anmControl.playAnimation("Fooding",1/0),this.foodShooting())},t}(d)).prototype,"peaFood",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(L.prototype,"soundResStar",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new j}}),A=L))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/Store.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StoreCommodity.ts","./Shovel.ts","./KeyListener.ts","./SoundRescourses.ts","./PlayerProperties.ts","./StoreCostumeSeller.ts"],(function(t){var e,o,i,n,s,r,c,l,a,u,h,m,p,f,y,d,w,g,b,P,v,I,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,c=t.Prefab,l=t.Node,a=t.ScrollView,u=t.JsonAsset,h=t.AudioClip,m=t.Vec2,p=t.instantiate,f=t.input,y=t.Input,d=t.KeyCode,w=t.Component},function(t){g=t.StoreCommodity},function(t){b=t.Shovel},function(t){P=t.KeyListener},function(t){v=t.sounds},function(t){I=t.AllPlayerProperties},function(t){S=t.StoreCostumeSeller}],execute:function(){var T,C,E,O,z,D,U,_,F,L,N,A,K,M,W,x,G,J,R,k,V,j,B,H,Y;s._RF.push({},"feb4drcSKVLGIUlI2C+KmzD","Store",void 0);var q=r.ccclass,Q=r.property,X=function(){this.Plants=[],this.Upgrade=[],this.Gem=[],this.Coin=[]};t("Store",(T=q("Store"),C=Q(c),E=Q(l),O=Q(a),z=Q(u),D=Q(b),U=Q(b),_=Q(b),F=Q(b),L=Q(b),N=Q(h),A=Q(c),T((W=e((M=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,i(e,"commodityPF",W,n(e)),i(e,"commodityParent",x,n(e)),i(e,"scrollview",G,n(e)),i(e,"commodityJson",J,n(e)),i(e,"plantIcon",R,n(e)),i(e,"upgradeIcon",k,n(e)),i(e,"coinIcon",V,n(e)),i(e,"gemIcon",j,n(e)),i(e,"costumeIcon",B,n(e)),i(e,"switchSound",H,n(e)),i(e,"costumeDisplayerPF",Y,n(e)),e.commodities=new X,e}o(e,t);var s=e.prototype;return s.scrowL=function(){var t=this.scrollview.getScrollOffset();this.scrollview.scrollToOffset(new m(-(t.x+500),t.y),.2)},s.scrowR=function(){var t=this.scrollview.getScrollOffset();this.scrollview.scrollToOffset(new m(-(t.x-500),t.y),.2)},s.exit=function(){P.darken((function(){P.goToLastScene()}))},s.switchPage=function(t){var e=this;[this.plantIcon,this.upgradeIcon,this.coinIcon,this.gemIcon,this.costumeIcon].forEach((function(t){t.unchoose()})),this.commodityParent.destroyAllChildren(),t.forEach((function(t){var o=p(e.commodityPF);o.parent=e.commodityParent,o.getComponent(g).readCommodity(t)})),v.play(this.switchSound,1,.1)},s.switchToPlants=function(){this.switchPage(this.commodities.Plants),this.plantIcon.choose()},s.switchToUpgrades=function(){this.switchPage(this.commodities.Upgrade),this.upgradeIcon.choose()},s.switchToCoin=function(){this.switchPage(this.commodities.Coin),this.coinIcon.choose()},s.switchToGem=function(){this.switchPage(this.commodities.Gem),this.gemIcon.choose()},s.switchToCostume=function(){var t=this;this.switchPage([]),I.getToday().plantCostumeToday.forEach((function(e,o){var i=p(t.costumeDisplayerPF);i.parent=t.commodityParent,i.getComponent(S).readCostume(e)})),this.costumeIcon.choose()},s.onLoad=function(){var t=this;this.commodities=this.commodityJson.json,f.on(y.EventType.KEY_DOWN,(function(e){e.keyCode==d.ESCAPE&&t.exit()}),this)},s.start=function(){var t=this;this.plantIcon.listener.on(l.EventType.MOUSE_DOWN,(function(e){t.switchToPlants()}),this),this.upgradeIcon.listener.on(l.EventType.MOUSE_DOWN,(function(e){t.switchToUpgrades()}),this),this.gemIcon.listener.on(l.EventType.MOUSE_DOWN,(function(e){t.switchToGem()}),this),this.coinIcon.listener.on(l.EventType.MOUSE_DOWN,(function(e){t.switchToCoin()}),this),this.costumeIcon.listener.on(l.EventType.MOUSE_DOWN,(function(e){t.switchToCostume()}),this),this.switchToPlants()},e}(w)).prototype,"commodityPF",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(M.prototype,"commodityParent",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(M.prototype,"scrollview",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(M.prototype,"commodityJson",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(M.prototype,"plantIcon",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(M.prototype,"upgradeIcon",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(M.prototype,"coinIcon",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(M.prototype,"gemIcon",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(M.prototype,"costumeIcon",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(M.prototype,"switchSound",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(M.prototype,"costumeDisplayerPF",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=M))||K));s._RF.pop()}}}));

System.register("chunks:///_virtual/StoreCommodity.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Plants.ts","./Trophies.ts","./MultiLanguage.ts","./PlayerProperties.ts","./Droppings.ts","./Prizes.ts","./Materials.ts","./GemCount.ts","./CoinCount.ts","./UpgradeTrophy.ts","./AnimationController.ts"],(function(t){var e,i,o,n,r,a,l,u,s,c,m,p,y,d,b,g,h,C,w,f,S,B,v,k,L,D,P,z,U;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,l=t._decorator,u=t.Sprite,s=t.SpriteFrame,c=t.Prefab,m=t.Label,p=t.Node,y=t.Button,d=t.Vec3,b=t.dragonBones,g=t.Color,h=t.Component},function(t){C=t.instantiatePooly},function(t){w=t.plants},function(t){f=t.UpgradeEnum},function(t){S=t.MultiLanguage},function(t){B=t.AllPlayerProperties},function(t){v=t.droppings},function(t){k=t.prizeRes},function(t){L=t.materialRes},function(t){D=t.GemCount},function(t){P=t.CoinCount},function(t){z=t.UpgradeTrophy},function(t){U=t.AnimationController}],execute:function(){var I,N,T,W,A,F,M,R,G,_,q,E,x,O,j,H,K,Q,V,Y,J,X,Z,$,tt,et,it,ot,nt,rt,at,lt,ut,st,ct,mt,pt,yt,dt,bt,gt;a._RF.push({},"2d79ejWBKpGIYqDFe7Uya5/","StoreCommodity",void 0);var ht=l.ccclass,Ct=l.property,wt=t("StoreCommodityProps",(function(){this.CommodityType="plant",this.CommodityName="peashooter",this.CommodityDisplayName=new S,this.CommodityCount=1,this.StackLevel=0,this.CurrencyType="coin",this.CurrencyRequired=1e3,this.UnlockLevel=null}));t("StoreCommodity",(I=ht("StoreCommodity"),N=Ct(u),T=Ct(s),W=Ct(s),A=Ct(s),F=Ct(s),M=Ct(c),R=Ct(c),G=Ct(m),_=Ct(m),q=Ct(p),E=Ct(y),x=Ct(u),O=Ct(m),j=Ct(u),H=Ct(u),K=Ct(s),Q=Ct(s),V=Ct(s),Y=Ct(s),I((Z=e((X=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"window",Z,n(e)),o(e,"plantWindow",$,n(e)),o(e,"upgradeWindow",tt,n(e)),o(e,"gemWindow",et,n(e)),o(e,"coinWindow",it,n(e)),o(e,"coinStack",ot,n(e)),o(e,"gemStack",nt,n(e)),o(e,"nameLabel",rt,n(e)),o(e,"countLabel",at,n(e)),o(e,"displaySlot",lt,n(e)),e.currentCommodity=new wt,o(e,"buyButton",ut,n(e)),o(e,"buyButtonSprite",st,n(e)),o(e,"buyButtonLabel",ct,n(e)),o(e,"buyGemIcon",mt,n(e)),o(e,"buyCoinIcon",pt,n(e)),o(e,"gemButtonUp",yt,n(e)),o(e,"gemButtonDown",dt,n(e)),o(e,"coinButtonUp",bt,n(e)),o(e,"coinButtonDown",gt,n(e)),e._soldout=!1,e}i(e,t);var a=e.prototype;return a.buy=function(){if(this.unlockable())switch(this.unlockCommodity(),this.currentCommodity.CurrencyType){case"coin":var t;null==(t=P.component)||t.addCoinCount(-this.currentCommodity.CurrencyRequired);break;case"gem":var e;null==(e=D.component)||e.addGemCount(-this.currentCommodity.CurrencyRequired)}},a.unlockable=function(){if(this.soldout)return!1;switch(this.currentCommodity.CurrencyType){case"coin":return B.currentPlayer.coin>=this.currentCommodity.CurrencyRequired;case"gem":return B.currentPlayer.gem>=this.currentCommodity.CurrencyRequired}return!1},a.unlockCommodity=function(){switch(this.currentCommodity.CommodityType){case"plant":var t=w.getPlantEnumByString(this.currentCommodity.CommodityName);B.unlockPlant(t),this.soldout=!0;break;case"upgrade":var e=f[this.currentCommodity.CommodityName];B.unlockUpgrade(e),this.soldout=!0;break;case"gem":var i;null==(i=D.component)||i.addGemCount(this.currentCommodity.CommodityCount);break;case"coin":var o;null==(o=P.component)||o.addCoinCount(this.currentCommodity.CommodityCount)}},a.readCommodity=function(t){switch(this.countLabel.string="",this.currentCommodity=t,t.CommodityType){case"plant":var e,i,o,n=w.getPlantEnumByString(t.CommodityName);if(B.getPlantProgressByID(n).progress>0||t.UnlockLevel&&B.getLevelProgressByID(t.UnlockLevel).progress<2)return void this.node.destroy();var r=C(w.getPlantsInCard(n).plantDIS),a=w.getPlantFeature(n),l=w.getPlantAlmanac(n).DisplayOffset;r.parent=this.displaySlot,r.scale=new d(1.2,1.2,1),r.position=new d(l.x,l.y-30);var u=r.getComponent(U);null==u||null==(e=u.body)||null==(e=e.color)||e.set(255,255,255,255),null==u||u.switchCostume(-1);var s=null==(i=r.getChildByName("Body"))?void 0:i.getComponent(b.ArmatureDisplay);null==s||null==(o=s.color)||o.set(255,255,255,255),this.window.spriteFrame=this.plantWindow,this.nameLabel.string=S.getString(a.NAME);break;case"upgrade":var c=f[t.CommodityName];if(B.getUpgradeProgressByID(c).progress>0)return void this.node.destroy();this.window.spriteFrame=this.upgradeWindow;var m=C(v.UpgradeTrophy),p=k.upgradeFeature()[c];m.parent=this.displaySlot,m.position=new d(0,-50),m.getComponent(z).readID(c,!0),this.nameLabel.string=S.getString(p.NAME);break;case"gem":var y=C(this.gemStack);y.parent=this.displaySlot,y.position=new d(0,-50),y.getComponent(b.ArmatureDisplay).playAnimation("stack"+t.StackLevel.toString()),this.window.spriteFrame=this.gemWindow,this.nameLabel.string=S.getString(t.CommodityDisplayName),this.countLabel.string="x"+S.getNumberWithThousandComma(t.CommodityCount);break;case"coin":var g=C(this.coinStack);g.parent=this.displaySlot,g.position=new d(0,-50),g.getComponent(b.ArmatureDisplay).playAnimation("stack"+t.StackLevel.toString()),this.window.spriteFrame=this.coinWindow,this.nameLabel.string=S.getString(t.CommodityDisplayName),this.countLabel.string="x"+S.getNumberWithThousandComma(t.CommodityCount)}switch(t.CurrencyType){case"coin":this.buyCoinIcon.node.active=!0,this.buyGemIcon.node.active=!1,this.buyButton.hoverSprite=this.buyButton.pressedSprite=this.coinButtonDown,this.buyButton.disabledSprite=this.buyButton.normalSprite=this.coinButtonUp;break;case"gem":this.buyCoinIcon.node.active=!1,this.buyGemIcon.node.active=!0,this.buyButton.hoverSprite=this.buyButton.pressedSprite=this.gemButtonDown,this.buyButton.disabledSprite=this.buyButton.normalSprite=this.gemButtonUp}this.soldout=!1},a.update=function(t){var e=this.unlockable();this.buyButtonSprite.customMaterial=e?null:L.greyMaterial,this.buyButtonSprite.color=e?new g(255,255,255,255):new g(100,100,100,255)},r(e,[{key:"soldout",get:function(){return this._soldout},set:function(t){this.buyButtonSprite.customMaterial=t?L.greyMaterial:null,this.buyButtonLabel.string=t?S.getDirectQuote("[SOLD_OUT]"):S.getNumberWithThousandComma(this.currentCommodity.CurrencyRequired),this._soldout=t}}]),e}(h)).prototype,"window",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(X.prototype,"plantWindow",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(X.prototype,"upgradeWindow",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(X.prototype,"gemWindow",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=e(X.prototype,"coinWindow",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e(X.prototype,"coinStack",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(X.prototype,"gemStack",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(X.prototype,"nameLabel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(X.prototype,"countLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=e(X.prototype,"displaySlot",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=e(X.prototype,"buyButton",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=e(X.prototype,"buyButtonSprite",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=e(X.prototype,"buyButtonLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=e(X.prototype,"buyGemIcon",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=e(X.prototype,"buyCoinIcon",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=e(X.prototype,"gemButtonUp",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=e(X.prototype,"gemButtonDown",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=e(X.prototype,"coinButtonUp",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=e(X.prototype,"coinButtonDown",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=X))||J));a._RF.pop()}}}));

System.register("chunks:///_virtual/StoreCostumeSeller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./MultiLanguage.ts","./PlayerProperties.ts","./Materials.ts","./CoinCount.ts","./AnimationController.ts"],(function(t){var e,n,o,i,l,r,u,a,s,c,p,b,y,m,g,f,h,d,C,B,S,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,l=t.createClass},function(t){r=t.cclegacy,u=t._decorator,a=t.Node,s=t.Button,c=t.Sprite,p=t.Label,b=t.SpriteFrame,y=t.instantiate,m=t.Vec3,g=t.Color,f=t.Component},function(t){h=t.plants},function(t){d=t.MultiLanguage},function(t){C=t.AllPlayerProperties},function(t){B=t.materialRes},function(t){S=t.CoinCount},function(t){w=t.AnimationController}],execute:function(){var D,P,I,v,z,M,k,L,_,U,A,F,O,G,R,T,j,x,H,N,q,Q,V,W,X;r._RF.push({},"422caMyd89MX5o01p3dA5qH","StoreCostumeSeller",void 0);var E=u.ccclass,J=u.property;t("StoreCostumeSeller",(D=E("StoreCostumeSeller"),P=J(a),I=J(s),v=J(c),z=J(p),M=J(c),k=J(c),L=J(c),_=J(b),U=J(b),A=J(b),F=J(b),D((R=e((G=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,o(e,"displayer",R,i(e)),e.cost=3e3,e.currentPlantCostume=null,o(e,"buyButton",T,i(e)),o(e,"buyButtonSprite",j,i(e)),o(e,"buyButtonLabel",x,i(e)),o(e,"buyGemIcon",H,i(e)),o(e,"buyCoinIcon",N,i(e)),o(e,"bg",q,i(e)),o(e,"gemButtonUp",Q,i(e)),o(e,"gemButtonDown",V,i(e)),o(e,"coinButtonUp",W,i(e)),o(e,"coinButtonDown",X,i(e)),e._soldout=!1,e}n(e,t);var r=e.prototype;return r.readCostume=function(t){h.getPlantFeature(t.plantID);var e=h.getPlantBGSprite(t.plantID);this.bg.spriteFrame=e;var n=y(h.getPlantsInCard(t.plantID).plantDIS);n.parent=this.displayer,n.scale=new m(1.2,1.2,1);var o=h.getPlantAlmanac(t.plantID);null!=o&&o.DisplayOffset&&(n.position=new m(o.DisplayOffset.x,o.DisplayOffset.y,0));var i=n.getComponent(w);i.readCostume(t.plantID),i.switchCostume(t.costume),this.soldout=C.judgePlantCostumeIsUnlocked(t,C.getPlantProgressByID(t.plantID)),this.currentPlantCostume=t},r.update=function(t){var e=this.unlockable();this.buyButtonSprite.customMaterial=e?null:B.greyMaterial,this.buyButtonSprite.color=e?new g(255,255,255,255):new g(100,100,100,255)},r.start=function(){this.buyCoinIcon.node.active=!0,this.buyGemIcon.node.active=!1,this.buyButton.hoverSprite=this.buyButton.pressedSprite=this.coinButtonDown,this.buyButton.disabledSprite=this.buyButton.normalSprite=this.coinButtonUp},r.buy=function(){var t;this.unlockable()&&(this.unlockCommodity(),null==(t=S.component)||t.addCoinCount(-this.cost),this.soldout=!0)},r.unlockCommodity=function(){C.unlockPlantCostume(this.currentPlantCostume)},r.unlockable=function(){return!this.soldout&&C.currentPlayer.coin>=this.cost},l(e,[{key:"soldout",get:function(){return this._soldout},set:function(t){this.buyButtonSprite.customMaterial=t?B.greyMaterial:null,this.buyButtonLabel.string=t?d.getDirectQuote("[SOLD_OUT]"):d.getNumberWithThousandComma(this.cost),this._soldout=t}}]),e}(f)).prototype,"displayer",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(G.prototype,"buyButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(G.prototype,"buyButtonSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(G.prototype,"buyButtonLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(G.prototype,"buyGemIcon",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(G.prototype,"buyCoinIcon",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(G.prototype,"bg",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(G.prototype,"gemButtonUp",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(G.prototype,"gemButtonDown",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(G.prototype,"coinButtonUp",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(G.prototype,"coinButtonDown",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=G))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/Strawburst.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./NodePools.ts","./CharacterManager.ts","./Square.ts","./Character.ts","./Zombie.ts","./CabbagePult.ts","./strawburstPFBerry.ts"],(function(e){var t,i,a,r,o,n,s,l,h,c,u,g,p,d,f,w,m,b,y,S,P,C,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){n=e.cclegacy,s=e._decorator,l=e.AudioClip,h=e.Prefab,c=e.Color,u=e.Vec3,g=e.Vec2},function(e){p=e.Plant,d=e.PlantProps},function(e){f=e.sounds},function(e){w=e.instantiatePooly},function(e){m=e.Rectangle},function(e){b=e.Square},function(e){y=e.CharacterType},function(e){S=e.ZombieDamageDetails,P=e.zombieDamageType},function(e){C=e.cabbagePult},function(e){D=e.strawburstPFBerry}],execute:function(){var A,L,R,z,k,j,_,O,v,F,x,I,G,q,T,E,B,H,U,V,X,W,N,Z,M,Y,J,K,Q,$,ee,te,ie,ae,re,oe,ne,se,le,he,ce,ue,ge,pe,de,fe,we,me;n._RF.push({},"aca54xT7SROTIcZodLHA0zI","Strawburst",void 0);var be=s.ccclass,ye=s.property,Se=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).GrowTime0=7.5,t.GrowTime1=10,t.GrowTime2=15,t.Damage0=200,t.Damage1=400,t.Damage2=900,t.DamagePlantfood=400,t}return i(t,e),t}(d),Pe=(A=be("StrawburstSound"),L=ye([l]),R=ye([l]),z=ye([l]),k=ye([l]),j=ye([l]),_=ye([l]),O=ye([l]),v=ye([l]),F=ye([l]),x=ye([l]),I=ye([l]),G=ye([l]),q=ye([l]),A((B=t((E=function(){function e(){a(this,"fireSay0",B,this),a(this,"fireSay1",H,this),a(this,"fireSay2",U,this),a(this,"fire",V,this),a(this,"foodLaugh",X,this),a(this,"foodSummon",W,this),a(this,"hit0",N,this),a(this,"hit1",Z,this),a(this,"hit2",M,this),a(this,"grow",Y,this),a(this,"growSay0",J,this),a(this,"growSay1",K,this),a(this,"growSay2",Q,this)}var t=e.prototype;return t.playFireSay=function(e){switch(e){case 1:f.playArray(this.fireSay1,1,.1);break;case 2:f.playArray(this.fireSay2,1,.1);break;default:f.playArray(this.fireSay0,1,.1)}},t.playFire=function(){f.playArray(this.fire,1,.2)},t.playFoodLaugh=function(){f.playArray(this.foodLaugh,1,.2)},t.playFoodSummon=function(){f.playArray(this.foodSummon,1,.2)},t.playHit=function(e){switch(e){case 1:f.playArray(this.hit1,1,.1);break;case 2:f.playArray(this.hit2,1,.1);break;default:f.playArray(this.hit0,1,.1)}},t.playGrow=function(){f.playArray(this.grow,1,.2)},t.playGrowSay=function(e){switch(e){case 1:f.playArray(this.growSay1,1,.2);break;case 2:f.playArray(this.growSay2,1,.2);break;default:f.playArray(this.growSay0,1,.2)}},e}()).prototype,"fireSay0",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(E.prototype,"fireSay1",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=t(E.prototype,"fireSay2",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(E.prototype,"fire",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(E.prototype,"foodLaugh",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(E.prototype,"foodSummon",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(E.prototype,"hit0",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=t(E.prototype,"hit1",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(E.prototype,"hit2",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(E.prototype,"grow",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(E.prototype,"growSay0",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=t(E.prototype,"growSay1",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=t(E.prototype,"growSay2",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=E))||T);e("StrawburstPlant",($=be("StrawburstPlant"),ee=ye(Pe),te=ye(h),ie=ye(h),ae=ye(h),re=ye(h),oe=ye(h),ne=ye(h),se=ye(h),$((ce=t((he=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,a(t,"soundRes",ce,r(t)),t._objdataOwn=new Se,t.growing=!0,t._growthStage=2,t.fireAnm="",t.growAnm="",a(t,"pfBigBerry",ue,r(t)),t.detector=new m,a(t,"prj0",ge,r(t)),a(t,"prj1",pe,r(t)),a(t,"prj2",de,r(t)),t.firing=!1,t.growCD=1/0,a(t,"explPar0",fe,r(t)),a(t,"explPar1",we,r(t)),a(t,"explPar2",me,r(t)),t}i(t,e);var n=t.prototype;return n.onObjdataSet=function(e,t){},n.specialPlantOnEnable=function(){this.growthStage=0,this.anmControl.playRandom(),this.growing=!1,this.firing=!1},n.grow=function(){this.growthStage++,this.growing=!0,this.firing=!1,this.baseColor=new c(255,255,255,255),this.anmControl.playAnimation(this.growAnm,1)},n.teach=function(){this.growthStage>=0?(this.defaultTeach(1),this.addArrow(1/0)):this.arrowCountdown=0},n.specialPlantUpdateForce=function(e,t,i){if(this.growCD>0&&this.growthStage<0){var a=200-122*this.getScheduler(this.growCD/8);this.baseColor=new c(a,a,a,255)}else this.baseColor=new c(255,255,255,255)},n.animationOnComplete=function(){this.growing=!1,this.firing=!1},n.waterable=function(){return!this.firing&&!this.growing&&2==this.growthStage},n.burn=function(){this.growthStage>=0?this.kill():this.defaultBurn()},n.foodSummon=function(){var e=w(this.pfBigBerry);e.parent=b.getLaneComponent(2).prjLayer;var t=e.getComponent(D);t.character.worldPosition=b.getSquareWorldPosition(2,4),t.damage=this.objdataOwn.DamagePlantfood*this._dmgScale},n.specialPlantFood=function(e){this.growthStage=2,this.anmControl.playAnimation("Food",1)},n.restStart=function(){this.firing=!1,this.growthStage=-1},n.specialPlantOnMouseDown=function(){if(this.sheepend||this.fooding)return!1;var e=this.growthStage>=0&&!this.firing;return e&&(this.fireAnimation(),this.arrowCountdown=0),e},n.fireAnimation=function(){this.firing=!0,this.anmControl.playAnimation(this.fireAnm,1)},n.specialPlantOnSquareChange=function(e,t){this.detector=m.createRectangleNodeSide(t.node,b.SquareDisW*(9-this.cIndex),b.SquareDisH)},n.fire=function(e){var t=this,i=this.prj0;switch(e){case 1:i=this.prj1;break;case 2:i=this.prj2}var a=w(i),r=[],o=[],n=this.inLane.zombiePool(),s=this.inLane.tombPool();if(n.forEach((function(e){t.detector.judgeCrossRec(e.bodyRec)&&r.push(e)})),s.forEach((function(e){t.detector.judgeCrossRec(e.bodyRec)&&o.push(e)})),r.length>0){var l=r.sort((function(e,t){return e.worldPositionX-t.worldPositionX}))[0],h=C.lobOneCabbageOnZombie(a,this.worldPosition,10,this.inLane.prjLayer,l,2,y.zombie,!1,30,!0);this._dmgScale&&(h.setDamage(h.damage_*this._dmgScale),h.splashDamages_.forEach((function(e){e.splashDamage*=t._dmgScale})))}else if(o.length>0){var c=o.sort((function(e,t){return t.worldPositionX-e.worldPositionX}))[0],u=C.lobOneCabbageOnNode(a,this.worldPosition,10,this.inLane.prjLayer,c.node,2,y.zombie,!1,30);this._dmgScale&&(u.setDamage(u.damage_*this._dmgScale),u.splashDamages_.forEach((function(e){e.splashDamage*=t._dmgScale})))}else{var g=C.lobOneCabbageOnNode(a,this.worldPosition,10,this.inLane.prjLayer,this.inLane.toRight,2,y.zombie,!1,30);this._dmgScale&&(g.setDamage(g.damage_*this._dmgScale),g.splashDamages_.forEach((function(e){e.splashDamage*=t._dmgScale})))}},n.explode=function(e){var t=this;this.soundRes.playHit(e);var i=this.explPar0,a=new S(this.objdataOwn.Damage0,!0,!0,!0,null,P.physicle),r=this.inLane.zombiePool(),o=this.inLane.tombPool(),n=m.createRectangleCenter(this.inLnC.node.worldPosition.toVec2(),b.SquareDisW,b.SquareDisH);switch(e){case 1:n=m.createRectangleCenter(this.inLnC.node.worldPosition.toVec2(),3*b.SquareDisW,3*b.SquareDisH),r=r.concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()),o=o.concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()),a=a.replaceDamage(this.objdataOwn.Damage1),i=this.explPar1;break;case 2:n=m.createRectangleCenter(this.inLnC.node.worldPosition.toVec2(),3*b.SquareDisW,3*b.SquareDisH),r=r.concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()),o=o.concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()),a=a.replaceDamage(this.objdataOwn.Damage2),i=this.explPar2}var s=w(i);s.parent=this.inLane.prjLayer;var l=this._scaleForCharacter;s.scale=new u(l,l,1),s.worldPosition=this.worldPosition.toVec3(),r.forEach((function(e){n.judgeCrossRec(e.bodyRec)&&e.dealDamage(a.replaceDirection(new g(e.worldPositionX-t.worldPositionX,e.worldPositionY-t.worldPositionY+e.zombieHeight+e.height).normalize().multiplyScalar(25)))})),o.forEach((function(e){n.judgeCrossRec(e.bodyRec)&&e.dealDamage(a.damage)}))},n.specialPlantUpdate=function(e,t,i){this.growCD>0&&!this.firing&&this.growthStage<2&&!this.fooding&&(this.growCD-=e,this.growCD<=0&&this.grow())},n.specialPlantOnEaten=function(e,t,i,a){this.growthStage>=0&&!this.firing&&!this.growing&&this.kill()},n.animationListener=function(e){switch(e.name){case"foodSummon":this.foodSummon(),this.soundRes.playFoodSummon();break;case"foodSay":this.soundRes.playFoodLaugh();break;case"foodEnd":this.foodEnd();break;case"growSay0":this.soundRes.playGrow(),this.soundRes.playGrowSay(0);break;case"growSay1":this.soundRes.playGrow(),this.soundRes.playGrowSay(1);break;case"growSay2":this.soundRes.playGrow(),this.soundRes.playGrowSay(2);break;case"restStart":this.restStart();break;case"throw0":this.fire(0),this.soundRes.playFire();break;case"throw1":this.fire(1),this.soundRes.playFire();break;case"throw2":this.fire(2),this.soundRes.playFire();break;case"throwSay0":this.soundRes.playFireSay(0);break;case"throwSay1":this.soundRes.playFireSay(1);break;case"throwSay2":this.soundRes.playFireSay(2);break;case"explode0":this.explode(0);break;case"explode1":this.explode(1);break;case"explode2":this.explode(2)}},o(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"growthStage",get:function(){return this._growthStage},set:function(e){switch(e){case-1:this.anmControl.IdleAnim="Idle_Resting",this.anmControl.RandomAnim=[],this.deathAnm="Death",this.fireAnm="",this.growAnm="",this.growCD=this.objdataOwn.GrowTime0*this._cdScale,this.clearScheduler();break;case 0:this.anmControl.IdleAnim="Idle00",this.anmControl.RandomAnim=["Idle01","Idle02"],this.deathAnm="Death0",this.fireAnm="Shoot0",this.growAnm="Grow0",this.growCD=this.objdataOwn.GrowTime1*this._cdScale;break;case 1:this.anmControl.IdleAnim="Idle10",this.anmControl.RandomAnim=["Idle11","Idle12"],this.deathAnm="Death1",this.fireAnm="Shoot1",this.growAnm="Grow1",this.growCD=this.objdataOwn.GrowTime2*this._cdScale;break;case 2:this.anmControl.IdleAnim="Idle20",this.anmControl.RandomAnim=["Idle21","Idle22"],this.deathAnm="Death2",this.fireAnm="Shoot2",this.growAnm="Grow2",this.growCD=1/0}this._growthStage=e}}]),t}(p)).prototype,"soundRes",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Pe}}),ue=t(he.prototype,"pfBigBerry",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=t(he.prototype,"prj0",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=t(he.prototype,"prj1",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=t(he.prototype,"prj2",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=t(he.prototype,"explPar0",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=t(he.prototype,"explPar1",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=t(he.prototype,"explPar2",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=he))||le));n._RF.pop()}}}));

System.register("chunks:///_virtual/strawburstPFBerry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./SoundRescourses.ts","./CharacterManager.ts","./Zombie.ts","./Character.ts","./Square.ts","./levelController.ts"],(function(e){var r,t,a,o,n,i,c,l,s,u,d,p,h,f,y,g;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,i=e._decorator,c=e.AudioClip,l=e.Vec2},function(e){s=e.ParticleSelfdestroy},function(e){u=e.sounds},function(e){d=e.ZombiePool,p=e.TombPool},function(e){h=e.ZombieDamageDetails},function(e){f=e.Character},function(e){y=e.Square},function(e){g=e.LevelPlay}],execute:function(){var m,b,S,P,w,v,C,D,L;n._RF.push({},"7de27C3GqdFLYkn1ct9fdX0","strawburstPFBerry",void 0);var z=i.ccclass,F=i.property;e("strawburstPFBerry",(m=z("strawburstPFBerry"),b=F(c),S=F(c),P=F([c]),m((C=r((v=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(r=e.call.apply(e,[this].concat(n))||this).damage=400,a(r,"chargeSound",C,o(r)),a(r,"chargeSaySound",D,o(r)),a(r,"explodeSounds",L,o(r)),r.character=void 0,r}t(r,e);var n=r.prototype;return n.specialOnLoad=function(){this.character=this.getComponent(f)},n.animationListener=function(e){var r=this;switch(e.name){case"charge":u.play(this.chargeSaySound,1,.3),u.play(this.chargeSound,1,.1);break;case"explode":var t=new h(this.damage,!0,!0,!0,null);d.pool().concat().forEach((function(e){var a=new l(e.worldPositionX-r.character.worldPositionX,e.worldPositionY-r.character.worldPositionY+e.zombieHeight);e.dealDamage(t.replaceDirection(a.clone().normalize().multiplyScalar(2500/a.length())))})),p.pool().concat().forEach((function(e){e.dealDamage(t.damage)})),u.playArray(this.explodeSounds,1,.1),g.shakeScreen(),this.node.setParent(y.getLaneComponent(4).prjLayer,!0)}},r}(s)).prototype,"chargeSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=r(v.prototype,"chargeSaySound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=r(v.prototype,"explodeSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=v))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/Stunion.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts"],(function(t){var e,n,o,i,a,r,s,c,u,l,h,d,f,p,b,y,g,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,c=t.AudioClip,u=t.Prefab,l=t.Vec2,h=t.tween,d=t.Vec3},function(t){f=t.Plant,p=t.PlantProps},function(t){b=t.sounds},function(t){y=t.Rectangle},function(t){g=t.Square},function(t){S=t.instantiatePooly}],execute:function(){var w,m,D,P,R,L,v,C,j,k,z,E,A,F,O,q,W,I,_,U;r._RF.push({},"49aec5WU9NH3JOxqaXAp27I","Stunion",void 0);var x=s.ccclass,H=s.property,M=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).DetectDistance=1,e.DetectDistancePlantfood=4,e.StunDuration=12,e.StunDurationPlantfood=18,e}return n(e,t),e}(p),N=(w=x("StunionSound"),m=H([c]),D=H([c]),P=H([c]),R=H([c]),w((C=e((v=function(){function t(){o(this,"fade",C,this),o(this,"attack",j,this),o(this,"foodInhale",k,this),o(this,"foodShoot",z,this)}var e=t.prototype;return e.playFade=function(){b.playArray(this.fade,1,.1)},e.playAttack=function(){b.playArray(this.attack,1,.1)},e.playFoodInhale=function(){b.playArray(this.foodInhale,1,.1)},e.playFoodShoot=function(){b.playArray(this.foodShoot,1,.1)},t}()).prototype,"fade",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=e(v.prototype,"attack",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=e(v.prototype,"foodInhale",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=e(v.prototype,"foodShoot",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=v))||L);t("StunionPlant",(E=x("StunionPlant"),A=H(N),F=H(u),O=H(u),E((I=e((W=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"soundRes",I,i(e)),e._objdataOwn=new M,e.detector=new y,e.shooting=!1,e.foodShooting=!1,o(e,"gasSpawn",_,i(e)),o(e,"gasPush",U,i(e)),e.foodDetectorRec=new y,e._foodDetectorWidth=0,e}n(e,t);var r=e.prototype;return r.onObjdataSet=function(t,e){},r.specialPlantOnEnable=function(){this.eaterDetectable=!1,this.smasherDetectable=!1,this.shooting=!1},r.animationOnComplete=function(){this.shooting=!1},r.waterable=function(){return!this.shooting},r.specialPlantFood=function(t){this.shooting=!0,this.foodShooting=!1,this.anmControl.playAnimation("Food",1)},r.detectEnemy=function(){var t,e=this;return null==(t=this.inLane)?void 0:t.zombiePool().some((function(t){return t.shouldSpeedScale()*t.randomSpeed>0&&t.bodyRecForShooter.judgeCrossRec(e.detector)}))},r.getEnemies=function(){var t=this;return this.inLane?this.inLane.zombiePool().filter((function(e){return t.detector.judgeCrossRec(e.bodyRecReal)})):[]},r.getFoodEnemies=function(){var t,e,n=this;return(this.inLane?this.inLane.zombiePool().filter((function(t){return n.foodDetectorRec.judgeCrossRec(t.bodyRecReal)})):[]).concat(null!=(t=this.inLane)&&t.UpperLane?this.inLane.UpperLane.zombiePool().filter((function(t){return n.foodDetectorRec.judgeCrossRec(t.bodyRecReal)})):[],null!=(e=this.inLane)&&e.LowerLane?this.inLane.LowerLane.zombiePool().filter((function(t){return n.foodDetectorRec.judgeCrossRec(t.bodyRecReal)})):[])},r.specialPlantOnSquareChange=function(t,e){this.detector=y.createRectangleSide(new l(e.node.worldPosition.x-g.SquareDisW/2,e.node.worldPosition.y),(this.objdataOwn.DetectDistance+1)*g.SquareDisW,g.SquareDisH)},r.specialPlantUpdate=function(t,e,n){var o=this;!this.fooding&&n>0&&!this.shooting&&(this.detectEnemy()&&(this.shooting=!0,this.anmControl.playAnimation("Attack",1)));this.fooding&&this.foodShooting&&this.getFoodEnemies().forEach((function(t){t.setChiliStun(o.objdataOwn.StunDurationPlantfood)}))},r.animationListener=function(t){var e=this;switch(t.name){case"attack":this.getEnemies().forEach((function(t){t.setChiliStun(e.objdataOwn.StunDuration)}));break;case"foodLeap":this.soundRes.playFoodInhale();break;case"foodEnd":this.foodEnd();break;case"foodSound":this.soundRes.playFoodShoot();break;case"foodStart":var n,o,i;this.foodShooting=!0,this.foodDetectorWidth=0,h(this).to(1.6666/this.anmControl.timeScale,{foodDetectorWidth:this.objdataOwn.DetectDistancePlantfood},{easing:"quadOut"}).start(),null==(n=[this.inLane,null==(o=this.inLane)?void 0:o.UpperLane,null==(i=this.inLane)?void 0:i.LowerLane])||n.forEach((function(t){if(null!=t&&t.isInLawn()){var n=t.prjLayer,o=S(e.gasSpawn),i=S(e.gasPush),a=new d(e.worldPositionX,t.floorY,0);[i,o].forEach((function(t){t.parent=n,t.worldPosition=a}))}}));break;case"fade":this.soundRes.playFade();break;case"judge":this.detectEnemy()?(this.soundRes.playAttack(),this.die(!0,!0,!1,!1)):(this.anmControl.playRandom(.1),this.shooting=!1)}},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"foodDetectorWidth",get:function(){return this._foodDetectorWidth},set:function(t){var e;null!=(e=this.inLnC)&&e.isInLawn()&&(this.foodDetectorRec=y.createRectangleSide(new l(this.inLnC.node.worldPosition.x-g.SquareDisW/2,this.inLnC.node.worldPosition.y),(t+1)*g.SquareDisW,3*g.SquareDisH),this._foodDetectorWidth=t)}}]),e}(f)).prototype,"soundRes",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new N}}),_=e(W.prototype,"gasSpawn",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(W.prototype,"gasPush",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=W))||q));r._RF.pop()}}}));

System.register("chunks:///_virtual/sun.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SunCount.ts","./dropping.ts","./Square.ts","./Droppings.ts"],(function(t){var o,i,e,s,r,n,a,l,h,b,u,d,c;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,s=t.assertThisInitialized,r=t.createClass},function(t){n=t.cclegacy,a=t._decorator,l=t.Vec3,h=t.Vec2},function(t){b=t.SunCount},function(t){u=t.dropping},function(t){d=t.Square},function(t){c=t.droppings}],execute:function(){var p,m,f,y,g;n._RF.push({},"36a5cpi8YZHxrqdx/7BmhHo","sun",void 0);var D=a.ccclass,R=a.property;t("sun",(p=D("sun"),m=R([Number]),p((g=o((y=function(t){function o(){for(var o,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return o=t.call.apply(t,[this].concat(r))||this,e(o,"value",g,s(o)),o.mode="Normal",o.leftGoToAbsorberRestTime=0,o.absorbRestCD=0,o.absorbGotoCD=0,o._absorber=null,o}i(o,t);var n=o.prototype;return n.specialOnGroundHit=function(){this.willFade=!0,this.fadingOn()},n.specialDroppingFadable=function(){return"Normal"==this.mode},n.specialDroppingOnEnable=function(){this.absorber=null,this.mode="Normal",this.db.playAnimation("Normal",1/0),this.willFade=!1},n.goToUIPath=function(){return"Canvas/UIInGame/SunSlot"},n.specialDroppingUpdate=function(t,o){var i,e;if(!this.collected&&d.judgeInLawn(this.node.worldPosition)?c.registerSun(this):c.deleteSun(this),this._absorber)if(!this.collected&&o.judgeInRecNode(this._absorber.absorber))this.fade(),null==(i=this.absorber)||null==(i=i.absorbedValue)||i.push(this.value),null==(e=this.absorber)||e.onSunArrives(this);else if(this.absorbRestCD>0)this.absorbRestCD-=t;else if(this.absorbGotoCD>0){this.absorbGotoCD-=t,this.absorbGotoCD<=0&&(this.absorbGotoCD=.5,this.absorbRestCD=.3,this.leftGoToAbsorberRestTime--,this.leftGoToAbsorberRestTime<=0&&(this.absorbGotoCD=1/0));var s=new l(this.absorber.absorber.worldPosition.x,this.absorber.worldPositionY,this.absorber.absorber.worldPosition.y-this.absorber.worldPositionY).subtract3f(this.worldPositionX,this.worldPositionY,this.height),r=s.normalize().multiplyScalar(4*d.SquareDisW*t*this.absorber.shouldSpeedScale());r.length()>s.length()&&(r=s),this.worldPositionX+=r.x,this.worldPositionY+=r.y,this.height+=r.z}},n.switchMode=function(t){"Red"==t?("Normal"==this.mode?this.db.playAnimation("N-R"):"Blue"==this.mode&&this.db.playAnimation("B-R"),this.mode="Red"):"Blue"==t?("Normal"==this.mode?this.db.playAnimation("N-B"):"Red"==this.mode&&this.db.playAnimation("R-B"),this.mode="Blue"):("Blue"==this.mode?this.db.playAnimation("B-N"):"Red"==this.mode&&this.db.playAnimation("R-N"),this.mode="Normal")},n.specialGoToUI=function(t){c.deleteSun(this),this.switchMode("Normal"),b.component.playCollect(),b.component.SunAdd(this.value,!1),this.absorber=null},n.specialUICall=function(t){b.component.SunAdd()},r(o,[{key:"absorber",get:function(){return this._absorber},set:function(t){this._absorber=t,t?(this.leftGoToAbsorberRestTime=3,this.absorbRestCD=0,this.absorbGotoCD=.5,this.linearVelocity=new h(0,0),this.bodyLinearVelocity=0,this.gravity=0):this.switchMode("Normal")}}]),o}(u)).prototype,"value",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 25}}),f=y))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/SunBean.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./NodePools.ts"],(function(n){var t,i,o,e,a,r,l,s,u,d,f,p,c;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,o=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,l=n.AudioClip,s=n.Prefab,u=n.Vec3},function(n){d=n.Plant,f=n.PlantProps},function(n){p=n.sounds},function(n){c=n.instantiatePooly}],execute:function(){var h,b,y,m,P,w,S,A,g,R,B,z,C,v,E,F,L,_,j,O,M,D,H,I;a._RF.push({},"50d0c5j9tNOoLMlC8SpyjXn","SunBean",void 0);var N=r.ccclass,X=r.property,k=function(n){function t(){for(var t,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(t=n.call.apply(n,[this].concat(o))||this).SunPerHitpoint=.2,t}return i(t,n),t}(f),x=(h=N("sunbeanSound"),b=X(l),y=X(l),m=X(l),P=X(l),w=X(l),S=X(l),h((R=t((g=function(){function n(){o(this,"buff",R,this),o(this,"buffMusic",B,this),o(this,"food",z,this),o(this,"foodEnd",C,this),o(this,"burnStart",v,this),o(this,"burn",E,this)}var t=n.prototype;return t.playBuff=function(){p.play(this.buff,1,.1),p.play(this.buffMusic,1,.1)},t.playFood=function(){p.play(this.food,1,.1)},t.playFoodEnd=function(){p.play(this.foodEnd,1,.1)},t.playBurn=function(){p.play(this.burn,1,.1),p.play(this.burnStart,1,.1)},n}()).prototype,"buff",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(g.prototype,"buffMusic",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(g.prototype,"food",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(g.prototype,"foodEnd",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(g.prototype,"burnStart",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(g.prototype,"burn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=g))||A);n("SunBeanPlant",(F=N("SunBeanPlant"),L=X(x),_=X(s),j=X([l]),F((D=t((M=function(n){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a))||this,o(t,"soundRes",D,e(t)),t._objdataOwn=new k,t.fooded=!1,t.idleAnm="",t.randAnm=[],o(t,"blastPar",H,e(t)),o(t,"blastSounds",I,e(t)),t}i(t,n);var a=t.prototype;return a.specialPlantOnLoad=function(){this.idleAnm=this.anmControl.IdleAnim,this.randAnm=this.anmControl.RandomAnim},a.specialPlantFood=function(n){this.anmControl.playAnimation("Food"),this.soundRes.playFood(),this.fooded=!0,this.foodable=!1,this.anmControl.IdleAnim="FoodLoop",this.anmControl.RandomAnim=[]},a.specialPlantFoodEnd=function(){this.soundRes.playFoodEnd(),this.anmControl.playRandom()},a.waterable=function(){return!this.fooded},a.specialPlantOnEnable=function(){this.fooded=!1,this.foodable=!0,this.anmControl.IdleAnim=this.idleAnm,this.anmControl.RandomAnim=this.randAnm},a.specialPlantOnEaten=function(n,t,i,o){if(o<=0&&t){if(this.fooded){t.sunbeanBlast(this.blastSounds),this.soundRes.playBurn();var e=c(this.blastPar);e.parent=this.inLane.prjLayer,e.worldPosition=new u(t._worldPositionX,t._worldPositionY+t.height)}else t.setSunBeanParticleCD(1/0),this.soundRes.playBuff();t.setSunBeanSunPerHitpoint(this._objdataOwn.SunPerHitpoint),this.die(),this.node.destroy()}},a.animationListener=function(n){"foodEnd"==n.name&&this.foodEnd()},t}(d)).prototype,"soundRes",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new x}}),H=t(M.prototype,"blastPar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(M.prototype,"blastSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=M))||O));a._RF.pop()}}}));

System.register("chunks:///_virtual/sunbomb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dropping.ts","./UI.ts","./levelController.ts","./ParticleSelfdestroy.ts","./Sunflower.ts","./SoundRescourses.ts","./NodePools.ts","./sunbombExplosion.ts"],(function(i){var t,o,n,e,s,a,r,l,d,u,c,p,h,f,y,b,P,g,w;return{setters:[function(i){t=i.applyDecoratedDescriptor,o=i.inheritsLoose,n=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){s=i.cclegacy,a=i._decorator,r=i.AudioClip,l=i.Prefab,d=i.Vec2,u=i.Vec3,c=i.Color},function(i){p=i.dropping},function(i){h=i.UIInGame},function(i){f=i.LevelPlay},function(i){y=i.ParticleSelfdestroy},function(i){b=i.sunflower},function(i){P=i.sounds},function(i){g=i.instantiatePooly},function(i){w=i.sunbombExplosion}],execute:function(){var m,v,S,x,R,A,D,C,V,z,I,k,L;s._RF.push({},"1e38ao6MHtId7mFbgTMyktT","sunbomb",void 0);var E=a.ccclass,F=a.property;i("sunbomb",(m=E("sunbomb"),v=F(r),S=F(r),x=F(l),R=F(l),A=F(l),m((V=t((C=function(i){function t(){for(var t,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return(t=i.call.apply(i,[this].concat(s))||this).sunbombProps=void 0,n(t,"explodeSound",V,e(t)),n(t,"defuseSound",z,e(t)),n(t,"footPar",I,e(t)),t.footPsd=void 0,n(t,"rayPar",k,e(t)),t.rayPsd=void 0,n(t,"blastPar",L,e(t)),t}o(t,i);var s=t.prototype;return s.specialCollectable=function(){return h.uiingame.mouseDown||!f.gaming},s.collect=function(){this.collectable()&&(this.collected=!0,f.gaming?(this.explode(),this.bodyLinearVelocity=0,this.gravity=0,this.linearVelocity=new d(0,0)):this.defuse())},s.onKeyDown=function(i){},s.onFadeAwayStart=function(){},s.spawnRay=function(){this.killRay();var i=g(this.rayPar);i.parent=this.node.parent,i.setSiblingIndex(0),this.rayPsd=i.getComponent(y),this.rayPsd.db.playAnimation("Start",1/0);var t=g(this.footPar);t.parent=this.node.parent,t.setSiblingIndex(0),this.footPsd=t.getComponent(y),this.footPsd.db.playAnimation("Start",1/0),this.dealRay()},s.dealRay=function(){var i=this.node.scale.x;if(this.footPsd&&(this.footPsd.node.scale=new u(i,i,i),this.footPsd.node.worldPosition=new u(this.worldPositionX,this.worldPositionY)),this.rayPsd){var t=this.height/1410;this.rayPsd.node.scale=new u(i,t,i),this.rayPsd.node.worldPosition=new u(this.worldPositionX,this.worldPositionY)}},s.killRay=function(){if(this.footPsd&&(this.footPsd.db.playAnimation("Die",1/0),this.footPsd=null),this.rayPsd){var i=this.node.worldScale.x;this.rayPsd.node.scale=new u(i,i,i),this.rayPsd.db.playAnimation("Die",1/0),this.rayPsd=null}},s.specialOnGroundHit=function(){this.defuse()},s.specialDroppingOnEnable=function(){this.fadingStarted=!1,this.fadingCountdown=1/0,this.db.playAnimation("Purple",1/0),this.spawnRay()},s.explode=function(){P.play(this.explodeSound,1,.1),this.fadeAway();var i=g(this.blastPar);i.parent=this.node.parent,i.worldPosition=this.node.worldPosition,i.getComponent(w).sunbombProps=this.sunbombProps,this.killRay()},s.defuse=function(){var i=this;b.produceSun(50,this.worldPosition,this.height,!1).forEach((function(t){t.linearVelocity=i.linearVelocity.clone(),t.gravity=i.gravity,t.bodyLinearVelocity=i.bodyLinearVelocity,t.db.playAnimation("P-N",1/0),t.fadingOn()})),this.db.playAnimation("P-N",1/0),P.play(this.defuseSound,1,.1),this.db.color=new c(255,255,255,0),this.fade(),this.killRay()},s.specialDroppingUpdate=function(i,t){this.dealRay()},s.fadingOn=function(){},t}(p)).prototype,"explodeSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(C.prototype,"defuseSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(C.prototype,"footPar",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(C.prototype,"rayPar",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(C.prototype,"blastPar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=C))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/sunbombExplosion.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./levelController.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts"],(function(o){var n,e,t,s,r,a,i,l,c,u,b,m;return{setters:[function(o){n=o.inheritsLoose},function(o){e=o.cclegacy,t=o._decorator,s=o.Vec2},function(o){r=o.ParticleSelfdestroy},function(o){a=o.SunBombProperties},function(o){i=o.Rectangle,l=o.PlantPool,c=o.ZombiePool},function(o){u=o.Square},function(o){b=o.ZombieDamageDetails,m=o.zombieDamageType}],execute:function(){var p;e._RF.push({},"4ab19/Qr/lHion7Mc4qSjjz","sunbombExplosion",void 0);var f=t.ccclass;t.property,o("sunbombExplosion",f("sunbombExplosion")(p=function(o){function e(){for(var n,e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(n=o.call.apply(o,[this].concat(t))||this).sunbombProps=new a,n}return n(e,o),e.prototype.animationListener=function(o){var n=this;if("expl"==o.name){var e=new s(this.node.worldPosition.x,this.node.worldPosition.y),t=i.createRectangleCenter(e,2*u.transFrom_ow_To_gw(this.sunbombProps.PlantBombExplosionRadius),2*u.transFrom_oh_To_gh(this.sunbombProps.PlantBombExplosionRadius)),r=i.createRectangleCenter(e,2*u.transFrom_ow_To_gw(this.sunbombProps.ZombieBombExplosionRadius),2*u.transFrom_oh_To_gh(this.sunbombProps.ZombieBombExplosionRadius)),a=[];l.pool().concat().forEach((function(o){if(o.plantInLnC&&t.judgeCrossRec(o.bodyRec)){var n=o.plantInLnC.getAllPlants(!0)[0];-1==a.indexOf(n)&&a.push(n)}})),a.forEach((function(o){o.dealDamage(n.sunbombProps.PlantDamage,3)}));var p=[];c.pool().concat().forEach((function(o){r.judgeCrossRec(o.bodyRec)&&-1==p.indexOf(o)&&p.push(o)})),p.forEach((function(o){o.dealDamage(new b(n.sunbombProps.ZombieDamage,!0,!0,!0,null,m.ray))}))}},e}(r))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/SunCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Cards.ts","./SettingWindow.ts","./levelController.ts","./UI.ts","./LevelTaskCount.ts","./SoundRescourses.ts"],(function(t){var n,o,i,u,e,s,a,r,d,h,l,c,S,C,p,g,f,v,y,m,T;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,u=t.assertThisInitialized},function(t){e=t.cclegacy,s=t._decorator,a=t.AudioClip,r=t.Node,d=t.Vec3,h=t.EventMouse,l=t.Label,c=t.dragonBones,S=t.AnimationComponent,C=t.tween,p=t.Component},function(t){g=t.Cards},function(t){f=t.SettingWindow},function(t){v=t.LevelPlay},function(t){y=t.UIInGame},function(t){m=t.LevelTaskCountModeEnum},function(t){T=t.sounds}],execute:function(){var w,b,E,x,A,B,M,L,D,_;e._RF.push({},"1d63d0cB5hDTobysSOpxOPK","SunCount",void 0);var O=s.ccclass,I=s.property;t("SunCount",(w=O("SunCount"),b=I([a]),E=I(a),x=I(r),w(((_=function(t){function n(){for(var n,o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this).initialSunCount=1e3,n.SunCount=0,n.SunCountTarget=0,n.ExpressedSunCount=0,i(n,"addSound",M,u(n)),i(n,"cheatAddSound",L,u(n)),i(n,"addButton",D,u(n)),n.audioSource=void 0,n.icon=void 0,n.oldpos=new d(0,0,0),n.shown=!0,n.count=void 0,n}o(n,t);var e=n.prototype;return e.setSunCount=function(t){t||(t=50),this.SunCount=t,this.SunCountTarget=t,this.ExpressedSunCount=t,this.count.string=this.ExpressedSunCount.toString()},e.playCollect=function(){T.playArray(this.addSound,1,.1)},e.SunAdd=function(t,n){void 0===t&&(t=0),void 0===n&&(n=!0),this.SunCount=Math.min(this.SunCount+t,9900),this.JudgeCardAffordable(),n&&(this.SunCountTarget=this.SunCount)},e.SunDec=function(t,n,o){void 0===t&&(t=0),void 0===n&&(n=!0),void 0===o&&(o=!0),o&&t>0&&(y.uiingame.calculateLevelTask(m.SunCostLimit,{CostSun:t}),y.uiingame.calculateLevelTask(m.SunCostCountDownLimit,{CostSun:t})),this.SunCount=Math.max(this.SunCount-t,0),this.JudgeCardAffordable(),n&&(this.SunCountTarget=this.SunCount)},e.JudgeCardAffordable=function(){g.cardsController.JudgeCardsSelectable()},e.onMouseDown=function(t){t.preventSwallow=!0,t.getButton()==h.BUTTON_LEFT?(9900!=this.SunCount&&(T.play(this.cheatAddSound,1,0),T.playArray(this.addSound,1,0)),this.SunAdd(1e3)):t.getButton()==h.BUTTON_RIGHT&&this.SunDec(1e3),this.SunCountTarget=this.SunCount},e.onLoad=function(){this.count=this.node.getChildByName("SunCount").getComponent(l),n.component=this,this.icon=this.node.getChildByName("SunSlotIcon").getComponent(c.ArmatureDisplay),this.oldpos=this.node.position.clone(),this.node.position.add3f(0,400,0),this.shown=!1,this.node.getChildByName("add").on(r.EventType.MOUSE_DOWN,this.onMouseDown,this),this.SunCount=this.initialSunCount,this.SunCountTarget=this.initialSunCount,this.ExpressedSunCount=this.initialSunCount,this.count.string=this.ExpressedSunCount.toString(),!f.allowCheat&&this.addButton&&(this.addButton.active=!1)},e.playWarn=function(){this.getComponent(S).play("sunCountWarn")},n.show=function(){var t;null==(t=this.component)||t._show()},n.hide=function(){var t;null==(t=this.component)||t._hide()},e._show=function(){f.allowCheat||v.sandBoxModeOn||this.addButton.position.add(new d(-1e3,1e3,0)),this.shown||(this.shown=!0,C(this.node).to(.4,{position:this.oldpos},{easing:"cubicInOut"}).start())},e._hide=function(){this.shown&&(this.shown=!1,C(this.node).by(.4,{position:new d(0,400,0)},{easing:"cubicInOut"}).start())},e.update=function(t){if(this.ExpressedSunCount<this.SunCountTarget?this.icon.playAnimation("sunRising"):this.icon.playAnimation("sun"),this.ExpressedSunCount!=this.SunCountTarget){var n=1;n=Math.abs(this.ExpressedSunCount-this.SunCountTarget)>500?75:Math.abs(this.ExpressedSunCount-this.SunCountTarget)<=500&&Math.abs(this.ExpressedSunCount-this.SunCountTarget)>100?25:Math.abs(this.ExpressedSunCount-this.SunCountTarget)<=100&&Math.abs(this.ExpressedSunCount-this.SunCountTarget)>5?5:1,this.ExpressedSunCount>this.SunCountTarget?this.ExpressedSunCount-=n:this.ExpressedSunCount<this.SunCountTarget&&(this.ExpressedSunCount+=n),this.count.string=Math.round(this.ExpressedSunCount).toString()}},n}(p)).component=void 0,M=n((B=_).prototype,"addSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=n(B.prototype,"cheatAddSound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(B.prototype,"addButton",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=B))||A));e._RF.pop()}}}));

System.register("chunks:///_virtual/Sunflower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./dropping.ts","./Droppings.ts","./Square.ts","./sun.ts","./plantFood.ts","./coin.ts","./gem.ts","./SoundRescourses.ts","./UI.ts","./LevelTaskCount.ts","./levelController.ts","./sunbomb.ts"],(function(n){var o,t,i,e,a,r,u,l,s,d,c,y,p,h,f,P,w,S,m,g,v,b,x,C,M,L,V,j;return{setters:[function(n){o=n.inheritsLoose,t=n.applyDecoratedDescriptor,i=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,u=n.AudioClip,l=n.Node,s=n.Vec2,d=n.tween,c=n.dragonBones,y=n.TWO_PI},function(n){p=n.PlantProps,h=n.Plant},function(n){f=n.NodePools},function(n){P=n.dropping},function(n){w=n.droppings},function(n){S=n.Square},function(n){m=n.sun},function(n){g=n.plantFood},function(n){v=n.coin},function(n){b=n.gem},function(n){x=n.sounds},function(n){C=n.UIInGame},function(n){M=n.LevelTaskCountModeEnum},function(n){L=n.LevelPlay,V=n.SunBombProperties},function(n){j=n.sunbomb}],execute:function(){var O,R,A,D,_,E,F,T,k,B,I,Y,z,G;a._RF.push({},"463e4u984hEbLGhv6WBjBYc","Sunflower",void 0);var X=r.ccclass,q=r.property,W=n("sunflower",function(){function n(){}return n.producePlantFood=function(n){var o=f.instantiatePooly(w.plantFood);o.parent=w.layer;var t=n.clone(),i=S.lawnRec.prjX(),e=S.lawnRec.prjY();t.x<i.x?t.x=i.x:t.x>i.y&&(t.x=i.y),t.y<e.x?t.y=e.x:t.y>e.y&&(t.y=e.y);var a=o.getComponent(g);a.worldPosition=t,a.linearVelocity=new s(Math.random()-.5,Math.random()-.5).normalize().multiplyScalar(5),a.gravity=0},n.dropOneCoin=function(n,o){void 0===o&&(o=0);var t=w.CoinSilver;1==o&&(t=w.CoinGold);var i=f.instantiatePooly(t);i.parent=w.layer;var e=n.clone(),a=S.lawnRec.prjX(),r=S.lawnRec.prjY();e.x<a.x?e.x=a.x:e.x>a.y&&(e.x=a.y),e.y<r.x?e.y=r.x:e.y>r.y&&(e.y=r.y);var u=i.getComponent(v),l=Math.round(6*Math.random());return u.linearVelocity=new s(-3+l,0),u.bodyLinearVelocity=10,u.worldPosition=e,u.gravity=1,u},n.dropOneGem=function(n){var o=w.Gem,t=f.instantiatePooly(o);t.parent=w.layer;var i=n.clone(),e=S.lawnRec.prjX(),a=S.lawnRec.prjY();i.x<e.x?i.x=e.x:i.x>e.y&&(i.x=e.y),i.y<a.x?i.y=a.x:i.y>a.y&&(i.y=a.y);var r=t.getComponent(b),u=Math.round(6*Math.random());return r.linearVelocity=new s(-3+u,0),r.bodyLinearVelocity=10,r.worldPosition=i,r.gravity=1,x.playGemSpawn(),r},n.dropOneSunBomb=function(n){var o,t,i=w.SunBomb,e=f.instantiatePooly(i);e.parent=w.layer;var a=n.clone(),r=S.lawnRec.prjX(),u=S.lawnRec.prjY();a.x<r.x?a.x=r.x:a.x>r.y&&(a.x=r.y),a.y<u.x?a.y=u.x:a.y>u.y&&(a.y=u.y);var l=null!=(o=L.component)&&o.sunbombProps?null==(t=L.component)?void 0:t.sunbombProps:new V,d=e.getComponent(j),c=Math.round(6*Math.random());return d.linearVelocity=new s(-3+c,0),d.bodyLinearVelocity=10,d.worldPosition=a,d.gravity=1,d.sunbombProps=l,d},n.produceSun=function(n,o,t,i,e){void 0===i&&(i=!0),void 0===e&&(e=!1);var a=S.getSquareWorldPosition(0,0,0,0),r=S.getSquareWorldPosition(4,8,1,1),u=o.clone();u.x<a.x?u.x=a.x:u.x>r.x&&(u.x=r.x),i&&C.uiingame.calculateLevelTask(M.SunProduceRequest,{SunProduceAdd:n});var l=[];switch(n){case 5:l=[f.instantiatePooly(w.SunTiny)];break;case 25:l=[f.instantiatePooly(w.SunSmall)];break;case 50:l=[f.instantiatePooly(w.SunMid)];break;case 75:l=[f.instantiatePooly(w.SunLarge)];break;case 100:l=[f.instantiatePooly(w.SunMid),f.instantiatePooly(w.SunMid)];break;default:for(var c=n+0;c>=75;)c-=75,l.push(f.instantiatePooly(w.SunLarge));for(;c>=50;)c-=50,l.push(f.instantiatePooly(w.SunMid));for(;c>=25;)c-=25,l.push(f.instantiatePooly(w.SunSmall));for(;c>=5;)c-=5,l.push(f.instantiatePooly(w.SunTiny))}for(var p=0;p<l.length;p++){var h=l[p],g=l.length;h.parent=w.layer;var v=h.getComponent(P);v.height=t,v.worldPosition=new s(g<=1?u.x:u.x-15+30/(g-1)*p,u.y),v.gravity=1;var b=Math.round(6*Math.random());v.linearVelocity=new s(-3+b,0),v.bodyLinearVelocity=10}var x=[];if(l.forEach((function(n){x.push(n.getComponent(m))})),e){var L=y/3,V=x.length-1;2==x.length?L=y/6:1==x.length&&(L=0);var j=-L/2;x.forEach((function(n,t){n.gravity=0,n.worldPositionX=o.x,n.height=0;var i=0;V>0&&(i=L*t/V+j);n.linearVelocity=new s(10*Math.sin(i),0),n.bodyLinearVelocity=10*Math.cos(i),d(n).to(.5,{linearVelocity:new s(0,0),bodyLinearVelocity:0}).start()}))}return x},n}()),N=n("SunflowerProps",function(n){function t(){for(var o,t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return(o=n.call.apply(n,[this].concat(i))||this).PlantfoodTime=3,o.SunValue=50,o.ProduceInterval=23.5,o.ProduceIntervalAdditional=1.5,o.ProduceCountdownStart=5,o.ProduceCountdownStartAdditional=5,o}return o(t,n),t}(p)),U=(O=X("sunflowerSound"),R=q(u),A=q(u),O((E=t((_=function(){function n(){i(this,"foodSound",E,this),i(this,"produceSound",F,this)}var o=n.prototype;return o.playFoodSound=function(){x.play(this.foodSound,1,.1)},o.playProduceSound=function(){x.play(this.produceSound,1,.2)},n}()).prototype,"foodSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(_.prototype,"produceSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=_))||D);n("SunflowerPlant",(T=X("Sunflower"),k=q(U),B=q(l),T((z=t((Y=function(n){function t(){for(var o,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(o=n.call.apply(n,[this].concat(a))||this)._objdataOwn=new N,i(o,"soundRes",z,e(o)),o.sunValue=50,o.coinProducer=!1,i(o,"sunSpawnpoint",G,e(o)),o.producing=!1,o.foodSoundPlayed=!1,o.busy=0,o}o(t,n);var a=t.prototype;return a.playProduceAnimation=function(){this.defaultProduceAnimation()},a.getStartingCD=function(){return this._objdataOwn.ProduceCountdownStart+Math.random()*this._objdataOwn.ProduceCountdownStartAdditional},a.getBetweenCD=function(){return this._objdataOwn.ProduceInterval+Math.random()*this._objdataOwn.ProduceIntervalAdditional},a.defaultProduceAnimation=function(n){void 0===n&&(n="Produce"),this.producing=!0,this.setCD(this.getBetweenCD()),this.anmControl.playAnimation(n,1,.1,Math.max(1,1.1/this.busy))},a.specialPlantFood=function(){this.producing=!1,this.busy=1/0,this.foodSoundPlayed=!1,this.anmControl.playAnimation("Food",this._objdataOwn.PlantfoodTime),this.anmControl.body.once(c.EventObject.COMPLETE,this.foodEnd,this)},a.waterable=function(){return!this.producing},a.specialPlantFoodEnd=function(){this.producing=!1,this.setCD(this.getStartingCD()),this.anmControl.playRandom()},a.onObjdataSet=function(n,o){this.sunValue=o.SunValue,this.setCD(this.getStartingCD())},a._produce=function(n){var o;(void 0===n&&(n=this.coinProducer),this.producing=!1,null==(o=this.soundRes)||o.playProduceSound(),n)?W.dropOneCoin(new s(this.worldPositionX,this.worldPositionY),Math.random()>.1?0:1).height=this.sunSpawnpoint.worldPosition.y-this.worldPositionY:W.produceSun(this.sunValue,this.worldPosition,this.sunSpawnpoint.worldPosition.y-this.worldPositionY)},a.animationListener=function(n){var o;"Produce"==n.name?(this._produce(),this.fooding&&!this.foodSoundPlayed&&(this.foodSoundPlayed=!0,null==(o=this.soundRes)||o.playFoodSound())):this.specialSunflowerAnimationListener(n)},a.specialSunflowerAnimationListener=function(n){},a.specialPlantOnEnable=function(){this.producing=!1,this.setCD(this.getStartingCD()),this.specialSunflowerOnEnable()},a.specialSunflowerOnEnable=function(){},a.setCD=function(n){this._cdScale&&(n*=this._cdScale),this.busy=n},a.specialPlantUpdate=function(n,o,t){this.busy>0&&(this.busy-=n),this.busy<=0&&this.playProduceAnimation()},t}(h)).prototype,"soundRes",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new U}}),G=t(Y.prototype,"sunSpawnpoint",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=Y))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/SunShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sunflower.ts","./SoundRescourses.ts","./FrontYard.ts"],(function(t){var o,n,i,r,a,e,s,u,h,d,l,c;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,e=t._decorator,s=t.AudioClip,u=t.dragonBones},function(t){h=t.SunflowerPlant,d=t.SunflowerProps},function(t){l=t.sounds},function(t){c=t.FrontYard}],execute:function(){var S,w,m,g,p,_,f,y,A,C,b,P,j,v;a._RF.push({},"6fd60koRUVMwqjBq2Zaw4u+","SunShroom",void 0);var O=e.ccclass,R=e.property,I=function(t){function o(){for(var o,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=t.call.apply(t,[this].concat(i))||this).SunValueList=[25,50,75],o.GrowTime0_1=18,o.GrowTime1_2=54,o.ProduceInterval_AtNight=23.5,o.ProduceIntervalAdditional_AtNight=1.5,o.ProduceCountdownStart_AtNight=5,o.ProduceCountdownStartAdditional_AtNight=5,o}return n(o,t),o}(d),F=(S=O("sunShroomSound"),w=R([s]),m=R([s]),g=R([s]),S((f=o((_=function(){function t(){i(this,"foodSound",f,this),i(this,"produceSound",y,this),i(this,"growSound",A,this)}var o=t.prototype;return o.playFoodSound=function(){l.playArray(this.foodSound,1,.2)},o.playProduceSound=function(){l.playArray(this.produceSound,1,.2)},o.playGrowSound=function(){l.playArray(this.growSound,1,.2)},t}()).prototype,"foodSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=o(_.prototype,"produceSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=o(_.prototype,"growSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=_))||p);t("SunShroomPlant",(C=O("SunShroom"),b=R(F),C((v=o((j=function(t){function o(){for(var o,n=arguments.length,a=new Array(n),e=0;e<n;e++)a[e]=arguments[e];return(o=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new I,i(o,"soundResSunShroom",v,r(o)),o.growthCountdown=0,o.growthStage=0,o.shouldScale=.3,o.currentScale=.3,o.produceAnm="Produce",o.step=void 0,o}n(o,t);var a=o.prototype;return a.specialPlantFood=function(){var t=this;this.busy=1/0,this.growthStage>=2?(this.anmControl.playAnimation("Food",1),this.soundResSunShroom.playFoodSound()):(this.growthStage=1,this.grow(),this.anmControl.body.once(u.EventObject.COMPLETE,(function(){t.anmControl.playAnimation("Food",1),t.soundResSunShroom.playFoodSound()}),this))},a.onObjdataSet=function(t,o){this._objdataOwn.SunValueList.length>this.growthStage?this.sunValue=this._objdataOwn.SunValueList[this.growthStage]:this.sunValue=25*(this.growthStage+1),this.growthCountdown=o.GrowTime0_1},a.specialPlantFoodEnd=function(){this.producing=!1,this.setCD(this.getStartingCD())},a.specialPlantOnEnable=function(){this.currentScale=this.shouldScale=.6,this.producing=!1,this.setCD(this.getStartingCD()),this.growthStage=0,this.growthCountdown=Math.max(.1,this._objdataOwn.GrowTime0_1),this.produceAnm="Produce_Small",this.anmControl.IdleAnim="Idle_Small",this.anmControl.RandomAnim=["Random_Small"],this.anmControl.playRandom(),this.scale=this.currentScale},a.animationListener=function(t){"Produce"==t.name?this._produce():"ProduceFood"==t.name?(this._produce(),this._produce(),this._produce()):"foodEnd"==t.name&&this.foodEnd()},a.playProduceAnimation=function(){this.producing=!0,this.setCD(this.getBetweenCD()),this.anmControl.playAnimation(this.produceAnm,1,.1,Math.max(1,1.1/this.busy)),this.soundResSunShroom.playProduceSound()},a.getStartingCD=function(){var t;return null!=(t=c.currentLawn)&&t.atNight_?this._objdataOwn.ProduceCountdownStart_AtNight+Math.random()*this._objdataOwn.ProduceCountdownStartAdditional_AtNight:this._objdataOwn.ProduceCountdownStart+Math.random()*this._objdataOwn.ProduceCountdownStartAdditional},a.getBetweenCD=function(){var t;return null!=(t=c.currentLawn)&&t.atNight_?this._objdataOwn.ProduceInterval_AtNight+Math.random()*this._objdataOwn.ProduceIntervalAdditional_AtNight:this._objdataOwn.ProduceInterval+Math.random()*this._objdataOwn.ProduceIntervalAdditional},a.grow=function(){this.soundResSunShroom.playGrowSound(),this.anmControl.playAnimation("Grow",1),this.growthCountdown=this._objdataOwn.GrowTime1_2,this.growthStage++,0==this.growthStage?(this.shouldScale=.6,this.anmControl.IdleAnim="Idle_Small",this.anmControl.RandomAnim=["Random_Small"],this.produceAnm="Produce_Small",this.growthCountdown=this._objdataOwn.GrowTime0_1):1==this.growthStage?(this.shouldScale=.8,this.anmControl.IdleAnim="Idle_Mid",this.anmControl.RandomAnim=["Random_Mid"],this.produceAnm="Produce_Mid",this.growthCountdown=this._objdataOwn.GrowTime1_2):(this.shouldScale=1,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.produceAnm="Produce"),this._objdataOwn.SunValueList.length>this.growthStage?this.sunValue=this._objdataOwn.SunValueList[this.growthStage]:this.sunValue=25*(this.growthStage+1)},a.specialPlantUpdateForce=function(t,o,n){if(this.currentScale!=this.shouldScale){var i=this.shouldScale-this.currentScale;0==this.step&&(this.step=i/60),this.currentScale+=this.step*t*60,i*this.step<0&&(this.currentScale=this.shouldScale)}else this.step=0;this.scale=this.currentScale},a.specialPlantUpdate=function(t,o,n){this.busy>0&&(this.busy-=t),this.busy<=0&&this.playProduceAnimation(),this.growthCountdown>0&&this.growthStage<2&&(this.growthCountdown-=t),this.growthCountdown<=0&&(this.growthCountdown=0,!this.producing&&this.growthStage<2&&this.grow())},o}(h)).prototype,"soundResSunShroom",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new F}}),P=j))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/SweetPotato.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./Zombies.ts","./CharacterManager.ts","./LnC.ts","./Square.ts"],(function(t){var e,a,n,i,o,r,s,l,c,d,u,h,f,m,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.AudioClip},function(t){c=t.Plant,d=t.PlantProps},function(t){u=t.sounds},function(t){h=t.zombies},function(t){f=t.Rectangle},function(t){m=t.TileType},function(t){p=t.Square}],execute:function(){var b,y,g,S,A,w,P,D,z,L,R,C,v,I,_,j,x,k,O,E;r._RF.push({},"6c2efVn/9tGXYxpmCs5hc+j","SweetPotato",void 0);var N=s.ccclass,F=s.property,T=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).PlantFoodDurationSeconds=6,e.AttractExcludeList=["west_bull","west_bull_veteran","pirate_barrel","birthday_barrel","barrelroller","pirate_captain_parrot","cannon","future_jetpack","future_jetpack_veteran","future_jetpack_disco","hero_barrel","bighead_barrel","sleighcart","catapult","roman_ballista"],e.PlantfoodAttractWidth=4,e.NormalAttractWidth=2,e.LaneChangeTime=.6,e.TimeBetweenLaneChanges=5,e}return a(e,t),e}(d),q=(b=N("SweetPotatoSound"),y=F(l),g=F([l]),S=F([l]),A=F([l]),w=F([l]),P=F([l]),b((L=e((z=function(){function t(){n(this,"foodLP",L,this),n(this,"foodSay",R,this),n(this,"dmgSay1",C,this),n(this,"dmgSay2",v,this),n(this,"dmgSay3",I,this),n(this,"idle",_,this)}var e=t.prototype;return e.playFoodLP=function(){u.play(this.foodLP,1,NaN,.9)},e.playFoodSay=function(){u.playArray(this.foodSay,1,NaN,1)},e.playDmgSay1=function(){u.playArray(this.dmgSay1,1,.1)},e.playDmgSay2=function(){u.playArray(this.dmgSay2,1,.1)},e.playDmgSay3=function(){u.playArray(this.dmgSay3,1,.1)},e.playIdle=function(){u.playArray(this.idle,1,5)},t}()).prototype,"foodLP",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(z.prototype,"foodSay",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(z.prototype,"dmgSay1",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(z.prototype,"dmgSay2",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(z.prototype,"dmgSay3",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=e(z.prototype,"idle",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=z))||D);t("SweetPotatoPlant",(j=N("SweetPotatoPlant"),x=F(q),j((E=e((O=function(t){function e(){for(var e,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"soundRes",E,i(e)),e._objdataOwn=new T,e.foodCD=0,e.zombiesAttracted=[],e.detector=new f,e.foodDetector=new f,e.AttractExcludeList=[],e.hurtStage=0,e}a(e,t);var r=e.prototype;return r.onObjdataSet=function(t,e){var a=[];e.AttractExcludeList.forEach((function(t){var e=h.getZombieEnumByString(t,!1);isNaN(e)||a.push(e)})),this.AttractExcludeList=a},r.onDamaged=function(t,e,a){for(var n=1;n<=4;n++)if(a<=this.toughness/4*n){this.setAnimation(4-n);break}},r.zombieAttractable=function(t){return t.knockBackable&&-1==this.AttractExcludeList.indexOf(t.ID)&&t.specialZombieKnockbackable()&&t.CanbeSweetPotatoReversed()},r.specialPlantOnSquareChange=function(t,e){e&&(this.detector=f.createRectangleNodeCenter(e.node,p.SquareDisW*this.objdataOwn.NormalAttractWidth,3*p.SquareDisH),this.foodDetector=f.createRectangleNodeCenter(e.node,p.SquareDisW*this.objdataOwn.PlantfoodAttractWidth,3*p.SquareDisH))},r.specialPlantUpdate=function(t,e,a){var n,i=this;if(a&&null!=(n=this.inLane)&&n.isInLawn()){var o=this.fooding?this.foodDetector:this.detector;this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(t){if(i.zombieAttractable(t)&&(!i.zombiesAttracted.some((function(e){if(e.zombie==t)return!0}))&&o.judgeCrossRec(t.bodyRecReal))){i.zombiesAttracted.push({zombie:t,cd:i.objdataOwn.TimeBetweenLaneChanges});var e=p.getLnC(i.lIndex,t.cIndex);t.lIndex==i.lIndex||!t.flying&&e.getTileType()==m.sea||t.changeLaneTo(i.lIndex,i.objdataOwn.LaneChangeTime,"quadInOut")}})),this.zombiesAttracted.concat().forEach((function(e){if(e.cd-=t,i.fooding&&e.zombie.worldPositionX<i.worldPositionX&&(e.zombie.reverseCD=.5),!e.zombie.isAlive()||e.cd<=0){var a=i.zombiesAttracted.indexOf(e);-1!=a&&i.zombiesAttracted.splice(a,1)}})),this.fooding?(this.soundRes.playFoodLP(),this.soundRes.playFoodSay(),this.foodCD-=t,this.foodCD<=0&&this.foodEnd()):this.soundRes.playIdle()}else this.zombiesAttracted=[]},r.specialPlantFoodEnd=function(){this.anmControl.playRandom()},r.waterable=function(){return 0==this.hurtStage},r.specialPlantOnEnable=function(){this.hurtStage=1,this.setAnimation(),this.zombiesAttracted=[]},r.replantable=function(){return this.hurtStage>0},r.replant=function(){this.health=this.toughness,this.setAnimation()},r.specialPlantFood=function(t){this.setAnimation(0),this.anmControl.playAnimation("Food",1/0),this.foodCD=this.objdataOwn.PlantFoodDurationSeconds},r.setAnimation=function(t){if(void 0===t&&(t=0),this.hurtStage!=t){this.hurtStage=t;var e,a=this.anmControl;switch(t){case 1:this.soundRes.playDmgSay1(),a.IdleAnim="Idle1",a.RandomAnim=["Rand1"],this.deathAnm="Death1";break;case 2:this.soundRes.playDmgSay2(),a.IdleAnim="Idle2",a.RandomAnim=["Rand2"],this.deathAnm="Death2";break;case 3:this.soundRes.playDmgSay3(),a.IdleAnim="Idle3",a.RandomAnim=["Rand3"],this.deathAnm="Death3";break;default:a.IdleAnim="Idle0",a.RandomAnim=["Rand0"],this.deathAnm="Death0",this.hurtStage=0}if(!this.dead)a.playRandom(0,NaN,!0),this.replantable()&&(null==(e=this.plantInLnC)||e.readIndex())}},o(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(c)).prototype,"soundRes",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new q}}),k=O))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/TallNut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WallNut.ts"],(function(t){var n,a,e,i;return{setters:[function(t){n=t.inheritsLoose},function(t){a=t.cclegacy,e=t._decorator},function(t){i=t.WallNutPlant}],execute:function(){var s;a._RF.push({},"32029KEr/9LPa6AKkS+xB/b","TallNut",void 0);var o=e.ccclass;e.property,t("TallNutPlant",o("TallNutPlant")(s=function(t){function a(){return t.apply(this,arguments)||this}n(a,t);var e=a.prototype;return e.specialPlantFood=function(t){this.soundRes.playFoodSound(),this.setArmor(0),this.armorHealth=this.armorToughness,this.foodable=!1,this.foodEnd(),this.setAnimation(0)},e.setAnimation=function(t){if(void 0===t&&(t=0),this.hurtStage!=t){this.hurtStage=t;var n,a=this.anmControl;switch(t){case 1:a.IdleAnim="Idle1",this.deathAnm="Death1";break;case 2:a.IdleAnim="Idle2",this.deathAnm="Death2";break;default:a.IdleAnim="Idle0",this.deathAnm="Death0",this.hurtStage=0}if(!this.dead)a.playRandom(),null==(n=this.plantInLnC)||n.readIndex()}},e.onDamaged=function(t,n,a){for(var e=1;e<=3;e++)if(a<=this.toughness/3*e){this.setAnimation(3-e);break}},e.animationListener=function(t){},a}(i))||s);a._RF.pop()}}}));

System.register("chunks:///_virtual/TangleKelp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./Zombie.ts","./LnC.ts","./CharacterManager.ts","./Square.ts","./tanglekelpHands.ts","./NodePools.ts"],(function(e){var i,t,n,o,a,l,r,s,u,d,p,c,h,f,b,g,y,m,v,w,C;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){l=e.cclegacy,r=e._decorator,s=e.AudioClip,u=e.Prefab,d=e.Vec3},function(e){p=e.Plant,c=e.PlantProps},function(e){h=e.sounds},function(e){f=e.ZombieDamageDetails},function(e){b=e.TileType},function(e){g=e.Rectangle,y=e.ZombiePool},function(e){m=e.Square},function(e){v=e.tanglekelpHands},function(e){w=e.instantiatePooly,C=e.ArrayGet}],execute:function(){var D,P,A,S,z,R,K,T,k,O,E,j,Z,F,x,B,L,M,H,_,q,I,W,Y,N,G;l._RF.push({},"a7347ymY/1LfryL4Y84xuF4","TangleKelp",void 0);var U=r.ccclass,V=r.property,X=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(i=e.call.apply(e,[this].concat(n))||this).MaxDraggedZombieCount=1,i.MaxDraggedZombieCountPlantfood=5,i.DamageWhenDragFailed=400,i}return t(i,e),i}(c),J=(D=U("TangleKelpSound"),P=V(s),A=V(s),S=V(s),z=V([s]),R=V([s]),K=V([s]),T=V([s]),k=V([s]),D((j=i((E=function(){function e(){n(this,"foodStart",j,this),n(this,"foodKelp",Z,this),n(this,"foodEnd",F,this),n(this,"dive",x,this),n(this,"hit",B,this),n(this,"out",L,this),n(this,"pull",M,this),n(this,"swing",H,this)}var i=e.prototype;return i.playFoodStart=function(){h.play(this.foodStart,1,.1)},i.playFoodKelp=function(){h.play(this.foodKelp,1,.1)},i.playFoodEnd=function(){h.play(this.foodEnd,1,.1)},i.playDive=function(){h.playArray(this.dive,1,.1)},i.playHit=function(){h.playArray(this.hit,1,.1)},i.playOut=function(){h.playArray(this.out,1,.1)},i.playPull=function(){h.playArray(this.pull,1,.1)},i.playSwing=function(){h.playArray(this.swing,1,.1)},e}()).prototype,"foodStart",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(E.prototype,"foodKelp",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(E.prototype,"foodEnd",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(E.prototype,"dive",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=i(E.prototype,"hit",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=i(E.prototype,"out",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=i(E.prototype,"pull",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=i(E.prototype,"swing",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=E))||O);e("TangleKelpPlant",(_=U("TangleKelpPlant"),q=V(J),I=V(u),_((N=i((Y=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return i=e.call.apply(e,[this].concat(a))||this,n(i,"soundRes",N,o(i)),i._objdataOwn=new X,i.leftTime=1,i.diving=!1,i.detector=new g,n(i,"kelphands",G,o(i)),i}t(i,e);var l=i.prototype;return l.specialPlantOnEnable=function(){this.leftTime=this.objdataOwn.MaxDraggedZombieCount,this.deathAnm="Dive",this.eaterDetectable=!1,this.smasherDetectable=!1,this.diving=!1},l.onObjdataSet=function(e,i){i.MaxDraggedZombieCount&&(this.leftTime=i.MaxDraggedZombieCount)},l.kelpKillCall=function(e){this.soundRes.playPull(),this.soundRes.playHit(),e.zombie&&this.killZombie(e.zombie),!this.fooding&&this.isAlive()&&this.anmControl.playAnimation("Appear"),this.isAlive()||this.node.destroy()},l.killZombie=function(e){if(null!=e&&e.isAlive())if(e.objdataOwn.CannotBeDraggedByTangleKelp){var i=this.objdataOwn.DamageWhenDragFailed*this._dmgScale;e.dealDamage(new f(i,!0,!0,!0,null))}else e.chomp()},l.kelpOnZombie=function(e){this.fooding||this.leftTime--,null!=e&&e.isAlive()&&(e.objdataOwn.CannotBeDraggedByTangleKelp?e.stun(1.5):(e.switching=!0,e.correctShadeWP(),e.playIdle(),e.dirtSpawning=!0));var i=w(this.kelphands);i.parent=e.node.parent,i.worldPosition=new d(e.worldPositionX,e.worldPositionY,0),i.setSiblingIndex(e.node.getSiblingIndex()+1);var t=i.getComponent(v);t.owner=this,t.zombie=e},l.zombieCanbeKelped=function(e){return!e.flying},l.animationListener=function(e){var i=this;switch(e.name){case"dive":this.soundRes.playDive();break;case"kelp":if(this.isAlive()){var t=this.detectEnemySpecific();t?(this.soundRes.playOut(),this.soundRes.playSwing(),this.kelpOnZombie(t),this.leftTime<=0&&this.die(!1,!0,!1,!1)):this.anmControl.playAnimation("Appear",1)}else this.node.destroy();break;case"foodEnd":this.foodEnd(),this.soundRes.playFoodEnd();break;case"foodKelp":var n=C.randomize(y.pool()),o=this.objdataOwn.MaxDraggedZombieCountPlantfood,a=!1;n.forEach((function(e,t){o>0&&i.zombieCanbeKelped(e)&&e.inLnC.getTileType()==b.water&&(i.kelpOnZombie(e),o--,a=!0)})),a&&this.soundRes.playFoodKelp();break;case"appear":this.soundRes.playDive(),this.diving=!1,this.invincible=!1;break;case"out":this.isAlive()&&(this.anmControl.playAnimation("Appear",1),this.invincible=!1,this.diving=!1)}},l.dive=function(){this.anmControl.playAnimation("Dive",2),this.invincible=!0,this.diving=!0},l.specialPlantFood=function(e){this.diving=!1,this.anmControl.playAnimation("Food"),this.soundRes.playFoodStart(),this.leftTime=this.objdataOwn.MaxDraggedZombieCount},l.specialPlantFoodEnd=function(){this.invincible=!1,this.diving=!1,this.anmControl.playRandom()},l.specialPlantOnSquareChange=function(e,i){i&&(this.detector=g.createRectangleNodeCenter(i.node,1*m.SquareDisW,m.SquareDisH))},l.detectEnemy=function(){var e=this,i=!1;return this.inLane.zombiePool().forEach((function(t){i||e.zombieCanbeKelped(t)&&e.detector.judgeCrossRec(t.bodyRec)&&(i=!0)})),i},l.detectEnemySpecific=function(){var e=this,i=null;return this.inLane.zombiePool().forEach((function(t){e.zombieCanbeKelped(t)&&e.detector.judgeCrossRec(t.bodyRec)&&(!i||i.objdataOwn.CannotBeDraggedByTangleKelp&&!t.objdataOwn.CannotBeDraggedByTangleKelp||i.totalHealth()<t.totalHealth())&&(i=t)})),i},l.specialPlantUpdate=function(e,i,t){this.fooding||this.diving||this.sheepend||t>0&&this.detectEnemy()&&this.dive()},a(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),i}(p)).prototype,"soundRes",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new J}}),G=i(Y.prototype,"kelphands",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=Y))||W));l._RF.pop()}}}));

System.register("chunks:///_virtual/tanglekelpHands.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts"],(function(e){var n,t,l,r;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,l=e._decorator},function(e){r=e.ParticleSelfdestroy}],execute:function(){var o;t._RF.push({},"5c0ebQgHPlOTZU9HvYTWoZY","tanglekelpHands",void 0);var i=l.ccclass;l.property,e("tanglekelpHands",i("tanglekelpHands")(o=function(e){function t(){for(var n,t=arguments.length,l=new Array(t),r=0;r<t;r++)l[r]=arguments[r];return(n=e.call.apply(e,[this].concat(l))||this).zombie=void 0,n.owner=void 0,n}n(t,e);var l=t.prototype;return l.animationListener=function(e){var n;"kill"==e.name&&(null==(n=this.owner)||n.kelpKillCall(this))},l.specialOnEnable=function(){this.owner=null,this.zombie=null},t}(r))||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/testScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotal.ts"],(function(t){var n,e,i,a,o,r,l,m,s,c,u,p,h,A;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,l=t.Label,m=t.AudioClip,s=t.dragonBones,c=t.input,u=t.Input,p=t.KeyCode,h=t.Component},function(t){A=t.CardFeatureTotal}],execute:function(){var y,d,f,N,b,T,P,g,v,E,D;o._RF.push({},"1d57cs/IpdP/J12KO9nu/kj","testScene",void 0);var L=r.ccclass,F=r.property;t("testScene",(y=L("testScene"),d=F(l),f=F(m),N=F(s.ArmatureDisplay),b=F(A),y((g=n((P=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return n=t.call.apply(t,[this].concat(o))||this,i(n,"anmNameLabel",g,a(n)),i(n,"foodSound",v,a(n)),i(n,"plant",E,a(n)),n.animations=[{Name:"Idle1",AnmName:"Idle",PlayTime:2},{Name:"Idle2",AnmName:"Rand",PlayTime:1},{Name:"PLANTFOOD",AnmName:"Food",PlayTime:3},{Name:"IDLE_PLANTFOOD",AnmName:"Idle_Food",PlayTime:10},{Name:"WATER",AnmName:"Water",PlayTime:3},{Name:"Death",AnmName:"Death",PlayTime:3}],n.currentAnimation=0,i(n,"cf",D,a(n)),n}e(n,t);var o=n.prototype;return o.switchAnimation=function(){this.anmNameLabel.string=this.animations[this.currentAnimation].Name;var t=this.animations[this.currentAnimation].AnmName;this.plant.playAnimation(t,this.animations[this.currentAnimation].PlayTime),this.currentAnimation++,this.currentAnimation>=this.animations.length&&(this.currentAnimation=0)},o.start=function(){var t=this;this.currentAnimation=0,this.plant.on(s.EventObject.FRAME_EVENT,(function(t){t.name}),this),this.plant.on(s.EventObject.COMPLETE,(function(){t.switchAnimation()}),this),c.on(u.EventType.KEY_DOWN,(function(n){n.keyCode==p.SPACE&&t.switchAnimation()})),this.cf&&(this.cf.ca._plant.playAnimation("seashroom"),console.log(1))},n}(h)).prototype,"anmNameLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=n(P.prototype,"foodSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=n(P.prototype,"plant",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=n(P.prototype,"cf",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=P))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/ThreePeater.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./NodePools.ts","./Character.ts","./commonShot.ts","./Square.ts","./CharacterManager.ts"],(function(t){var o,e,n,i,a,s,r,h,c,l,d,u;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,i=t.Vec2,a=t.HALF_PI},function(t){s=t.peaShooter,r=t.PeashooterPlant},function(t){h=t.NodePools},function(t){c=t.CharacterType},function(t){l=t.commonShot},function(t){d=t.Square},function(t){u=t.Rectangle}],execute:function(){var L;e._RF.push({},"f6610F4CzZNQrwBOcJg3XSi","ThreePeater",void 0);var p=n.ccclass;n.property,t("ThreePeaterPlant",p("ThreePeater")(L=function(t){function e(){for(var o,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(o=t.call.apply(t,[this].concat(n))||this).minShootInterval=2,o}o(e,t);var n=e.prototype;return n._shoot3=function(t,o,e){void 0===t&&(t=4),void 0===o&&(o=new i(15,0)),void 0===e&&(e=this.pea);var n=h.instantiatePooly(e),a=this.inLane.prjLayer;if(n){var r=s.shootOnePea(n,new i(this.peaSpawnpoint.worldPosition.x,this.worldPositionY),Math.max(1,this.peaSpawnpoint.getWorldPosition().y-this.inLnC.plantPoint.worldPosition.y),a,o,c.zombie).getComponent(l);this.inLnC.havePeaBuff&&r.addPeaBuff(),this._dmgScale&&r.setDamage(r.damage_*this._dmgScale),0!=t&&2!=t||(0==t?r.setLockLane(this.inLane.UpperLane):2==t&&r.setLockLane(this.inLane.LowerLane),r.linearVelocity=new i(15,17*(1-t)),r.deceleration=new i(0,t-1))}},n.setDetecter=function(){this.detector=u.createRectangleNodeSide(this.inLnC.node,d.SquareDisW*(9-this.inLnC.cIndex),3*d.SquareDisH)},n.detectEnemy=function(){for(var t=this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()),o=this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()),e=0;e<t.length;e++)if(this.detector.judgeCrossRec(t[e].bodyRecForShooter))return!0;for(var n=0;n<o.length;n++)if(o[n].inLnC.cIndex>this.inLnC.cIndex)return!0;return!1},n.animationListener=function(t){"shootM"==t.name&&(this._shoot3(1),this.soundRes.playShootSound()),"shootU"==t.name&&0!=this.inLane.LaneIndex&&this._shoot3(0),"shootD"==t.name&&5!=this.inLane.LaneIndex&&this._shoot3(2)},n.specialPlantFood=function(){var t=this;this.isGatling()&&this.upgrade(),this.anmControl.playAnimation("Food",1/0),this.soundRes.playFood(),this.busy=1/0;var o=this._objdataOwn.PlantfoodPeaCount,e=0;this.schedule((function(){var n=2*a*(o/2-Math.abs(e%o-o/2))/o;t._shoot3(3,new i(15*Math.cos(n),15*Math.sin(n))),t._shoot3(3,new i(15*Math.cos(n),-15*Math.sin(n))),t._shoot3(3),++e>o&&t.foodEnd()}),2/o,o,.01)},n._shootPeaAnimation=function(){var t="Shoot111";0==this.lIndex&&(t="Shoot110"),4==this.lIndex&&(t="Shoot011");var o=Math.max(1/this.busy,1);this.anmControl.playAnimation(t,1,.1*this._cdScale,o)},e}(r))||L);e._RF.pop()}}}));

System.register("chunks:///_virtual/ThrewOctopus.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./CharacterManager.ts","./DarkWizardZombie.ts","./Particles.ts","./Square.ts"],(function(t){var n,e,o,i,r,a,s,c,l;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.Vec3},function(t){r=t.commonShot},function(t){a=t.Umbrellas},function(t){s=t.wizard},function(t){c=t.particle},function(t){l=t.Square}],execute:function(){var u;e._RF.push({},"8e27cHVbxlNWK+P1niaAVgA","ThrewOctopus",void 0);var h=o.ccclass;o.property,t("ThrewOctopus",h("ThrewOctopus")(u=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.pop=function(){var t=this,n=!1,e=!1,o=this.inLnC;if(this.height>l.SquareDisH)n=!0;else if(null!=o&&o.isInLawn()&&(a.umbrellas.forEach((function(e){!n&&e.owner.umbrellable()&&e.detector.judgeInRecNode(t.node)&&(n=!0,e.owner.umbrella())})),!n)){var i=o.getAllPlants();i.length||(n=!0),e=!0,i.forEach((function(t){n||s.getPlantCanbeSheepened(t,!0)||(e=!1,n=!0)}))}n&&(e=!1),e?o.octopusSpawn():this.playParticle(),this.fade(),this.playPopSound()},o.hitWater=function(){var t;null!=(t=this.inLnC)&&null!=(t=t.getAllPlants())&&t.length?this.pop():(c.spawnWaterSplash(this.inLane.LaneIndex,new i(this._worldPositionX,this._worldPositionY,10)),this.fade())},o.detectPlant=function(t,n){},e}(r))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/ThymeWarp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./Zombies.ts"],(function(t){var e,n,o,r,a,i,l,s,u,c,p,d,h,f,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){i=t.cclegacy,l=t._decorator,s=t.AudioClip,u=t.Prefab,c=t.Vec2},function(t){p=t.Plant,d=t.PlantProps},function(t){h=t.sounds},function(t){f=t.ZombiePool},function(t){b=t.zombies}],execute:function(){var y,m,P,w,S,T,g,v,z,O,W,j,A,R;i._RF.push({},"24f83u4aopKTrGXKSrIzTsA","ThymeWarp",void 0);var D=l.ccclass,_=l.property,C=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).WarpTime=5,e}return n(e,t),e}(d),E=(y=D("ThymeWarpSound"),m=_(s),y((S=e((w=function(){function t(){o(this,"teleportStartSound",S,this)}return t.prototype.playTeleportSound=function(){h.play(this.teleportStartSound,1,.1)},t}()).prototype,"teleportStartSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=w))||P);t("ThymeWarpPlant",(T=D("ThymeWarpPlant"),g=_(E),v=_(s),z=_(u),T((j=e((W=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a))||this,o(e,"soundRes",j,r(e)),e._objdataOwn=new C,o(e,"teleportEndSound",A,r(e)),o(e,"teleportPar",R,r(e)),e}n(e,t);var i=e.prototype;return i.onObjdataSet=function(t,e){},i.waterable=function(){return!1},i.specialPlantOnEnable=function(){var t=this;this.anmControl.playAnimation("Play",1,0,1),this.deathAnm="",this.invincible=!0,this.foodable=!1,this.eaterDetectable=!1,this.smasherDetectable=!1,this.soundRes.playTeleportSound();var e=this.teleportEndSound;f.pool().concat().forEach((function(n){n.teleporting||n.objdataOwn.IgnoredByThymeWarp||-1!=b.zombossList().indexOf(n.ID)||!n.isRealZombie||(n.teleportToPos(t.objdataOwn.WarpTime,new c(8,n.lIndex),0,t.teleportPar,t.teleportPar,(function(){h.play(e,1,.2)})),n.clearBuff(),n.heal(),n.healArmors())}))},i.animationOnComplete=function(){this.dead&&this.node.destroy()},i.animationListener=function(t){switch(t.name){case"kill":this.die(!1,!0,!1,!1)}},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(p)).prototype,"soundRes",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new E}}),A=e(W.prototype,"teleportEndSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(W.prototype,"teleportPar",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=W))||O));i._RF.pop()}}}));

System.register("chunks:///_virtual/Tide.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Square.ts","./NodePools.ts","./FrontYard.ts","./ParticleSelfdestroy.ts","./SoundRescourses.ts"],(function(i){var t,e,o,n,r,s,a,u,l,d,c,h,p,f,b,y,m,g,v,w,P,S;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,o=i.initializerDefineProperty,n=i.assertThisInitialized,r=i.createClass},function(i){s=i.cclegacy,a=i._decorator,u=i.Prefab,l=i.Node,d=i.AudioClip,c=i.Vec3,h=i.dragonBones,p=i.instantiate,f=i.tween,b=i.assetManager,y=i.Color,m=i.Component},function(i){g=i.Square},function(i){v=i.instantiatePooly},function(i){w=i.FrontYard},function(i){P=i.ParticleSelfdestroy},function(i){S=i.sounds}],execute:function(){var M,A,T,D,x,C,q,L,_,z,O,W,N,R,U;s._RF.push({},"c9fecsnRNZLHZrYMy0mtb8t","Tide",void 0);var B=a.ccclass,I=a.property,j=function(i,t){this.master=void 0,this.db=void 0,this.db=i.getComponent(h.ArmatureDisplay),this.master=t};i("Tide",(M=B("Tide"),A=I(u),T=I(u),D=I([l]),x=I(d),C=I(d),q=I([d]),M((z=t((_=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(t=i.call.apply(i,[this].concat(r))||this).blueSquares=[],o(t,"blue",z,n(t)),t._x=void 0,t._y=void 0,o(t,"lowTidePar",O,n(t)),t.db=void 0,o(t,"tideMain",W,n(t)),t.tweening=void 0,t.moving=!1,t.pos=9,o(t,"pullSound",N,n(t)),o(t,"pushSound",R,n(t)),o(t,"ambience",U,n(t)),t.ambienceDOM=[],t.busyAmb=0,t.leftestX=0,t}e(t,i);var s=t.prototype;return s.playLowTide=function(){var i=v(this.lowTidePar);i.parent=g.getLaneComponent(4).prjLayer,i.worldPosition=new c(this.x,this.db.node.worldPosition.y,this.db.node.worldPosition.z),i.worldScale=this.node.worldScale;i.getComponent(P)},s.onLoad=function(){this.db=this.node.getChildByName("Main").getComponent(h.ArmatureDisplay)},s.standardize=function(i){var t=this;void 0===i&&(i=9),this.leftestX=g.getSquareWorldPosition(0,0,0).x;var e=g.getSquareWorldPosition(2,i-1,1);this.pos=i,this.x=e.x,this.y=e.y;for(var o=0;o<5;o++)for(var n=0;n<9;n++)if((o+n)%2==0){var r=p(this.blue);r.parent=this.node.getChildByName("BlueSquares");var s=new j(r,g.getSquare(o,n)),a=g.getSquareWorldPosition(o,n);s.db.node.worldPosition=new c(a.x,a.y),this.blueSquares.push(s)}this.onPosChange(9,i),this.scheduleOnce((function(){t.onPosChange(9,i)}))},s.pushTide=function(i){i<=0||(this.pos-i<0&&(i=this.pos),this.moveTide(this.pos-i))},s.pullTide=function(i){i<=0||(this.pos+i>9&&(i=9-this.pos),this.moveTide(this.pos+i))},s.moveTide=function(i){var t=this,e=i;i>9&&(e=9),i<0&&(e=0),S.play(this.pos>e?this.pullSound:this.pushSound,1,.1);var o=g.getSquareWorldPosition(0,e,0).x;this.moving=!0;var n=f(this).to(3,{x:o},{easing:"cubicInOut"}).call((function(){t.moving=!1})).start();this.tweening=n},s.start=function(){var i=this;this.ambienceDOM=[],this.ambience.forEach((function(t){b.loadRemote(t.nativeUrl,{audioLoadMode:d.AudioType.DOM_AUDIO},(function(t,e){e&&i.ambienceDOM.push(e)}))})),b.loadRemote(this.pushSound.nativeUrl,{audioLoadMode:d.AudioType.DOM_AUDIO},(function(t,e){e&&(i.pushSound=e)})),b.loadRemote(this.pullSound.nativeUrl,{audioLoadMode:d.AudioType.DOM_AUDIO},(function(t,e){e&&(i.pullSound=e)}))},s.playAmbience=function(){if(this.busyAmb>0&&this.busyAmb--,this.busyAmb<=0&&(this.busyAmb=0,this.ambience.length)){var i=5+Math.round(5*Math.random());this.busyAmb=60*i,S.playArray(this.ambienceDOM,1,.1)}},s.onPosChange=function(i,t){for(var e=i>t?-1:1,o=i;o!=t+e;o+=e)for(var n=0;n<5;n++){var r=g.getLnC(n,o);null==r||r.readTileType()}},s.judgePos=function(){for(var i=this.pos,t=9,e=this.x,o=g.getSquareWorldPosition(0,0).x,n=0;n<9;n++){var r=o+g.SquareDisW*(n-1),s=o+g.SquareDisW*n;if(r<=e&&s>e){t=n;break}}this.pos=t,i!=t&&this.onPosChange(i,t)},s.update=function(i){var t=this,e=this.db.color,o=this.db.customMaterial,n=o.passes[0].getHandle("chillColor");o.passes[0].setUniform(n,w.currentLawn.atNight?1:0);var r=w.currentLawn.atNight?177:255;this.db.color=e=new y(r,r,255,255),this.blueSquares.forEach((function(i){var o=(i.db.node.worldPosition.x-t.x)/g.SquareDisW,n=255*(o<0?0:Math.min(1,o/2));i.db.color=new y(e.r,e.g,e.b,n)})),this.judgePos(),this.playAmbience()},r(t,[{key:"x",get:function(){return this._x},set:function(i){this.tideMain.forEach((function(t){t.worldPosition=new c(i,t.worldPosition.y,t.worldPosition.z)})),this._x=i}},{key:"y",get:function(){return this._y},set:function(i){this.tideMain.forEach((function(t){t.worldPosition=new c(t.worldPosition.x,i,t.worldPosition.z)})),this._y=i}}]),t}(m)).prototype,"blue",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(_.prototype,"lowTidePar",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(_.prototype,"tideMain",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(_.prototype,"pullSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(_.prototype,"pushSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(_.prototype,"ambience",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=_))||L));s._RF.pop()}}}));

System.register("chunks:///_virtual/Tile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./Square.ts","./Tiles.ts","./GridItem.ts"],(function(i){var n,e,t,s,l,a,r,o,h,c,u,d,f;return{setters:[function(i){n=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,s=i.assertThisInitialized,l=i.createClass},function(i){a=i.cclegacy,r=i._decorator,o=i.Vec2,h=i.Vec3},function(i){c=i.ParticleSelfdestroy},function(i){u=i.Square},function(i){d=i.tiles},function(i){f=i.GridItem}],execute:function(){var C,p,L,P,g;a._RF.push({},"c7175wUllRAN4BK3lvhsK+r","Tile",void 0);var T=r.ccclass,_=r.property;i("Tile",(C=T("Tile"),p=_(o),C((g=n((P=function(i){function n(){for(var n,e=arguments.length,l=new Array(e),a=0;a<e;a++)l[a]=arguments[a];return n=i.call.apply(i,[this].concat(l))||this,t(n,"validSize",g,s(n)),n.tileID=0,n.gridItemCP=void 0,n._inLnC=void 0,n.dead=!1,n}e(n,i);var a=n.prototype;return a.specialUpdate=function(i){this.specialTileUpdate(i),this.lockToTileWP(i)},a.lockToTileWP=function(i){this._inLnC&&!this.dead&&(this.node.worldPosition=this._inLnC.node.worldPosition)},a.specialTileUpdate=function(i){},a.specialTileOnLoad=function(){},a.specialOnLoad=function(){this.gridItemCP=this.getComponent(f),this.gridItemCP||(this.gridItemCP=this.addComponent(f)),this.gridItemCP._component=this,this.specialTileOnLoad()},a.setTileParent=function(i){this.node.parent=i.inLane.tileLayer},a.plantPushTideListener=function(i){var n;null==i||null==(n=i.getAllPlants())||n.forEach((function(i){i.pushTideListener()}))},a.onLnCCall=function(i){},a.specialDie=function(){},a.die=function(){var i,n;d.deleteTile(this);var e=this._inLnC.tilesInSquare.indexOf(this);-1!=e&&this._inLnC.tilesInSquare.splice(e,1),null==(i=this._inLnC)||i.readIndex(),this._inLnC=null,this.db.playAnimation("Die",1/0),null==(n=this.gridItemCP)||n.delete(),this.dead=!0,this.specialDie()},a.onLnCChange=function(i,n){},a.afterLnCChange=function(i,n){},a.tileOnEnable=function(){},a.specialOnEnable=function(){var i;this.tileOnEnable(),this.dead=!1,null==(i=this.gridItemCP)||i.register(),this.node.worldScale=new h(u.SquareDisW/this.validSize.x,u.SquareDisH/this.validSize.y,1)},a.onFoodedByPlayer=function(){},a.spawnZombie=function(i,n){return!this.inLnC||isNaN(i)||isNaN(n)?[]:this.inLnC.spawnZombie(i,n,!0)},l(n,[{key:"inLnC",get:function(){return this._inLnC},set:function(i){if(i!=this._inLnC)if(null!=i&&i.isInLawn()){d.registerTile(this);var n=this._inLnC;if(this.node.worldPosition=i.node.worldPosition,this.onLnCChange(n,i),this._inLnC=i,this.setTileParent(i),this._inLnC){var e=this._inLnC.tilesInSquare.indexOf(this);-1!=e&&this._inLnC.tilesInSquare.splice(e,1)}-1==i.tilesInSquare.indexOf(this)&&i.tilesInSquare.push(this),this.plantPushTideListener(n),this.afterLnCChange(n,i)}else{var t=this._inLnC;this.onLnCChange(this._inLnC,i),this.die(),this.plantPushTideListener(t),this.afterLnCChange(t,i)}this._inLnC=i}}]),n}(c)).prototype,"validSize",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new o(72,84)}}),L=P))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/TileLiquid.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./GridItem.ts"],(function(i){var t,e,n,r,o,s,l;return{setters:[function(i){t=i.inheritsLoose,e=i.createClass},function(i){n=i.cclegacy,r=i._decorator},function(i){o=i.ParticleSelfdestroy},function(i){s=i.GridItem,l=i.GridItemEnum}],execute:function(){var u;n._RF.push({},"43ca6I6UjlIhIAo9GKd98JV","TileLiquid",void 0);var a=r.ccclass;r.property,i("TileLiquid",a("TileLiquid")(u=function(i){function n(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))||this)._liquidID=0,t.inLnC=void 0,t.GridItemCP=void 0,t}t(n,i);var r=n.prototype;return r.specialOnLoad=function(){this.getComponent(s)||this.addComponent(s),this.GridItemCP=this.getComponent(s),this.GridItemCP._component=this},r.specialOnEnable=function(){var i;null==(i=this.db)||i.playAnimation("Spawn"),this.GridItemCP.register()},r.die=function(){var i;null==(i=this.db)||i.playAnimation("Fade",1/0),this.GridItemCP.delete()},r.setInLnC=function(i){this.inLnC=i},r.spawnZombie=function(i,t){return!this.inLnC||isNaN(i)||isNaN(t)?[]:this.inLnC.spawnZombie(i,t,!0)},e(n,[{key:"liquidID",get:function(){return this._liquidID},set:function(i){this.GridItemCP.setGridItemType([l.tile_liquid,l.tile_liquid+i]),this._liquidID=i}}]),n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/Tiles.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./foodLinkTile.ts"],(function(e){var i,r,l,t,o,n,a,u,s,p,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.inheritsLoose,l=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){o=e.cclegacy,n=e._decorator,a=e.Prefab,u=e.Component},function(e){s=e.instantiatePooly},function(e){p=e.FoodLinkTileTypeEnum,d=e.foodLinkTile}],execute:function(){var f,c,b,T,h,w,g,m,y,k,L,D,z,P,_,v,A,B,N,W,F,U,E,x,I,R,G,C,O,S,j,H,K,M,V,q,J;o._RF.push({},"aeb05Pyx3NEA6fSKLUD+AAV","Tiles",void 0);var Q=n.ccclass,X=n.property,Y=(e("TileEnum",function(e){return e[e.foodLinker=0]="foodLinker",e[e.cart=1]="cart",e[e.rail=2]="rail",e[e.endangered=3]="endangered",e[e.deepwater=4]="deepwater",e[e.shallowwater=5]="shallowwater",e[e.sliderUp=6]="sliderUp",e[e.sliderDown=7]="sliderDown",e[e.goldtile=8]="goldtile",e[e.trap_firetile=9]="trap_firetile",e[e.trap_bouldertile_forward=10]="trap_bouldertile_forward",e[e.trap_bouldertile_backward=11]="trap_bouldertile_backward",e[e.amount=12]="amount",e}({})),e("tiles",function(){function e(){}return e.registerTile=function(e){-1==this.res.tilePool.indexOf(e)&&this.res.tilePool.push(e)},e.deleteTile=function(e){var i=this.res.tilePool.indexOf(e);-1!=i&&this.res.tilePool.splice(i,1)},e.tilePool=function(){return this.res.tilePool.concat()},e.rail=function(){return this.res.rail},e.cart=function(){return this.res.cart},e.endangeredTile=function(){return this.res.endangeredTile},e.goldTile=function(){return this.res.goldTile},e.trapFireTile=function(){return this.res.trapFireTile},e.trapBoulderTile=function(){return this.res.trapBoulderTile},e.sliderUpTile=function(){return this.res.sliderUpTile},e.sliderDownTile=function(){return this.res.sliderDownTile},e.deepWaterTile=function(){return this.res.deepWaterTile},e.shallowWaterTile=function(){return this.res.shallowWaterTile},e.foodLinkTile=function(e){var i=this.res.foodLinkAlpha,r=0;if(e&&!isNaN(Number(e.ID)))switch(r=Number(e.ID)){case p.beta:i=this.res.foodLinkBeta;break;case p.delta:i=this.res.foodLinkDelta;break;case p.gamma:i=this.res.foodLinkGamma;break;case p.epsilon:i=this.res.foodLinkEpsilon;break;default:i=this.res.foodLinkAlpha,r=p.alpha}var l=s(i).getComponent(d);return l.foodLinkID=r,isNaN(e.PropagationDelay)?l.propagationDelay=0:l.propagationDelay=e.PropagationDelay,l},e.mold=function(){return this.res.mold},e.flower=function(){return this.res.flower},e}()));Y.res=void 0;e("TileRes",(f=Q("TilesRe"),c=X(a),b=X(a),T=X(a),h=X(a),w=X(a),g=X(a),m=X(a),y=X(a),k=X(a),L=X(a),D=X(a),z=X(a),P=X(a),_=X(a),v=X(a),A=X(a),B=X(a),f((F=i((W=function(e){function i(){for(var i,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return i=e.call.apply(e,[this].concat(o))||this,l(i,"sliderUpTile",F,t(i)),l(i,"sliderDownTile",U,t(i)),l(i,"deepWaterTile",E,t(i)),l(i,"shallowWaterTile",x,t(i)),l(i,"endangeredTile",I,t(i)),l(i,"goldTile",R,t(i)),l(i,"trapFireTile",G,t(i)),l(i,"trapBoulderTile",C,t(i)),l(i,"rail",O,t(i)),l(i,"cart",S,t(i)),l(i,"mold",j,t(i)),l(i,"flower",H,t(i)),l(i,"foodLinkAlpha",K,t(i)),l(i,"foodLinkBeta",M,t(i)),l(i,"foodLinkDelta",V,t(i)),l(i,"foodLinkGamma",q,t(i)),l(i,"foodLinkEpsilon",J,t(i)),i.tilePool=[],i}return r(i,e),i.prototype.onLoad=function(){Y.res=this},i}(u)).prototype,"sliderUpTile",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(W.prototype,"sliderDownTile",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(W.prototype,"deepWaterTile",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(W.prototype,"shallowWaterTile",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(W.prototype,"endangeredTile",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(W.prototype,"goldTile",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=i(W.prototype,"trapFireTile",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(W.prototype,"trapBoulderTile",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(W.prototype,"rail",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(W.prototype,"cart",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(W.prototype,"mold",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(W.prototype,"flower",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=i(W.prototype,"foodLinkAlpha",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(W.prototype,"foodLinkBeta",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(W.prototype,"foodLinkDelta",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=i(W.prototype,"foodLinkGamma",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=i(W.prototype,"foodLinkEpsilon",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=W))||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/TileTurnip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Tiles.ts","./foodLinkTile.ts","./SoundRescourses.ts","./NodePools.ts"],(function(n){var e,i,t,o,r,l,a,u,s,c,p,f,d,h;return{setters:[function(n){e=n.inheritsLoose,i=n.applyDecoratedDescriptor,t=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,l=n._decorator,a=n.Enum,u=n.AudioClip},function(n){s=n.PlantProps,c=n.Plant},function(n){p=n.TileEnum},function(n){f=n.FoodLinkTileTypeEnum},function(n){d=n.sounds},function(n){h=n.ArrayGet}],execute:function(){var y,T,b,g,v,L,m;r._RF.push({},"e7b0cdNc7tGgIn6ey2N9vVp","TileTurnip",void 0);var P=l.ccclass,k=l.property;n("TileTurnipProps",function(n){function i(){for(var e,i=arguments.length,t=new Array(i),o=0;o<i;o++)t[o]=arguments[o];return(e=n.call.apply(n,[this].concat(t))||this).SunCostList=[0,250,500,1e3,2e3,4e3,8e3],e}return e(i,n),i}(s));a(f);n("TileTurnipPlant",(y=P("TileTurnipPlant"),T=k({type:f}),b=k([u]),y((L=i((v=function(n){function i(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=n.call.apply(n,[this].concat(r))||this,t(e,"foodLinkType",L,o(e)),t(e,"digSounds",m,o(e)),e}e(i,n);var r=i.prototype;return r.specialPlantOnEnable=function(){this.eaterDetectable=!1,this.smasherDetectable=!1,this.invincible=!0,this.anmControl.playAnimation("Dig",1,0,1),d.play(h.getRandom(this.digSounds),1,.1)},r.shouldSpeedScale=function(){return 1},r.waterable=function(){return!1},r.animationListener=function(n){var e;if("tile"==n.name&&(this.die(!0,!1,!1),null!=(e=this.plantInLnC)&&e.tileExistable(p.foodLinker,!0))){var i,t=null==(i=this.plantInLnC)?void 0:i.putTile(p.foodLinker,{ID:this.foodLinkType,PropagationDelay:1},!1);null==t||t.flash()}},i}(c)).prototype,"foodLinkType",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.epsilon}}),m=i(v.prototype,"digSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=v))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/Toadstool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./Character.ts","./NodePools.ts","./Sunflower.ts"],(function(t){var e,n,o,i,a,r,s,l,u,c,h,d,g,p,b,w,f,m,P,y,C,T,S,F,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.AudioClip,u=t.Node,c=t.Prefab,h=t.Vec3,d=t.Vec2,g=t.HALF_PI,p=t.dragonBones,b=t.tween},function(t){w=t.Plant,f=t.PlantProps},function(t){m=t.sounds},function(t){P=t.Rectangle},function(t){y=t.Square},function(t){C=t.ZombieDamageDetails},function(t){T=t.CharacterScale},function(t){S=t.instantiatePooly,F=t.NodePools},function(t){L=t.sunflower}],execute:function(){var v,A,z,R,D,j,O,k,I,M,Z,_,E,x,B,q,X,U,N,W,H,V,G,Y,J,K,Q,$,tt,et,nt,ot,it,at;r._RF.push({},"a4eaddVkhxF2abUAbV6zqFO","Toadstool",void 0);var rt=s.ccclass,st=s.property,lt=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).TongueDistance=3.5,e.TongueSlapDamage=50,e.ChewTime=30,e.SunProducePerZombie=50,e.MaxZombieChewCount=1,e.WaitTimePF=6,e.TongueDistancePF=4,e.TongueSlapDamagePF=100,e.ChewTimePF=3,e.SunProducePerZombiePF=50,e.MaxZombieChewCountPF=4,e}return n(e,t),e}(f),ut=(v=rt("ToadstoolSound"),A=st([l]),z=st([l]),R=st([l]),D=st([l]),j=st([l]),O=st([l]),k=st([l]),I=st([l]),M=st([l]),Z=st([l]),_=st([l]),v((B=e((x=function(){function t(){o(this,"chew",B,this),o(this,"swallow",q,this),o(this,"stomach",X,this),o(this,"open",U,this),o(this,"grab",N,this),o(this,"tongue",W,this),o(this,"tongueFood",H,this),o(this,"tongueBack",V,this),o(this,"tongueBackFood",G,this),o(this,"produce",Y,this),o(this,"produceFood",J,this)}var e=t.prototype;return e.playChew=function(){m.playArray(this.chew,.3,.2)},e.playSwallow=function(){m.playArray(this.swallow,1,.1)},e.playStomach=function(){m.playArray(this.stomach,1,.1)},e.playOpen=function(){m.playArray(this.open,1,.1)},e.playGrab=function(){m.playArray(this.grab,1,.1)},e.playTongue=function(t){m.playArray(t?this.tongueFood:this.tongue,1,.1)},e.playTongueBack=function(t){m.playArray(t?this.tongueBackFood:this.tongueBack,1,.1)},e.playProduce=function(t){m.playArray(t?this.produceFood:this.produce,1,.1)},t}()).prototype,"chew",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=e(x.prototype,"swallow",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=e(x.prototype,"stomach",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=e(x.prototype,"open",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=e(x.prototype,"grab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=e(x.prototype,"tongue",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=e(x.prototype,"tongueFood",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=e(x.prototype,"tongueBack",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=e(x.prototype,"tongueBackFood",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=e(x.prototype,"produce",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=e(x.prototype,"produceFood",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=x))||E);t("ToadstoolPlant",(K=rt("ToadstoolPlant"),Q=st(ut),$=st(u),tt=st(c),K((ot=e((nt=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"soundRes",ot,i(e)),e._objdataOwn=new lt,e.willProduceCount=0,o(e,"tonguePoint",it,i(e)),o(e,"tonguePar",at,i(e)),e.tongueTween=void 0,e.foodCD=6,e.detector=new P,e.detectorPF=new P,e.caughtZombie=null,e.catching=!1,e.switching=!1,e.zombiesInMouth=[],e}n(e,t);var r=e.prototype;return r.onObjdataSet=function(t,e){},r.shouldSpeedScale=function(){return this.catching||this.switching?1:this.defaultShouldSpeedScale()},r.tongueOnCharacter=function(t){var e;if(this.inLane&&t.inLane){var n=0,o=0,i=this.inLane.prjLayer;t&&t.lIndex>this.lIndex&&(i=t.inLane.prjLayer);var a=S(this.tonguePar);a.parent=i,a.worldPosition=this.tonguePoint.worldPosition,a.scale=new h(T,T,T);var r=new d(0,0);t&&(n=(r=t.worldPosition.subtract(this.worldPosition)).signAngle(new d(1,0))),o=Math.min(10,Math.round(r.length()/y.SquareDisW)),a.angle=90*-n/g,null==(e=a.getComponent(p.ArmatureDisplay))||e.playAnimation("Play"+o.toString(),1/0)}},r.catchEnd=function(t){null!=t&&t.isAlive()&&this.zombiesInMouth.push(this.fooding?this.objdataOwn.ChewTimePF:this.objdataOwn.ChewTime),this.zombiesInMouth.length>0?(this.anmControl.IdleAnim="Chew",this.anmControl.RandomAnim=[]):this.returnToIdle(),this.anmControl.playAnimation("AttackEnd",1),this.switching=!0,this.catching=!1},r._tongue=function(){var t=this,e=this.fooding?this.detectZombiePF():this.detectZombie();if(e)this.tongueOnCharacter(e),this.tongueTween=b(e).to(.1667,{}).call((function(){var n;t.isAlive()&&null!=(n=e)&&n.isAlive()&&e.chompable_&&e.stun(1)})).to(.3333,{}).call((function(){var n;t.isAlive()&&(null!=(n=e)&&n.isAlive()?e.chompable_?e.easyToChomp_?(e.playDie(),e=null,t.tongueTween=null,t.catchEnd(null)):(e.stun(1),t.tongueTween=b(e).to(.1667,{worldPositionX:t.tonguePoint.worldPosition.x,worldPositionY:t.worldPositionY}).call((function(){var n;t.isAlive()&&(t.catchEnd(e),null!=(n=e)&&n.isAlive()&&(e.playDie(!0),F.destroyPooly(e.node)),t.tongueTween=null)})).start()):(e.dealDamage(new C((t.fooding?t.objdataOwn.TongueSlapDamagePF:t.objdataOwn.TongueSlapDamage)*t._dmgScale)),e=null,t.tongueTween=null,t.catchEnd(null)):(t.tongueTween=null,t.catchEnd(null)))})).start();else{var n=this.fooding?this.detectTombPF():this.detectTomb();n?(this.tongueOnCharacter(n),this.tongueTween=b(n).to(.5,{}).call((function(){t.isAlive()&&(t.catchEnd(null),t.tongueTween=null,n.dealDamage((t.fooding?t.objdataOwn.TongueSlapDamagePF:t.objdataOwn.TongueSlapDamage)*t._dmgScale))})).start()):this.catchEnd(null)}},r.animationListener=function(t){switch(t.name){case"chew":this.soundRes.playChew();break;case"swallow":this.soundRes.playSwallow();break;case"stomach":this.soundRes.playStomach();break;case"attack":this._tongue(),this.soundRes.playTongue(this.fooding);break;case"tongue_back":this.soundRes.playTongueBack(this.fooding),this.soundRes.playGrab();break;case"open":this.soundRes.playOpen();break;case"produce":this.soundRes.playProduce(this.fooding);for(var e=0;e<this.willProduceCount;e++)L.produceSun(this.fooding?this.objdataOwn.SunProducePerZombiePF:this.objdataOwn.SunProducePerZombie,this.worldPosition,30,!0);this.willProduceCount=0;break;case"foodEnd":this.fooding&&this.foodEnd()}},r.animationOnComplete=function(){this.switching=!1},r.specialPlantFood=function(t){var e;this.zombiesInMouth=[],this.returnToIdle(),this.foodCD=this.objdataOwn.WaitTimePF,null==(e=this.tongueTween)||e.stop(),this.switching=!1,this.catching=!1},r.specialPlantDie=function(t){var e;null==(e=this.tongueTween)||e.stop(),this.tongueTween=null},r.specialPlantOnEnable=function(){this.willProduceCount=0,this.caughtZombie=null,this.returnToIdle(),this.switching=!1,this.zombiesInMouth=[],this.tongueTween=null},r.waterable=function(){return!this.switching&&this.zombiesInMouth.length<=0&&!this.catching},r.specialPlantOnSquareChange=function(t,e){this.detector=P.createRectangleNodeSide(e.node,y.SquareDisW*this.objdataOwn.TongueDistance,y.SquareDisH),this.detectorPF=P.createRectangleNodeSide(e.node,y.SquareDisW*this.objdataOwn.TongueDistancePF,5*y.SquareDisH)},r.detectZombie=function(){var t=this;return this.inLane.zombiePool().sort((function(t,e){return t.bodyRecForShooter.prjX().x-e.bodyRecForShooter.prjX().x})).find((function(e){return t.detector.judgeCrossRec(e.bodyRecForShooter)}))},r.detectTomb=function(){var t=this;return this.inLane.tombPool().sort((function(t,e){return t.worldPositionX-e.worldPositionX})).find((function(e){return t.detector.judgeCrossRec(e.bodyRec)}))},r.detectZombiePF=function(){var t=this;return this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.UpperLane.UpperLane.zombiePool(),this.inLane.LowerLane.LowerLane.zombiePool(),this.inLane.LowerLane.zombiePool()).sort((function(t,e){return t.bodyRecForShooter.prjX().x-e.bodyRecForShooter.prjX().x})).find((function(e){return t.detectorPF.judgeCrossRec(e.bodyRecForShooter)}))},r.detectTombPF=function(){var t=this;return this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.UpperLane.UpperLane.tombPool(),this.inLane.LowerLane.LowerLane.tombPool(),this.inLane.LowerLane.tombPool()).sort((function(t,e){return t.worldPositionX-e.worldPositionX})).find((function(e){return t.detectorPF.judgeCrossRec(e.bodyRec)}))},r.returnToIdle=function(){this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.anmControl.playRandom()},r.specialPlantUpdate=function(t,e,n){var o=this;if(n>0&&!this.catching){var i=this.zombiesInMouth.length,a=[];this.zombiesInMouth.forEach((function(e){(e-=t/o._cdScale)>0?a.push(e):o.willProduceCount++})),this.zombiesInMouth=a;var r=this.zombiesInMouth.length;r<=0&&i>0&&(this.returnToIdle(),this.anmControl.playAnimation("ChewEnd",1),this.switching=!0),r+this.willProduceCount<(this.fooding?this.objdataOwn.MaxZombieChewCountPF:this.objdataOwn.MaxZombieChewCount)&&!this.switching&&(this.fooding?this.detectZombiePF()||this.detectTombPF():this.detectZombie()||this.detectTomb())&&(this.switching=!0,this.catching=!0,this.anmControl.playAnimation("AttackStart",1),this.anmControl.IdleAnim="AttackLoop",this.anmControl.RandomAnim=[]),r+this.willProduceCount<=0&&this.fooding&&!this.switching&&(this.foodCD-=t,this.foodCD<=0&&this.foodEnd())}},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(w)).prototype,"soundRes",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ut}}),it=e(nt.prototype,"tonguePoint",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(nt.prototype,"tonguePar",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=nt))||et));r._RF.pop()}}}));

System.register("chunks:///_virtual/Tomb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Materials.ts","./NodePools.ts","./LnC.ts","./CharacterManager.ts","./SoundRescourses.ts","./Particles.ts","./Character.ts","./GridItem.ts","./FrontYard.ts","./Square.ts"],(function(t){var e,n,i,o,a,s,l,r,h,u,d,c,p,m,b,f,g,v,y,P,w,C,L,I,T,S,D,R;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,l=t._decorator,r=t.Prefab,h=t.CCFloat,u=t.CCInteger,d=t.AudioClip,c=t.Size,p=t.tween,m=t.Vec3,b=t.dragonBones,f=t.Material,g=t.Color},function(t){v=t.materialRes},function(t){y=t.NodePools},function(t){P=t.TileType},function(t){w=t.Rectangle,C=t.TombPool},function(t){L=t.sounds},function(t){I=t.particle},function(t){T=t.Character},function(t){S=t.GridItem},function(t){D=t.FrontYard},function(t){R=t.Square}],execute:function(){var x,B,A,O,W,_,z,k,E,M,F,N,q,U,G,X,Y,j,H,V,Z,K,J;s._RF.push({},"f6bb0i5zL9AkK46tHIhjk6U","Tomb",void 0);var Q=l.ccclass,$=l.property;t("Tomb",(x=Q("Tomb"),B=$(r),A=$(h),O=$(u),W=$(Boolean),_=$(Boolean),z=$(Boolean),k=$(Boolean),E=$(Boolean),M=$([d]),F=$(c),x((U=e((q=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"damageParticle",U,o(e)),e.finalWaveVictoryCountdown=0,e.health=0,i(e,"toughness",G,o(e)),e.depthStartingZ=10,e.hurting=0,e.moveTween=void 0,e.body=null,i(e,"maxStage",X,o(e)),i(e,"playsParticleWhenBroken",Y,o(e)),i(e,"playsParticleWhenDestroyed",j,o(e)),e.stage=-1,i(e,"fly",H,o(e)),i(e,"bustable",V,o(e)),i(e,"hotpotato",Z,o(e)),e.hotpotatoTween=void 0,i(e,"breakSounds",K,o(e)),e.mainSlot=void 0,e.GridItemCP=void 0,e.ID=0,e.dead=!1,e.plantWave=void 0,i(e,"bodyRecSize",J,o(e)),e.bodyRec=new w,e._hidden=!1,e.tombInLnC=void 0,e.material=void 0,e}n(e,t);var s=e.prototype;return s.heal=function(t){if(t>0){this.hurting=30;var e=this.health;this.health=Math.min(this.toughness,this.health+t),this.onDamaged(e,this.health,!1)}},s.pushLeft=function(t,e){var n,i=this;void 0===t&&(t=.5),void 0===e&&(e="quadOut");var o=this.cIndexReal,a=this.lIndexReal,s=R.getLaneComponent(a),l=o-1,r=null==s||null==(n=s.tombPool())?void 0:n.find((function(t){return t.cIndexReal==l}));null==r||r.pushLeft(t,e),this.moveToPos(this.lIndex,l,t,e);var h=R.getLnC(a,o),u=R.getLnC(a,l);null!=u&&u.isInLawn()&&(null==u||u.getAllPlants().forEach((function(t){t.die(),t.node.setParent(i.node.parent,!0),t.node.setSiblingIndex(0)}))),null!=h&&h.isInLawn()&&null!=u&&u.isInLawn()&&h.getAllPlants().forEach((function(n){n.leapTo(u,t,0,!1,!0,e)}))},s.pushRight=function(t,e){var n,i=this;void 0===t&&(t=.5),void 0===e&&(e="quadOut");var o=this.cIndexReal,a=this.lIndexReal,s=R.getLaneComponent(a),l=o+1,r=null==s||null==(n=s.tombPool())?void 0:n.find((function(t){return t.cIndexReal==l}));null==r||r.pushRight(t,e),this.moveToPos(this.lIndex,l,t,e);var h=R.getLnC(a,o),u=R.getLnC(a,l);null!=u&&u.isInLawn()&&(null==u||u.getAllPlants().forEach((function(t){t.die(),t.node.setParent(i.node.parent,!0),t.node.setSiblingIndex(0)}))),null!=h&&h.isInLawn()&&null!=u&&u.isInLawn()&&h.getAllPlants().forEach((function(n){n.leapTo(u,t,0,!1,!0,e)}))},s.canBePushedLeft=function(){var t;if(!this.inLane)return!1;var e=this.cIndexReal,n=this.lIndexReal,i=R.getLaneComponent(n),o=e-1;if(this.moveTween)return!1;if(o<0)return!1;var a,s=null==i||null==(t=i.tombPool())?void 0:t.find((function(t){return t.cIndexReal==o}));if(s)return s.ID==this.ID&&s.canBePushedLeft();if(o>=9)return!0;var l=R.getLnC(n,o);return!(!l.getAllPlants().every((function(t){return!t.invincible}))||l.slider||null!=(a=this.tombInLnC)&&null!=(a=a.getAllPlants())&&a.some((function(t){return t.objdataOwn.CannotBePushedByFootballMech})))},s.canBePushedRight=function(){var t;if(!this.inLane)return!1;var e=this.cIndexReal,n=this.lIndexReal,i=e+1,o=R.getLaneComponent(n);if(this.moveTween)return!1;if(i>8)return!1;var a,s=null==o||null==(t=o.tombPool())?void 0:t.find((function(t){return t.cIndexReal==i}));if(s)return s.ID==this.ID&&s.canBePushedRight();if(i<=-1)return!0;var l=R.getLnC(n,i);return!(!l.getAllPlants().every((function(t){return!t.invincible}))||l.slider||null!=(a=this.tombInLnC)&&null!=(a=a.getAllPlants())&&a.some((function(t){return t.objdataOwn.CannotBePushedByFootballMech})))},s.isAlive=function(){return!this.dead},s.moveToLnC=function(t,e,n){var i,o=this;void 0===e&&(e=.5),void 0===n&&(n="quadOut"),this.setInLnC(t),null==(i=this.moveTween)||i.stop(),this.moveTween=p(this).to(e,{worldPositionX:t.plantPoint.worldPosition.x,worldPositionY:t.plantPoint.worldPosition.y},{easing:n}).call((function(){o.moveTween=null,t.tombable(!1,!1)||o.die(!0)})).start()},s.moveToPos=function(t,e,n,i){var o=this;void 0===n&&(n=.5),void 0===i&&(i="quadOut");var a=R.getLnC(t,e);if(a&&a.isInLawn())this.moveToLnC(a,n,i);else{var s;this.setInLnC(R.getLnC(-2,-2));var l=R.getSquareWorldPosition(t,e).x,r=R.getLnC(0,0).plantPoint.worldPosition.y-t*R.SquareDisH;null==(s=this.moveTween)||s.stop(),this.moveTween=p(this).to(n,{worldPositionX:l,worldPositionY:r},{easing:i}).call((function(){o.moveTween=null})).start()}},s.onDamaged=function(t,e,n){var i;if(void 0===n&&(n=!0),e<=0)this.die();else{for(var o=0,a=0;a<=this.maxStage;a++)e>=a/this.maxStage*this.toughness&&(o=this.maxStage-a);o!=this.stage&&o>1&&n&&this.playBreakPar(o-1),this.stage=o,null==(i=this.mainSlot)||i._setDisplayIndex(o),this.specialTombOnDamaged(t,e,n)}},s.playBreakPar=function(t){this.playsParticleWhenBroken&&this.playParticle(t)},s.playDeathPar=function(){this.playsParticleWhenDestroyed&&this.playParticle(this.maxStage)},s.specialTombOnDamaged=function(t,e,n){},s.onHotPotatoed=function(t){var e=this;if(void 0===t&&(t=1.5),!this.hotpotatoTween){var n=this.body.node.scale.x;this.hotpotatoTween=p(this.body.node).to(t,{scale:new m(n,.01,1)}).call((function(){e.body.node.scale=new m(n,n,1),e.hotpotatoTween=null,e.die()})).start()}},s.playSpawnParticle=function(){var t=y.instantiatePooly(I.dirtSpawn());t.parent=this.node.parent,t.worldPosition=this.node.worldPosition,L.playDirtRise(!1)},s.playParticle=function(t){var e=y.instantiatePooly(this.damageParticle);e.parent=this.node.parent,e.worldPosition=new m(this.worldPositionX,this.worldPositionY);var n=this._scaleForCharacter,i=Math.abs(n);e.worldScale=new m(n,i,i),e.getComponent(b.ArmatureDisplay).playAnimation("Play"+t.toString()),this.dead?this.playDestruction():this.playBreak()},s.playBreak=function(){this.breakSounds.length?L.playArray(this.breakSounds,1,.1):L.playTombBreak()},s.playDestruction=function(){this.breakSounds.length?L.playArray(this.breakSounds,1,.1):L.playTombBreak()},s.specialTombDie=function(t,e){},s.specialTombDieLater=function(t,e){},s.die=function(t){var e,n,i;void 0===t&&(t=!0),null==(e=this.hotpotatoTween)||e.stop(),this.addWave(P.floor);var o=this.tombInLnC;this.specialTombDie(t,o),this.dead=!0,t&&this.playDeathPar(),C.deleteTomb(this),null==(n=this.inLane)||n.deleteTomb(this),null==(i=this.GridItemCP)||i.delete(),this.tombInLnC&&(this.tombInLnC.tombStone=null,this.tombInLnC.readIndex()),this.selfDestroy(),this.stage=-1,this.setBodyRec(),this.specialTombDieLater(t,o)},s.selfDestroy=function(){y.destroyPooly(this.node)},s.characterOnLoad=function(){this.body=this.node.getChildByName("Body").getComponent(b.ArmatureDisplay),this.db=this.body;var t=new f;t.initialize({effectAsset:v.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=t,this.material.setProperty("chillColor",0),this.mainSlot=this.body.armature().getSlot("MAIN"),this.getComponent(S)||this.addComponent(S),this.GridItemCP=this.getComponent(S),this.GridItemCP._component=this,this.specialTombOnLoad(),this.db.on(b.EventObject.FRAME_EVENT,this.animationListener,this)},s.specialTombOnLoad=function(){},s.empStun=function(t){},s.animationListener=function(t){},s.characterOnEnable=function(){var t;null==(t=this.moveTween)||t.stop(),this.moveTween=null,this.dead=!1,this.hotpotatoTween=null,C.registerTomb(this),this._hidden=!1,this.body.playAnimation("Spawn"),this.health=this.toughness,this.hurting=0,this.stage=-1,this.onDamaged(this.toughness,this.toughness,!1),this.specialTombOnEnable()},s.specialTombOnEnable=function(){},s.dealDamage=function(t){var e=this.health+0;this.health-=t,this.hurting=10,this.onDamaged(e,this.health,!0)},s.characterUpdate=function(t){var e;this.hurting>0&&(this.hurting-=60*t),this.shouldMaterial(),this.setBodyRec(),this.addWave(null==(e=this.inLnC)?void 0:e.getTileType()),this.specialTombUpdate(t)},s.specialTombUpdate=function(t){},s.onRealPosChange=function(){this.specialTombOnRealPosChange()},s.specialTombOnRealPosChange=function(){},s.depthScale=function(){return 15},s.addWave=function(t){this.fly||(this.depth=D.depth(this.worldPositionX,this.inLnC)*this.depthScale(),t==P.water&&!this.plantWave&&this._height-this._depth<-2&&(this.plantWave=y.instantiatePooly(I.plantWaterWave()),this.plantWave.getComponent(b.ArmatureDisplay).playAnimation("Idle",1/0),this.plantWave.parent=this.inLane.node),this.plantWave&&(this.plantWave.worldPosition=new m(this._worldPositionX,this.worldPositionYFoot),t==P.water&&this._height-this._depth<-2||(this.plantWave.getComponent(b.ArmatureDisplay).playAnimation("Fade"),this.plantWave.scale=new m(.6,.6,1),this.plantWave=null)))},s.setBodyRec=function(){this._hidden||this.health<=0||this.dead?this.bodyRec=new w:this.bodyRec=w.createRectangleCenter(this.worldPosition.add2f(0,this.bodyRecSize.height/2+this.height_depth),this.bodyRecSize.width,this.bodyRecSize.height,0)},s.characterOnLaneChange=function(t,e){null==t||t.deleteTomb(this),null==e||e.addTomb(this),e&&this.node.setParent(e.tombLayer,!0),this.specialTombOnLaneChange(t,e)},s.specialTombOnLaneChange=function(t,e){},s.onLnCLeave=function(t){},s.onLnCSet=function(t,e){var n;(null==t?void 0:t.tombStone)==this&&(t.tombStone=null,t.readIndex(),this.onLnCLeave(t)),this.tombInLnC=e,null!=e&&e.tombStone&&null!=e&&e.isInLawn()&&e.tombStone!=this&&e.tombStone.die(),e&&e.isInLawn()&&(e.tombStone=this,e.readIndex()),null==(n=this.GridItemCP)||n.register(),this.specialTombOnLnCSet(t,e)},s.specialTombOnLnCSet=function(t,e){},s.shouldMaterial=function(){var t=new g(0,0,0,255);this.hurting>0&&(t.r+=10*this.hurting,t.g+=10*this.hurting,t.b+=10*this.hurting);var e=this.material.passes[0].getHandle("addColor");this.material.passes[0].setUniform(e,t),this.body.customMaterial=this.material},s.characterOnDisable=function(){var t;C.deleteTomb(this),null==(t=this.inLane)||t.deleteTomb(this),this.removeSelfFromLnCOnDisable(),this.addWave(P.floor)},s.removeSelfFromLnCOnDisable=function(){this.tombInLnC&&this.tombInLnC.tombStone==this&&(this.tombInLnC.tombStone=null,this.tombInLnC.readIndex())},s.characterLateUpdate=function(t){var e;this.dead?this.selfDestroy():null!=(e=this.tombInLnC)&&e.isInLawn()&&this.tombInLnC.tombStone!=this&&this.die(!1)},s.spawnZombie=function(t,e){return!this.tombInLnC||isNaN(t)||isNaN(e)?[]:this.tombInLnC.spawnZombie(t,e,!0)},a(e,[{key:"hidden",get:function(){return this._hidden},set:function(t){var e;(this._hidden=t,t)?null==(e=this.body.armature().getSlot("MAIN"))||e._setDisplayIndex(-1):(this.stage=-1,this.onDamaged(this.health,this.health,!1),this.playSpawnParticle())}}]),e}(T)).prototype,"damageParticle",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(q.prototype,"toughness",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 700}}),X=e(q.prototype,"maxStage",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),Y=e(q.prototype,"playsParticleWhenBroken",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),j=e(q.prototype,"playsParticleWhenDestroyed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),H=e(q.prototype,"fly",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=e(q.prototype,"bustable",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Z=e(q.prototype,"hotpotato",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),K=e(q.prototype,"breakSounds",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=e(q.prototype,"bodyRecSize",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(50,50)}}),N=q))||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/tombBone.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Tombs.ts","./CharacterManager.ts","./CabbagePult.ts","./Character.ts"],(function(n){var t,o,e,r,a,c,i,u;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,e=n._decorator},function(n){r=n.commonShot},function(n){a=n.TombEnum},function(n){c=n.Umbrellas},function(n){i=n.cabbagePult},function(n){u=n.CharacterType}],execute:function(){var l;o._RF.push({},"1a86fAtX2JEdLclRTAjmPcZ","tombBone",void 0);var s=e.ccclass;e.property,n("tombBone",s("tombBone")(l=function(n){function o(){return n.apply(this,arguments)||this}return t(o,n),o.prototype.specialOnGroundHit=function(n){var t=this;if(n.isInLawn()){var o=!1;if(c.umbrellas.forEach((function(n){var e,r;!o&&n.owner.umbrellable()&&n.detector.judgeInRecNode(t.node)&&(o=!0,i.lobOneCabbageOnNode(t.node,t.worldPosition,0,t.node.parent,t.linearVelocity.x>=0?null==(e=t.inLane)?void 0:e.toRight:null==(r=t.inLane)?void 0:r.toLeft,2,u.default,!0),n.owner.umbrella())})),o)return!1;n.addTomb(a.egypt,!0,!0)}return!0},o}(r))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/TombPlantfood.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tomb.ts","./Sunflower.ts"],(function(o){var t,n,r,e,i,a,l,c;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,r=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){i=o.cclegacy,a=o._decorator},function(o){l=o.Tomb},function(o){c=o.sunflower}],execute:function(){var u,s,p,f,d;i._RF.push({},"3c7a23C7TpA/JeXvAprml3S","TombPlantfood",void 0);var b=a.ccclass,m=a.property;o("TombPlantfood",(u=b("TombPlantfood"),s=m(Number),u((d=t((f=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=o.call.apply(o,[this].concat(i))||this,r(t,"plantfoodCount",d,e(t)),t}return n(t,o),t.prototype.specialTombDie=function(o,t){for(var n=0;n<this.plantfoodCount;n++)c.producePlantFood(this.worldPosition)},t}(l)).prototype,"plantfoodCount",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),p=f))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/Tombs.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GridItem.ts","./FrontYard.ts"],(function(e){var r,t,i,a,o,n,l,u,b,c,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,n=e._decorator,l=e.Prefab,u=e.Component},function(e){b=e.GridItem,c=e.GridItemEnum},function(e){s=e.FrontYard}],execute:function(){var m,p,f,g,T,y,k,d,h,_,w,z,I,D,E,B,G,v,P,L,C,F,S,q,N,A,R,Z,K,M,Y,j,x,H,O,U,V,J,Q;o._RF.push({},"cb12ei5DPtMULkKKnzbNN6d","Tombs",void 0);var W=n.ccclass,X=n.property,$=e("TombEnum",function(e){return e[e.tutorial=0]="tutorial",e[e.egypt=1]="egypt",e[e.pirate=2]="pirate",e[e.cowboy=3]="cowboy",e[e.future=4]="future",e[e.dark=5]="dark",e[e.dark_sun=6]="dark_sun",e[e.dark_pf=7]="dark_pf",e[e.surfboard=8]="surfboard",e[e.iceage=9]="iceage",e[e.iceblock_plant=10]="iceblock_plant",e[e.iceblock_zombie=11]="iceblock_zombie",e[e.glacier_block=12]="glacier_block",e[e.squid=13]="squid",e[e.lostcity=14]="lostcity",e[e.backpack=15]="backpack",e[e.tent=16]="tent",e[e.eighties_arcade_cabinet=17]="eighties_arcade_cabinet",e}({})),ee=e("tombs",function(){function e(){}return e.getTomb=function(e){switch(e){case $.tutorial:return this.res.TutorialTomb;case $.egypt:return this.res.EgyptTomb;case $.pirate:return this.res.PirateTomb;case $.cowboy:return this.res.CowboyTomb;case $.future:return this.res.FutureTomb;case $.dark:return this.res.DarkTomb;case $.dark_pf:return this.res.DarkTomb_pf;case $.dark_sun:return this.res.DarkTomb_sun;case $.surfboard:return this.res.Surfboard;case $.iceage:return this.res.IceageTomb;case $.glacier_block:return this.res.GlacierBlock;case $.lostcity:return this.res.LostcityTomb;case $.iceblock_plant:return this.res.IceblockPlant;case $.iceblock_zombie:return this.res.IceblockZombie;case $.squid:return this.res.Squid;case $.backpack:return this.res.Backpack;case $.tent:return this.res.Tent;case $.eighties_arcade_cabinet:return this.res.EightiesArcadeCabinet;default:return this.res.TutorialTomb}},e.getTombEnumByRTID=function(e){var r=b.getGridItemEnumByRTID(e);return r?this.getTombEnumByGridItemID(r):NaN},e.getTombEnumByGridItemID=function(e){return e-c.gravestone-1},e.getTombEnumByLawn=function(e){var r=s.getLawnFeature(e),t=b.getGridItemEnumByCodeName(r.GRAVESTONE);return this.getTombEnumByGridItemID(t)},e}());ee.res=void 0;e("Tombs",(m=W("Tombs"),p=X(l),f=X(l),g=X(l),T=X(l),y=X(l),k=X(l),d=X(l),h=X(l),_=X(l),w=X(l),z=X(l),I=X(l),D=X(l),E=X(l),B=X(l),G=X(l),v=X(l),P=X(l),m((F=r((C=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return r=e.call.apply(e,[this].concat(o))||this,i(r,"EgyptTomb",F,a(r)),i(r,"PirateTomb",S,a(r)),i(r,"CowboyTomb",q,a(r)),i(r,"FutureTomb",N,a(r)),i(r,"DarkTomb",A,a(r)),i(r,"DarkTomb_sun",R,a(r)),i(r,"DarkTomb_pf",Z,a(r)),i(r,"Surfboard",K,a(r)),i(r,"IceageTomb",M,a(r)),i(r,"GlacierBlock",Y,a(r)),i(r,"IceblockPlant",j,a(r)),i(r,"IceblockZombie",x,a(r)),i(r,"LostcityTomb",H,a(r)),i(r,"TutorialTomb",O,a(r)),i(r,"Squid",U,a(r)),i(r,"Backpack",V,a(r)),i(r,"Tent",J,a(r)),i(r,"EightiesArcadeCabinet",Q,a(r)),r}return t(r,e),r.prototype.onLoad=function(){ee.res=this},r}(u)).prototype,"EgyptTomb",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=r(C.prototype,"PirateTomb",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=r(C.prototype,"CowboyTomb",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=r(C.prototype,"FutureTomb",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=r(C.prototype,"DarkTomb",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=r(C.prototype,"DarkTomb_sun",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=r(C.prototype,"DarkTomb_pf",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=r(C.prototype,"Surfboard",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=r(C.prototype,"IceageTomb",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=r(C.prototype,"GlacierBlock",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=r(C.prototype,"IceblockPlant",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=r(C.prototype,"IceblockZombie",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=r(C.prototype,"LostcityTomb",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=r(C.prototype,"TutorialTomb",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=r(C.prototype,"Squid",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=r(C.prototype,"Backpack",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=r(C.prototype,"Tent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=r(C.prototype,"EightiesArcadeCabinet",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=C))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/TombSun.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tomb.ts","./Sunflower.ts"],(function(e){var n,r,t,o,i,u,c,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,u=e._decorator},function(e){c=e.Tomb},function(e){s=e.sunflower}],execute:function(){var a,l,p,f,b;i._RF.push({},"0ac4fQX2FxDrqFSmvnp+Eqy","TombSun",void 0);var m=u.ccclass,y=u.property;e("TombSun",(a=m("TombSun"),l=y(Number),a((b=n((f=function(e){function n(){for(var n,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return n=e.call.apply(e,[this].concat(i))||this,t(n,"sunValue",b,o(n)),n}return r(n,e),n.prototype.specialTombDie=function(e,n){s.produceSun(this.sunValue,this.worldPosition,40,!0,!0)},n}(c)).prototype,"sunValue",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),p=f))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/TombSurfboard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tomb.ts","./SoundRescourses.ts"],(function(n){var r,t,e,o,i,a,u,s,c;return{setters:[function(n){r=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){i=n.cclegacy,a=n._decorator,u=n.AudioClip},function(n){s=n.Tomb},function(n){c=n.sounds}],execute:function(){var l,p,b,f,d,y,S,h,m,g,w;i._RF.push({},"6cfcf33L8JOWr748Q3D8XnQ","TombSurfboard",void 0);var T=a.ccclass,v=a.property;n("TombSurfboard",(l=T("TombSurfboard"),p=v([u]),b=v([u]),f=v([u]),d=v([u]),l((h=r((S=function(n){function r(){for(var r,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return r=n.call.apply(n,[this].concat(i))||this,e(r,"spawnSounds",h,o(r)),e(r,"hitSounds",m,o(r)),e(r,"breakSounds",g,o(r)),e(r,"destructionSounds",w,o(r)),r}t(r,n);var i=r.prototype;return i.specialTombOnEnable=function(){c.playArray(this.spawnSounds,1,.1)},i.playSpawnParticle=function(){},i.playDestruction=function(){c.playArray(this.destructionSounds,1,.1)},i.playBreak=function(){c.playArray(this.breakSounds,1,.1)},i.specialTombOnDamaged=function(n,r,t){t&&c.playArray(this.hitSounds,.4)},r}(s)).prototype,"spawnSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=r(S.prototype,"hitSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=r(S.prototype,"breakSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=r(S.prototype,"destructionSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=S))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/Torchwood.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./GroundFire.ts","./Jalapeno.ts","./SoundRescourses.ts"],(function(e){var n,t,o,i,a,r,l,s,c,u,d,h,f,p,g,y,m,b,S,w,P,C,D;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.AudioClip,s=e.Prefab,c=e.Vec2,u=e.Vec3},function(e){d=e.Plant,h=e.PlantProps},function(e){f=e.NodePools},function(e){p=e.peaShooter},function(e){g=e.CharacterType},function(e){y=e.Rectangle},function(e){m=e.Square},function(e){b=e.ZombieDamageDetails,S=e.zombieDamageType},function(e){w=e.GroundFireColorEnum,P=e.GroundFireSpreadStyleEnum},function(e){C=e.jalapeno},function(e){D=e.sounds}],execute:function(){var v,_,L,O,R,I,j,z,A,F,E,k,B,T,x,q,G,H;a._RF.push({},"351b4USk6JLE4y6eM9xWOiD","Torchwood",void 0);var M=r.ccclass,N=r.property,J=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))||this).Damage=6.25,n.DamageScale=2,n.DamageScalePlantfooded=3,n.DamageInterval=1,n.DeathDamage=450,n.DeathFireDuration=5,n.PlantfoodDuration=5,n}return t(n,e),n}(h),U=(v=M("torchwoodSound"),_=N([l]),L=N([l]),O=N([l]),v((j=n((I=function(){function e(){o(this,"foodSounds",j,this),o(this,"igniteSounds",z,this),o(this,"attackSounds",A,this)}var n=e.prototype;return n.playFoodSound=function(){D.playArray(this.foodSounds,1,.1)},n.playIgniteSound=function(){D.playArray(this.igniteSounds,1,.5)},n.playAttackSound=function(){D.playArray(this.attackSounds,1,1)},e}()).prototype,"foodSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(I.prototype,"igniteSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=n(I.prototype,"attackSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=I))||R);e("TorchwoodPlant",(F=M("TorchwoodPlant"),E=N(U),k=N(s),B=N(s),F((q=n((x=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this).ignitedCSs=[],o(n,"soundRes",q,i(n)),n._objdataOwn=new J,n.detector=y.createRectangleCenter(new c,0,0),n.busy=0,o(n,"blueParticle",G,i(n)),o(n,"yellowParticle",H,i(n)),n.fooded=!1,n}t(n,e);var a=n.prototype;return a.ignite=function(e,n){var t;void 0===n&&(n=!1);var o=!1,i=null;if(!n&&e.canBeYellowIgnited&&e.yellowIgnited){var a=f.instantiatePooly(e.yellowIgnited);a.parent=e.node.parent;var r=p.shootOnePea(a,e.worldPosition,e.height,e.node.parent,new c(15,0),g.zombie);r.copy(e,!0,!1,!1,!0,!0,!0,!0,!0,!0),o=!0,e.fade(),this.ignitedCSs.push(r),i=r}else if(n&&e.canBeBlueIgnited&&e.blueIgnited){var l=f.instantiatePooly(e.blueIgnited);l.parent=e.node.parent;var s=p.shootOnePea(l,e.worldPosition,e.height,e.node.parent,new c(15,0),g.zombie);s.copy(e,!0,!1,!1,!0,!0,!0,!0,!0,!0),o=!0,e.fade(),this.ignitedCSs.push(s),i=s}return o&&this.soundRes.playIgniteSound(),this.inLnC.havePeaBuff&&(null==(t=i)||t.addPeaBuff()),i},a.animationListener=function(e){if("explode"==e.name){var n=this._objdataOwn.DeathDamage;this._dmgScale&&(n*=this._dmgScale),C.burnFromLnC(this.inLnC,n,!0,this._objdataOwn.DeathFireDuration,10,w.yellow,P.cross,9,9)}},a.spawnParticle=function(e){var n=f.instantiatePooly(this.fooded?this.blueParticle:this.yellowParticle);n.parent=e.inLane.prjLayer,n.worldPosition=new u(e.node.worldPosition.x,e.node.worldPosition.y+e.zombieHeight/2,100)},a.detectEnemies=function(){var e=this,n=[];if(this.inLane.zombiePool().concat().forEach((function(t){e.detector.judgeCrossRec(t.bodyRec)&&n.push(t)})),n.length){var t=this._objdataOwn.Damage*(this.fooded?this._objdataOwn.DamageScalePlantfooded:this._objdataOwn.DamageScale);this._dmgScale&&(t*=this._dmgScale),n.forEach((function(n){e.spawnParticle(n),n.dealDamage(new b(t,!0,!1,!1,null,S.fire))}));var o=this._objdataOwn.DamageInterval;this._cdScale>0&&(o*=this._cdScale),this.busy=o,this.soundRes.playAttackSound()}},a.specialPlantOnSquareChange=function(e,n){this.detector=y.createRectangleNodeCenter(n.node,m.SquareDisW,m.SquareDisH)},a.specialPlantOnEnable=function(){this.fooded=!1,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"]},a.specialPlantFood=function(e){var n=this;this.foodable=!1,this.anmControl.playAnimation("Food",1),this.soundRes.playFoodSound(),this.fooded=!0,this.anmControl.IdleAnim="Idle_Blue",this.anmControl.RandomAnim=[],this.scheduleOnce((function(){n.foodEnd()}),this._objdataOwn.PlantfoodDuration)},a.specialPlantUpdate=function(e,n,t){var o=this;this.sheepend||this.inLane.prjPool().concat().forEach((function(e){if(e.inLnC==o.inLnC&&-1==o.ignitedCSs.indexOf(e)){var n=o.ignite(e,o.fooded);n&&(n.inLnC=o.inLnC)}})),this.ignitedCSs.concat().forEach((function(e){e.inLnC!=o.inLnC&&o.ignitedCSs.splice(o.ignitedCSs.indexOf(e),1)})),this.busy>0?this.busy-=e:this.detectEnemies()},n}(d)).prototype,"soundRes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new U}}),G=n(x.prototype,"blueParticle",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(x.prototype,"yellowParticle",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=x))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/trapBoulderTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./trapTile.ts","./GridItem.ts","./Tiles.ts","./Square.ts","./NodePools.ts","./CabbagePult.ts","./Character.ts"],(function(r){var e,t,i,a,o,n,l,u,s,c,d,p,f,b,_;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,i=r.initializerDefineProperty,a=r.assertThisInitialized},function(r){o=r.cclegacy,n=r._decorator,l=r.Prefab,u=r.Vec2},function(r){s=r.trapTile},function(r){c=r.GridItemEnum},function(r){d=r.TileEnum},function(r){p=r.Square},function(r){f=r.instantiatePooly},function(r){b=r.cabbagePult},function(r){_=r.CharacterType}],execute:function(){var g,h,T,y,P;o._RF.push({},"51e72rav6pCZ7YwD2vzRYvZ","trapBoulderTile",void 0);var v=n.ccclass,w=n.property;r("trapBoulderTile",(g=v("trapBoulderTile"),h=w(l),g((P=e((y=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return e=r.call.apply(r,[this].concat(o))||this,i(e,"boulderPrj",P,a(e)),e}t(e,r);var o=e.prototype;return o.specialTrapTileOnLoad=function(){var r;null==(r=this.gridItemCP)||r.setGridItemType([this.tileID==d.trap_bouldertile_forward?c.boulder_trap_falling_forward:c.boulder_trap_falling_backward])},o.onTrapTriggered=function(){var r=(this.tileID==d.trap_bouldertile_forward?1:-1)*p.SquareDisW/2+this.node.worldPosition.x,e=p.getSquareWorldPosition(0,0,0,.9).y,t=f(this.boulderPrj);b.lobOneCabbageOnPos(t,new u(r,e),500,p.getLaneComponent(0).prjLayer,new u(r,e),3,_.default,60,0)},o.onLnCChange=function(r,e){var t;null==(t=this.gridItemCP)||t.setGridItemType([this.tileID==d.trap_bouldertile_forward?c.boulder_trap_falling_forward:c.boulder_trap_falling_backward])},e}(s)).prototype,"boulderPrj",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=y))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/trapFlameTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./trapTile.ts","./GroundFire.ts","./Jalapeno.ts","./SoundRescourses.ts","./GridItem.ts"],(function(e){var r,i,n,t,a,o,l,u,s,p,c,f,d;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.AudioClip},function(e){u=e.trapTile},function(e){s=e.GroundFireColorEnum,p=e.GroundFireSpreadStyleEnum},function(e){c=e.jalapeno},function(e){f=e.sounds},function(e){d=e.GridItemEnum}],execute:function(){var h,m,y,T,S,g,b,v,F;a._RF.push({},"29e81J0T9lGGrVNT9Tx/Kih","trapFlameTile",void 0);var G=o.ccclass,L=o.property;e("trapFlameTile",(h=G("trapFlameTile"),m=L([l]),y=L([l]),T=L([l]),h((b=r((g=function(e){function r(){for(var r,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(r=e.call.apply(e,[this].concat(a))||this).fire=void 0,n(r,"fireStartSounds",b,t(r)),n(r,"fireEndSounds",v,t(r)),n(r,"fireLoopSounds",F,t(r)),r}i(r,e);var a=r.prototype;return a.specialTrapTileOnLoad=function(){var e;null==(e=this.gridItemCP)||e.setGridItemType([d.flame_spreader_trap])},a.onLnCChange=function(e,r){var i;null==(i=this.gridItemCP)||i.setGridItemType([d.flame_spreader_trap])},a.onTrapTriggered=function(){var e=c.burnFromLnC(this.inLnC,1800,!1,3,4,s.green,p.split,9,9,[],2,!0,!0,!1);this.fire=e,f.playArray(this.fireStartSounds,1,.3)},a.specialTrapTileOnEnable=function(){this.fire=null},a.specialTrapTileUpdate=function(e){this.fire&&(this.fire.duration>0?f.playArray(this.fireLoopSounds,1,NaN,.9):(this.fire=null,f.playArray(this.fireEndSounds,1,.3)))},r}(u)).prototype,"fireStartSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=r(g.prototype,"fireEndSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=r(g.prototype,"fireLoopSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=g))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/trapTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./SoundRescourses.ts"],(function(e){var i,n,t,r,o,l,a,s,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.AudioClip},function(e){s=e.Tile},function(e){c=e.sounds}],execute:function(){var p,u,h,g,T;o._RF.push({},"76355546SJDmp2UzH2TW/1o","trapTile",void 0);var d=l.ccclass,f=l.property;e("trapTile",(p=d("trapTile"),u=f([a]),p((T=i((g=function(e){function i(){for(var i,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return i=e.call.apply(e,[this].concat(o))||this,t(i,"triggerSounds",T,r(i)),i.triggerInterval=7.5,i.recoverCD=0,i}n(i,e);var o=i.prototype;return o.playTrigger=function(){c.playArray(this.triggerSounds,1,.1)},o.specialTrapTileOnEnable=function(){},o.specialTileOnLoad=function(){this.specialTrapTileOnLoad()},o.specialTrapTileOnLoad=function(){},o.tileOnEnable=function(){this.recoverCD=0,this.specialTrapTileOnEnable()},o.specialTileUpdate=function(e){var i=this;if(!this.dead){var n;if(this.recoverCD>0)this.recoverCD-=e,this.recoverCD<=0&&(this.playTrigger(),this.IdleAnmList=["Idle"],this.playIdle());else this.inLnC&&(!this.inLnC.floawerPot&&null!=(n=this.inLnC)&&n.getAllPlants().some((function(e){return!e.flyingPlant&&!e.leapTween}))||this.inLnC.inLane.zombiePool().concat(this.inLnC.inLane.hypnoZombiePool()).some((function(e){return!e.flying&&i.inLnC.rec.judgeCrossRec(e.bodyRecReal)}))||this.inLnC.tombStone&&!this.inLnC.tombStone.fly)&&this.trigger();this.specialTrapTileUpdate(e)}},o.trigger=function(){this.recoverCD=this.triggerInterval,this.playTrigger(),this.onTrapTriggered(),this.IdleAnmList=["Idle_Down"],this.playIdle()},o.specialTrapTileUpdate=function(e){},o.onTrapTriggered=function(){},i}(s)).prototype,"triggerSounds",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=g))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/Trophies.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var o,e,_,a;return{setters:[function(r){o=r.inheritsLoose},function(r){e=r.cclegacy,_=r._decorator,a=r.Component}],execute:function(){var d;e._RF.push({},"85f44Xl39BGta8AE7/kY1hI","Trophies",void 0);var n=_.ccclass;_.property,r("UpgradeEnum",function(r){return r[r.upgrade_starting_sun_lvl1=0]="upgrade_starting_sun_lvl1",r[r.upgrade_starting_sun_lvl2=1]="upgrade_starting_sun_lvl2",r[r.upgrade_pf_slots_lvl1=2]="upgrade_pf_slots_lvl1",r[r.upgrade_pf_slots_lvl2=3]="upgrade_pf_slots_lvl2",r[r.upgrade_wallnut_firstaid=4]="upgrade_wallnut_firstaid",r[r.upgrade_pf_refresh=5]="upgrade_pf_refresh",r[r.upgrade_sunshovel_lvl1=6]="upgrade_sunshovel_lvl1",r[r.upgrade_sunshovel_lvl2=7]="upgrade_sunshovel_lvl2",r[r.upgrade_sunshovel_lvl3=8]="upgrade_sunshovel_lvl3",r[r.upgrade_7_slots=9]="upgrade_7_slots",r[r.upgrade_8_slots=10]="upgrade_8_slots",r[r.upgrade_manual_mowers_1=11]="upgrade_manual_mowers_1",r[r.upgrade_manual_mowers_2=12]="upgrade_manual_mowers_2",r[r.amount=13]="amount",r}({})),r("TrophyEnum",function(r){return r[r.worldkey=0]="worldkey",r[r.worldtrophy_egypt=1]="worldtrophy_egypt",r[r.worldtrophy_pirate=2]="worldtrophy_pirate",r[r.worldtrophy_cowboy=3]="worldtrophy_cowboy",r[r.worldtrophy_future=4]="worldtrophy_future",r[r.worldtrophy_dark=5]="worldtrophy_dark",r[r.worldtrophy_beach=6]="worldtrophy_beach",r[r.worldtrophy_iceage=7]="worldtrophy_iceage",r[r.worldtrophy_lostcity=8]="worldtrophy_lostcity",r[r.worldtrophy_eighties=9]="worldtrophy_eighties",r[r.worldtrophy_dino=10]="worldtrophy_dino",r[r.worldtrophy_modern=11]="worldtrophy_modern",r[r.dangerroom_egypt=12]="dangerroom_egypt",r[r.dangerroom_egypt2=13]="dangerroom_egypt2",r[r.dangerroom_egypt_minigame=14]="dangerroom_egypt_minigame",r[r.dangerroom_pirate=15]="dangerroom_pirate",r[r.dangerroom_pirate2=16]="dangerroom_pirate2",r[r.dangerroom_cowboy=17]="dangerroom_cowboy",r[r.dangerroom_cowboy2=18]="dangerroom_cowboy2",r[r.dangerroom_future=19]="dangerroom_future",r[r.dangerroom_future2=20]="dangerroom_future2",r[r.dangerroom_future_sunbomb=21]="dangerroom_future_sunbomb",r[r.dangerroom_dark=22]="dangerroom_dark",r[r.dangerroom_dark2=23]="dangerroom_dark2",r[r.dangerroom_dark_potion=24]="dangerroom_dark_potion",r[r.dangerroom_beach=25]="dangerroom_beach",r[r.dangerroom_beach_minigame=26]="dangerroom_beach_minigame",r[r.dangerroom_iceage=27]="dangerroom_iceage",r[r.dangerroom_iceage2=28]="dangerroom_iceage2",r[r.dangerroom_lostcity=29]="dangerroom_lostcity",r[r.dangerroom_eighties=30]="dangerroom_eighties",r[r.dangerroom_dino=31]="dangerroom_dino",r[r.dangerroom_modern=32]="dangerroom_modern",r}({})),r("Trophies",n("Trophies")(d=function(r){function e(){return r.apply(this,arguments)||this}return o(e,r),e}(a))||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/trophyPrize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelPrize.ts","./levelController.ts","./Trophies.ts","./PlayerProperties.ts","./WorldTrophy.ts","./UI.ts"],(function(e){var r,t,i,n,o,l,c,a,s,u,p,f;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator},function(e){c=e.levelPrize},function(e){a=e.LevelPlay},function(e){s=e.TrophyEnum},function(e){u=e.AllPlayerProperties},function(e){p=e.WorldTrophy},function(e){f=e.UIInGame}],execute:function(){var h,y,P,d,v;o._RF.push({},"17337S7m9FKrbr4P+UTju4C","trophyPrize",void 0);var z=l.ccclass,w=l.property;e("trophyPrize",(h=z("trophyPrize"),y=w(p),h((v=r((d=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o))||this,i(r,"wt",v,n(r)),r}t(r,e);var o=r.prototype;return o.specialPrizeOnEnable=function(){var e,r=null==(e=a.component)||null==(e=e.levelDefinition)?void 0:e.FirstRewardParam,t=0;r&&(t=s[r]),isNaN(t)||(u.unlockTrophy(t),this.wt.readID(t),this.wt.prizeModeOn=!0)},o.showPriceLight=function(){},o.collectToWP=function(){return f.uiingame.node.parent.worldPosition.clone().add3f(0,-150,0)},o.specialOnCollected=function(){this.wt.prizeModeOn=!1},r}(c)).prototype,"wt",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=d))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/Turnip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Zombies.ts","./NodePools.ts","./Square.ts","./SoundRescourses.ts"],(function(n){var t,o,i,a,e,l,s,r,h,c,u,d,m,p,f;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized,e=n.createClass},function(n){l=n.cclegacy,s=n._decorator,r=n.CCInteger,h=n.AudioClip},function(n){c=n.PlantType,u=n.Plant},function(n){d=n.ZombieEnum},function(n){m=n.ArrayGet},function(n){p=n.Square},function(n){f=n.sounds}],execute:function(){var g,b,k,A,y,C,L,S,w;l._RF.push({},"6d880Lt6WJCHb4yQwDZCUtl","Turnip",void 0);var I=s.ccclass,P=s.property;n("TurnipPlant",(g=I("TurnipPlant"),b=P(r),k=P(h),A=P(h),g((L=t((C=function(n){function t(){for(var t,o=arguments.length,e=new Array(o),l=0;l<o;l++)e[l]=arguments[l];return(t=n.call.apply(n,[this].concat(e))||this)._blocking=0,t._stage=0,t.idleAnm="Idle0",t.blockStartAnm="BlockStart0",t.blockLoopAnm="BlockLoop0",i(t,"maxFoodThrowAmount",L,a(t)),i(t,"landSound",S,a(t)),i(t,"foodSound",w,a(t)),t}o(t,n);var l=t.prototype;return l.specialPlantUpdate=function(n,t,o){this.blocking>0&&(this.blocking-=n)},l.onChiedFailed=function(n){!this.fooding&&this.blocking<=0&&this.anmControl.playAnimation(this.blockStartAnm),this.blocking=3},l.canBeChied=function(){return!1},l.waterable=function(){return!this.blocking&&0==this.stage},l.throwChildren=function(){var n=this,t=[];if(t.length<this.maxFoodThrowAmount)for(var o=m.randomize(p.getAllLnC()),i=0;t.length<this.maxFoodThrowAmount&&i<o.length;i++){var a=o[i];-1==t.indexOf(a)&&a.putPlantAvailable(!0,this.ID)&&t.push(a)}t.forEach((function(t){var o=n.inLnC.spawnPlantByPlantEnum(n.ID);o&&(o.judgeInLnC(),o.node.setPosition(0,0,0),n.inLnC.pushPlant(o),o.plantType=c.plant,o.anmControl.playAnimation("Flying",1/0),o.leapTo(t,.8,200))}))},l.onLeapEnd=function(){f.play(this.landSound,1,.1),this.anmControl.playAnimation("LeapEnd",1)},l.onDamaged=function(n,t,o){for(var i=0,a=0;a<3;a++)o<=this.toughness*(1-a/3)&&(i=a);i!=this.stage&&(this.stage=i,this.anmControl.playRandom())},l.specialPlantFood=function(n){this.blocking=0,this.stage=0,this.anmControl.playAnimation("Food",2)},l.replantable=function(){return this.stage>0},l.replant=function(){this.stage=0,this.anmControl.playRandom(),this.health=this.toughness},l.animationListener=function(n){"throw"==n.name?this.throwChildren():"foodEnd"==n.name?(this.anmControl.playRandom(),this.foodEnd()):"foodSound"==n.name&&f.play(this.foodSound,1,.1)},l.throwAway=function(n,t,o,i){(null==t?void 0:t.ID)==d.monk_nunchaku?this.dealNormalDamage(200):this.normalThrowAway(n,t,o,i)},l.specialPlantOnEnable=function(){this.stage=0,this.blocking=0,this.anmControl.IdleAnim=this.idleAnm,this.anmControl.playRandom()},e(t,[{key:"blocking",get:function(){return this._blocking},set:function(n){n<=0&&this._blocking>0?(n=0,this.anmControl.IdleAnim=this.idleAnm,this.anmControl.playRandom(.1)):n>0&&this._blocking<=0&&(this.anmControl.IdleAnim=this.blockLoopAnm,this.anmControl.playRandom(.1)),this._blocking=n}},{key:"stage",get:function(){return this._stage},set:function(n){switch(n){case 1:this.idleAnm="Idle1",this.blockStartAnm="BlockStart1",this.blockLoopAnm="BlockLoop1",this.deathAnm="Death1";break;case 2:this.idleAnm="Idle2",this.blockStartAnm="BlockStart2",this.blockLoopAnm="BlockLoop2",this.deathAnm="Death2";break;default:this.idleAnm="Idle0",this.blockStartAnm="BlockStart0",this.blockLoopAnm="BlockLoop0",this.deathAnm="Death0",n=0}var t;(this.anmControl.IdleAnim=this.blocking>0?this.blockLoopAnm:this.idleAnm,this._stage=n,this.dead)||(null==(t=this.plantInLnC)||t.readIndex())}}]),t}(u)).prototype,"maxFoodThrowAmount",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),S=t(C.prototype,"landSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(C.prototype,"foodSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=C))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/UI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cardSelectAlmanac.ts","./Cards.ts","./Square.ts","./ShovelUIController.ts","./NodePools.ts","./SunCount.ts","./PlantFoodCount.ts","./CardFeatureTotal.ts","./SoundsController.ts","./inGame.ts","./FrontYard.ts","./SoundRescourses.ts","./levelController.ts","./Plants.ts","./Conveyor.ts","./SettingWindow.ts","./SandBoxLevelSettingWindow.ts","./SandBoxZombieCards.ts","./PowerupFingers.ts","./LnC.ts","./CoinCollecterInGame.ts","./SoundManager.ts","./LevelTaskCount.ts","./KeyListener.ts","./Armors.ts","./CharacterManager.ts","./Zombie.ts","./Materials.ts","./Mouse.ts","./MultiLanguage.ts","./PauseScreen.ts","./Particles.ts","./Sunflower.ts"],(function(e){var t,n,o,i,a,s,r,l,c,u,d,h,p,m,S,g,f,w,b,y,C,v,x,T,I,P,k,B,L,A,D,M,E,O,U,_,Z,N,F,R,H,W,z,G,K,j,Y,q,V,J,X,Q,$,ee,te,ne,oe,ie,ae,se,re,le,ce,ue,de,he,pe,me,Se;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,r=e._decorator,l=e.Label,c=e.dragonBones,u=e.Node,d=e.Sprite,h=e.Prefab,p=e.Button,m=e.Canvas,S=e.director,g=e.Vec3,f=e.instantiate,w=e.Layers,b=e.find,y=e.KeyCode,C=e.Color,v=e.Tween,x=e.EventMouse,T=e.tween,I=e.UITransform,P=e.input,k=e.Input,B=e.game,L=e.UIOpacity,A=e.Component},function(e){D=e.cardSelectAlmanac},function(e){M=e.Cards},function(e){E=e.Square},function(e){O=e.ShovelUIController},function(e){U=e.NodePools,_=e.instantiatePooly},function(e){Z=e.SunCount},function(e){N=e.PlantFoodCount},function(e){F=e.CardFeatureTotal},function(e){R=e.MusicController},function(e){H=e.inGame},function(e){W=e.FrontYard,z=e.yardType,G=e.JamStyle},function(e){K=e.sounds},function(e){j=e.LevelPlay},function(e){Y=e.plants},function(e){q=e.Conveyor},function(e){V=e.Setting},function(e){J=e.SandBoxLevelSettingWindow},function(e){X=e.SandBoxZombieCards},function(e){Q=e.PowerupFingers},function(e){$=e.LnCSpawnZombieStyleEnum},function(e){ee=e.CoinCollecterInGame},function(e){te=e.MusicSortEnum,ne=e.SoundManager},function(e){oe=e.LevelTaskCount},function(e){ie=e.KeyListener},function(e){ae=e.armorEnum,se=e.armors},function(e){re=e.ZombiePool,le=e.PlantPool},function(e){ce=e.zombieDamageType},function(e){ue=e.materialRes},function(e){de=e.Mouse},function(e){he=e.MultiLanguage},function(e){pe=e.PauseScreen},function(e){me=e.particle},function(e){Se=e.sunflower}],execute:function(){var ge,fe,we,be,ye,Ce,ve,xe,Te,Ie,Pe,ke,Be,Le,Ae,De,Me,Ee,Oe,Ue,_e,Ze,Ne,Fe,Re,He,We,ze,Ge,Ke,je,Ye,qe,Ve,Je,Xe,Qe,$e,et,tt,nt,ot,it,at,st,rt,lt,ct,ut,dt,ht,pt,mt,St,gt,ft,wt;e("setExitToMapScene",(function(t){void 0===t&&(t="worldMapScene");e("exitToMapScene",t)})),s._RF.push({},"c2160cIG6JF67sVDFCFV7Hp","UI",void 0);var bt=r.ccclass,yt=r.property,Ct=e("gamingSpeed",1),vt=e("superSlowed",!1);e("exitToMapScene","worldMapScene");var xt=(ge=bt("UIInGameButtonTips"),fe=yt(l),we=yt(l),ge((Ce=t((ye=function(){function e(){o(this,"RESTART",Ce,this),o(this,"EXIT_TO_MAP",ve,this)}return e.prototype.start=function(){this.RESTART.string=he.getStringByPropsWithoutTricks("GamePaused","Restart"),this.EXIT_TO_MAP.string=he.getStringByPropsWithoutTricks("GamePaused","ExitToMap")},e}()).prototype,"RESTART",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=t(ye.prototype,"EXIT_TO_MAP",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=ye))||be);e("UIInGame",(xe=bt("UIInGame"),Te=yt(xt),Ie=yt(c.ArmatureDisplay),Pe=yt(u),ke=yt(d),Be=yt(u),Le=yt(u),Ae=yt(h),De=yt(p),Me=yt(h),Ee=yt(u),Oe=yt([u]),Ue=yt(pe),_e=yt(p),Ze=yt(p),Ne=yt(u),Fe=yt(u),Re=yt(d),He=yt(l),We=yt(l),ze=yt(m),Ge=yt(u),Ke=yt(h),je=yt(u),xe(((wt=function(t){function s(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,o(e,"toolTips",Ve,i(e)),o(e,"sbZombieSpawnIcon",Je,i(e)),e.currentSBZombieAddArmor=0,o(e,"SBZombieArmorIconSlot",Xe,i(e)),e.currentSBZombieDirection=0,o(e,"SBZombieZombieDirectionArrow",Qe,i(e)),e.currentFreeSeedPacket=null,e.cards=null,e.squares=null,e.sceneEnabled=!1,o(e,"mouse",$e,i(e)),o(e,"UIUpper",et,i(e)),o(e,"sandBoxSettingWindowPrefab",tt,i(e)),e.sandBoxSettingWindow=void 0,o(e,"sbButton",nt,i(e)),e.sbButtonOldPos=void 0,o(e,"SBZombieCards",ot,i(e)),o(e,"SBZombieCardsSlot",it,i(e)),o(e,"uiWillBeHiden",at,i(e)),e.uiScaleMemorized=[],e.uiHidden=!1,e.shovel=null,e.index=-1,e.willCostSun=0,e.plantInHandType=[],e.plantReady=null,e.currentPlantName=null,e.currentPlantBoosted=!1,e.currentPlantStartingHeight=0,e.isImitator=!1,e.shovelReady=null,e.currentSniperPlant=null,e.plantKeyCool=0,e.musicSortIndex=0,e.musicSortEnumGroup=[te.Stage1_Start,te.Stage2_Start,te.Stage3_Start,te.Stage4_Start,te.DemonstrateMinigame,te.UltimateBattle,te.ZombossIntro],e.stageEffIndex=0,e.paused=!1,o(e,"pauseScreen",st,i(e)),e.rhythmAudioSourceTime=0,e.mainCamelTouch=void 0,e.failedCamelTouch=[],e.matchedCamelTouch=[],e.MouseListenOffThisTick=!1,e.MouseClickCoolingDown=2,e.mouseDown=!1,o(e,"pauseButton",rt,i(e)),e.normalPause=void 0,e.hoverPause=void 0,e.pressedPause=void 0,o(e,"s2xButton",lt,i(e)),e.normal2x=void 0,e.hover2x=void 0,e.pressed2x=void 0,e.oldTick=S.tick,e.gameStarted=!1,o(e,"mouseListener",ct,i(e)),o(e,"plantInHandLayer",ut,i(e)),e.nextLevel=!1,o(e,"windowSplash",dt,i(e)),o(e,"gameLoseTip",ht,i(e)),o(e,"gameLoseTipSmall",pt,i(e)),o(e,"canvas",mt,i(e)),e.exitNextTick=!1,e.restartNextTick=!1,e._exitDealt=!1,o(e,"gameLoseButtons",St,i(e)),e.gameLoseButtonOldPos=new g,o(e,"levelTaskShower",gt,i(e)),o(e,"levelTaskShowerSlot",ft,i(e)),e.levelTasks=[],e.preStartTips=[],e}n(s,t);var r=s.prototype;return r.readSBZombieSpawnStyle=function(e){var t,n="DirectPut";switch(e){case $.dirtSpawn:n="DirtSpawn";break;case $.snowStorm:n="SnowStorm";break;case $.sandStorm:n="SandStorm";break;case $.fromLane:n="FromLane"}null==(t=this.sbZombieSpawnIcon)||t.playAnimation(n,1)},r.switchSBZombieSpawnStyle=function(){J.zombieSpawnStyle++},r.switchSBZombieAddArmor=function(e){this.SBZombieArmorIconSlot.destroyAllChildren();for(var t=this.currentSBZombieAddArmor+e;t<0;)t+=ae.amount;for(;t>=ae.amount;)t-=ae.amount;this.currentSBZombieAddArmor=t;var n=f(se.getArmor(t));n.layer=w.Enum.UI_2D,n.parent=this.SBZombieArmorIconSlot},r.addArmorOnZombies_sandbox=function(){E.armorOnAllZombies(this.currentSBZombieAddArmor)},r.switchSBZombieDirection=function(){for(var e=this.currentSBZombieDirection+1;e<0||e>=3;)e=0;switch(this.currentSBZombieDirection=e,e){case 1:case 2:this.SBZombieZombieDirectionArrow.node.angle=-90;break;default:this.SBZombieZombieDirectionArrow.node.angle=90}},r.showSBSettings=function(){this.sandBoxSettingWindow?(vt=e("superSlowed",!1),U.destroyPooly(this.sandBoxSettingWindow),this.sandBoxSettingWindow=null):(vt=e("superSlowed",!0),this.sandBoxSettingWindow=U.instantiatePooly(this.sandBoxSettingWindowPrefab),this.sandBoxSettingWindow.parent=this.UIUpper,this.sandBoxSettingWindow.worldPosition=this.node.parent.worldPosition,this.sandBoxSettingWindow.setSiblingIndex(this.sbButton.node.getSiblingIndex()))},r.hideUI=function(){this.uiHidden?(this.canvas.cameraComponent.visibility=1107296256,this.uiHidden=!1):(this.canvas.cameraComponent.visibility=1<<30,this.uiHidden=!0)},r.cardSelect=function(){this.cards.JudgeSelection(),this.cards.cardSelect(),this.shovel.shovelSelect(),N.component.choose(),this.squares.readIndex()},r.onEnable=function(){var e=this;this.scheduleOnce((function(){e.sceneEnabled=!0}),.1)},r.setSibling=function(){var e=b("Canvas/LawnCommon");this.node.setSiblingIndex(e.getSiblingIndex()),s.cardsAtUpper=e.getSiblingIndex()<this.node.getSiblingIndex(),V.saveSettings()},r.onKeyDown=function(t){var n;if(!j.component.gameLost){var o=M.cardsController.cardSlot;if(j.gameStarted||j.component.lastStandPrepareStarted)if(t.keyCode==y.BACK_QUOTE)this.hideUI();else{switch(t.keyCode){case y.DIGIT_1:if(this.plantKeyCool>0)break;o[0]&&(ie.ctrlDown&&j.sandBoxModeOn?E.allLnCSpawnPlant(M.cardsController.seedPackets[0].getComponent(F).ID):this.tryChangingIndex(0));break;case y.DIGIT_2:if(this.plantKeyCool>0)break;o[1]&&(ie.ctrlDown&&j.sandBoxModeOn?E.allLnCSpawnPlant(M.cardsController.seedPackets[1].getComponent(F).ID):this.tryChangingIndex(1));break;case y.DIGIT_3:if(this.plantKeyCool>0)break;o[2]&&(ie.ctrlDown&&j.sandBoxModeOn?E.allLnCSpawnPlant(M.cardsController.seedPackets[2].getComponent(F).ID):this.tryChangingIndex(2));break;case y.DIGIT_4:if(this.plantKeyCool>0)break;o[3]&&(ie.ctrlDown&&j.sandBoxModeOn?E.allLnCSpawnPlant(M.cardsController.seedPackets[3].getComponent(F).ID):this.tryChangingIndex(3));break;case y.KEY_Q:if(this.plantKeyCool>0)break;o[4]&&(ie.ctrlDown&&j.sandBoxModeOn?E.allLnCSpawnPlant(M.cardsController.seedPackets[4].getComponent(F).ID):this.tryChangingIndex(4));break;case y.KEY_W:if(this.plantKeyCool>0)break;o[5]&&(ie.ctrlDown&&j.sandBoxModeOn?E.allLnCSpawnPlant(M.cardsController.seedPackets[5].getComponent(F).ID):this.tryChangingIndex(5));break;case y.KEY_E:if(this.plantKeyCool>0)break;o[6]&&(ie.ctrlDown&&j.sandBoxModeOn?E.allLnCSpawnPlant(M.cardsController.seedPackets[6].getComponent(F).ID):this.tryChangingIndex(6));break;case y.KEY_R:if(this.plantKeyCool>0)break;o[7]&&(ie.ctrlDown&&j.sandBoxModeOn?E.allLnCSpawnPlant(M.cardsController.seedPackets[7].getComponent(F).ID):this.tryChangingIndex(7));break;case y.F3:s.PocketUI||this.setSibling();break;case y.KEY_K:ie.ctrlDown&&j.sandBoxModeOn&&re.pool().concat(re.hypnoPool()).forEach((function(e){e.canBeKilledByRule&&(e.playDie(!0,null,!1,ce.physicle,!1,!0,!1),U.destroyPooly(e.node))}));break;case y.KEY_D:ie.ctrlDown&&j.sandBoxModeOn?E.shovelAllPlants():this.tryChangingIndex(-2);break;case y.KEY_F:ie.ctrlDown&&j.sandBoxModeOn?E.foodAllPlants():this.tryChangingIndex(-3);break;case y.KEY_V:this.paused||this.speedUp()}if(j.sandBoxModeOn){if(!this.sandBoxSettingWindow)switch(t.keyCode){case y.ARROW_LEFT:W.pushTide(1);break;case y.ARROW_RIGHT:W.pullTide(1);break;case y.ENTER:W.pullTide(9);break;case y.BACKSPACE:W.addTide(),W.pushTide(9);break;case y.TAB:W.setStageEffect(this.stageEffIndex++%(G.jam_clear+1));break;case y.F1:null==(n=H.component)||n.loadZombies();break;case y.F2:var i=ie.shiftDown?-1:1,a=W.currentLawnYardType+i;a<0?a=z.yardAmount-1:a>=z.yardAmount&&(a=0),W.changeFrontYard(a);break;case y.F5:vt=e("superSlowed",!vt);break;case y.F7:this.sandboxSwitchMusic()}switch(t.keyCode){case y.F6:this.showSBSettings()}}}switch(t.keyCode){case y.SPACE:case y.ESCAPE:var r;this.paused||null==(r=j.component)||null==(r=r.levelObjectiveShower)||null==(r=r.node)||!r.active||j.component.levelObjectiveShower.faded?this.pauseMenu():j.component.levelObjectiveShower.continue()}}},r.sandboxSwitchMusic=function(){this.musicSortIndex=(this.musicSortIndex+1)%this.musicSortEnumGroup.length,R.switchMusicSort(this.musicSortEnumGroup[this.musicSortIndex])},r.pauseMenu=function(){if(this.paused){var e;this.paused=!1,null!=(e=j.component)&&e.rhythmAudioSource&&j.component.rhythmPlayStarted&&(j.component.rhythmAudioSource.play(),j.component.rhythmAudioSource.currentTime=this.rhythmAudioSourceTime),this.pauseButton.hoverSprite=this.hoverPause,this.pauseButton.normalSprite=this.normalPause,this.pauseScreen.node.active=!1}else{var t,n;if(null!=(t=j.component)&&t.gameWon)return;this.tryChangingIndex(-1),this.paused=!0,K.playPause(),null!=(n=j.component)&&n.rhythmAudioSource&&j.component.rhythmPlayStarted&&(this.rhythmAudioSourceTime=j.component.rhythmAudioSource.currentTime,j.component.rhythmAudioSource.pause()),this.pauseScreen.node.active=!0,this.pauseButton.hoverSprite=this.pressedPause,this.pauseButton.normalSprite=this.pressedPause}},r.plantInHand=function(e,t){var n;if(void 0===t&&(t=!0),this.plantInHandType=[],this.plantReady=null,this.currentPlantName=null,this.currentPlantStartingHeight=0,this.willCostSun=0,t&&e){var o=e.getComponent(F);this.currentPlantName=o.ID,this.currentPlantBoosted=o.BOOSTED,this.isImitator=o.isImitator;var i=+Y.getPlantProps(o.ID).StartingHeight;i&&(this.currentPlantStartingHeight=i),this.plantInHandType=o.thisPlant.TYPE,this.willCostSun=o.SUNCOST,this.plantReady=U.instantiatePooly(Y.getPlantsInCard(this.currentPlantName).plantDIS),this.plantReady.parent=this.plantInHandLayer;var a=this.plantReady.getComponent("AnimationController");null==a||null==(n=a.body)||null==(n=n.color)||n.set(255,255,255,255),null==a||a.readCostume(this.currentPlantName),this.plantReady.getChildByName("Body").getComponent(c.ArmatureDisplay).color=new C(255,255,255,255),this.plantReady.setPosition(0,-20+this.currentPlantStartingHeight)}},r.spawnPlantCost=function(){var e;8==this.index&&(null==q||null==(e=q.component)||e.spliceCard(this.currentFreeSeedPacket)),Z.component.SunDec(this.willCostSun),this.index>=0&&this.index<=7&&this.cards.CoolStart(this.index)},r.setTips=function(){var e;this.pauseScreen.node.active=!0,null==(e=this.pauseScreen)||e.setTips(this.preStartTips),this.pauseScreen.node.updateWorldTransform(),this.pauseScreen.node.active=!1},s.exit=function(){var e;null!=W&&W.currentLawn&&(W.currentLawn.node.destroy(),W.currentLawn=null),(null==(e=ie.cp)?void 0:e.screenSplash)&&(ie.cp.screenSplash.opacity=255),le.pool().concat().forEach((function(e){e.fooding&&(null==e||e.foodEnd())})),s.uiingame.oldTickReturn(),v.stopAll(),U.clearAll(),ie.goToLastScene()},s.gotoNextLevel=function(e){null!=W&&W.currentLawn&&(W.currentLawn.node.destroy(),W.currentLawn=null),le.pool().concat().forEach((function(e){e.fooding&&(null==e||e.foodEnd())})),s.uiingame.oldTickReturn(),v.stopAll(),U.clearAll(),W.unLoadLawns(),ne.unLoadMusic(),ie.goToLevel([e],[],(function(){U.clearAll(),v.stopAll()}),!1)},s.restart=function(){le.pool().concat().forEach((function(e){e.fooding&&(null==e||e.foodEnd())})),s.uiingame.oldTickReturn(),v.stopAll(),U.clearAll(),null!=W&&W.currentLawn&&(W.currentLawn.node.destroy(),W.currentLawn=null),j.thisLevelsID.length?ie.goToLevel(j.thisLevelsID,j.nextLevelsID,(function(){U.clearAll(),v.stopAll()}),!1):j.levelData?ie.goToGame([j.levelData.objects],(function(){U.clearAll(),v.stopAll()})):this.exit()},r.tryChangingIndex=function(e){var t;if(!this.paused&&!this.indexLocked&&!j.component.gameLost){var n=!1;switch(this.currentSniperPlant&&(this.currentSniperPlant.locateCancel(),this.currentSniperPlant.locatorNode=null,this.currentSniperPlant=null),this.currentPlantName=null,e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:if(this.cards.seedPackets[e]){var o=this.cards.seedPackets[e].getComponent(D);o.getSelectable()?(U.destroyNodeArrayPooly(this.plantInHandLayer.children),this.index==e?this.tryChangingIndex(-1):(this.index=e,this.plantInHand(this.cards.seedPackets[e]),K.playCardChosen()),n=!0):o.affordable||o.cooling||Z.component.playWarn(),n||K.playCardChooseFailed()}break;case 8:null!=(t=this.currentFreeSeedPacket)&&t.enabled&&this.currentFreeSeedPacket.getComponent(D).getSelectable()&&(U.destroyNodeArrayPooly(this.plantInHandLayer.children),this.index==e?this.tryChangingIndex(-1):(this.index=e,this.plantInHand(this.currentFreeSeedPacket.node),K.playCardChosen()),n=!0);break;case 9:U.destroyNodeArrayPooly(this.plantInHandLayer.children),this.index==e?this.tryChangingIndex(-1):this.index=e,n=!0;break;case-1:if(U.destroyNodeArrayPooly(this.plantInHandLayer.children),this.index<=8&&this.index>=0)this.plantInHand(null,!1),K.playCardCancel();else if(-2==this.index)K.playShovelActive();else if(-4==this.index){var i;null==(i=this.currentSniperPlant)||i.locateCancel(),this.currentSniperPlant=null}null!=X&&X.component&&(X.component.index=-1),this.index=-1,n=!0;break;case-2:O.shovelUI.gameStarted&&(U.destroyNodeArrayPooly(this.plantInHandLayer.children),this.index=-2==this.index?-1:-2,K.playShovelActive(),n=!0);break;case-3:N.plantFoodNum>0||J.freePF?j.gameStarted&&(this.index=-3==this.index?-1:-3,U.destroyNodeArrayPooly(this.plantInHandLayer.children),-3==this.index&&N.component.addMouseChild(),n=!0):N.plantfoodWarn();break;case-4:-4!=this.index&&(n=!0),this.index=-4;break;case-5:if(j.gameStarted){var a=this.index+0;this.index=-5==this.index?-1:-5,U.destroyNodeArrayPooly(this.plantInHandLayer.children),n=a!=this.index}}n&&(this.cardSelect(),Q.component.judgeUIIndex(),8!=this.index&&this.currentFreeSeedPacket&&(K.playCardCancel(),this.currentFreeSeedPacket.getComponent(D).index=0,this.currentFreeSeedPacket=null))}},r.onMouseUp=function(e){var t;if(e.preventSwallow=!0,!(this.MouseClickCoolingDown>0)){this.MouseClickCoolingDown=2,e.getButton()==x.BUTTON_LEFT&&(this.mouseDown=!1),-5==this.index&&Q.component.onMouseUp(e);for(var n=0;n<5;n++){var o=E.getLaneComponent(n);o.mower&&(o.mower._pressed=!1)}null==(t=de.mouseInLnC)||t.onMouseUp(e)}},r.onMouseScroll=function(e){var t,n,o;e.preventSwallow=!0,this.MouseClickCoolingDown>0||(this.MouseClickCoolingDown=1,null!=(t=M.cardsController)&&t.judgeMouseIsIn()&&M.cardsController.onMouseScroll(e),null!=(n=X.component)&&n.judgeMouseIsIn()&&X.component.onMouseScroll(e),null==(o=de.mouseInLnC)||o.onMouseScroll(e))},r.flipAllCamelBack=function(){this.failedCamelTouch.forEach((function(e){e&&(e.flipped=!1)})),this.failedCamelTouch=[]},r.judgeMatchedCamelTouch=function(e){var t=this;(this.flipAllCamelBack(),this.unschedule(this.flipAllCamelBack),this.mainCamelTouch)?this.mainCamelTouch.camelTouchType==e.camelTouchType?(this.matchedCamelTouch=[e,this.mainCamelTouch],this.mainCamelTouch=null,this.scheduleOnce((function(){t.matchedCamelTouch.forEach((function(e){e.match()}));var e=t.matchedCamelTouch.concat();t.scheduleOnce((function(){j.component.addCamelCombo(),e.forEach((function(e){e.playDie(!1,null,!0,ce.physicle,!0,!0,!0)}))}),.5),t.matchedCamelTouch=[]}),.5)):(j.component.clearCamelCombo(),this.failedCamelTouch=[e,this.mainCamelTouch],this.mainCamelTouch=null,this.scheduleOnce(this.flipAllCamelBack,3)):this.mainCamelTouch=e},r.onMouseDown=function(e){if(e.preventSwallow=!0,!(this.MouseClickCoolingDown>0)){this.MouseClickCoolingDown=2;var t,n=!1;if(this.gameStarted)if(e.getButton()==x.BUTTON_RIGHT){var o=this.index+0;this.tryChangingIndex(-1),-1!=o&&-1==this.index&&(K.playRightButtonCancel(),n=!0)}else if(-5==this.index&&e.getButton()==x.BUTTON_LEFT)Q.component.onMouseDown(e);else if(-1==this.index&&e.getButton()==x.BUTTON_LEFT&&!this.MouseListenOffThisTick){this.mouseDown=!0;for(var i=function(){var e=E.getLaneComponent(a);if(j.ManualMower>0&&e.mower&&e.mower.bodyRec().judgeInRecP(de.position))return e.mower.onMouseDown(),0;var t=e.zombiePool().sort((function(e,t){return t.siblingIndexInLane-e.siblingIndexInLane})),o=!1;return t.forEach((function(e){o||e.bodyRecReal.judgeInRecP(de.position)&&e.onMouseClicked()&&(o=!0)})),o?(n=!0,0):void 0},a=4;a>=0&&0!==i();a--);}if(!n&&!this.MouseListenOffThisTick)null==(t=de.mouseInLnC)||t.onMouseDown(e,!0);!n&&e.getButton()==x.BUTTON_LEFT&&de.judgeInUITransform(O.shovelUI.uiTransform)&&(this.mouseDown=!0,n=!0,(j.gameStarted||j.component.lastStandPrepareStarted)&&this.tryChangingIndex(-2))}},r.oldTickReturn=function(){Ct=e("gamingSpeed",1),S.tick=this.oldTick},r.speedUp=function(){Ct=e("gamingSpeed",1==Ct?1.5:1),K.playSpeedUp(),1==Ct?(this.s2xButton.normalSprite=this.normal2x,this.s2xButton.pressedSprite=this.pressed2x,this.s2xButton.hoverSprite=this.hover2x,j.screenFlashLeftColor=new C(122,242,255,100)):(this.s2xButton.normalSprite=this.pressed2x,this.s2xButton.pressedSprite=this.pressed2x,this.s2xButton.hoverSprite=this.hover2x,j.screenFlashLeftColor=new C(122,242,255,100))},s.gameStart=function(){this.uiingame._gameStart()},r._gameStart=function(){var e,t=this;if(!this.gameStarted){if(this.mouseDown=!1,j.sandBoxModeOn&&(this.sbButton.node.active=!0,this.sbButton.node.position=this.sbButtonOldPos,f(this.SBZombieCards).parent=this.SBZombieCardsSlot),ee.component&&(ee.component.show(),ee.component.hidden=!1,s.PocketUI&&T(ee.component.node).to(.5,{position:new g(-295,-150,0)},{easing:"quadInOut"}).start()),this.levelTaskShowerSlot.active=!0,this.gameStarted=!0,this.s2xButton.getComponent(d).color=new C(255,255,255,255),this.s2xButton.node.on(u.EventType.MOUSE_DOWN,(function(e){t.paused||t.speedUp()})),s.PocketUI){this.levelTaskShowerSlot.position=new g(-360,240,0);var n=this.levelTaskShowerSlot.getComponent(I);n&&(n.width=100)}if(b("Canvas/UIInGame/PlantFoodSlot/Button").on(u.EventType.MOUSE_DOWN,(function(e){e.getButton()==x.BUTTON_LEFT?t.tryChangingIndex(-3):e.getButton()==x.BUTTON_MIDDLE&&j.sandBoxModeOn&&E.foodAllPlants()}),this),N.keyOn(),!s.PocketUI){var o=b("Canvas/LawnCommon");(s.cardsAtUpper&&o.getSiblingIndex()>this.node.getSiblingIndex()||!s.cardsAtUpper&&o.getSiblingIndex()<this.node.getSiblingIndex())&&this.setSibling()}null!=(e=this.SBZombieArmorIconSlot)&&e.active&&(this.switchSBZombieAddArmor(0),this.SBZombieArmorIconSlot.parent.on(u.EventType.MOUSE_WHEEL,(function(e){e.preventSwallow=!0,e.getScrollY()>0?t.switchSBZombieAddArmor(-1):e.getScrollY()<0&&t.switchSBZombieAddArmor(1)}),this)),E.calculatePlants()}},r.onLoad=function(){this.uiHidden=!1,this.gameLoseButtonOldPos=this.gameLoseButtons.position.clone(),this.uiHidden=!0,this.hideUI(),this.levelTaskShowerSlot.position=new g(s.PocketUI?-280:-470,s.PocketUI?320:170,0);var t=this.levelTaskShowerSlot.getComponent(I);t&&(t.width=s.PocketUI?1e3:100),this.sceneEnabled=!1,this.sbButton.node.position=s.PocketUI?new g(-315,215,0):new g(-370,130,0),this.sbButtonOldPos=this.sbButton.node.position.clone(),this.sbButton.node.position.add3f(-1e3,1e3,0),this.SBZombieCardsSlot.position=s.PocketUI?new g(-220,275,0):new g(-75,-290,0),vt=e("superSlowed",!1),this.gameStarted=!1,this.currentFreeSeedPacket=null,s.uiingame=this,P.on(k.EventType.KEY_DOWN,this.onKeyDown,this),this.s2xButton.getComponent(d).color=new C(255,255,255,0),this.squares=b("Canvas/LawnCommon/Squares").getComponent(E),this.cards=this.node.getChildByName("Cards").getComponent(M),this.shovel=this.node.getChildByName("Shovel").getComponent(O),this.shovel.UIParent=this,this.normalPause=this.pauseButton.normalSprite,this.hoverPause=this.pauseButton.hoverSprite,this.pressedPause=this.pauseButton.pressedSprite,this.normal2x=this.s2xButton.normalSprite,this.hover2x=this.s2xButton.hoverSprite,this.pressed2x=this.s2xButton.pressedSprite},r.start=function(){var e,t,n,o,i;this.paused=!1,this.pauseScreen.node.active=!1,this.showGameLoseButtons(!1),this.windowSplashColorA=0,this.cards.enabled=!0,null==(e=this.toolTips)||e.start(),null==(t=this.mouseListener)||t.on(u.EventType.MOUSE_DOWN,this.onMouseDown,this),null==(n=this.mouseListener)||n.on(u.EventType.MOUSE_UP,this.onMouseUp,this),null==(o=this.mouseListener)||o.on(u.EventType.MOUSE_MOVE,(function(e){e.preventSwallow=!0}),this),null==(i=this.mouseListener)||i.on(u.EventType.MOUSE_WHEEL,this.onMouseScroll,this);var a=b("Canvas/LawnCommon");(s.PocketUI&&a.getSiblingIndex()>this.node.getSiblingIndex()||!s.PocketUI&&a.getSiblingIndex()<this.node.getSiblingIndex())&&this.setSibling()},r.update=function(e){var t,n,o,i=this;if(this.plantKeyCool>0&&this.plantKeyCool--,this.plantInHandLayer.worldPosition=de.position.toVec3(),null!=(t=this.currentSniperPlant)&&t.locatorNode&&(this.currentSniperPlant.locatorNode.worldPosition=this.mouse.worldPosition),this.UIUpper.position=this.node.position,this.paused&&R._volumeScalePause>0?R._volumeScalePause-=.016667:!this.paused&&R._volumeScalePause<1&&(R._volumeScalePause+=.016667),!this.sceneEnabled||j.component.gameLost||this.exitNextTick||this.restartNextTick||this._exitDealt)this.oldTickReturn();else if(vt||this.paused)S.tick=function(e){var t;null==i||null==(t=i.oldTick)||t.call(S,60*B.deltaTime*0)};else{var a=j.sandBoxModeOn&&!j.gameStarted?4:1;S.tick=function(e){var t;null==i||null==(t=i.oldTick)||t.call(S,Ct/60*a*(60*B.deltaTime))}}if(!this._exitDealt)if(this.exitNextTick)if(this.nextLevel)if(null!=j&&null!=(n=j.component)&&n.RestartWhenExit)s.restart(),this._exitDealt=!0;else if(null!=j&&null!=(o=j.component)&&null!=(o=o.levelDefinition)&&o.ForceNextLevel){var r;s.gotoNextLevel(null==j||null==(r=j.component)||null==(r=r.levelDefinition)?void 0:r.ForceNextLevel),this._exitDealt=!0}else s.exit(),this._exitDealt=!0;else s.exit(),this._exitDealt=!0;else this.restartNextTick&&(s.restart(),this._exitDealt=!0);this.SBZombieZombieDirectionArrow&&(this.SBZombieZombieDirectionArrow.color=2==this.currentSBZombieDirection?ue.zombieHypno:new C(255,255,255,255))},r.victoryExit=function(){for(var e,t=this,n=function(){var e=E.getLaneComponent(o),n=e.mower;e.mower=null,n&&t.scheduleOnce((function(){Se.dropOneCoin(n.worldPosition,1);var t=_(me.mowerSpawn());t.parent=e.prjLayer,t.worldPosition=n.worldPosition.toVec3(),K.playMowerSpawn(),U.destroyPooly(n.node)}),.25*o)},o=0;o<5;o++)n();K.playLevelExit();var i=null==j||null==(e=j.component)||null==(e=e.bossZombie)?void 0:e.bossOnPriceCollected(),a=this.canvas.cameraComponent.node.worldPosition;this.windowSplash.node.worldPosition=new g(a.x,a.y,0),this.windowSplash.color=new C(255,255,255,0),T(this).to(2.5+(isNaN(i)?0:i),{}).to(2.5,{windowSplashColorA:255}).call((function(){t.exitNextTick=!0,t.nextLevel=!0})).start()},r.showGameLoseButtons=function(e){void 0===e&&(e=!0),e?(this.gameLoseButtons.active=!0,this.gameLoseButtons.position=this.gameLoseButtonOldPos):(this.gameLoseButtons.active=!1,this.gameLoseButtons.position=new g(0,1e4,0))},r.loseDarken=function(e,t,n){var o=this;if(void 0===e&&(e=null),void 0===t&&(t=he.getStringByPropsWithoutTricks("InGameScene","GameLoseTip","BrainEaten")),void 0===n&&(n=""),!(j.component.gameLost||j.component.gameWon||this.paused)){this.tryChangingIndex(-1),j.component.gameLost=!0,j.component.onLoseDarken(),R.switchMusicSort(te.Lose,!1,!1,!0,!0);var i=this.canvas.cameraComponent.node.worldPosition;this.windowSplash.node.worldPosition=new g(i.x,i.y,0),e&&(e.node.setParent(this.windowSplash.node.parent,!0),e.node.setSiblingIndex(this.windowSplash.node.getSiblingIndex()+1),e.triggerGameLose(),e.isGameLoseTriggerer=!0),this.gameLoseTip.string=t,this.windowSplash.color=new C(0,0,0,0),this.gameLoseTip.string=t;var a=this.gameLoseTip.getComponent(L);a.opacity=0,this.gameLoseTip.node.scale=new g(.5,1,1);var s=T(a).to(1.5,{opacity:255},{easing:"quadOut"}),r=T(this.gameLoseTip.node).to(1.5,{scale:new g(1,1,1)},{easing:"quadOut"});this.gameLoseTipSmall.string=n,this.gameLoseTipSmall.node.position=new g(0,420,0);T(this.gameLoseTipSmall.node).to(1.5,{position:new g(0,130,0)},{easing:"quadIn"}).to(1,{position:new g(0,220,0)},{easing:"quadOut"}).to(1,{position:new g(0,130,0)},{easing:"quadIn"}).to(.5,{position:new g(0,170,0)},{easing:"quadOut"}).to(.5,{position:new g(0,130,0)},{easing:"quadIn"}).start();T(this).to(2,{windowSplashColorA:255}).call((function(){j.component.gameOver=!0,s.start(),r.start(),o.showGameLoseButtons()})).start()}},r.lateUpdate=function(e){this.MouseListenOffThisTick=!1,this.MouseClickCoolingDown>0&&this.MouseClickCoolingDown--},r.calculateLevelTask=function(e,t){this.gameStarted&&!j.component.lastStandPrepareStarted&&this.levelTasks.forEach((function(n){n.changeObjdata(e,t)}))},r.warnLevelTask=function(e){this.levelTasks.forEach((function(t){t.mode==e&&t.playWarn()}))},r.judgeLevelTasksVictory=function(){var e=!0;return this.levelTasks.forEach((function(t){e&&(e=t.judgeVictory())})),e},r.getLevelTaskObject=function(e){for(var t=this.levelTasks.concat(),n=0;n<t.length;n++)if(t[n].mode==e)return t[n].objdata},r.getLevelTaskStartingObject=function(e){for(var t=this.levelTasks.concat(),n=0;n<t.length;n++)if(t[n].mode==e)return t[n].startingObjdata},r.pushLevelTask=function(e,t){if(t){this.levelTaskShowerSlot.active=!1;var n=f(this.levelTaskShower);n.parent=this.levelTaskShowerSlot;var o=n.getComponent(oe);o.switchMode(e,t),this.levelTasks.push(o)}},r.pushGamePreStartTip=function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];n.forEach((function(t){-1==e.preStartTips.indexOf(t)&&e.preStartTips.push(t)}))},a(s,[{key:"indexLocked",get:function(){return Q.uiIndexLocked}},{key:"windowSplashColorA",get:function(){return this.windowSplash.color.a},set:function(e){var t=this.windowSplash.color.clone();this.windowSplash.color=new C(t.r,t.g,t.b,e)}}],[{key:"index",get:function(){return this.uiingame.index}},{key:"willDestroySceneNextTick",get:function(){return this.uiingame&&(this.uiingame.exitNextTick||this.uiingame.restartNextTick)}}]),s}(A)).PocketUI=!1,wt.cardsAtUpper=!1,wt.uiingame=void 0,Ve=t((qe=wt).prototype,"toolTips",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=t(qe.prototype,"sbZombieSpawnIcon",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe=t(qe.prototype,"SBZombieArmorIconSlot",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=t(qe.prototype,"SBZombieZombieDirectionArrow",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=t(qe.prototype,"mouse",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=t(qe.prototype,"UIUpper",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=t(qe.prototype,"sandBoxSettingWindowPrefab",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=t(qe.prototype,"sbButton",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=t(qe.prototype,"SBZombieCards",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=t(qe.prototype,"SBZombieCardsSlot",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=t(qe.prototype,"uiWillBeHiden",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),st=t(qe.prototype,"pauseScreen",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=t(qe.prototype,"pauseButton",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=t(qe.prototype,"s2xButton",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=t(qe.prototype,"mouseListener",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=t(qe.prototype,"plantInHandLayer",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=t(qe.prototype,"windowSplash",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=t(qe.prototype,"gameLoseTip",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=t(qe.prototype,"gameLoseTipSmall",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=t(qe.prototype,"canvas",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=t(qe.prototype,"gameLoseButtons",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=t(qe.prototype,"levelTaskShower",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=t(qe.prototype,"levelTaskShowerSlot",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye=qe))||Ye));s._RF.pop()}}}));

System.register("chunks:///_virtual/UmbrellaLeaf.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts"],(function(t){var e,n,i,a,o,s,r,l,u,c,h,m,d,f,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,r=t._decorator,l=t.AudioClip,u=t.Vec2,c=t.AudioSource},function(t){h=t.Plant},function(t){m=t.Rectangle,d=t.Umbrellas},function(t){f=t.Square},function(t){b=t.sounds}],execute:function(){var p,A,g,y,S,R,I,_,C,k,w,D,U,v;s._RF.push({},"f671cHIAU9Era0nTV0pwgDI","UmbrellaLeaf",void 0);var P=r.ccclass,x=r.property,z=t("umbrellaLeafRange",(function(t,e){this.owner=void 0,this.detector=void 0,this.owner=t,this.detector=e})),B=(p=P("umbrellaleafSound"),A=x([l]),g=x([l]),y=x([l]),p((I=e((R=function(){function t(){i(this,"umbrellaSound",I,this),i(this,"bounceSound",_,this),i(this,"foodSound",C,this)}var e=t.prototype;return e.playUmbrellaSound=function(){b.playArray(this.umbrellaSound,1,.1)},e.playBounceSound=function(){b.playArray(this.bounceSound,1,.5)},e.playFoodSound=function(){b.playArray(this.foodSound,1,.1)},t}()).prototype,"umbrellaSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=e(R.prototype,"bounceSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(R.prototype,"foodSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=R))||S);t("UmbrellaLeafPlant",(k=P("UmbrellaLeaf"),w=x(B),k((v=e((U=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(e,"soundRes",v,a(e)),e.blockAnm="Block",e._stage=0,e.thisUmbrella=new z(a(e),m.createRectangleCenter(new u(0,0),3*f.SquareDisW,3*f.SquareDisH)),e.zombiesInRange=[],e.detector=void 0,e}n(e,t);var s=e.prototype;return s.umbrella=function(){return!this.sheepend&&(this.soundRes.playUmbrellaSound(),this.anmControl.playAnimation(this.blockAnm,1),this.setAnimation(!0),!0)},s.umbrellable=function(){return!this.sheepend},s.specialPlantFood=function(t){this.foodable=!1,this.foodEnd(),this.soundRes.playFoodSound(),this.allowStack=!0,this.eaterDetectable=!1,this.smasherDetectable=!1,this.stage=2+this.stage%2,this.anmControl.playRandom()},s.bounce=function(){c.maxAudioChannel,this.soundRes.playBounceSound(),this.anmControl.playAnimation(this.blockAnm,1,0,.7),this.setAnimation(!0)},s.specialPlantDie=function(t){var e=d.umbrellas.indexOf(this.thisUmbrella);-1!=e&&d.umbrellas.splice(e,1)},s.specialPlantOnEnable=function(){this.stage=0,-1==d.umbrellas.indexOf(this.thisUmbrella)&&d.umbrellas.push(this.thisUmbrella),this.zombiesInRange=[],this.setAnimation(!1),this.anmControl.playRandom()},s.setAnimation=function(t){this.anmControl;t?this.stage>=2?this.stage=3:this.stage=1:this.stage>=2?this.stage=2:this.stage=0},s.specialPlantOnSquareChange=function(t,e){this.detector=m.createRectangleNodeCenter(e.node,3*f.SquareDisW,3*f.SquareDisH),this.thisUmbrella.detector=this.detector},o(e,[{key:"stage",get:function(){return this._stage},set:function(t){switch(t){case 1:this.anmControl.IdleAnim="Idle_Excited",this.anmControl.RandomAnim=["Random_Excited"],this.deathAnm="Death",this.waterAnm="Water",this.blockAnm="Block";break;case 2:this.anmControl.IdleAnim="Idle_Infi",this.anmControl.RandomAnim=["Random_Infi"],this.deathAnm="Death_Infi",this.waterAnm="Water_Infi",this.blockAnm="Block_Infi";break;case 3:this.anmControl.IdleAnim="Idle_Excited_Infi",this.anmControl.RandomAnim=["Random_Excited_Infi"],this.deathAnm="Death_Infi",this.waterAnm="Water_Infi",this.blockAnm="Block_Infi";break;default:t=0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.deathAnm="Death",this.waterAnm="Water",this.blockAnm="Block"}this._stage=t}}]),e}(h)).prototype,"soundRes",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new B}}),D=U))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/UpdateContentWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InfoWindow.ts","./MultiLanguage.ts","./ElectronAPI.ts"],(function(t){var e,n,i,r,o,l,a,s,u,p,c,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.Label,s=t.Color,u=t.instantiate},function(t){p=t.InfoWindow},function(t){c=t.MultiLanguage},function(t){f=t.default}],execute:function(){var g,b,d,h,w,v,y,W,m,L;o._RF.push({},"7b585vVwQlBCbYb6LroAnl3","UpdateContentWindow",void 0);var U=l.ccclass,C=l.property;t("UpdateContentWindow",(g=U("UpdateContentWindow"),b=C(a),d=C(a),h=C(a),g(((L=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,i(e,"label0",y,r(e)),i(e,"title",W,r(e)),i(e,"wbstLabel",m,r(e)),e}n(e,t);var o=e.prototype;return o.readObject=function(t){this.title.string=c.getStringByPropsWithoutTricks("UpdateWindow","Title"),this.wbstLabel.string=c.getStringByPropsWithoutTricks("UpdateWindow","GoToOfficialWebsite"),this.label0.string=t.Name+"\n("+t.Version+")\n",this.label0.color=new s(0,0,182,255);for(var e=t.Updates,n=0;n<(null==e?void 0:e.length);n++){var i=u(this.label0.node);i.parent=this.label0.node.parent;var r=i.getComponent(a);r.string=c.getString(e[n],!1),r.color=n%2?new s(175,0,182,255):new s(182,0,95,255)}return""},e.compareVersions=function(t,e){if(t==e)return 0;for(var n=t.split(".").map((function(t){return+t})),i=e.split(".").map((function(t){return+t})),r=n.length;r<i.length;r++)n.push(0);for(var o=i.length;o<n.length;o++)i.push(0);for(var l=0;l<n.length;l++){if(n[l]<i[l])return 1;if(n[l]>i[l])return-1}return 0},o.gotoWebSite=function(){f.openURL("https://pvzge.com")},e}(p)).version="0.3.0",y=e((v=L).prototype,"label0",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(v.prototype,"title",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(v.prototype,"wbstLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=v))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/upgradePrize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelPrize.ts","./levelController.ts","./Trophies.ts","./PlayerProperties.ts","./UpgradeTrophy.ts"],(function(e){var r,t,i,n,o,l,a,u,c,p,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator},function(e){a=e.levelPrize},function(e){u=e.LevelPlay},function(e){c=e.UpgradeEnum},function(e){p=e.AllPlayerProperties},function(e){s=e.UpgradeTrophy}],execute:function(){var d,f,P,v,y;o._RF.push({},"e30b7HsB+xJfJ2RtbPf+1RC","upgradePrize",void 0);var g=l.ccclass,h=l.property;e("upgradePrize",(d=g("upgradePrize"),f=h(s),d((y=r((v=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o))||this,i(r,"ut",y,n(r)),r}t(r,e);var o=r.prototype;return o.specialPrizeOnEnable=function(){var e,r=null==(e=u.component)||null==(e=e.levelDefinition)?void 0:e.FirstRewardParam,t=0;r&&(t=c[r]),p.unlockUpgrade(t),this.ut.readID(t,!1),this.ut.prizeModeOn=!0},o.specialOnCollected=function(){this.ut.prizeModeOn=!1},r}(a)).prototype,"ut",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=v))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/UpgradeTrophy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Materials.ts","./Prizes.ts","./MultiLanguage.ts"],(function(e){var t,r,i,n,a,o,s,l,u,p,c,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.dragonBones,l=e.Node,u=e.Color,p=e.Component},function(e){c=e.materialRes},function(e){d=e.prizeRes},function(e){h=e.MultiLanguage}],execute:function(){var g,f,y,b,D,M,m;a._RF.push({},"d4bf5jVwhpKB4kDCpes4ljq","UpgradeTrophy",void 0);var E=o.ccclass,T=o.property;e("UpgradeFeature",(function(){this.NAME=new h,this.DESCRIPTION=new h,this.CODENAME="starting_sun_1",this.SPRITENAME="StartingSun",this.UPGRADETYPE="starting_sun",this.OBTAINWORLD="modern"})),e("UpgradeTrophy",(g=E("UpgradeTrophy"),f=T(s.ArmatureDisplay),y=T(l),g((M=t((D=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"db",M,n(t)),i(t,"light",m,n(t)),t.prizeModeOn=!1,t.almanacModeOn=!1,t.ID=0,t}r(t,e);var a=t.prototype;return a.onLoad=function(){},a.readID=function(e,t){this.ID=e,this.db.playAnimation(d.upgradeFeature()[e].SPRITENAME),this.light.active=t},a.update=function(e){this.prizeModeOn?this.db.color=c.rewardColor:this.almanacModeOn||(this.db.color=new u(255,255,255,255))},t}(p)).prototype,"db",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(D.prototype,"light",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=D))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/Vamporcini.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./NodePools.ts","./SoundRescourses.ts"],(function(t){var o,n,a,i,e,r,s,l,b,c,h,u,d,p,f,m,g,S;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){e=t.cclegacy,r=t._decorator,s=t.AudioClip,l=t.Prefab,b=t.Vec2,c=t.dragonBones},function(t){h=t.Plant,u=t.PlantProps},function(t){d=t.Rectangle},function(t){p=t.Square},function(t){f=t.ZombieDamageDetails,m=t.zombieDamageType},function(t){g=t.NodePools},function(t){S=t.sounds}],execute:function(){var y,P,L,w,A,D,C,R,v,z,E,_,j,F,k,I,O,N,x,M,T,V,q,U,B,H,Z,G;e._RF.push({},"e13e99QG7VHJpt/BDlmuh0l","Vamporcini",void 0);var J=r.ccclass,Q=r.property,W=function(t){function o(){for(var o,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(o=t.call.apply(t,[this].concat(a))||this).MaxToughness=6e3,o.DPS=20,o.AttackDuration=6,o.DPSPlantfood=40,o.AttackDurationPlantfood=10,o}return n(o,t),o}(u),K=(y=J("vamporciniSound"),P=Q([s]),L=Q([s]),w=Q([s]),A=Q(s),D=Q(s),C=Q(s),R=Q([s]),y((E=o((z=function(){function t(){a(this,"foodStartSound",E,this),a(this,"absorbStartSound",_,this),a(this,"absorbEndSound",j,this),a(this,"batLoopSound",F,this),a(this,"batFoodLoopSound",k,this),a(this,"fogLoopSound",I,this),a(this,"batIdleSound",O,this)}var o=t.prototype;return o.playAbsorbStart=function(t){void 0===t&&(t=!1),S.playArray(t?this.foodStartSound:this.absorbStartSound,1,.1)},o.playAbsorbEnd=function(){S.playArray(this.absorbEndSound,1,.1)},o.playAbsorbLoop=function(t){S.play(this.fogLoopSound,1,NaN,.9);var o=t?this.batFoodLoopSound:this.batLoopSound;S.play(o,1,NaN,.9),S.playArray(this.batIdleSound,1,NaN,.6)},t}()).prototype,"foodStartSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=o(z.prototype,"absorbStartSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=o(z.prototype,"absorbEndSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=o(z.prototype,"batLoopSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=o(z.prototype,"batFoodLoopSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=o(z.prototype,"fogLoopSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=o(z.prototype,"batIdleSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=z))||v);t("VamporciniPlant",(N=J("VamporciniPlant"),x=Q(K),M=Q(l),T=Q(l),V=Q(l),N((B=o((U=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(o=t.call.apply(t,[this].concat(e))||this)._objdataOwn=new W,a(o,"soundRes",B,i(o)),o.attackCD=1/0,a(o,"batParticles",H,i(o)),a(o,"hereParticles",Z,i(o)),a(o,"thereParticles",G,i(o)),o.particles=[],o.absorbStartable=!0,o.absorbing=!1,o.absorbFinished=!1,o.detector=d.createRectangleCenter(new b,0,0),o}n(o,t);var e=o.prototype;return e.onDamaged=function(t,o,n){var a=5,i=this.anmControl.body.armature();for(a=5;a>=0;a--){var e=i.getSlot("SLOT"+(5-a).toString());n<this._objdataOwn.MaxToughness/7*(a+1)?null==e||e._setDisplayIndex(-1):null==e||e._setDisplayIndex(0)}},e.waterable=function(){return!this.absorbing&&this.absorbStartable},e.specialPlantOnEnable=function(){this.absorbing=!1,this.absorbFinished=!1,this.attackCD=1/0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"]},e.specialPlantOnSquareChange=function(t,o){this.detector=d.createRectangleNodeCenter(o.node,3*p.SquareDisW,3*p.SquareDisH),this.particles.forEach((function(t){t.node.worldPosition=o.node.worldPosition}))},e.spawnParticles=function(){var t=this,o=g.instantiatePooly(this.thereParticles);o.parent=this.inLane.UpperLane.prjLayer;var n=g.instantiatePooly(this.hereParticles);n.parent=this.inLane.prjLayer;var a=g.instantiatePooly(this.batParticles);a.parent=this.inLane.prjLayer,[o,n,a].forEach((function(o){o.worldPosition=t.inLnC.node.worldPosition;var n=o.getComponent(c.ArmatureDisplay);t.particles.push(n),n.playAnimation("Start",1)}))},e.deleteParticles=function(){this.particles.forEach((function(t){t.playAnimation("Death")})),this.particles=[]},e.absorb=function(t){var o=this;this._dmgScale&&(t*=this._dmgScale);var n=0;this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(a){a.bodyRec.judgeCrossRec(o.detector)&&(a.dealDamage(new f(t,!1,!1,!1,null,m.physicle,!0,!0)),n+=t)})),this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(a){a.bodyRec.judgeCrossRec(o.detector)&&(a.dealDamage(t),n+=t)})),this.toughness=Math.min(this.toughness+4*n,this._objdataOwn.MaxToughness),this.health=this.toughness,this.onDamaged(0,this.toughness,this.toughness)},e.detectEnemies=function(){var t=this,o=!1;return this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(n){o||n.bodyRec.judgeCrossRec(t.detector)&&(o=!0)})),o},e.specialPlantFood=function(t){this.absorbStart()},e.absorbStart=function(){this.deleteParticles(),this.soundRes.playAbsorbStart(this.fooding),this.absorbing=!1,this.absorbStartable=!1,this.attackCD=1/0,this.anmControl.playAnimation(this.fooding?"FoodStart":"AbsorbStart",1),this.damagable=!1,this.anmControl.IdleAnim=this.fooding?"Fooding":"Absorbing",this.anmControl.RandomAnim=[]},e.absorbEnd=function(){this.absorbing=!1,this.damagable=!0,this.deleteParticles(),this.soundRes.playAbsorbEnd(),this.fooding?this.anmControl.playAnimation("FoodEnd",1,.1):this.anmControl.playAnimation("AbsorbEnd",1,.1),this.anmControl.IdleAnim="Idle_Red",this.anmControl.RandomAnim=["Random_Red"],this.deathAnm="Death_Red"},e.animationListener=function(t){"absorbStart"==t.name?(this.absorbing=!0,this.spawnParticles(),this.attackCD=this.fooding?this._objdataOwn.AttackDurationPlantfood:this._objdataOwn.AttackDuration):"foodStart"==t.name?this.anmControl.playAnimation("Fooding",1/0):"foodEnd"==t.name&&this.foodEnd()},e.specialPlantDie=function(t){this.deleteParticles()},e.specialPlantUpdate=function(t,o,n){if(this.absorbStartable&&n>0&&this.detectEnemies()&&this.absorbStart(),this.absorbing){var a=(this.fooding?this._objdataOwn.DPSPlantfood:this._objdataOwn.DPS)*t;this.absorb(a),this.attackCD>0?this.attackCD-=t:this.absorbEnd(),this.soundRes.playAbsorbLoop(this.fooding)}},o}(h)).prototype,"soundRes",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new K}}),H=o(U.prototype,"batParticles",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=o(U.prototype,"hereParticles",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=o(U.prototype,"thereParticles",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=U))||q));e._RF.pop()}}}));

System.register("chunks:///_virtual/WallNut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts"],(function(t){var n,e,a,i,o,r,s,h,l,u,d;return{setters:[function(t){n=t.inheritsLoose,e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,h=t.AudioClip},function(t){l=t.PlantProps,u=t.Plant},function(t){d=t.sounds}],execute:function(){var c,m,f,p,g,A,b,y,S,v;r._RF.push({},"d56b3xZyPhKQrzCj5jI3A26","WallNut",void 0);var D=s.ccclass,I=s.property,R=t("WallnutProps",function(t){function e(){for(var n,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))||this).ArmorToughness=4e3,n}return n(e,t),e}(l)),w=t("wallnutSound",(c=D("wallnutSound"),m=I(h),c((g=e((p=function(){function t(){a(this,"foodSound",g,this)}return t.prototype.playFoodSound=function(){d.play(this.foodSound,1,.1)},t}()).prototype,"foodSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=p))||f));t("WallNutPlant",(A=D("WallNutPlant"),b=I(w),A((v=e((S=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new R,n.armorHealth=0,a(n,"soundRes",v,i(n)),n.armorStage=3,n.hurtStage=0,n}n(e,t);var r=e.prototype;return r.specialPlantOnLoad=function(){},r.normalSmash=function(t){this.fooding||this.invincible||(this.armorHealth>0?(this.armorHealth=0,this.foodable=!0,this.setArmor()):(this.dieOnLnC(),this.die()))},r.replantable=function(){return this.hurtStage>0},r.replant=function(){this.health=this.toughness,this.setAnimation()},r.onArmorDestroy=function(){},r.specialPlantOnEnable=function(){this.foodable=!0,this.hurtStage=1,this.setAnimation(),this.armorStage=3,this.setArmor(),this.armorHealth=0},r.animationListener=function(t){"foodEnd"==t.name?this.foodEnd():"wearArmor"==t.name&&(this.setArmor(0),this.armorHealth=this.armorToughness)},r.waterable=function(){return 0==this.hurtStage},r.specialPlantOnKilled=function(){this.setArmor()},r.setArmor=function(t){void 0===t&&(t=3);var n=this.anmControl.body.armature().getSlot("ARMOR"),e=this.armorStage;switch(this.armorStage=t,t){case 0:n._setDisplayIndex(0);break;case 1:n._setDisplayIndex(1);break;case 2:n._setDisplayIndex(2);break;default:n._setDisplayIndex(-1),t=3,e<this.armorStage&&this.onArmorDestroy()}},r.dealNormalDamage=function(t,n){if(!this.invincible){var e=this.health+0;if(this.armorHealth>0){var a=this.armorHealth+0;this.armorHealth-=t,this.armorHealth!=this.armorToughness&&(this.foodable=!0);for(var i=0;i<=3;i++)a>=this.toughness/3*i&&this.armorHealth<=this.toughness/3*i&&this.setArmor(3-i)}else this.health-=t,t>0&&(this.hurting=this.defaultHurtLightStrength(0==n),this.onDamaged(t,e,this.health+0)),this.health<=0&&(this.dieOnLnC(),this.die());return this.health}},r.specialWallnutOnDamaged=function(t,n,e){},r.onDamaged=function(t,n,e){for(var a=1;a<=4;a++)if(e<=this.toughness/4*a){this.setAnimation(4-a);break}this.specialWallnutOnDamaged(t,n,e)},r.specialPlantFood=function(t){this.soundRes.playFoodSound(),this.foodable=!1,this.setAnimation(0),this.anmControl.playAnimation("Food",1)},r.setAnimation=function(t){if(void 0===t&&(t=0),this.hurtStage!=t){this.hurtStage=t;var n,e=this.anmControl;switch(t){case 1:e.IdleAnim="Idle2",e.RandomAnim=[],this.deathAnm="Death2";break;case 2:e.IdleAnim="Idle3",e.RandomAnim=[],this.deathAnm="Death3";break;case 3:e.IdleAnim="Idle4",e.RandomAnim=[],this.deathAnm="Death4";break;default:e.IdleAnim="Idle1",e.RandomAnim=["Rand11","Rand12"],this.deathAnm="Death1",this.hurtStage=0}if(!this.dead)e.playRandom(),this.replantable()&&(null==(n=this.plantInLnC)||n.readIndex())}},o(e,[{key:"armorToughness",get:function(){return this._objdataOwn.ArmorToughness}}]),e}(u)).prototype,"soundRes",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new w}}),y=S))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/WorldKeyCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CurrencyCount.ts","./PlayerProperties.ts","./SoundRescourses.ts"],(function(e){var t,o,n,r,u,i,l,c,s,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){u=e.cclegacy,i=e._decorator,l=e.AudioClip},function(e){c=e.CurrencyCount},function(e){s=e.AllPlayerProperties},function(e){a=e.sounds}],execute:function(){var y,d,p,f,h,C;u._RF.push({},"3ffebVViuhJpoUWRlhTN+Yg","WorldKeyCount",void 0);var v=i.ccclass,P=i.property;e("WorldKeyCount",(y=v("WorldKeyCount"),d=P(l),y(((C=function(e){function t(){for(var t,o=arguments.length,u=new Array(o),i=0;i<o;i++)u[i]=arguments[i];return t=e.call.apply(e,[this].concat(u))||this,n(t,"keyCollectSound",h,r(t)),t}o(t,e);var u=t.prototype;return u.start=function(){this.shownValue=isNaN(s.currentPlayer.worldkey)?0:s.currentPlayer.worldkey,this.value=this._shownValue},u.addKeyCount=function(e){this.value+=e,a.play(this.keyCollectSound,1,.1)},u.decKeyCount=function(e){this.value-=e},u.buyKey=function(){this.addKeyCount(1e4)},u.onValueSet=function(e){s.currentPlayer.worldkey=e,s.savePP()},u.onLoad=function(){t.component=this},t}(c)).component=void 0,h=t((f=C).prototype,"keyCollectSound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));u._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./LevelNodes.ts","./Plants.ts","./PlayerProperties.ts","./worldMapScene.ts","./KeyListener.ts","./SoundRescourses.ts","./Droppings.ts","./CardFeatureTotal.ts","./Trophies.ts","./UpgradeTrophy.ts","./MultiLanguage.ts","./AnimationController.ts","./GemCount.ts"],(function(e){var i,t,n,l,o,a,s,r,d,p,h,u,c,f,y,g,v,_,m,P,D,N,I,b,w,B,L,C,A,E,k,x,M,O,S,T,U,z,W,F,X,R;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.createClass,n=e.initializerDefineProperty,l=e.inheritsLoose,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.Enum,d=e.Node,p=e.dragonBones,h=e.CCFloat,u=e.Vec3,c=e.instantiate,f=e.Button,y=e.tween,g=e.Color,v=e.UIOpacity,_=e.Label,m=e.Vec2,P=e.Component,D=e.HALF_PI},function(e){N=e.ArrayGet,I=e.NodePools,b=e.instantiatePooly},function(e){w=e.levelNodeRes},function(e){B=e.PlantEnum,L=e.plants},function(e){C=e.WorldMapSceneDisplayEnum,A=e.AllPlayerProperties,E=e.LevelProgress,k=e.PlantObtainProgress,x=e.UpgradeProgress},function(e){M=e.worldMapScene},function(e){O=e.KeyListener},function(e){S=e.sounds},function(e){T=e.droppings},function(e){U=e.CardFeatureTotal},function(e){z=e.UpgradeEnum},function(e){W=e.UpgradeTrophy},function(e){F=e.MultiLanguage},function(e){X=e.AnimationController},function(e){R=e.GemCount}],execute:function(){var J,G,H,K,Q,V,j,Y,q,Z,$,ee,ie,te,ne,le,oe,ae,se,re,de,pe,he,ue,ce,fe,ye,ge,ve,_e,me,Pe,De,Ne,Ie,be,we,Be,Le,Ce,Ae,Ee,ke,xe,Me,Oe,Se,Te,Ue;a._RF.push({},"c950fgYqFxBG7Ic+A1nhlTR","WorldMap",void 0);var ze=s.ccclass,We=s.property,Fe=function(e){return e[e.level=0]="level",e[e.plant=1]="plant",e[e.giftBox=2]="giftBox",e[e.upgrade=3]="upgrade",e[e.epicPortal=4]="epicPortal",e}(Fe||{}),Xe=function(e){return e[e.normal=0]="normal",e[e.minigame=1]="minigame",e[e.gargantuar=2]="gargantuar",e[e.zomboss=3]="zomboss",e}(Xe||{});r(B),r(z),r(Xe),r(Fe);var Re=(J=ze("LevelIsland"),G=We({type:Fe}),H=We({type:z,visible:function(){return this.islandDisplay==Fe.upgrade}}),K=We({type:B,visible:function(){return this.islandDisplay==Fe.plant}}),Q=We({type:Xe,visible:function(){return this.islandDisplay==Fe.level}}),V=We({type:[String],visible:function(){return this.islandDisplay==Fe.level}}),j=We({type:[String],visible:function(){return this.islandDisplay==Fe.epicPortal}}),Y=We({type:String,visible:function(){return this.islandDisplay==Fe.level}}),q=We(d),Z=We(d),$=We([d]),ee=We([p.ArmatureDisplay]),J((ne=i((te=function(){function e(){n(this,"islandDisplay",ne,this),n(this,"upgradeDisplayed",le,this),n(this,"plantDisplayed",oe,this),n(this,"levelNodeAppearance",ae,this),n(this,"levelJsonsID",se,this),n(this,"epicLevelJsonsID",re,this),n(this,"levelNodeName",de,this),n(this,"islandNode",pe,this),n(this,"nextIsland",he,this),n(this,"otherNextIslands",ue,this),n(this,"displayedIslandDBs",ce,this),this._inWorldMap=void 0,this._levelNode=void 0,this._levelNodeDB=void 0,this._epicPortalDB=void 0,this._giftbox=void 0,this._unlocked=!1,this._finished=!1,this._willPush=!1,this._plantOnDisplay=void 0,this._upgradeOnDisplay=void 0,this._pathDBs=[],this._plantIcon=void 0}var i=e.prototype;return i.start=function(){var e=this;if(this.islandDisplay==Fe.level&&this._levelNode){var i,t,n,l;if(this._levelNodeDB=null==(i=this._levelNode.getChildByName("display"))?void 0:i.getComponent(p.ArmatureDisplay),null==(t=this.levelJsonsID)||!t.length)return;var o="IdleUnopen";switch(A.getLevelProgressByID(this.levelJsonsID.sort((function(e,i){return A.getLevelProgressByID(i).progress-A.getLevelProgressByID(e).progress}))[0]).progress){case E.unlocked_neverPlayed:case E.unlocked_played:o="IdleUnfinish",this._unlocked=!0;break;case E.finished:o="IdleFinished",this._unlocked=!0,this._finished=!0;break;case E.unlocked_willbeFinished:this._willPush=!0,o="IdleUnfinish"}null==(n=this._levelNodeDB)||n.playAnimation(o,1/0);var a=L.plantCommodities.find((function(i){return i.UnlockLevel&&-1!=e.levelJsonsID.indexOf(i.UnlockLevel)}));if(a&&!this._finished&&!this._willPush){var s=L.getPlantEnumByString(a.CommodityName);if(A.getPlantProgressByID(s).progress<=0){var r=L.getPlantIcon(this._levelNode);this._plantIcon=r,r.node.position=new u(0,280,0),r.switchPlant(s),r.grey=!this._unlocked}}null==this||null==(l=this._levelNode)||null==(l=l.getChildByName("listener"))||l.on(d.EventType.TOUCH_END,(function(){(e._unlocked||e._finished)&&(O.goToLevel(e.levelJsonsID),S.playLevelEnter())}))}else if(this._plantOnDisplay)this._finished=A.getPlantProgressByID(this.plantDisplayed).progress>=k.obtained;else if(this._upgradeOnDisplay)this._finished=A.getUpgradeProgressByID(this.upgradeDisplayed).progress>=x.obtained,this._upgradeOnDisplay.readID(this.upgradeDisplayed,this._finished);else if(this._epicPortalDB){var h;this._unlocked=this._finished=this.formalIsland._finished,this._finished?this._epicPortalDB.playAnimation("Idle",1/0):this._epicPortalDB.playAnimation("Idle_Locked",1/0),null==this||null==(h=this._epicPortalDB)||null==(h=h.node.parent)||null==(h=h.getChildByName("listener"))||h.on(d.EventType.TOUCH_END,(function(){(e._unlocked||e._finished)&&(e.epicLevelJsonsID.forEach((function(e){var i=A.getLevelProgressByID(e);i.progress<=0&&(i.progress=E.unlocked_neverPlayed)})),M.component.switchWM(C.epic,N.getRandom(e.epicLevelJsonsID)),S.playWorldMapStart())}))}else this._giftbox?(this._unlocked=this._finished=this.formalIsland._finished,this._giftbox.playAnimation(this._unlocked||this._finished?"Finished":"Idle",1/0)):this._unlocked=this._finished=this.formalIsland._finished;this._pathDBs.forEach((function(i){e._finished?i.playAnimation("Idle",1/0):i.playAnimation("Idle_Thin",1/0)})),this.displayedIslandDBs.forEach((function(i){e._finished||e._willPush?i.playAnimation("Idle_Finished"):e._unlocked?i.playAnimation("Idle_Unlock"):i.playAnimation("Idle_Locked")}))},i.laterStart=function(){var e=this;this._epicPortalDB&&this._epicPortalDB.playAnimation(this._unlocked||this._finished?"Idle":"Idle_Locked",1/0),this._finished?this._allNextIslands.forEach((function(i){var t,n=null==(t=e._inWorldMap)?void 0:t.getIslandByIslandNode(i);!n||n._unlocked||n._finished||n.unlock()})):this._willPush&&this.pushPath()},i.showPlant=function(){var e,i,t=null==(e=this._plantOnDisplay)?void 0:e.getSiblingIndex();if(null==(i=this._plantOnDisplay)||i.destroy(),A.getPlantProgressByID(this.plantDisplayed).progress<k.obtained){var n,l=c(T.PlantSeedPacket);l.parent=this._inWorldMap.levelNodeLayer,isNaN(t)||l.setSiblingIndex(t),l.worldPosition=this.islandNode.worldPosition.clone().add(new u(0,30,0)),l.scale=new u(.4,.4,1);var o=l.getComponent(U);o.cardGrouper(this.plantDisplayed),o.ca.suncostShown=!1,o.ca.almanacModeOn=!0,null==o||null==(n=o.getComponent(f))||n.destroy(),this._plantOnDisplay=l}else{var a,s=I.instantiatePooly(L.getPlantsInCard(this.plantDisplayed).plantDIS);s.parent=this._inWorldMap.levelNodeLayer,s.worldPosition=this.islandNode.worldPosition;var r=s.getComponent("AnimationController");null==r||null==(a=r.body)||null==(a=a.color)||a.set(255,255,255,255),null==r||r.readCostume(this.plantDisplayed),this._plantOnDisplay=s}},i.unlock=function(){var e=this;this._unlocked||(this._unlocked=!0,this._levelNodeDB?(this.levelJsonsID.forEach((function(e){var i=A.getLevelProgressByID(e);i.progress<=0&&(i.progress=E.unlocked_neverPlayed)})),A.savePP(),this._levelNodeDB.playAnimation("Open"),this._finished||this._willPush||S.playLevelNodeReveal(this.levelNodeAppearance),this._plantIcon&&(this._plantIcon.grey=!1,O.gameTipString(F.getDirectQuote("[WORLDMAP_PREMIUM_PLANT_UNLOCK]").replace("<PLANTNAME>",F.getString(L.getPlantFeature(this._plantIcon.cf.ID).NAME))))):(this._plantOnDisplay?(A.getPlantProgressByID(this.plantDisplayed).progress=k.obtained,A.savePP(),this.showPlant(),S.playPlantNodeUnlock()):this._upgradeOnDisplay?(A.getUpgradeProgressByID(this.upgradeDisplayed).progress=x.obtained,A.savePP(),this._upgradeOnDisplay.readID(this._upgradeOnDisplay.ID,!0),S.playPlantNodeUnlock()):this._epicPortalDB?(this._epicPortalDB.playAnimation("Unlock",1/0),S.playPortalStart()):this._giftbox&&(this._giftbox.playAnimation("Unlock",1/0),this._giftbox.once(p.EventObject.FRAME_EVENT,(function(e){if("open"==e.name){S.playGiftboxOpenSound();var i=N.getRandom(A.getAvailablePlantCostumeList());if(i){A.unlockPlantCostume(i);var t=c(L.getPlantsInCard(i.plantID).plantDIS).getComponent(X);O.gameTipString(F.getDirectQuote("[PLANTCOSTUME_UNLOCK_CONGRATE]").replace("<PLANTNAME>",F.getString(L.getPlantFeature(i.plantID).NAME)),5,t.node),t.node.position=new u(-380,-50,0),t.switchCostume(i.costume)}else{var n;null==(n=R.component)||n.addGemCount(10),O.gameTipString(F.getDirectQuote("[GEM_OBTAIN_CONGRATE]").replace("<GEMCOUNT>",F.getNumberWithThousandComma(10)))}}}),this)),this.pushPath()),this.displayedIslandDBs.forEach((function(i){e._finished||e._willPush?i.playAnimation("Idle_Finished"):e._unlocked?i.playAnimation("Idle_Unlock"):i.playAnimation("Idle_Locked")})))},i.pushPath=function(){var e=this;if(!this._finished&&this._inWorldMap){this._finished=!0;var i=0;this._levelNodeDB&&(S.playLevelNodeFinish(this.levelNodeAppearance),this.levelJsonsID.forEach((function(e){A.getLevelProgressByID(e).progress=E.finished})),A.savePP(),this._levelNodeDB.playAnimation("Finish",1/0),i=.5),this.displayedIslandDBs.forEach((function(e){e.playAnimation("Idle_Finished")})),this._pathDBs.length&&this._inWorldMap.scheduleOnce((function(){S.playLevelPathPush(),e._pathDBs.forEach((function(e){e.playAnimation("Push",1/0)}))}),i),this._allNextIslands.forEach((function(t){var n=e._inWorldMap.getIslandByIslandNode(t);n&&e._inWorldMap.scheduleOnce((function(){e._inWorldMap.scheduleOnce((function(){n.unlock()}),.5)}),i)}))}},t(e,[{key:"_allNextIslands",get:function(){return this.otherNextIslands.concat(this.nextIsland?[this.nextIsland]:[])}},{key:"formalIsland",get:function(){var e,i=this;return null==(e=this._inWorldMap)||null==(e=e.levelIslands)?void 0:e.find((function(e){return-1!=e._allNextIslands.indexOf(i.islandNode)}))}},{key:"_empty",get:function(){return!this._plantOnDisplay&&!this._levelNode}}]),e}()).prototype,"islandDisplay",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fe.level}}),le=i(te.prototype,"upgradeDisplayed",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.upgrade_starting_sun_lvl1}}),oe=i(te.prototype,"plantDisplayed",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.Peashooter}}),ae=i(te.prototype,"levelNodeAppearance",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xe.normal}}),se=i(te.prototype,"levelJsonsID",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=i(te.prototype,"epicLevelJsonsID",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),de=i(te.prototype,"levelNodeName",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pe=i(te.prototype,"islandNode",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=i(te.prototype,"nextIsland",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=i(te.prototype,"otherNextIslands",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ce=i(te.prototype,"displayedIslandDBs",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=te))||ie),Je=(fe=ze("Farlands"),ye=We(d),ge=We(h),fe((me=i((_e=function(){n(this,"islandNode",me,this),n(this,"offsetScale",Pe,this),this.orgPosition=new u(0,0,0)}).prototype,"islandNode",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=i(_e.prototype,"offsetScale",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ve=_e))||ve);r(C);e("WorldMap",(De=ze("WorldMap"),Ne=We([Re]),Ie=We(Boolean),be=We(d),we=We(d),Be=We([String]),Le=We([Je]),Ce=We({type:C}),De((ke=i((Ee=function(e){function i(){for(var i,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return i=e.call.apply(e,[this].concat(l))||this,n(i,"levelIslands",ke,o(i)),n(i,"atNight",xe,o(i)),i.levelNodeLayer=void 0,i.levelPathLayer=void 0,n(i,"islandParent",Me,o(i)),n(i,"levelParent",Oe,o(i)),i.levelNodes=[],n(i,"startingLevels",Se,o(i)),n(i,"farIslands",Te,o(i)),i._mapX=0,i.maxMapX=0,i.velocity=0,n(i,"displayEnum",Ue,o(i)),i.dbs=[],i}l(i,e);var a=i.prototype;return a.onLoad=function(){this.dbs=this.getComponentsInChildren(p.ArmatureDisplay),this.levelNodes=[];var e=this.node.getChildByName("Levels");this.levelNodeLayer=e.getChildByName("Nodes"),this.levelPathLayer=e.getChildByName("Paths"),this.farIslands.forEach((function(e){e.orgPosition=e.islandNode.position.clone()}))},a.getIslandByIslandNode=function(e){return this.levelIslands.find((function(i){return i.islandNode==e}))},a.onDisable=function(){A.savePP()},a.moveBy=function(e,i){void 0===i&&(i=.1);var t=this.mapX+e;t>0&&(t=0),t<-this.maxMapX&&(t=-this.maxMapX);i>0?y(this).to(i,{mapX:t}).start():this.mapX=t},a.moveLefter=function(){this.velocity<0&&(this.velocity=0),this.velocity+=20},a.moveRighter=function(){this.velocity>0&&(this.velocity=0),this.velocity-=20},a.onEnable=function(){var e=this;this.dbs.forEach((function(i){var t=i.color.clone();i.color=new g(t.r,t.g,t.b,e.node.parent.getComponent(v).opacity)})),this.velocity=0,this.mapX=M.getWMXByDisplayEnum(this.displayEnum),M.component&&(M.component.atNight=this.atNight)},a.update=function(e){var i=this;this.dbs.forEach((function(e){var t=e.color.clone();e.color=new g(t.r,t.g,t.b,i.node.parent.getComponent(v).opacity)})),0!=this.velocity&&(this.moveBy(this.velocity,0),this.velocity/=1.05),this.islandParent.children.forEach((function(e){e.active=e.worldPosition.x>-500&&e.worldPosition.x<1500}))},a.MouseWheel=function(e){var i=.2*e.getScrollY();this.velocity=0,this.moveBy(i,0)},a.TouchMove=function(e){var i=e.getDeltaX()*this.node.worldScale.x;this.velocity=i,this.moveBy(i,0)},a.start=function(){var e=this;this.dbs.forEach((function(i){var t=i.color.clone();i.color=new g(t.r,t.g,t.b,e.node.parent.getComponent(v).opacity)})),this.levelIslands.forEach((function(i){var t=i.islandNode.worldPosition;if(i._inWorldMap=e,i.islandDisplay==Fe.level){var n=w.normalNode();switch(i.levelNodeAppearance){case Xe.zomboss:case Xe.gargantuar:n=w.gargantuarNode();break;case Xe.minigame:n=w.minigameNode()}var l=I.instantiatePooly(n);l.parent=e.levelNodeLayer,l.worldPosition=t,l.getChildByName("title").getComponent(_).string=i.levelNodeName,e.levelNodes.push(l),i._levelNode=l}else if(i.islandDisplay==Fe.plant)i.showPlant();else if(i.islandDisplay==Fe.upgrade){var o=b(T.UpgradeTrophy);o.parent=e.levelNodeLayer,o.worldPosition=t,o.scale=new u(.4,.4,1),i._upgradeOnDisplay=o.getComponent(W)}else if(i.islandDisplay==Fe.epicPortal){var a=b(w.epicPortal());a.parent=e.levelNodeLayer,a.worldPosition=t,a.scale=new u(.4,.4,1),i._epicPortalDB=a.getChildByName("display").getComponent(p.ArmatureDisplay)}else if(i.islandDisplay==Fe.giftBox){var s=b(w.giftbox());s.parent=e.levelNodeLayer,s.worldPosition=t,s.scale=new u(.4,.4,1),i._giftbox=s.getComponent(p.ArmatureDisplay)}var r=[];i._allNextIslands.forEach((function(t){var n,l=b(w.path()),o=new m(t.worldPosition.x-i.islandNode.worldPosition.x,t.worldPosition.y-i.islandNode.worldPosition.y),a=o.length(),s=90*Math.atan2(o.y,o.x)/D;l.parent=e.levelPathLayer,l.worldPosition=i.islandNode.worldPosition,l.worldScale=new u(a/330,l.worldScale.y,1),l.angle=s;var d=null==(n=l.getChildByName("display"))?void 0:n.getComponent(p.ArmatureDisplay);d&&r.push(d)})),i._pathDBs=r,i.start();var d=t.clone().add(e.islandParent.worldPosition.clone().negative()).x;d>e.maxMapX&&(e.maxMapX=d)})),this.levelIslands.filter((function(i){return i.levelJsonsID.some((function(i){return-1!=e.startingLevels.indexOf(i)}))&&!i._unlocked})).forEach((function(e){e.unlock()})),this.scheduleOnce((function(){e.levelIslands.forEach((function(e){e.laterStart()}))}),2),this.levelNodeLayer.children.sort((function(e,i){return e.position.y-i.position.y})).forEach((function(e,i){e.setSiblingIndex(0)}))},t(i,[{key:"mapX",get:function(){return this._mapX},set:function(e){this.levelParent.position=new u(e,this.levelParent.position.y,0),this.islandParent.position=new u(e,this.islandParent.position.y,0),this.farIslands.forEach((function(i){i.islandNode.position=new u(e*i.offsetScale+i.orgPosition.x,i.orgPosition.y,0)})),this._mapX=e,M.setWMXByDisplayEnum(this.displayEnum,this._mapX)}}]),i}(P)).prototype,"levelIslands",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xe=i(Ee.prototype,"atNight",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Me=i(Ee.prototype,"islandParent",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=i(Ee.prototype,"levelParent",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=i(Ee.prototype,"startingLevels",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Te=i(Ee.prototype,"farIslands",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ue=i(Ee.prototype,"displayEnum",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.egypt}}),Ae=Ee))||Ae));a._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMapChooser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./worldMapScene.ts","./PlayerProperties.ts","./SoundRescourses.ts","./MultiLanguage.ts","./Materials.ts","./ParticleSelfdestroy.ts","./NodePools.ts"],(function(e){var t,n,o,i,r,a,l,s,c,u,d,h,p,b,f,g,m,y,w,P,v,k,x,M,S,_,C,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,l=e._decorator,s=e.Enum,c=e.Node,u=e.AudioClip,d=e.Label,h=e.Prefab,p=e.Vec3,b=e.dragonBones,f=e.Color,g=e.UIOpacity,m=e.Input,y=e.instantiate,w=e.tween,P=e.Component},function(e){v=e.worldMapScene},function(e){k=e.WorldMapSceneDisplayEnum,x=e.AllPlayerProperties},function(e){M=e.sounds},function(e){S=e.MultiLanguage},function(e){_=e.materialRes},function(e){C=e.ParticleSelfdestroy},function(e){E=e.instantiatePooly}],execute:function(){var W,D,I,z,T,A,L,N,B,F,O,U,R,H,j,X,q,Q,V,Y,Z,G,J,K,$,ee,te,ne,oe,ie,re,ae,le,se;a._RF.push({},"0afd7/QFy1OXrADNpaZkrno","WorldMapChooser",void 0);var ce=l.ccclass,ue=l.property;s(k);var de=e("WorldMapIcon",(W=ce("WorldMapIcon"),D=ue(c),I=ue(Boolean),z=ue({type:k,visible:function(){return this.enterable}}),T=ue(Boolean),W((N=t((L=function(){function e(){o(this,"node",N,this),o(this,"enterable",B,this),o(this,"enterTo",F,this),o(this,"atNight",O,this),this._lockPSD=void 0,this._unlocked=!1,this.strings={name:"",description:"",win:""},this.x=0}var t=e.prototype;return t.judgeIsUnlocked=function(e){var t;if(void 0===e&&(e=null),this._unlocked=x.getWorldProgressByID(this.enterTo).unlocked,this._unlocked&&this._lockPSD)null==(t=this._lockPSD)||null==(t=t.db)||t.playAnimation("Die",1/0),this._lockPSD=null;else if(!this._unlocked&&!this._lockPSD&&e){var n=E(e);n.parent=this.node,n.position=new p(0,120,0),this._lockPSD=n.getComponent(C)}var o=this.node.getComponent(b.ArmatureDisplay);this.enterable&&o&&(o.color=this._unlocked?new f(255,255,255,255):new f(150,150,150,255),o.customMaterial=this._unlocked?null:_.greyMaterial)},t.getName=function(){var e="Default",t="tutorial";switch(this.enterTo){case k.egypt:e="Egypt",t="egypt";break;case k.pirate:e="Pirate",t="pirate";break;case k.cowboy:e="Cowboy",t="cowboy";break;case k.future:e="Future",t="future";break;case k.dark:e="Dark",t="dark";break;case k.beach:e="Beach",t="beach";break;case k.iceage:e="Iceage",t="iceage";break;case k.lostcity:e="Lostcity",t="lostcity";break;case k.eighties:e="Eighties",t="eighties"}var n=S.getWorldMapLyrics(e),o={name:S.getString(n.Name),description:S.getString(n.Description),win:t};return this.strings=o,o},e}()).prototype,"node",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(L.prototype,"enterable",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),F=t(L.prototype,"enterTo",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.egypt}}),O=t(L.prototype,"atNight",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=L))||A));s(k);e("WorldMapChooser",(U=ce("WorldMapChooser"),R=ue(c),H=ue(c),j=ue(c),X=ue([de]),q=ue(u),Q=ue(u),V=ue(d),Y=ue({type:[k]}),Z=ue(h),G=ue(c),U(($=t((K=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"mid",$,i(t)),o(t,"iconParent",ee,i(t)),o(t,"labelParent",te,i(t)),o(t,"icons",ne,i(t)),o(t,"touchStartSound",oe,i(t)),o(t,"touchEndSound",ie,i(t)),o(t,"name0",re,i(t)),o(t,"StartingWorlds",ae,i(t)),o(t,"lockPF",le,i(t)),t._currentI=0,t.xMax=0,t._x=0,t.dbs=[],o(t,"wheelListener",se,i(t)),t.entering=!1,t}n(t,e);var a=t.prototype;return a.onMouseWheel=function(e){var t=e.getScrollY()>0?-1:1;this.moveBy(t)},a.unlockWorld=function(e){v.setWMXByDisplayEnum(e,0),x.unlockWorld(e)},a.moveTo=function(e){void 0===e&&(e=0),this.currentI=e},a.moveBy=function(e){void 0===e&&(e=0),this.moveTo(this.currentI+e)},a.update=function(e){var t=this;this.dbs.forEach((function(e){var n=e.color.clone();e.color=new f(n.r,n.g,n.b,t.node.parent.getComponent(g).opacity)})),this.icons.forEach((function(e){var n=e.node.worldPosition.x-t.mid.worldPosition.x,o=Math.max(1-Math.abs(n)/600,.3);e.node.scale=new p(o,o,o)})),this.labelParent.getComponentsInChildren(g).forEach((function(e){var n=Math.abs(e.node.worldPosition.x-t.mid.worldPosition.x);e.opacity=255-n/150*255}))},a.onEnable=function(){var e=this;this.StartingWorlds.forEach((function(t){x.getWorldProgressByID(t).unlocked||e.unlockWorld(t)})),this.entering=!1,this.dbs.forEach((function(t){var n=t.color.clone();t.color=new f(n.r,n.g,n.b,e.node.parent.getComponent(g).opacity)})),this.icons.forEach((function(t){var n=t.node.worldPosition.x-e.mid.worldPosition.x,o=Math.max(1-Math.abs(n)/600,.3);t.node.scale=new p(o,o,o),t.judgeIsUnlocked(e.lockPF)})),this.labelParent.getComponentsInChildren(g).forEach((function(t){var n=Math.abs(t.node.worldPosition.x-e.mid.worldPosition.x);t.opacity=255-n/150*255})),this.currentI=x.getWorldProps().worldChooserPos},a.onLoad=function(){var e=this;this.dbs=this.getComponentsInChildren(b.ArmatureDisplay),this.currentI=0,this.wheelListener.on(m.EventType.MOUSE_WHEEL,this.onMouseWheel,this),this.icons.forEach((function(t,n){var o=t.node.worldPosition.x-e.mid.worldPosition.x;t.x=o,e.xMax<=o&&(e.xMax=o),t.node.on(c.EventType.TOUCH_START,(function(){var o=Math.abs(t.node.worldPosition.x-e.mid.worldPosition.x);e.entering||(t.enterable&&o<5?M.play(e.touchStartSound):o>=5&&(e.currentI=n))}),e),t.node.on(c.EventType.TOUCH_END,(function(){var n,o=Math.abs(t.node.worldPosition.x-e.mid.worldPosition.x);if(!e.entering){var i=+(null==(n=x.currentPlayer)?void 0:n.worldkey)>0;t.enterable&&o<5&&(t._unlocked?(v.component.switchWM(t.enterTo),e.entering=!0,M.play(e.touchEndSound),M.playWorldEnterWind()):v.component.showWorldDescription(t,i))}}),e)})),this.icons.forEach((function(t,n){if(t.enterable){var o=t.getName().name,i=e.name0;n>0&&((i=y(e.name0.node).getComponent(d)).node.parent=e.name0.node.parent),i.node.position=new p(t.node.position.x,e.name0.node.position.y,0),i.string=o}}))},r(t,[{key:"currentI",get:function(){return this._currentI},set:function(e){var t=this;if(e>=t.icons.length&&(e=t.icons.length-1),e<0&&(e=0),this._currentI!=e){w(t).to(.2,{x:t.icons[e].x},{easing:"quadOut"}).start();var n=t.icons[this._currentI].enterable,o=t.icons[e].enterable,i=t.icons[e].atNight;this._currentI=e,x.getWorldProps().worldChooserPos=e,n&&!o?this.mid.getComponent(b.ArmatureDisplay).playAnimation("Fade"):!n&&o&&this.mid.getComponent(b.ArmatureDisplay).playAnimation("Start"),v.component&&(v.component.atNight=i),x.savePP()}}},{key:"x",get:function(){return this._x},set:function(e){e<0&&(e=0),e>this.xMax&&(e=this.xMax),this.iconParent.worldPosition=this.mid.worldPosition.clone().add(new p(-e,0,0)),this.labelParent.worldPosition=this.mid.worldPosition.clone().add(new p(-e,0,0)),this._x=e}}]),t}(P)).prototype,"mid",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(K.prototype,"iconParent",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(K.prototype,"labelParent",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(K.prototype,"icons",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=t(K.prototype,"touchStartSound",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(K.prototype,"touchEndSound",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(K.prototype,"name0",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(K.prototype,"StartingWorlds",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=t(K.prototype,"lockPF",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(K.prototype,"wheelListener",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=K))||J));a._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMaps.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,i,t,l,a,o,n,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,n=e.Prefab,u=e.Component}],execute:function(){var p,c,b,s,M,W,y,f,g,w,h,m,z,d,v,C,D,P,F;a._RF.push({},"5c9aeSHwwpMsYe+LVqE6pgO","WorldMaps",void 0);var _=o.ccclass,k=o.property;e("WorldMaps",(p=_("WorldMaps"),c=k(n),b=k(n),s=k(n),M=k(n),W=k(n),y=k(n),f=k(n),g=k(n),p((m=r((h=function(e){function r(){for(var r,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a))||this,t(r,"WMChooser",m,l(r)),t(r,"EgyptWM",z,l(r)),t(r,"PirateWM",d,l(r)),t(r,"CowboyWM",v,l(r)),t(r,"FutureWM",C,l(r)),t(r,"DarkWM",D,l(r)),t(r,"BeachWM",P,l(r)),t(r,"IceageWM",F,l(r)),r}return i(r,e),r}(u)).prototype,"WMChooser",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=r(h.prototype,"EgyptWM",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=r(h.prototype,"PirateWM",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=r(h.prototype,"CowboyWM",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=r(h.prototype,"FutureWM",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=r(h.prototype,"DarkWM",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=r(h.prototype,"BeachWM",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=r(h.prototype,"IceageWM",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=h))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/worldMapScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./SoundManager.ts","./PlayerProperties.ts","./UI.ts","./KeyListener.ts","./WorldMap.ts","./WorldUnlockWindow.ts"],(function(e){var t,n,o,i,r,l,s,a,u,c,h,p,d,w,f,g,W,y,S,M,m,v,b,C,T,P,D,E,A,k,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass},function(e){l=e.cclegacy,s=e._decorator,a=e.UIOpacity,u=e.dragonBones,c=e.Color,h=e.Node,p=e.JsonAsset,d=e.AudioSource,w=e.assetManager,f=e.AudioClip,g=e.input,W=e.Input,y=e.KeyCode,S=e.resources,M=e.tween,m=e.instantiate,v=e.Component},function(e){b=e.MusicController,C=e.SoundFXController},function(e){T=e.musicType},function(e){P=e.AllPlayerProperties,D=e.WorldMapSceneDisplayEnum},function(e){E=e.setExitToMapScene},function(e){A=e.KeyListener},function(e){k=e.WorldMap},function(e){L=e.WorldUnlockWindow}],execute:function(){var N,z,U,B,_,I,O,K,x,F,G,X,J,R,V,H,j,Y,Z,q,Q,$,ee,te,ne,oe,ie,re;l._RF.push({},"27653LZNN5NYJNVVGpF/xdf","worldMapScene",void 0);var le=s.ccclass,se=s.property;e("worldMapScene",(N=le("worldMapScene"),z=se(a),U=se(a),B=se(a),_=se(a),I=se([u.ArmatureDisplay]),O=se(c),K=se(c),x=se({type:L}),F=se(h),G=se(h),X=se(p),J=se(h),N(((re=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(t,"WMSlot",H,i(t)),o(t,"WMChooserSlot",j,i(t)),o(t,"KeyShower",Y,i(t)),o(t,"BGUpper",Z,i(t)),o(t,"bgdb",q,i(t)),o(t,"DayColor",Q,i(t)),o(t,"NightColor",$,i(t)),t._atNight=!1,o(t,"unlockWindow",ee,i(t)),o(t,"mouseListener",te,i(t)),o(t,"wheelListener",ne,i(t)),t.audioSource=void 0,o(t,"worldmapFeaturesJson",oe,i(t)),t.wmfs=[],t.currentWMPrefab=null,t.wmSwitchingTween=null,t.settingsShown=void 0,o(t,"settingWindow",ie,i(t)),t}n(t,e);var l=t.prototype;return l.zengarden=function(){A.darken((function(){A.goToZenGarden()}))},l.almanac=function(){A.darken((function(){A.goToAlmanac()}))},l.store=function(){A.darken((function(){A.goToStore()}))},l.exit=function(){var e;this.wmSwitchingTween||(P.getWorldProps().currentWM==D.chooser?(null==(e=this.wmSwitchingTween)||e.stop(),A.darken((function(){A.goToMain()}))):this.unlockWindow.node.active?this.unlockWindow.shutDown():this.settingsShown?this.setting():this.switchWM(D.chooser))},t.getWMXByDisplayEnum=function(e){return P.getWorldProgressByID(e).wmx},t.setWMXByDisplayEnum=function(e,t){P.getWorldProgressByID(e).wmx=t},t.setWMX=function(e){var t;null==(t=this.component)||null==(t=t.WMSlot)||t.getComponentsInChildren(k).forEach((function(t){t.mapX=e}))},l.MouseWheel=function(e){var t;e.preventSwallow=!0,null==(t=this.WMSlot)||null==(t=t.getComponentsInChildren(k))||t.forEach((function(t){t.MouseWheel(e)}))},l.TouchMove=function(e){var t;e.preventSwallow=!0,null==(t=this.WMSlot)||null==(t=t.getComponentsInChildren(k))||t.forEach((function(t){t.TouchMove(e)}))},l.showWorldDescription=function(e,t){this.unlockWindow.node.active?this.unlockWindow.node.active=!1:(this.unlockWindow.node.active=!0,this.unlockWindow.readStrings(e,t))},l.onLoad=function(){var e,n,o=this;this.wmfs=this.worldmapFeaturesJson.json.WORLDMAPS,t.component=this,this.getComponent(d)||this.addComponent(d),null==(e=this.wheelListener)||e.on(h.EventType.MOUSE_WHEEL,this.MouseWheel,this),null==(n=this.mouseListener)||n.on(h.EventType.TOUCH_MOVE,this.TouchMove,this),this.audioSource=this.getComponent(d);var i=this.audioSource.clip.nativeUrl;this.audioSource.clip=null,w.loadRemote(i,{audioLoadMode:f.AudioType.DOM_AUDIO},(function(e,t){e||(o.audioSource.clip=t,o.audioSource.play())})),g.on(W.EventType.KEY_DOWN,(function(e){e.keyCode==y.ESCAPE&&o.exit()}),this)},l.loadWM=function(e,t){var n=this,o="worldmaps/"+this.wmfs[e].RESNAME+"WORLDMAP";S.load(o,(function(e,o){e?t(null):(n.currentWMPrefab=o,t(o))}))},l.unloadWM=function(){this.currentWMPrefab&&w.releaseAsset(this.currentWMPrefab),this.currentWMPrefab=null},l.onDisable=function(){var e;null==(e=this.wmSwitchingTween)||e.stop(),this.WMSlot.node.destroyAllChildren(),this.WMChooserSlot.node.destroyAllChildren(),this.unloadWM()},l.switchWM=function(e,t){var n,o=this;void 0===t&&(t=null),null==(n=this.wmSwitchingTween)||n.stop();var i=255==this.BGUpper.opacity?.01:.5,r=255!=this.BGUpper.opacity;r&&A.cp.flowerOn(),this.wmSwitchingTween=M(this.BGUpper).to(i,{opacity:255}).call((function(){o.WMSlot.node.destroyAllChildren(),o.WMChooserSlot.node.destroyAllChildren()})).to(.1,{}).call((function(){o.unloadWM()})).to(.1,{}).call((function(){o.unloadWM(),o.loadWM(e,(function(n){var i=o.WMSlot.node;e==D.chooser&&(i=o.WMChooserSlot.node);var l=m(n);l.parent=i;var s=l.getComponent(k);if(s){if(t){var a=s.levelIslands.find((function(e){return-1!=e.levelJsonsID.indexOf(t)})).islandNode.position.x;s.mapX=-a}o.KeyShower.node.active=!1}else o.KeyShower.node.active=!0;r&&A.cp.flowerOff(),o.wmSwitchingTween=M(o.BGUpper).to(.1,{}).to(.5,{opacity:0}).call((function(){o.wmSwitchingTween=null})).start()}))})).start(),P.getWorldProps().currentWM=e,P.savePP()},l.setting=function(){this.settingsShown?(this.settingWindow.active=!1,this.settingsShown=!1):(this.settingWindow.active=!0,this.settingsShown=!0)},l.start=function(){b.playMusic(T.WorldMap),this.settingsShown=!0,this.audioSource.volume=.3*C.SoundFXVolume,this.setting();var e=P.getWorldProps().currentWM;this.switchWM(e),E(),this.KeyShower.node.active=e==D.chooser},l.update=function(e){this.KeyShower.opacity=255-this.BGUpper.opacity,this.audioSource.volume=.3*C.SoundFXVolume*b._volumeScalePause},r(t,[{key:"atNight",get:function(){return this._atNight},set:function(e){var t=this;this._atNight!=e&&this.bgdb.forEach((function(n){M(n).to(1,{color:e?t.NightColor:t.DayColor}).start()})),this._atNight=e}}]),t}(v)).component=void 0,H=t((V=re).prototype,"WMSlot",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(V.prototype,"WMChooserSlot",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(V.prototype,"KeyShower",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(V.prototype,"BGUpper",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(V.prototype,"bgdb",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=t(V.prototype,"DayColor",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(255,255,255,255)}}),$=t(V.prototype,"NightColor",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(255,255,255,255)}}),ee=t(V.prototype,"unlockWindow",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(V.prototype,"mouseListener",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(V.prototype,"wheelListener",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(V.prototype,"worldmapFeaturesJson",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(V.prototype,"settingWindow",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=V))||R));l._RF.pop()}}}));

System.register("chunks:///_virtual/WorldTrophy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Prizes.ts"],(function(r){var e,t,o,i,n,a,l,s,p;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,o=r.initializerDefineProperty,i=r.assertThisInitialized},function(r){n=r.cclegacy,a=r._decorator,l=r.dragonBones,s=r.Component},function(r){p=r.prizeRes}],execute:function(){var c,u,d,y,h;n._RF.push({},"8114f3d77NCW7aJtfRMLMij","WorldTrophy",void 0);var f=a.ccclass,T=a.property;r("WorldTrophyFeature",(function(){this.CODENAME="worldkey",this.SPRITENAME="worldkey",this.TROPHYTYPE="worldkey",this.objdata={}})),r("WorldTrophy",(c=f("WorldTrophy"),u=T(l.ArmatureDisplay),c((h=e((y=function(r){function e(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n))||this,o(e,"db",h,i(e)),e.prizeModeOn=!1,e.ID=0,e}return t(e,r),e.prototype.readID=function(r){this.ID=r,this.db.playAnimation(p.trophyFeatures()[r].SPRITENAME)},e}(s)).prototype,"db",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/WorldUnlockWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts","./Materials.ts","./PlayerProperties.ts","./WorldKeyCount.ts"],(function(n){var e,t,i,r,o,l,a,c,u,s,p,b,d,g,h;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,l=n._decorator,a=n.Button,c=n.Label,u=n.dragonBones,s=n.Sprite,p=n.Component},function(n){b=n.MultiLanguage},function(n){d=n.materialRes},function(n){g=n.AllPlayerProperties},function(n){h=n.WorldKeyCount}],execute:function(){var y,f,k,m,L,W,v,w,_,B,D,U,z;o._RF.push({},"c10fbZRZR5OsLjrbd6Q/SU0","WorldUnlockWindow",void 0);var I=l.ccclass,P=l.property;n("WorldUnlockWindow",(y=I("WorldUnlockWindow"),f=P(a),k=P(c),m=P(c),L=P(u.ArmatureDisplay),W=P(c),y((_=e((w=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return e=n.call.apply(n,[this].concat(o))||this,i(e,"unlockButton",_,r(e)),i(e,"nameLabel",B,r(e)),i(e,"descriptionLabel",D,r(e)),i(e,"bgDB",U,r(e)),i(e,"unlockLabel",z,r(e)),e._currentIcon=void 0,e._haveKey=!1,e}t(e,n);var o=e.prototype;return o.readStrings=function(n,e){this.bgDB.playAnimation(n.strings.win),this.descriptionLabel.string=n.strings.description,this.nameLabel.string=n.strings.name,this._currentIcon=n,this._haveKey=e,this.unlockButton.getComponent(s).customMaterial=e?null:d.greyMaterial},o.shutDown=function(){this.node.active=!1},o.unlockWorld=function(){var n;this._currentIcon&&this._haveKey&&(null==(n=h.component)||n.decKeyCount(1),g.unlockWorld(this._currentIcon.enterTo),this._currentIcon.judgeIsUnlocked(),this.shutDown())},o.onEnable=function(){this.unlockLabel.string=b.getStringByPropsWithoutTricks("WorldUnlockerLyrics","Unlock")},e}(p)).prototype,"unlockButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(w.prototype,"nameLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(w.prototype,"descriptionLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(w.prototype,"bgDB",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(w.prototype,"unlockLabel",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=w))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZenGarden.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./PlayerProperties.ts","./NodePools.ts","./ParticleSelfdestroy.ts","./ZenGardenFeatures.ts","./CharacterManager.ts","./Mouse.ts","./SoundRescourses.ts","./ZenGardenObjectPar.ts","./KeyListener.ts","./MultiLanguage.ts","./AnimationController.ts"],(function(t){var n,e,i,o,a,l,r,s,u,h,p,d,c,m,f,g,P,b,y,w,v,I,S,C,A,D,k,T,Z,G,N,E,M,L;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.createClass,i=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,s=t.Enum,u=t.Node,h=t.AudioClip,p=t.dragonBones,d=t.instantiate,c=t.Vec3,m=t.tween,f=t.Color,g=t.Vec2,P=t.EventMouse,b=t.Component},function(t){y=t.plants,w=t.PlantEnum},function(t){v=t.AllPlayerProperties},function(t){I=t.instantiatePooly,S=t.destroyPooly,C=t.NodePools,A=t.ArrayGet},function(t){D=t.ParticleSelfdestroy},function(t){k=t.ZenPrefabRes},function(t){T=t.Rectangle},function(t){Z=t.Mouse},function(t){G=t.sounds},function(t){N=t.ZenGardenObjectPar},function(t){E=t.KeyListener},function(t){M=t.MultiLanguage},function(t){L=t.AnimationController}],execute:function(){var R,z,j,x,O,_,q,F,B,H,W,U,V,K,Y,J,Q,X,$,tt,nt,et,it,ot,at,lt,rt,st,ut,ht,pt,dt,ct,mt,ft,gt;t("shortenFullTime",(function(){It=t("ZenGardenPlantFullTime",5*yt)})),l._RF.push({},"2b2a9iG5A5L1JexYuHSHIIe","ZenGarden",void 0);var Pt=r.ccclass,bt=r.property,yt=t("OneSecond",1e3),wt=t("OneMinute",60*yt),vt=t("OneHour",60*wt),It=t("ZenGardenPlantFullTime",24*vt);t("PlantFeaturesInZen",(function(){this.PlantPlace="dirt",this.IdleAnim=null,this.RandomAnim=null,this.Height=0}));var St=t("PlantInZenGardenRequirementEnum",function(t){return t[t.water=0]="water",t[t.fertilizer=1]="fertilizer",t[t.jukebox=2]="jukebox",t[t.pesticide=3]="pesticide",t}({})),Ct=t("PlantInZenGarden",(function(){this.ID=0,this.inZen=0,this.pos=0,this.grownTime=0,this.oldTime=0,this.stuck=!1,this.waterCD=0,this.waterLeftTime=0,this.requirement=0})),At=function(t){return t[t.any=0]="any",t[t.deck=1]="deck",t[t.ground=2]="ground",t[t.grass=3]="grass",t}(At||{});s(At);var Dt=t("ZenGardenSlot",(R=Pt("ZenGardenSlot"),z=bt(u),j=bt(Boolean),x=bt({type:Boolean,visible:function(){return!this.addPot}}),O=bt({type:At}),R((F=n((q=function(){function t(){o(this,"node",F,this),o(this,"addPot",B,this),o(this,"addFloater",H,this),o(this,"groundType",W,this),this.pot=void 0,this.floater=void 0,this.plant=void 0,this._plantAnmControl=void 0,this.shade=void 0,this.sprout=void 0,this.pos=0,this.selection=void 0,this.requirePar=void 0,this.inZen=void 0,this.rec=new T,this._mouseIsIn=!1,this.disabled=!1}var n=t.prototype;return n.receivePlant=function(t){!this.plant&&t&&(this.plant=t,t.pos=this.pos,t.inZen=this.inZen.ID,this.showPlant(this.inZen.PlantLayer),k.getPlantsInZen(this.inZen.ID).push(t),v.savePP())},n.movePlant=function(t){if(t.sprout&&!t.plant&&!t.plantAnmControl&&this.plant&&this.plantAnmControl){t.plant=this.plant,t.plant.pos=t.pos,this.plantAnmControl.node.worldPosition=t.sprout.node.worldPosition,t.plantAnmControl=this.plantAnmControl,this.showSprout(this.plantAnmControl.node.parent).db.playAnimation("Empty"),t.sprout&&(t.sprout.node.destroy(),t.sprout=null);var n=this.stuck;t.stuck=!n,t.stuck=n,this.plantAnmControl=null,this.plant=null,this.stuck=!1,G.playPlantOnFloor(),this.inZen.clearSibling(),v.savePP()}},n.showSelection=function(t){var n=I(k.selectionUI);n.parent=t,n.worldPosition=this.node.worldPosition,this.selection=n.getComponent(D),this.selection.db.playAnimation("Null")},n.addRequire=function(t){var n=k.waterpourPar;switch(t){case St.fertilizer:n=k.fertilizerPar;break;case St.pesticide:n=k.pesticidePar;break;case St.jukebox:n=k.jukeboxPar}this.plant.requirement=t;var e=I(n);e.parent=this.selection.node.parent,e.worldPosition=this.node.worldPosition,e.setSiblingIndex(this.selection.node.getSiblingIndex()+1);var i=e.getComponent(N);i.played=!1,i.zenSlot=this,i.ID=t,i.db.playAnimation("Idle"),this.requirePar=i,v.savePP()},n.fulfillRequire=function(t){var n;void 0===t&&(t=!0),null==(n=this.requirePar)||n.play(t),this.plant&&(this.plant.waterCD=(7+3*Math.random())*yt)},n.showPot=function(t){var n=I(k.flowerpot);n.parent=t,n.worldPosition=this.node.worldPosition,this.pot=n.getComponent(p.ArmatureDisplay)},n.showFloater=function(t){var n=I(k.floater);n.parent=t,n.worldPosition=this.node.worldPosition,this.floater=n.getComponent(p.ArmatureDisplay)},n.getStage=function(t){return Math.floor(4*t)},n.onStageChanged=function(t,n){this.stuck;if(this.stuck=!0,"float"==y.getPlantFeature(this.plant.ID).ZENGARDEN.PlantPlace){var e=this.getStage(this.plant.grownTime/It),i=St.fertilizer;e>2&&(i=Math.random()>.5?St.jukebox:St.pesticide),this.plant.waterLeftTime=0,this.addRequire(i)}else this.addRequire(St.water),this.plant.waterLeftTime=3},n.getScale=function(t){return Tt.getPlantScale(t)},n.grow=function(t){var n=this;if(void 0===t&&(t=NaN),isNaN(t)){if(!this.plant)return;t=this.getStage(this.plant.grownTime/It)+1}if(t>=0){if(this.sprout&&(this.sprout.db.playAnimation("Grow"),!this.plantAnmControl)){var e=d(y.getPlantsInCard(this.plant.ID).plantDIS);e.parent=this.sprout.node.parent,e.worldPosition=this.sprout.node.worldPosition,this.plantAnmControl=e.getComponent(L),this.plantAnmControl.body.node.scale=new c(0,0,0),this.plantAnmControl.node.scale=new c(1,1,1),this.plantAnmControl.readCostume(this.plant.ID);var i=y.getPlantFeature(this.plant.ID).ZENGARDEN;i.Height&&(this.plantAnmControl.body.node.position=new c(0,i.Height,0))}var o=this.getScale(t),a=m(this.plantAnmControl.body.node).call((function(){o!=n.plantAnmControl.body.node.scale.x&&k.playSproutGrowthSound()})).to(.7,{scale:new c(o,o,o)},{easing:"backInOut"}).call((function(){n.plant.ID==w.MariGold&&v.getPlantProgressByID(w.MariGold).progress<=0&&(v.unlockPlant(w.MariGold),E.gameTipString(M.getDirectQuote("[MARIGOLD_OBTAIN_CONGRATE]"),5),G.playGemSpawn()),n.stuck=!1}));this.sprout?(this.sprout.db.once(p.EventObject.FRAME_EVENT,(function(t){"grow"==t.name&&(a.start(),k.playPlantDisappearSound())}),this),this.sprout=null):a.start()}this.stuck=!1,this.plant.grownTime=t/4*It+1,this.inZen.clearSibling(),v.savePP()},n.showSprout=function(t){if(this.sprout)return this.sprout;var n=d(k.sproutPar);n.parent=t,n.worldPosition=this.node.worldPosition;var e=n.getComponent(D);return this.sprout=e,this.sprout&&(this.sprout.db.timeScale=.9+.2*Math.random()),this.judgeSelection(),e},n.removePlant=function(){var t,n;if(this.plant){var e=this.sprout?this.sprout.node:this.plantAnmControl.node;this.showSprout(e.parent).db.playAnimation("Empty"),null==(t=this.plantAnmControl)||null==(t=t.node)||t.destroy(),this.plantAnmControl=null;var i,o=k.getPlantsInZen(this.plant.inZen),a=o.indexOf(this.plant);if(-1!=a&&o.splice(a,1),null==(n=this.pot)||n.playAnimation("Idle"),this.plant=null,this.stuck=!1,this.requirePar)S(null==(i=this.requirePar)?void 0:i.node),this.requirePar=null;this.judgeSelection(),this.inZen.clearSibling(),v.savePP()}},n.addPlant=function(t,n){var e;if(!this.plant){var i=new Ct;i.ID=t,i.pos=this.pos,i.inZen=n,i.oldTime=(new Date).getTime();var o=y.getPlantFeature(t).ZENGARDEN.PlantPlace;i.waterLeftTime="float"==o?-1:3,this.plant=i,this.stuck=!1,this.stuck=!0,null==this||null==(e=this.sprout)||null==(e=e.db)||e.playAnimation("Birth",1),k.getPlantsInZen(n).push(this.plant),k.playSproutBirthSound(),this.judgeSelection(),v.savePP()}},n.showPlant=function(t){var n,e;if(!this.plant)return this.showSprout(t).db.playAnimation("Empty"),null==(n=this.floater)||n.playAnimation("Idle"),void(null==(e=this.pot)||e.playAnimation("Idle"));if(!this.plantAnmControl){var i=this.getStage(this.plant.grownTime/It);if(i>0){var o=d(y.getPlantsInCard(this.plant.ID).plantDIS);o.parent=t,o.worldPosition=this.node.worldPosition,this.plantAnmControl=o.getComponent(L);var a=this.getScale(i);this.plantAnmControl.body.node.scale=new c(a,a,a),this.plantAnmControl.node.scale=new c(1,1,1),this.plantAnmControl.readCostume(this.plant.ID);var l=y.getPlantFeature(this.plant.ID).ZENGARDEN;l.Height&&(this.plantAnmControl.body.node.position=new c(0,l.Height,0)),this.sprout&&(S(this.sprout.node),this.sprout=null)}else{this.showSprout(t).db.playAnimation("Idle")}var r=this.stuck;this.plant.stuck=!r,this.stuck=r,this.plant.waterCD=isNaN(this.plant.waterCD)?0:this.plant.waterCD,this.plant.waterLeftTime=isNaN(this.plant.waterLeftTime)?0:this.plant.waterLeftTime,this.plant.waterCD<=0&&this.stuck&&(isNaN(this.plant.requirement)?this.addRequire(St.water):this.addRequire(this.plant.requirement)),this.judgeSelection()}},n.dealPlant=function(t){if(this.plant){var n=t-this.plant.oldTime,e=this.getStage(this.plant.grownTime/It);if(this.stuck){if(!this.requirePar&&(this.plant.waterCD-=n,this.plant.waterCD<=0)){this.plant.waterCD=0;var i=St.water;this.plant.waterLeftTime<0&&(i=e>2?Math.random()>.5?St.jukebox:St.pesticide:St.fertilizer),this.addRequire(i)}}else this.plant.grownTime+=n;var o=this.plant.grownTime/It,a=Math.min(this.getStage(o),e+1);e==a||this.stuck||(this.onStageChanged(e,a),this.plant.grownTime=a/4*It-1),this.plant.oldTime=t}},n.update=function(){if(this.shade&&this.plantAnmControl){var t=.6*this.plantAnmControl.body.node.scale.x;this.shade.scale=new c(t,t,t)}this.rec=T.createRectangleNodeCenter(this.node,300*this.inZen.node.worldScale.x,300*this.inZen.node.worldScale.y)},n.judgeMouse=function(){return this.rec.judgeInRec(Z.position.x,Z.position.y)},n.judgeSelection=function(){var t=!1;if(!this.plant&&k.isShoveling)t=!0;else if(k.isGloving){var n;(this.plant&&this.stuck||!this.plant||this.sprout)&&!k.cp.willMovePlantSlot?t=!0:!k.cp.willMovePlantSlot||!this.plant&&Tt.judgePlantableInSlot(this,null==(n=k.cp.willMovePlantSlot.plant)?void 0:n.ID)||(t=!0)}else if(k.isCarting){var e;(k.cp.plantInCart||this.plant&&!this.stuck&&!this.sprout)&&(!k.cp.plantInCart||!this.plant&&Tt.judgePlantableInSlot(this,null==(e=k.cp.plantInCart)?void 0:e.ID))||(t=!0)}this.disabled=t;var i=this.disabled?new f(122,122,122,255):new f(255,255,255,255);this.pot&&(this.pot.color=i),this.floater&&(this.floater.color=i),this.sprout&&(this.sprout.db.color=i),this.plantAnmControl&&(this.plantAnmControl.body.color=i)},e(t,[{key:"plantAnmControl",get:function(){return this._plantAnmControl},set:function(t){if(t&&(t.willInitScaleOnEnable=!1),t&&!this.shade){var n=I(k.shade);n.parent=this.inZen.ShadeLayer,this.shade=n,n.worldPosition=t.node.worldPosition,n.scale=new c(0,0,0)}else!t&&this.shade&&(C.destroyPooly(this.shade),this.shade=null);this._plantAnmControl=t}},{key:"stuck",get:function(){return this.plant&&this.plant.stuck},set:function(t){var n;if(this.plant&&t!=(null==(n=this.plant)?void 0:n.stuck)){var e,i=null==(e=y.getPlantFeature(this.plant.ID))||null==(e=e.ZENGARDEN)?void 0:e.PlantPlace;if(this.pot){var o="Idle",a="Idle_Golden";"float"!=i&&"sink"!=i||(o="Water",a="Water_Golden"),this.pot.playAnimation(t?o:a)}else if(this.floater){var l="Idle",r="Idle_Golden";if("float"==i||"sink"==i||"fly"==i)switch(l="Water",r="Water_Golden",this.floater.animationName){case"Sink":case"Idle":case"Idle_Golden":l="Sink",r="Sink_Golden"}var s=t?l:r;this.floater.playAnimation(s)}}else if(!this.plant){var u,h;null==(u=this.pot)||u.playAnimation("Idle"),null==(h=this.floater)||h.playAnimation("Idle")}this.plant&&(this.plant.stuck=t),this.judgeSelection()}},{key:"mouseIsIn",get:function(){return this._mouseIsIn},set:function(t){var n;t!=this._mouseIsIn&&(null==(n=this.selection)||null==(n=n.db)||n.playAnimation(t?"Yellow":"Null"));this._mouseIsIn=t}}]),t}()).prototype,"node",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=n(q.prototype,"addPot",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),H=n(q.prototype,"addFloater",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=n(q.prototype,"groundType",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=q))||_)),kt=t("ZenGardenTypeEnum",function(t){return t[t.main=0]="main",t[t.mushroom=1]="mushroom",t[t.beach=2]="beach",t[t.amount=3]="amount",t}({}));s(kt);var Tt=t("ZenGarden",(U=Pt("ZenGarden"),V=bt({type:kt}),K=bt([Dt]),Y=bt(u),J=bt(u),Q=bt(u),X=bt(u),$=bt(u),tt=bt(u),nt=bt([h]),et=bt([h]),it=bt(h),U((lt=n((at=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),l=0;l<e;l++)i[l]=arguments[l];return n=t.call.apply(t,[this].concat(i))||this,o(n,"ID",lt,a(n)),o(n,"slots",rt,a(n)),o(n,"PlantLayer",st,a(n)),o(n,"ShadeLayer",ut,a(n)),o(n,"PotLayer",ht,a(n)),o(n,"UILayer",pt,a(n)),o(n,"corner1",dt,a(n)),o(n,"corner2",ct,a(n)),n.NE=new g,n.SW=new g,n.initialized=!1,n.mouseInSlot=null,n.ambOccCD=0,n.ambRareCD=0,o(n,"ambOcc",mt,a(n)),o(n,"ambRare",ft,a(n)),o(n,"ambience",gt,a(n)),n}i(n,t),n.judgePlantableInSlot=function(t,n){if(isNaN(n))return!1;var e=y.getPlantFeature(n).ZENGARDEN.PlantPlace;switch(t.groundType){case At.any:return!0;case At.deck:case At.grass:return"dirt"==e||"fly"==e;case At.ground:return"solid"==e||"dirt"==e||"fly"==e}},n.getPlantScale=function(t){var n=1;switch(t){case 1:n=.7;break;case 2:n=1;break;default:n=1.3}return n};var e=n.prototype;return e.judgeSelection=function(){this.slots.forEach((function(t){t.judgeSelection()}))},e.setCorner=function(){var t=Math.min(this.corner1.position.x,this.corner2.position.x),n=Math.max(this.corner1.position.x,this.corner2.position.x),e=Math.min(this.corner1.position.y,this.corner2.position.y),i=Math.max(this.corner1.position.y,this.corner2.position.y);this.NE=new g(n,i),this.SW=new g(t,e)},e.onLoad=function(){},e.initialize=function(t){var e=this;this.initialized||(this.initialized=!0,this.slots.forEach((function(n,i){var o;n.inZen=e,n.pos=i;var a=null;t.forEach((function(t){a||t.inZen==e.ID&&t.pos==i&&(a=t)})),n.addPot?n.showPot(e.PotLayer):n.addFloater&&n.showFloater(e.PotLayer),n.showSelection(e.UILayer),n.plant=a,null==(o=n.floater)||o.playAnimation("Water"),n.showPlant(e.PlantLayer),n.rec=T.createRectangleNodeCenter(n.node,90,90),e.setCorner()})),this.node.parent.on(u.EventType.MOUSE_DOWN,(function(t){if(t.preventSwallow=!0,e.node.active&&e.mouseInSlot&&t.getButton()==P.BUTTON_LEFT)if(k.isShoveling)e.mouseInSlot.disabled||(e.mouseInSlot.removePlant(),G.playShovelDig(),k.fastShovel||k.shovel());else if(k.isGloving)e.mouseInSlot.disabled||(k.cp.willMovePlantSlot?(k.cp.willMovePlantSlot.movePlant(e.mouseInSlot),k.cp.indexTo_1()):k.setWillMovePlantSlot(e.mouseInSlot));else if(k.isCarting)e.mouseInSlot.disabled||(k.cp.plantInCart?(e.mouseInSlot.receivePlant(k.cp.plantInCart),k.cp.plantInCart=null):(k.cp.plantInCart=e.mouseInSlot.plant,e.mouseInSlot.removePlant()),G.playPlantOnFloor(),k.cp.indexTo_1());else if(e.mouseInSlot.plant)e.mouseInSlot.requirePar&&e.mouseInSlot.fulfillRequire();else{var i=A.randomize(v.getObtainedPlantEnumList());Math.random()<.01&&-1==i.indexOf(w.MariGold)&&i.length&&(i[0]=w.MariGold);for(var o=0;o<i.length;o++)if(n.judgePlantableInSlot(e.mouseInSlot,i[o])){e.mouseInSlot.addPlant(i[o],e.ID);break}}}),this))},e.judgeMouseInSlot=function(){var t=null;this.slots.concat().reverse().forEach((function(n){n.update(),n.mouseIsIn=!1,t||n.judgeMouse()&&(t=n,n.mouseIsIn=!0)})),this.mouseInSlot=t},e.update=function(t){this.playAmbience(t);var n=(new Date).getTime();this.judgeMouseInSlot(),this.slots.forEach((function(t){t.dealPlant(n)})),v.savePP()},e.clearSibling=function(){var t=this;this.slots.forEach((function(n){var e,i,o,a,l;null==(e=n.sprout)||null==(e=e.node)||e.setSiblingIndex(t.PlantLayer.children.length),null==(i=n.plantAnmControl)||null==(i=i.node)||i.setSiblingIndex(t.PlantLayer.children.length),(null==(o=n.requirePar)||null==(o=o.node)?void 0:o.parent)==(null==n||null==(a=n.plantAnmControl)||null==(a=a.node)?void 0:a.parent)&&(null==(l=n.requirePar)||null==(l=l.node)||l.setSiblingIndex(t.PlantLayer.children.length))}))},e.playAmbience=function(t){this.ambOccCD>0?this.ambOccCD-=t:(G.play(A.getRandom(this.ambOcc)),this.ambOccCD=5),this.ambRareCD>0?this.ambRareCD-=t:(G.play(A.getRandom(this.ambRare)),this.ambRareCD=10)},n}(b)).prototype,"ID",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),rt=n(at.prototype,"slots",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),st=n(at.prototype,"PlantLayer",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=n(at.prototype,"ShadeLayer",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=n(at.prototype,"PotLayer",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=n(at.prototype,"UILayer",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=n(at.prototype,"corner1",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=n(at.prototype,"corner2",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=n(at.prototype,"ambOcc",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ft=n(at.prototype,"ambRare",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gt=n(at.prototype,"ambience",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=at))||ot));l._RF.pop()}}}));

System.register("chunks:///_virtual/ZenGardenFeatures.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts"],(function(t){var n,e,i,r;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy,i=t._decorator},function(t){r=t.sounds}],execute:function(){e._RF.push({},"d666aCh3t9KLJVvAcizC/YV","ZenGardenFeatures",void 0);i.ccclass,i.property;t("ZenPrefabRes",function(){function t(){}return t.playWaterPourSound=function(){r.play(this.cp.waterPourSound,1,.1)},t.playPesticideSound=function(){r.play(this.cp.pesticideSound,1,.1)},t.playJukeboxFallSound=function(){r.play(this.cp.jukeboxFallSound,1,.1)},t.playJukeboxPlaySound=function(){r.play(this.cp.jukeboxPlaySound,1,.1)},t.playFertilizerFallSound=function(){r.play(this.cp.fertilizerFallSound,1,.1)},t.playFertilizerBlastSound=function(){r.play(this.cp.fertilizerBlastSound,1,.1)},t.playSproutBirthSound=function(){r.play(this.cp.sproutBirthSound,1,.1)},t.playSproutGrowthSound=function(){r.play(this.cp.sproutGrowthSound,1,.1),r.play(this.cp.plantGrowthSound,1,.1)},t.playPlantDisappearSound=function(){r.play(this.cp.plantDisappearSound,1,.1)},t.getPlantsInZen=function(t){return this.cp.getPlants(t)},t.shovel=function(){var t;null==(t=this.cp)||t.shovel()},t.glove=function(){var t;null==(t=this.cp)||t.glove()},t.setWillMovePlantSlot=function(t){var n;null==(n=this.cp)||n.setWillMovePlantSlot(t)},t.cart=function(){var t;null==(t=this.cp)||t.cart()},n(t,null,[{key:"sproutPar",get:function(){return this.cp.sproutPar}},{key:"jukeboxPar",get:function(){return this.cp.jukeboxPar}},{key:"pesticidePar",get:function(){return this.cp.pesticidePar}},{key:"fertilizerPar",get:function(){return this.cp.fertilizerPar}},{key:"waterpourPar",get:function(){return this.cp.waterpourPar}},{key:"selectionUI",get:function(){return this.cp.selectionUI}},{key:"flowerpot",get:function(){return this.cp.flowerpot}},{key:"floater",get:function(){return this.cp.floater}},{key:"shade",get:function(){return this.cp.shade}},{key:"isShoveling",get:function(){return this.cp&&this.cp.isShoveling}},{key:"fastShovel",get:function(){return this.cp&&this.cp.fastShovel}},{key:"isGloving",get:function(){return this.cp&&this.cp.isGloving}},{key:"isCarting",get:function(){return this.cp&&this.cp.isCarting}}]),t}()).cp=void 0;t("ZenGardenPlayerProperties",(function(){this.sprout=0,this.plantsInMain=[],this.plantsInMushroom=[],this.plantsInBeach=[],this.plantInCart=null}));e._RF.pop()}}}));

System.register("chunks:///_virtual/ZenGardenObjectPar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./ZenGarden.ts","./PlayerProperties.ts","./ZenGardenFeatures.ts","./CharacterManager.ts"],(function(e){var t,n,l,a,i,r,o,s,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,l=e._decorator},function(e){a=e.ParticleSelfdestroy},function(e){i=e.PlantInZenGardenRequirementEnum,r=e.OneSecond},function(e){o=e.AllPlayerProperties},function(e){s=e.ZenPrefabRes},function(e){u=e.Rectangle}],execute:function(){var d;n._RF.push({},"b989dQJ/TVCLbUIdLcGkilZ","ZenGardenObjectPar",void 0);var c=l.ccclass;l.property,e("ZenGardenObjectPar",c("ZenGardenObjectPar")(d=function(e){function n(){for(var t,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return(t=e.call.apply(e,[this].concat(l))||this).zenSlot=void 0,t.ID=0,t.played=!1,t}t(n,e);var l=n.prototype;return l.animationListener=function(e){if(this.ID==i.water){if(this.zenSlot&&"water_done"==e.name)this.zenSlot.plant.waterCD=(7+3*Math.random())*r,o.savePP();else if("water_pour"==e.name){var t;s.playWaterPourSound(),null==(t=this.zenSlot)||null==(t=t.plantAnmControl)||t.playAnimation("Water",1)}}else if(this.ID==i.pesticide)"pesticide_shoot"==e.name&&s.playPesticideSound();else if(this.ID==i.jukebox){if("jukebox_smash"==e.name)s.playJukeboxFallSound();else if("jukebox_play"==e.name){var n;s.playJukeboxPlaySound(),null==(n=this.zenSlot)||null==(n=n.plantAnmControl)||n.playAnimation("Water",1)}}else this.ID==i.fertilizer&&("fertilizer_blast"==e.name?s.playFertilizerBlastSound():"fertilizer_drop"==e.name&&s.playFertilizerFallSound());var l;"grow"==e.name&&(null==(l=this.zenSlot)||l.grow());"die"==e.name&&(this.zenSlot&&(this.zenSlot.requirePar=null),this.zenSlot=null)},l.play=function(e){var t=this;if(void 0===e&&(e=!0),!this.played){if(this.played=!0,this.db.playAnimation("Play"),this.ID==i.water){if(e){var n;this.db.playAnimation("Play_Gold");var l=u.createRectangleNodeCenter(this.zenSlot.node,180*s.cp.scale,180*s.cp.scale);null==(n=this.zenSlot)||null==(n=n.inZen)||null==(n=n.slots)||n.forEach((function(e){e.requirePar&&e.requirePar.ID==t.ID&&e.rec.judgeCrossRec(l)&&e.fulfillRequire(!1)}))}this.zenSlot.plant.waterLeftTime--,this.zenSlot.plant.waterCD=(7+3*Math.random())*r}else if(this.ID==i.jukebox){var a,d,c=null==(a=this.zenSlot)||null==(a=a.sprout)?void 0:a.node;c||(c=null==(d=this.zenSlot)||null==(d=d.plantAnmControl)?void 0:d.node),this.node.setParent(c.parent,!0),this.node.setSiblingIndex(c.getSiblingIndex()+1)}o.savePP()}},l.update=function(e){var t;(null==(t=this.zenSlot)?void 0:t.requirePar)!=this&&this.node.destroy()},n}(a))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/ZenGardenRP.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,r,t,i,c,o,a,l;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){c=e.cclegacy,o=e._decorator,a=e.SceneAsset,l=e.Component}],execute:function(){var s,u,p,f,d;c._RF.push({},"271c65utO5IFpEoUrfZi3tn","ZenGardenRP",void 0);var y=o.ccclass,h=o.property;e("ZenGardenRP",(s=y("ZenGardenRP"),u=h(a),s((d=n((f=function(e){function n(){for(var n,r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return n=e.call.apply(e,[this].concat(c))||this,t(n,"zenScene",d,i(n)),n}return r(n,e),n}(l)).prototype,"zenScene",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));c._RF.pop()}}}));

System.register("chunks:///_virtual/zenGardenScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZenGarden.ts","./PlayerProperties.ts","./ZenGardenFeatures.ts","./NodePools.ts","./SoundsController.ts","./SoundRescourses.ts","./Mouse.ts","./Shovel.ts","./KeyListener.ts","./SettingWindow.ts","./Plants.ts","./AnimationController.ts"],(function(e){var t,n,i,l,r,a,o,s,u,c,h,p,d,g,f,y,v,b,P,I,w,m,S,z,C,T,M,_,x,E,U,O,H,D,Z,B,A,k,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,o=e._decorator,s=e.Prefab,u=e.AudioClip,c=e.AudioSource,h=e.Node,p=e.Toggle,d=e.Vec2,g=e.assetManager,f=e.EventMouse,y=e.input,v=e.Input,b=e.KeyCode,P=e.Vec3,I=e.UITransform,w=e.Component},function(e){m=e.ZenGarden,S=e.ZenGardenTypeEnum,z=e.shortenFullTime,C=e.ZenGardenPlantFullTime},function(e){T=e.AllPlayerProperties},function(e){M=e.ZenPrefabRes,_=e.ZenGardenPlayerProperties},function(e){x=e.ArrayGet,E=e.instantiatePooly},function(e){U=e.MusicController,O=e.SoundFXController},function(e){H=e.sounds},function(e){D=e.Mouse},function(e){Z=e.Shovel},function(e){B=e.KeyListener},function(e){A=e.WindowSize},function(e){k=e.plants},function(e){N=e.AnimationController}],execute:function(){var G,F,L,W,j,K,R,Y,V,X,q,Q,J,$,ee,te,ne,ie,le,re,ae,oe,se,ue,ce,he,pe,de,ge,fe,ye,ve,be,Pe,Ie,we,me,Se,ze,Ce,Te,Me,_e,xe,Ee,Ue,Oe,He,De,Ze,Be,Ae,ke,Ne,Ge,Fe,Le,We,je,Ke,Re,Ye,Ve,Xe,qe,Qe,Je,$e,et,tt,nt,it,lt;a._RF.push({},"28f67d8p+VHj4E+vcc2h1Ka","zenGardenScene",void 0);var rt=o.ccclass,at=o.property;e("zenGardenScene",(G=rt("zenGardenScene"),F=at(s),L=at(s),W=at(s),j=at(s),K=at(s),R=at(s),Y=at(s),V=at(s),X=at(s),q=at(u),Q=at(u),J=at(u),$=at(u),ee=at(u),te=at(u),ne=at(u),ie=at(u),le=at(u),re=at(u),ae=at([m]),oe=at([u]),se=at([u]),ue=at(c),ce=at(c),he=at(Z),pe=at(Z),de=at(h),ge=at(p),fe=at(Z),ye=at(h),ve=at(Z),be=at(h),Pe=at(h),Ie=at(h),we=at(h),G((ze=t((Se=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"sproutPar",ze,l(t)),i(t,"jukeboxPar",Ce,l(t)),i(t,"pesticidePar",Te,l(t)),i(t,"fertilizerPar",Me,l(t)),i(t,"waterpourPar",_e,l(t)),i(t,"selectionUI",xe,l(t)),i(t,"flowerpot",Ee,l(t)),i(t,"floater",Ue,l(t)),i(t,"shade",Oe,l(t)),i(t,"sproutBirthSound",He,l(t)),i(t,"sproutGrowthSound",De,l(t)),i(t,"plantGrowthSound",Ze,l(t)),i(t,"waterPourSound",Be,l(t)),i(t,"pesticideSound",Ae,l(t)),i(t,"jukeboxFallSound",ke,l(t)),i(t,"jukeboxPlaySound",Ne,l(t)),i(t,"fertilizerFallSound",Ge,l(t)),i(t,"fertilizerBlastSound",Fe,l(t)),i(t,"plantDisappearSound",Le,l(t)),i(t,"gardens",We,l(t)),i(t,"musics",je,l(t)),i(t,"musicsDOM",Ke,l(t)),i(t,"musicPlayer",Re,l(t)),i(t,"sfxPlayer",Ye,l(t)),i(t,"nextZenButton",Ve,l(t)),i(t,"shovelUI",Xe,l(t)),i(t,"shovelInHand",qe,l(t)),t.willMovePlantSlot=void 0,i(t,"fastShovelToggle",Qe,l(t)),i(t,"gloveUI",Je,l(t)),i(t,"gloveInHand",$e,l(t)),t.gloveOldScale=.5,i(t,"cartUI",et,l(t)),i(t,"cartInHand",tt,l(t)),i(t,"plantInCartLayer",nt,l(t)),t.cartOldScale=.5,t._plantInCart=null,t.plantInCartAnm=null,t.currentZen=void 0,t.pressed=!1,i(t,"uiNode",it,l(t)),i(t,"zenParent",lt,l(t)),t._scale=1,t._pos=new d,t}n(t,e);var a=t.prototype;return a.musicControl=function(){this.musicPlayer.playing||(this.musicPlayer.clip=x.getRandom(this.musicsDOM),this.musicPlayer.play()),this.musicPlayer.volume=U.MusicVolume*U._volumeScalePause,this.sfxPlayer.volume=O.SoundFXVolume},a.onDisable=function(){this.musicPlayer.stop(),this.musicPlayer.clip=null,this.musicsDOM.forEach((function(e){g.releaseAsset(e)}))},a.onLoad=function(){var e=this;this.gloveOldScale=this.gloveInHand.scale.x,this.cartOldScale=this.cartInHand.scale.x,M.cp=this,T.currentPlayer.zengarden||(T.currentPlayer.zengarden=new _),T.savePP(),this.musicsDOM=[],this.musics.forEach((function(t){t&&g.loadRemote(t.nativeUrl,{audioLoadMode:u.AudioType.DOM_AUDIO},(function(t,n){n&&e.musicsDOM.push(n)}))}))},a.exitToMap=function(){B.darken((function(){B.goToWorldmap()}))},a.getPlants=function(e){switch(e){case S.main:return T.currentPlayer.zengarden.plantsInMain||(T.currentPlayer.zengarden.plantsInMain=[]),T.currentPlayer.zengarden.plantsInMain;case S.mushroom:return T.currentPlayer.zengarden.plantsInMushroom||(T.currentPlayer.zengarden.plantsInMushroom=[]),T.currentPlayer.zengarden.plantsInMushroom;case S.beach:return T.currentPlayer.zengarden.plantsInBeach||(T.currentPlayer.zengarden.plantsInBeach=[]),T.currentPlayer.zengarden.plantsInBeach}return[]},a.indexTo_1=function(){this.isCarting&&this.cart(),this.isShoveling&&this.shovel(),this.isGloving&&this.glove(),this.willMovePlantSlot&&this.setWillMovePlantSlot(null)},a.setWillMovePlantSlot=function(e){!e&&this.willMovePlantSlot?this.willMovePlantSlot=null:e&&(H.playCardChosen(),this.willMovePlantSlot=e),this.currentZen.judgeSelection()},a.shovel=function(){H.playShovelActive();var e=!this.isShoveling;e&&this.indexTo_1(),this.isShoveling=e,this.shovelUI.index=this.isShoveling?1:0,this.shovelUI.select(),this.currentZen.judgeSelection()},a.glove=function(){H.playCardCancel();var e=!this.isGloving;e&&this.indexTo_1(),this.isGloving=e,this.gloveUI.index=this.isGloving?1:0,this.gloveUI.select(),this.currentZen.judgeSelection()},a.cart=function(){var e=!this.isCarting;e?(!this.willMovePlantSlot||this.plantInCart||this.willMovePlantSlot.stuck||this.willMovePlantSlot.sprout||(this.plantInCart=this.willMovePlantSlot.plant,this.willMovePlantSlot.removePlant(),H.playPlantOnFloor(),e=!1),H.playCardChosen(),this.indexTo_1()):H.playRightButtonCancel(),this.isCarting=e,this.cartUI.index=this.isCarting?1:0,this.cartUI.select(),this.currentZen.judgeSelection()},a.clearScale=function(){this.pos=new d(0,0),this.scale=1},a.switchZen=function(e){this.indexTo_1(),e>=this.gardens.length&&(e=0),e<0&&(e=this.gardens.length-1),this.gardens[e]||(e=0),this.gardens.forEach((function(e){e.node.active=!1}));var t=this.gardens[e];this.currentZen=t,t.node.active=!0,this.sfxPlayer.stop(),this.sfxPlayer.clip=t.ambience,this.sfxPlayer.play(),t.initialize(this.getPlants(t.ID)),this.clearScale()},a.nextZen=function(){var e=this.gardens.indexOf(this.currentZen);this.switchZen(e+1)},a.start=function(){var e,t,n=this;(this.switchZen(0),this.sfxPlayer.loop=!0,this.sfxPlayer.play(),null!=(e=T.currentPlayer.zengarden)&&e.plantInCart)&&(this.plantInCart=null==(t=T.currentPlayer.zengarden)?void 0:t.plantInCart);T.savePP(),this.nextZenButton.node.on(h.EventType.MOUSE_DOWN,(function(e){e.getButton()==f.BUTTON_LEFT&&n.nextZen()}),this),this.shovelUI.node.on(h.EventType.MOUSE_DOWN,(function(e){e.getButton()==f.BUTTON_LEFT&&n.shovel()}),this),this.gloveUI.node.on(h.EventType.MOUSE_DOWN,(function(e){e.getButton()==f.BUTTON_LEFT&&n.glove()}),this),this.cartUI.node.on(h.EventType.MOUSE_DOWN,(function(e){e.getButton()==f.BUTTON_LEFT&&n.cart()}),this),this.node.on(h.EventType.MOUSE_DOWN,(function(e){e.getButton()==f.BUTTON_RIGHT?(n.indexTo_1(),n.pressed=!0):e.getButton()==f.BUTTON_MIDDLE&&(n.pressed=!0)}),this),this.node.on(h.EventType.MOUSE_UP,(function(e){e.getButton()!=f.BUTTON_MIDDLE&&e.getButton()!=f.BUTTON_RIGHT||(n.pressed=!1)}),this),y.on(v.EventType.KEY_DOWN,(function(e){e.keyCode==b.KEY_D?n.shovel():e.keyCode==b.KEY_M?n.glove():e.keyCode==b.KEY_C?n.cart():e.keyCode==b.DIGIT_0&&B.ctrlDown?n.clearScale():e.keyCode==b.ESCAPE?n.exitToMap():e.keyCode==b.KEY_A?n.currentZen.slots.forEach((function(e){e.fulfillRequire()})):e.keyCode==b.KEY_P?B.ctrlDown&&B.shiftDown&&B.altDown&&z():e.keyCode==b.BACK_QUOTE?n.hideUI():e.keyCode==b.TAB&&n.nextZen()}),this),this.zenParent.parent.parent.on(h.EventType.MOUSE_WHEEL,(function(e){e.preventSwallow=!0,n.scale*=Math.pow(1.01,e.getScrollY()/50)}),this),this.zenParent.parent.on(h.EventType.MOUSE_MOVE,(function(e){n.pressed&&(n.pos=n.pos.clone().add(e.getDelta()))}),this)},a.hideUI=function(){this.uiNode.active=!this.uiNode.active},a.update=function(e){if(this.gloveInHand.active)if(this.willMovePlantSlot){var t=.2*this.scale;this.gloveInHand.scale=new P(t,t,t),this.gloveInHand.worldPosition=this.willMovePlantSlot.node.worldPosition.clone().add(new P(0,-20*this.scale,0))}else{var n=this.gloveOldScale;this.gloveInHand.scale=new P(n,n,n),this.gloveInHand.worldPosition=new P(D.position.x,D.position.y,10)}if(this.cartInHand.active){var i=this.cartOldScale*this.scale;this.cartInHand.scale=new P(i,i,i),this.cartInHand.worldPosition=new P(D.position.x,D.position.y,10)}if(this.plantInCartAnm)if(this.isCarting){var l=.3*this.scale;this.plantInCartAnm.node.scale=new P(l,l,l),this.plantInCartAnm.node.worldPosition=this.cartInHand.worldPosition.clone().add(new P(0,20*this.scale,0))}else{this.plantInCartAnm.node.scale=new P(.3,.3,.3),this.plantInCartAnm.node.worldPosition=this.cartUI.node.worldPosition.clone().add(new P(0,20,0))}this.musicControl(),this.shovelInHand.active&&(this.shovelInHand.worldPosition=new P(D.position.x,D.position.y,10))},r(t,[{key:"isShoveling",get:function(){return this.shovelInHand&&this.shovelInHand.active},set:function(e){this.shovelInHand&&(this.shovelInHand.active=e)}},{key:"fastShovel",get:function(){return this.fastShovelToggle&&this.fastShovelToggle.isChecked}},{key:"isGloving",get:function(){return this.gloveInHand&&this.gloveInHand.active},set:function(e){this.gloveInHand&&(this.gloveInHand.active=e)}},{key:"isCarting",get:function(){return this.cartInHand&&this.cartInHand.active},set:function(e){this.cartInHand&&(this.cartInHand.active=e)}},{key:"plantInCart",get:function(){return this._plantInCart},set:function(e){if(e&&!this._plantInCart){var t=E(k.getPlantsInCard(e.ID).plantDIS);t.parent=this.plantInCartLayer,this.plantInCartAnm=t.getComponent(N),this.plantInCartAnm.readCostume(e.ID);var n=Math.floor(e.grownTime/C*4),i=m.getPlantScale(n);this.plantInCartAnm.body.node.scale=new P(i,i,i)}else!e&&this._plantInCart&&this.plantInCartAnm&&(this.plantInCartAnm.node.destroy(),this.plantInCartAnm=null);this._plantInCart=e,T.currentPlayer.zengarden.plantInCart=e,T.savePP()}},{key:"scale",get:function(){return this._scale},set:function(e){var t=this.node.getComponent(I),n=this._scale,i=t.height,l=i*A,r=this.currentZen.node.scale.x,a=(this.currentZen.NE.x-this.currentZen.SW.x)*r,o=(this.currentZen.NE.y-this.currentZen.SW.y)*r;e=Math.min(10,Math.max(e,l/a,i/o)),this.zenParent.parent.scale=new P(e,e,e),n=e/this._scale,this._scale=e,this.pos=this.pos.clone().multiplyScalar(n)}},{key:"pos",get:function(){return this._pos},set:function(e){var t=this.node.getComponent(I),n=this.currentZen.node.scale.x,i=t.height,l=i*A,r=l/2-this.currentZen.NE.x*n*this._scale,a=-l/2-this.currentZen.SW.x*n*this._scale,o=i/2-this.currentZen.NE.y*n*this._scale,s=-i/2-this.currentZen.SW.y*n*this._scale;r>=a?e.x=(r+a)/2:e.x<r?e.x=r:e.x>a&&(e.x=a),o>=s?e.y=(o+s)/2:e.y<o?e.y=o:e.y>s&&(e.y=s),this.zenParent.worldPosition=this.zenParent.parent.worldPosition.clone().add(new P(e.x,e.y,10)),this._pos=e}}]),t}(w)).prototype,"sproutPar",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=t(Se.prototype,"jukeboxPar",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=t(Se.prototype,"pesticidePar",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=t(Se.prototype,"fertilizerPar",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=t(Se.prototype,"waterpourPar",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=t(Se.prototype,"selectionUI",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=t(Se.prototype,"flowerpot",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=t(Se.prototype,"floater",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=t(Se.prototype,"shade",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),He=t(Se.prototype,"sproutBirthSound",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=t(Se.prototype,"sproutGrowthSound",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze=t(Se.prototype,"plantGrowthSound",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=t(Se.prototype,"waterPourSound",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=t(Se.prototype,"pesticideSound",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=t(Se.prototype,"jukeboxFallSound",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=t(Se.prototype,"jukeboxPlaySound",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=t(Se.prototype,"fertilizerFallSound",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=t(Se.prototype,"fertilizerBlastSound",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=t(Se.prototype,"plantDisappearSound",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=t(Se.prototype,"gardens",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),je=t(Se.prototype,"musics",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ke=t(Se.prototype,"musicsDOM",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Re=t(Se.prototype,"musicPlayer",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye=t(Se.prototype,"sfxPlayer",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=t(Se.prototype,"nextZenButton",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe=t(Se.prototype,"shovelUI",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=t(Se.prototype,"shovelInHand",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=t(Se.prototype,"fastShovelToggle",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=t(Se.prototype,"gloveUI",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=t(Se.prototype,"gloveInHand",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=t(Se.prototype,"cartUI",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=t(Se.prototype,"cartInHand",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=t(Se.prototype,"plantInCartLayer",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=t(Se.prototype,"uiNode",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=t(Se.prototype,"zenParent",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=Se))||me));a._RF.pop()}}}));

System.register("chunks:///_virtual/Zombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Armor.ts","./Character.ts","./BodyGrouper.ts","./CharacterManager.ts","./Square.ts","./LnC.ts","./Armors.ts","./SoundRescourses.ts","./Particles.ts","./FrontYard.ts","./Materials.ts","./Plant.ts","./levelController.ts","./Sunflower.ts","./Zombies.ts","./ZombieAshParticle.ts","./EgyptSandStormParticle.ts","./ParticleSelfdestroy.ts","./Plants.ts","./UI.ts","./LevelTaskCount.ts"],(function(t){var e,i,n,o,a,s,r,h,l,d,c,u,p,m,g,b,f,y,w,S,P,v,k,D,C,T,L,_,A,B,z,O,R,I,W,E,x,H,Z,F,j,M,N,X,Y,K,q,G,V,U,J;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.createClass,n=t.initializerDefineProperty,o=t.inheritsLoose,a=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,h=t.CCFloat,l=t.Enum,d=t.dragonBones,c=t.AudioClip,u=t.Prefab,p=t.Node,m=t.Vec2,g=t.Size,b=t.Color,f=t.Vec3,y=t.tween,w=t.AudioSource,S=t.Material,P=t.math,v=t.HALF_PI,k=t.TWO_PI},function(t){D=t.instantiatePooly,C=t.ArrayGet,T=t.NodePools},function(t){L=t.Armor},function(t){_=t.Character},function(t){A=t.BodyGrouper},function(t){B=t.Rectangle,z=t.ZombiePool,O=t.Umbrellas},function(t){R=t.Square},function(t){I=t.TileType},function(t){W=t.armors},function(t){E=t.sounds},function(t){x=t.particle},function(t){H=t.FrontYard,Z=t.JamStyle},function(t){F=t.materialRes},function(t){j=t.PlantType},function(t){M=t.LevelPlay},function(t){N=t.sunflower},function(t){X=t.ZombieEnum,Y=t.zombies},function(t){K=t.ZombieAshParticle},function(t){q=t.EgyptSandStormParticle},function(t){G=t.ParticleSelfdestroy},function(t){V=t.PlantEnum},function(t){U=t.UIInGame},function(t){J=t.LevelTaskCountModeEnum}],execute:function(){var Q,$,tt,et,it,nt,ot,at,st,rt,ht,lt,dt,ct,ut,pt,mt,gt,bt,ft,yt,wt,St,Pt,vt,kt,Dt,Ct,Tt,Lt,_t,At,Bt,zt,Ot,Rt,It,Wt,Et,xt,Ht,Zt,Ft,jt,Mt,Nt,Xt,Yt,Kt,qt,Gt,Vt,Ut,Jt,Qt,$t;s._RF.push({},"1f230U4V25L0KJSottj1hy0","Zombie",void 0);var te=r.ccclass,ee=r.property,ie=t("zombiePoison",(Q=te("ZombiePoison"),$=ee({type:h,visible:!0}),tt=ee({type:h,visible:!0}),et=ee({type:Boolean,visible:function(){return this.isValid()}}),Q((ot=e((nt=function(){var t=e.prototype;function e(t,e){n(this,"DPS",ot,this),n(this,"duration",at,this),n(this,"infective",st,this),this.DPS=t,this.duration=e}return t.isValid=function(){return this.DPS>0&&this.duration>0},t.copy=function(){return new e(this.DPS,this.duration)},e}()).prototype,"DPS",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),at=e(nt.prototype,"duration",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),st=e(nt.prototype,"infective",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),it=nt))||it)),ne=t("ZombieDamageDetails",function(){function t(t,e,i,n,o,a,s,r){void 0===t&&(t=0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===o&&(o=null),void 0===a&&(a=oe.physicle),void 0===s&&(s=!0),void 0===r&&(r=!1),this._damage=0,this._armorProtection=!0,this._armorKnockSound=!0,this._bodyKnockSound=!0,this._damageDirection=null,this._damageType=oe.physicle,this._flash=!0,this._armorAlsoDamagedWhenNotProtecting=!1,this.bugKiller=!1,this.balloonKiller=!1,this._damage=t,this._armorProtection=e,this._armorKnockSound=i,this._bodyKnockSound=n,this._damageDirection=o,this._damageType=a,this._flash=s,this._armorAlsoDamagedWhenNotProtecting=r}var e=t.prototype;return e.replaceDamage=function(e){return new t(e,this._armorProtection,this._armorKnockSound,this._bodyKnockSound,this._damageDirection,this._damageType,this._flash,this._armorAlsoDamagedWhenNotProtecting)},e.replaceDirection=function(e){return new t(this._damage,this._armorProtection,this._armorKnockSound,this._bodyKnockSound,e,this._damageType,this._flash,this._armorAlsoDamagedWhenNotProtecting)},i(t,[{key:"damage",get:function(){return this._damage}},{key:"armorProtection",get:function(){return this._armorProtection}},{key:"armorKnockSound",get:function(){return this._armorKnockSound}},{key:"bodyKnockSound",get:function(){return this._bodyKnockSound}},{key:"damageDirection",get:function(){return this._damageDirection}},{key:"damageType",get:function(){return this._damageType}},{key:"flash",get:function(){return this._flash}},{key:"armorAlsoDamagedWhenNotProtecting",get:function(){return this._armorAlsoDamagedWhenNotProtecting}}]),t}()),oe=t("zombieDamageType",function(t){return t[t.physicle=0]="physicle",t[t.fire=1]="fire",t[t.electricity=2]="electricity",t[t.potatoMine=3]="potatoMine",t[t.ray=4]="ray",t}({})),ae=t("ZombieGroanSoundGroupEnum",function(t){return t[t.modern=0]="modern",t[t.egypt=1]="egypt",t[t.pirate=2]="pirate",t[t.cowboy=3]="cowboy",t[t.future=4]="future",t[t.dark=5]="dark",t[t.beach=6]="beach",t[t.ice=7]="ice",t[t.lost=8]="lost",t[t.eighties=9]="eighties",t[t.dino=10]="dino",t[t.imp=11]="imp",t[t.gargantuar=12]="gargantuar",t[t.none=13]="none",t[t.kongfu=14]="kongfu",t}({})),se=t("ZombieProps",(function(){this.ExtraZombiesToLoad=[],this.ExtraZombiesToLoadFromProps=[],this.ExtraZombieArraysToLoadFromProps=[],this.CannotBeDetectedByPowerToss=!1,this.CannotChangeLaneByPowerToss=!1,this.CannotBeFlickedByPowerToss=!1,this.ChooseToSpawnOnNonDeckRows=!1,this.ChooseToSpawnOnDeepWaterRows=!1,this.CannotBeTossedByCitron=!1,this.CannotBeDraggedByTangleKelp=!1,this.CannotBeDetectedBySapfling=!1,this.CannotBeSwallowedByChomper=!1,this.CanBeEasilySwallowedByChomper=!1,this.ChillInsteadOfFreeze=!1,this.Toughness=190,this.EatDPS=100,this.WalkSPS=.185,this.NormalDeathWhenMowed=!1,this.SpeedScaleInWater=1,this.LivesInDeepWater=!1,this.CannotBePushedBySliders=!1,this.ZombossLaneSummon=!1,this.StartingArmors=[],this.IgnoredByThymeWarp=!1,this.IgnoredInWaves=!1,this.CannotCarryPlantfoodsInWaves=!1,this.IsSpawnedFlying=!1,this.JamPunkWalkSpeed=1.5,this.JamPopWalkSpeed=.8,this.JamMetalWalkSpeed=1.25,this.FoeEatDamageReflectPct=0,this.ImmuneToGarlic=!1,this.ImmuneToSporeShroom=!1,this.ChiliStunDurationMult=1,this.ZombieSort="",this.JamStyle=""})),re=t("ZombieSort",function(t){return t[t.Normal=0]="Normal",t[t.Gargantuar=1]="Gargantuar",t[t.Zomboss=2]="Zomboss",t[t.Other=3]="Other",t}({}));l(ae);t("Zombie",(rt=te("Zombie Features"),ht=ee(d.ArmatureDisplay),lt=ee({type:ae,visible:function(){var t;return!(null!=(t=this.groanSound)&&t.length)}}),dt=ee(Boolean),ct=ee([c]),ut=ee([c]),pt=ee({type:h,max:1,min:0}),mt=ee([c]),gt=ee([c]),bt=ee([c]),ft=ee([c]),yt=ee([c]),wt=ee(u),St=ee(A),Pt=ee(u),vt=ee(u),kt=ee(Number),Dt=ee(p),Ct=ee(m),Tt=ee(g),Lt=ee(m),_t=ee(g),At=ee(Number),rt((Ot=e((zt=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this)._reversed=!1,e._reverseCD=0,e._iceblock=void 0,e.tangled=!1,e.chilibeanFartTween=null,e.chilibeanPoisoning=!1,e.chiliStunParticle=null,e._chiliStun=0,e.displayed=!1,n(e,"butterFace",Ot,a(e)),e.butterStun=0,n(e,"zombieGroanSoundGroup",Rt,a(e)),e.ID=X.modern_basic,e.OID=X.modern_basic,e.finalWaveVictoryCountdown=.1,e._poison=new ie(0,0),e.poisonPar=void 0,e._perfume=0,e.perfumeParticle=void 0,e.sapflingCD=0,e._flying=!1,n(e,"flyZombie",It,a(e)),e.currentFlyZombie=!1,n(e,"breakSound",Wt,a(e)),n(e,"hurtSound",Et,a(e)),n(e,"hurtSoundVolume",xt,a(e)),n(e,"deathSound",Ht,a(e)),n(e,"onHeadThrownSound",Zt,a(e)),n(e,"lieSound",Ft,a(e)),n(e,"chewSound",jt,a(e)),n(e,"groanSound",Mt,a(e)),e.enteredLawn=!1,n(e,"zombieAshParticle",Nt,a(e)),e.zombieAshParticle_=null,n(e,"body",Xt,a(e)),e.countHealthToThisLane=!0,e.health=190,e.stunned=0,e._sunBeanParticleCD=0,e.accumulatedSunBeanHitPoint=0,e.sunbeanSunPerHitpoint=0,e.sunBeanParticle=void 0,e.WPC_real=100,e.WPC_wave=100,n(e,"zombieHead",Yt,a(e)),n(e,"zombieArm",Kt,a(e)),n(e,"zombieHeight",qt,a(e)),e.isGargantuar=!1,e.potatoMineDisappear=!0,e.depthStartingZ=10,e.knockBackTween=null,e.changeLaneTween=null,e.knockBackable=!0,e.leapable=!0,e.tallNutBlock=!1,e.leapHeightTween=null,e.canBeKilledByRule=!0,e.dirtSpawning=!1,e.dirtSpawnTweens=[],e.teleporting=!1,e.teleportTweens=[],e._objdataOwnOrg=new se,e._objdataOwn=new se,e.objdata={},e.randomSpeedRate=0,e.haveArm=!0,n(e,"headDropPoint",Gt,a(e)),e.haveHead=!0,e.armors=[],e._armorSocket=null,e.chompable_=!0,e.easyToChomp_=!1,e.glittering=0,e.chill=0,e.freeze=0,e.haveSun=0,e.icetrapParticle=void 0,e.dead=!1,e.dealDamageScale=[],e.isRealZombie=!0,e.isRhythm=!1,e.chewSoundWhenEat=!0,e.eating=!1,e.isIdle=!1,e.walking=!1,e._hypno=!1,e._usedToBeHypno=!1,e.coloredWhenHypnoed=!0,e.hypnoPar=void 0,e.audioSource=void 0,e.inWater=!1,n(e,"plantDetectorRecOffset",Vt,a(e)),n(e,"plantDetectorRecSize",Ut,a(e)),e._plantDetectorRec=B.createRectangleCenter(new m(1e5,1e5),1,1),e._potionInvisible=!1,e._potionSpeedLevel=0,e.potionSpeedDeltaScalePerLevel=1.1,e.potionSpeedDeltaSPDScalePerLevel=1.5,e._potionToughnessLevel=0,e.potionToughnessDeltaScalePerLevel=1.1,e.potionToughnessDeltaDMGScalePerLevel=.85,e.BlueBerryCloud=null,e.lieEnded=!1,e.deathAnmFadeInTime=.1,n(e,"bodyRecOffset",Jt,a(e)),n(e,"bodyRecSize",Qt,a(e)),e.bodyRecHiddenCD=1,e.spawnedWave=-1,e._bodyRec=B.createRectangleCenter(new m(1e5,1e5),1,1),e.hurting=0,e.havePlantfood=!1,e.material=void 0,e._addColor=new b(0,0,0,255),e.spawnLane=null,e.destroyWhenFallEnd=!1,n(e,"depthScale",$t,a(e)),e.sandStormPar=void 0,e.sandStormTween=void 0,e.zombieWave=null,e.blew=!1,e.blowAwayTweens=[],e.CarriedSporeShroom=!1,e.pfParCD=0,e.isBoss=!1,e.switching=!1,e.brainEater=!0,e.bindsToLane=!0,e.oldTileType=I.floor,e.walkDir=new m(-1,0),e.walkRouteBufferDistance=NaN,e.walkRoute=[],e.walkSPSAtRoute=1,e.eatSoundCoolDown=0,e}o(e,t);var s=e.prototype;return s.onReversedSet=function(t){},s.reverseSetScale=function(t){var e=this.shadeSocket.worldPosition.x-this.worldPositionX,i=this.scale;this.scale=Math.abs(this.scale)*(t?-1:1),this.scale!=i&&(this.worldPositionX+=2*e)},s.empStun=function(t){},s.commonShotPopOnTouch=function(t){return!0},s.getGargantuarName=function(){switch(Y.getZombieFeature(this.ID).OBTAINWORLD){case"egypt":return X.egypt_gargantuar;case"pirate":return X.pirate_gargantuar;case"cowboy":return X.cowboy_gargantuar;case"future":return X.future_gargantuar;case"dark":return X.dark_gargantuar;case"water":case"beach":return X.beach_gargantuar;case"ice":return X.iceage_gargantuar;case"lostcity":return X.lostcity_gargantuar;case"eighties":return X.eighties_gargantuar;case"dino":return X.dino_gargantuar}return X.modern_gargantuar},s.playPopOut=function(){var t=this.body.node.scale.clone();this.body.node.scale=new f(.1,.1,0),y(this.body.node).to(.3,{scale:t.clone().multiplyScalar(1.1)},{easing:"quadOut"}).to(.2,{scale:t},{easing:"quadInOut"}).start()},s.chilibeanFart=function(){var t=this;this.chilibeanPoisoning=!0,this.chilibeanFartTween=y(this.db.color).to(2,{r:0,g:255,b:0}).call((function(){E.playZombieFart(),t.chilibeanPoisoning=!1,t.switching=!0,t.playIdle();var e=D(x.zombieFart());e.parent=t.node.parent,e.setSiblingIndex(t.node.getSiblingIndex()),e.worldPosition=new f(t._worldPositionX,t._worldPositionY+t.height),e.scale=t.node.scale.clone().multiply(t.body.node.scale);t._bodyRec.prjX();t.reversed?t.inLane.zombiePool().forEach((function(e){e.bodyRecReal.prjX().x<=t.worldPositionX+20&&e.setChiliStun(10)})):t.inLane.zombiePool().forEach((function(e){e.bodyRecReal.prjX().y>=t.worldPositionX-20&&e.setChiliStun(10)}))})).to(1,{r:255,g:255,b:255}).call((function(){t.playDie(),t.chilibeanFartTween=null})).start()},s.sunbeanBlast=function(t){var e=this;this.chilibeanPoisoning=!0,this.chilibeanFartTween=y(this.db.color).to(1,{}).call((function(){t.forEach((function(t){E.play(t,1,.1)})),e.chilibeanPoisoning=!1,e.chilibeanFartTween=null,e.playAsh(),e.playDie()})).start()},s.dealChiliStun=function(t){this.chiliStun>0&&(this.chiliStun-=t,this.chiliStunParticle&&(this.chiliStunParticle.node.worldPosition=new f(this._worldPositionX,this._worldPositionY)))},s.onChiliStunned=function(t){},s.setChiliStun=function(t){return this.dead||(this.chiliStun=t>this.chiliStun?t*this.objdataOwn.ChiliStunDurationMult:this.chiliStun),this.freeze>0&&(this.onChiliStunned(this.chiliStun),this._onStunned(this.chiliStun)),!0},s.garlicLaneChange=function(t,e,i,n,o){var a=this;E.playArray(i,1),this.stun(t+e),this.changeLaneTween=y(this).to(t,{}).call((function(){a.changeLaneTween=null;var t=[],i=a.lIndex-1,s=R.getLnC(i,a.cIndex),r=R.getLaneComponent(i);null!=r&&r.isInLawn()&&s&&(a.flying||s.getTileType()!=I.sea)&&t.push(i);var h=a.lIndex+1,l=R.getLnC(h,a.cIndex),d=R.getLaneComponent(h);if(null!=d&&d.isInLawn()&&l&&(a.flying||l.getTileType()!=I.sea)&&t.push(h),t.length>0){var c=C.getRandom(t);switch(c){case i:E.playArray(n,1);break;case h:E.playArray(o,1)}a.changeLaneTo(c,e,"quadInOut")}})).start()},s.lobberTarget=function(){return this},s.lobberToPos=function(t){var e=this.shadeSocket.worldPosition.x+this.bodyRecOffset.x*(this.reversed?-1:1),i=this.getShouldSpeed(),n=this.walkSpeedScaleExtra();return new m(e+n*this.walkDir.x*i*2*t*(this.reversed?-1:1),this.worldPositionY+n*this.walkDir.y*i*2*t*(this.reversed?-1:1))},s.correctShadeWP=function(){this.worldPositionX=this.shadeSocket.worldPosition.x},s.onButtered=function(t){},s.setButter=function(t,e){return void 0===e&&(e=!1),this.invincible?(this.butterStun=0,!1):(e&&this.butterStun<=0&&t>0&&E.playButterOn(),this.butterStun=this.butterStun>t?this.butterStun:t,this.butterStun>0&&(this.onButtered(this.butterStun),this._onStunned(this.butterStun)),!0)},s.dealButter=function(t){this.butterStun>0&&(this.butterStun-=t),this.butterFace&&(this.butterFace.node.active=this.butterStun>0)},s.dealHurrikale=function(t){var e;!this.hypno&&null!=(e=this.inLane)&&e.hurrikaleBlowing()&&(this.flying?this.blowAway():(this.knockBackBy(new m(.2),!1,.1,!0,!1,!1),this.setChill(8)))},s.eatByZombie=function(t,e){if(this.dealDamage(t),this.objdataOwnOrg.FoeEatDamageReflectPct>0){var i=t.replaceDamage(t.damage*this.objdataOwnOrg.FoeEatDamageReflectPct);e.dealDamage(i)}},s.setPoison=function(t,e,i){if(void 0===i&&(i=!1),this.invincible)this.poison=new ie(0,0);else{var n=new ie(t>=this.poison.DPS?t:this.poison.duration,e>=this.poison.duration?e:this.poison.duration);n.infective=this.poison.infective||i,this.poison=n}},s.dealPoison=function(t){var e,i=this;null==(e=this.body.body.armature().getSlot("POISONFACE"))||e._setDisplayIndex(this.poison.isValid()?0:-1),this.poison.isValid()?(this.dealDamage(new ne(t*this.poison.DPS,!1,!1,!1,null,0,!1)),this.poison.duration-=t,this.poison.infective&&this.isAlive()&&this.inLane.zombiePool().forEach((function(t){var e;null!=(e=t.poison)&&e.isValid()||!i.bodyRec.judgeCrossRec(t.bodyRec)||t.setPoison(i.poison.DPS,i.poison.duration,!0)}))):this.poison=new ie(0,0)},s.setPerfume=function(t){this.perfume=t>this.perfume?t:this.perfume},s.dealPerfume=function(t){this.perfume>0&&(this.perfumeParticle&&(this.perfumeParticle.node.worldPosition=this.node.worldPosition),this.perfume-=t)},s.specialZombieOnLanding=function(){},s.onLanding=function(){this.inLnC&&(this.dead||this.fallingInSky||this.specialZombieOnLanding())},s.playOnHeadThrownSound=function(){E.playArray(this.onHeadThrownSound)},s.playDeathSound=function(){E.playArray(this.deathSound,1,this.isRhythm?0:NaN)},s.playHurtSound=function(){E.playArray(this.hurtSound,this.hurtSoundVolume)},s.playBreakSound=function(){this.breakSound.length?E.playArray(this.breakSound):E.playZombieLimbPop()},s.specialAshPlayed=function(t){},s.beforeAshPlayed=function(t){},s.playAsh=function(t){if(void 0===t&&(t=!1),!this.zombieAshParticle_)return null;var e=T.instantiatePooly(this.zombieAshParticle_);if(null!=e&&e.isValid){this.beforeAshPlayed(t),e.parent=this.node.parent,e.setSiblingIndex(this.node.getSiblingIndex()),this.correctShadeWP(),this.playDie(!0);var i=e.getComponent(K);this.node.scale.x;return this.smartShadeHider?i.inLnC=this.shadeInLnC:i.inLnC=this.inLnC,i.characterComponent.worldPosition=new m(this.worldPositionX,this.worldPositionY),i.characterComponent.height=this.height,i.characterComponent.depth=this.depth,i.characterComponent.scale=this.scale,i.height=this.height,i.playAsh(),this.isGargantuar&&E.playGargantuarAsh(),this.playSpecialZombieDieForced(),this.specialAshPlayed(i),T.destroyPooly(this.node),i.db}},s.extraHealth=function(){return 0},s.totalToughness=function(){var t=this.toughness;return this.armors.forEach((function(e){t+=e.health})),t+=this.extraHealth()},s.leftHealthForBonkChoy=function(){return this.totalHealth()},s.totalHealth=function(){if(!this.isAlive())return 0;var t=this.health;return this.armors.forEach((function(e){t+=e.health})),t+=this.extraHealth()},s._onStunned=function(t){this.invincible||(this.endSandStorm(),this.onStunned(t))},s.onStunned=function(t){},s.stun=function(t){this.stunned=t>this.stunned?t:this.stunned,this._onStunned(t)},s.pushSunBeanHealth=function(t){if(!(this.sunbeanSunPerHitpoint<=0)){this.accumulatedSunBeanHitPoint+=t*this.sunbeanSunPerHitpoint;var e=this.accumulatedSunBeanHitPoint%5,i=this.accumulatedSunBeanHitPoint-e;i>=5&&N.produceSun(i,this.worldPosition,this.zombieHeight/2,!0),this.accumulatedSunBeanHitPoint=e}},s.setSunBeanSunPerHitpoint=function(t){this.sunbeanSunPerHitpoint=Math.max(t,this.sunbeanSunPerHitpoint)},s.setSunBeanParticleCD=function(t){this.sunBeanParticleCD=Math.max(t,this._sunBeanParticleCD)},s.dealSunBeanPar=function(t){this.sunBeanParticleCD>0&&(this.sunBeanParticleCD-=t,this.sunBeanParticle&&(this.sunBeanParticle.node.worldPosition=new f(this._worldPositionX,this._worldPositionY+this.zombieHeight/2)))},s.onDamaged=function(t,e,i){},s.fallImmediatelyWhenHeavyDamaged=function(){return!0},s.damageScale=function(t){return Math.pow(this.potionToughnessDeltaDMGScalePerLevel,this.potionToughnessLevel)*this.specialDamageScale(t)},s.specialDamageScale=function(t){return 1},s.canPlayAshNow=function(){return!0},s.dealDamageAccordingToBowlingLevel=function(t,e){if(this.armors.length&&e.armorProtection){var i=this.armors[0].getDamageAccordingToBowlingLevel(t);this.dealDamage(e.replaceDamage(i))}else this.specialDealDamageAccordingToBowlingLevel(t,e)},s.specialDealDamageAccordingToBowlingLevel=function(t,e){this.dealDamage(e)},s._setHurtingOnDamaged=function(){this.hurting=10},s.dealNormalDamage=function(t){var e=this;if(void 0===t&&(t=new ne),this.invincible)return this.health;if(!this.dead&&t.damage>0){var i=M.zombieDamageReceiveScale;this.dealDamageScale.forEach((function(t){i*=t}));var n=this.damageScale(t);if(t.damageType==oe.fire&&(this.chill=0,this.freeze=0),this.armors.length<=0||!t.armorProtection){var o=t.damage*i*n;t.flash&&o>0&&this._setHurtingOnDamaged();var a=this.health+0;if(this.health-=o,this.health<0&&(this.health=0),this.pushSunBeanHealth(a-this.health),t.bodyKnockSound&&this.playHurtSound(),this.onDamaged(a,this.health+0,t),t.armorAlsoDamagedWhenNotProtecting&&this.health>0&&this.armors.concat().forEach((function(o){if(o.dealDamage(t.damage*i*n,t.armorKnockSound)<=0){e.throwArmor(o,t.damageDirection);var a=e.armors.indexOf(o);-1!=a&&e.armors.splice(a,1),T.destroyPooly(o.node)}})),this.health<=this.toughness/2&&this.haveArm&&(t.damageType!=oe.ray&&t.damageType!=oe.fire&&t.damageType!=oe.electricity||!(this.health<=0))){var s,r=null==(s=t.damageDirection)?void 0:s.clone();r&&r.multiply2f(1,.5).normalize().multiplyScalar(t.damageDirection.length()),this.breakArm(r)}if(this.health<=0)if(this.throwAllArmors(t.damageDirection),this.canPlayAshNow()&&(t.damageType==oe.ray||t.damageType==oe.fire||t.damageType==oe.electricity)&&this.zombieAshParticle_){var h=t.damageType==oe.electricity,l=this.playAsh(h);l&&h&&(l.playAnimation("Shock",2),E.playZombieShock(this.isGargantuar))}else this.playDie(!1,t.damageDirection,!0,t.damageType,!0,t.damage>=this.toughness&&this.fallImmediatelyWhenHeavyDamaged());!this.isAlive()&&t.damageType==oe.potatoMine&&this.potatoMineDisappear&&T.destroyPooly(this.node)}else if(this.armors.length>0&&t.armorProtection){var d,c=null==(d=this.armors[0])?void 0:d.dealDamage(t.damage*i*n,t.armorKnockSound);if(null!=c&&c<=0){var u=this.armors[0];this.throwArmor(u,t.damageDirection),this.armors.shift(),T.destroyPooly(u.node),this.dealDamage(new ne(-c,!0,t.armorKnockSound,t.bodyKnockSound,t.damageDirection,t.damageType,t.flash))}}return this.health}return this.health},s.dealDamage=function(t){return this.dealNormalDamage(t)},s.specialMagnetedObject=function(){return null},s.getFoodMagnetedObject=function(){return this.getMagnetedObject()},s.getMagnetedObject=function(){var t=this.specialMagnetedObject();if(t)return t;if(this.armors[0]&&this.armors[0].isMetal){var e=this.armors[0];this.armors.shift();var i=this.throwArmor(e,null);return i.db.playAnimation(e.db.animationName),T.destroyPooly(e.node),i}},s.onArmorThrown=function(t){},s.throwAllArmors=function(t){var e=this;void 0===t&&(t=null),this.armors.length&&(this.armors.concat().forEach((function(i){e.throwArmor(i,t),T.destroyPooly(i.node)})),this.armors=[])},s.throwArmor=function(t,e){this.pushSunBeanHealth(t.health),this.onArmorThrown(t);var i=this.drop(t.armorDROP,Math.max(1,t.node.worldPosition.y-this._worldPositionY),new f(t.node.worldPosition.x,this._worldPositionY,0),e,this.node.parent,.4);i.getComponent(d.ArmatureDisplay).playAnimation("Broken2");var n=t.node.worldScale.x;return i.node.worldScale=new f(n,n,n),t.owner=null,i},s.specialOnMouseClicked=function(){return!1},s.onMouseClicked=function(){return this.specialOnMouseClicked()},s.specialZombieOnDisable=function(){},s.characterOnDisable=function(){var t,e,i;if(this.armors.length&&(this.armors.concat().forEach((function(t){T.destroyPooly(null==t?void 0:t.node)})),this.armors=[]),z.deleteZombie(this),null==(t=this.inLane)||t.deleteZombie(this),this.zombieWave){var n,o=this.zombieWave;null==(n=o.db)||n.playAnimation("Fade"),o.willBeKilled=!0,this.zombieWave=null}null!=(e=this.icetrapParticle)&&e.isValid&&(this.icetrapParticle.playAnimation("Die",1),this.icetrapParticle=null),this.clearBuff(),this.specialZombieOnDisable(),this.dirtSpawnTweens.forEach((function(t){null==t||t.stop()})),this.blowAwayTweens.forEach((function(t){t.stop()})),this.blowAwayTweens=[],null==(i=this.teleportTweens)||i.forEach((function(t){null==t||t.stop()})),this.teleportTweens=[]},s.onLaneChangeTweenStart=function(){},s.changeLaneTo=function(t,e,i){var n=this;void 0===e&&(e=.5),void 0===i&&(i="linear"),this.endSandStorm(),t==this.lIndex||this.iceblocked||this.knockBackTween||this.changeLaneTween||(this.onLaneChangeTweenStart(),this.changeLaneTween=y(this).to(e,{worldPositionY:R.getLaneComponent(t).floorY},{easing:i}).call((function(){n.changeLaneTween=null})).start())},s.onKnockBackStart=function(){},s._onKnockBackEnd=function(){var t;null==(t=this.knockBackTween)||t.stop(),this.knockBackTween=null,this.tallNutBlock=!1,this.flying=this.currentFlyZombie},s.specialZombieKnockbackable=function(){return!0},s.knockBackTo=function(t,e,i,n,o){var a,s=this;if(void 0===e&&(e=!0),void 0===i&&(i=.1),void 0===n&&(n=!0),void 0===o&&(o=!1),!this.specialZombieKnockbackable()||this.changeLaneTween||this.iceblocked)return new m(this.worldPositionX,this.worldPositionY);this._onStunned(i),this.onKnockBackStart(),this.chiliStun=0,n||null==(a=this.knockBackTween)||a.stop(),this.flying=!!e||this.flying,this.tallNutBlock=o;return this.knockBackTween=y(this).to(i*(this.currentFlyZombie?.2:1),{worldPositionX:t.x,worldPositionY:t.y}).call((function(){s._onKnockBackEnd()})).start(),t},s.knockBackDistanceScale=function(){return 1},s.knockBackBy=function(t,e,i,n,o,a){if(void 0===e&&(e=!0),void 0===i&&(i=.1),void 0===n&&(n=!0),void 0===o&&(o=!1),void 0===a&&(a=!1),!this.specialZombieKnockbackable()||this.changeLaneTween||this.iceblocked||this.teleporting)return new m(this.worldPositionX,this.worldPositionY);var s=this.worldPositionX+t.x*R.SquareDisW*this.knockBackDistanceScale(),r=R.getSquareWorldPosition(0,8,1,1).x-1,h=R.getSquareWorldPosition(0,0,0).x;!o&&s>r&&(s=Math.min(this.worldPositionX+t.x*R.SquareDisW,Math.max(this.worldPositionX,r))),s<h&&(s=h);var l=new m(s,this._worldPositionY-t.y*R.SquareDisH);return this.knockBackTo(l,e,i,n,a),l},s._onLeapEnd=function(t){var e;null==(e=this.leapHeightTween)||e.stop(),this.leapHeightTween=null,this.onLeapEnd(t)},s.specialZombieLeapable=function(){return!0},s.leapBy=function(t,e,i,n,o,a,s,r){var h;if(void 0===e&&(e=!0),void 0===i&&(i=.5),void 0===n&&(n=27),void 0===o&&(o=!0),void 0===a&&(a=!1),void 0===s&&(s=!1),void 0===r&&(r=!0),this.specialZombieLeapable()){null==(h=this.leapHeightTween)||h.stop(),r&&this.stun(i);var l=this.knockBackBy(t,e,i,!1,a,s);this._setLeapHeightTween(l,i,n,o)}},s._setLeapHeightTween=function(t,e,i,n){var o,a=this;null==(o=this.leapHeightTween)||o.stop();var s=this.height_depth;i<s&&(i=s);var r=i-s,h=this.currentFlyZombie?0:-this.shouldDepth(),l=e/(1+Math.sqrt(r/(i-h)));this.leapHeightTween=y(this).to(e-l,{height_depth:i},{easing:"quadOut"}).to(l,{height_depth:h},{easing:"quadIn"}).call((function(){a._onLeapEnd(n)})).start()},s.leapTo=function(t,e,i,n,o,a,s){if(void 0===e&&(e=!0),void 0===i&&(i=.5),void 0===n&&(n=27),void 0===o&&(o=!0),void 0===a&&(a=!1),void 0===s&&(s=!0),this.specialZombieLeapable()){s&&this.stun(i);var r=this.knockBackTo(t,e,i,!1,a);this._setLeapHeightTween(r,i,n,o)}},s.specialOnLeapEnd=function(){},s.onLeapEnd=function(t){var e=this;if(void 0===t&&(t=!0),this.specialOnLeapEnd(),t&&this.isAlive()&&!this.hypno){var i=!1;O.umbrellas.forEach((function(t){var n,o,a,s;i||null!=t&&null!=(n=t.owner)&&n.sheepend||((null==t||null==(o=t.owner)?void 0:o.inLane)==e.inLane||(null==t||null==(a=t.owner)||null==(a=a.inLane)?void 0:a.UpperLane)==e.inLane||(null==t||null==(s=t.owner)||null==(s=s.inLane)?void 0:s.LowerLane)==e.inLane)&&t.owner.umbrellable()&&t.detector.judgeCrossRec(e.bodyRec)&&(i=!0,t.owner.bounce())})),i&&this.leapBy(new m(10,0),!0,.5,80,!1)}this.inLane&&(this.inLane.LaneIndex<0||this.inLane.LaneIndex>4)&&this.playDie()},s.onTallNutBlocked=function(){},s.tallNutListen=function(){var t,e=this;null==(t=this.inLane)||t.plantPool().forEach((function(t){t.ID==V.Tallnut&&e.knockBackTween&&e.leapHeightTween&&e.bodyRec.judgeCrossRec(t.bodyRec)&&(e._onKnockBackEnd(),e.onLeapEnd(!0),e.height=0,e.onTallNutBlocked())}))},s.onDirtSpawned=function(t){},s.playDirtSpawnParticle=function(){var t=D(x.dirtSpawn());t.parent=this.node.parent,t.worldPosition=new f(this._worldPositionX,this._worldPositionY,10),E.playDirtRise(!1,!0)},s.playDirtSpawn=function(t,e){var i,n,o=this;switch(void 0===e&&(e=!0),null==(i=this.inLnC)?void 0:i.getTileType()){case I.sea:case I.sky:return}if(t<0&&(t=0),this.playIdle(),this.dirtSpawning=!0,this.switching=!0,this.onDirtSpawned(t),null!=(n=this.db)&&n.isValid){this.depth=this.bodyRecSize.height;var a=y(this).to(t,{}).call((function(){var t;e&&(null==(t=o.inLnC)?void 0:t.getTileType())!=I.water&&o.playDirtSpawnParticle()})).to(.5*this.zombieHeight/60,{height_depth:this.flying?0:-this.shouldDepth()},{easing:"quadOut"}).to(.35,{}).call((function(){o.dirtSpawning=!1,o.switching=!1,o.playWalk(),o.detectPlant(.01)})).start();this.dirtSpawnTweens.push(a)}},s.endDirtSpawn=function(){this.dirtSpawning&&(this.dirtSpawnTweens.forEach((function(t){t.stop()})),this.dirtSpawning=!1,this.height_depth=this.flying?0:-this.shouldDepth())},s.heal=function(t){if(void 0===t&&(t=this.toughness),this.isAlive()){var e=this.health,i=Math.min(this.toughness,this.health+t);this.health=i,this.health>this.toughness/2&&(this.haveArm=!0,this.body.showArm(!0)),this.onDamaged(e,i,new ne)}},s.healArmors=function(){this.armors.forEach((function(t){t.health=t.toughness,t.setDisplay()}))},s.characterShadeHidden=function(){return this.teleporting},s.onTeleportStart=function(t){void 0===t&&(t=this.worldPositionX)},s.teleportToPos=function(t,e,i,n,o,a){var s=this;void 0===n&&(n=null),void 0===o&&(o=null),void 0===a&&(a=function(){});var r=this.body.node.scale.clone();this.teleporting=!0,this.endSandStorm();var h=function(t){if(t){var e=D(t);e.parent=s.inLane.prjLayer,e.worldPosition=s.worldPosition.toVec3()}};h(n);var l=y(this.addColor).to(.1,{r:255,g:255,b:255}).to(.1,{r:0,g:0,b:0}).to(.1,{r:255,g:255,b:255}).start(),d=y(this.body.node).to(.6,{}).to(.4,{scale:new f(0,0,0)}).to(t,{}).call((function(){a(),s.playTeleportSpawn(s.worldPositionX,r);var t=R.getLnC(e.y,e.x);null!=t&&t.isInLawn()&&(s.worldPosition=new m(t.node.worldPosition.x+i,t.inLane.floorY)),h(o)})).start();this.teleportTweens.push(l,d)},s.playTeleportSpawn=function(t,e){var i=this;void 0===t&&(t=this.worldPositionX),void 0===e&&(e=null);var n=this.body.node.scale.clone();e&&(n=e),this.teleporting=!0,this.body.node.scale=new f(.1,.1,0),this.addColor=new b(255,255,255,255);var o=y(this.addColor).by(1,{}).to(.1,{r:0,g:0,b:0}).to(.1,{r:255,g:255,b:255}).to(.1,{r:0,g:0,b:0}).call((function(){i.teleporting=!1})).start(),a=y(this.body.node).to(.4,{scale:n.clone().multiplyScalar(1.3)},{easing:"quadOut"}).to(.4,{scale:n},{easing:"quadInOut"}).start();this.teleportTweens.push(o,a),isNaN(t)||(this.worldPositionX=t),this.onTeleportStart(t)},s.setObjdata=function(t,e){this.objdata=t,this.modObjdataOwn(t,e),this.onObjdataSet(t)},s.onObjdataSet=function(t){},s.modObjdataOwn=function(t,e){var i=this;Object.getOwnPropertyNames(this._objdataOwn).forEach((function(e){null!=t[e]&&(i._objdataOwn[e]=t[e])})),Object.getOwnPropertyNames(this._objdataOwnOrg).forEach((function(t){null!=e[t]&&(i._objdataOwnOrg[t]=e[t])}))},s.getShouldSpeed=function(){return this.randomSpeed*R.SquareDisW/60*this.shouldSpeedScale()*(this.walking?1:0)},s.setSpeed=function(t,e){void 0===e&&(e=!0),this.walking=e},s.defaultShouldSpeedScale=function(){if(this.leapHeightTween&&!this.isAlive())return 0;if(this.dead)return 1;if(this.fadingAway||this.iceblocked||this.teleporting||!this.invincible&&(this.stunned>0||this.butterStun>0||this.fallingInSky||this.freeze>0||this.chilibeanPoisoning||this.chiliStun>0))return 0;var t=1;if(this.invincible||(this.chill>0&&(t*=.5),this.perfume>0&&(t*=.5),this.sapflingCD>0&&(t*=.5)),t*=Math.pow(this.potionSpeedDeltaSPDScalePerLevel,this.potionSpeedLevel),this.walking&&this.oldTileType==I.water&&(t*=this.objdataOwn.SpeedScaleInWater),this.walking)switch(H.getStageEffect()){case Z.jam_punk:t*=this.objdataOwnOrg.JamPunkWalkSpeed;break;case Z.jam_pop:t*=this.objdataOwnOrg.JamPopWalkSpeed;break;case Z.jam_metal:t*=this.objdataOwnOrg.JamMetalWalkSpeed}return t},s.willTrampleFlower=function(){return!0},s.shouldSpeedScale=function(){return this.defaultShouldSpeedScale()},s.drop=function(t,e,i,n,o,a){var s,r;void 0===a&&(a=.2);var h=null==n?void 0:n.clone();h&&a&&h.multiplyScalar(1+a*(1-2*Math.random())),h||(h=this.defaultDirection());var l=T.instantiatePooly(t);if(o||(o=null==(s=this.inLane)?void 0:s.zombieLayer),null==(r=o)||r.addChild(l),null!=l&&l.isValid){var d=l.getComponent(_);return d.worldPosition=new m(i.x,i.y),d.height=e,d.linearVelocity=new m(h.x,0),d.node.angle=0,d.bodyLinearVelocity=h.y,d.gravity=3,d.detectEnemyOn=!1,d.bodyOmega=Math.pow(-1,Math.round(Math.random()))*Math.round(2*Math.random()+1),d}},s.breakArm=function(t){(void 0===t&&(t=null),this.body.showArm(!1),this.haveArm=!1,this.zombieArm)&&(this.drop(this.zombieArm,this.zombieHeight/2*Math.abs(this.scale)+this.height_depth,new f(this.shadeSocket.worldPosition.x,this._worldPositionY,0),t,this.node.parent).scale=this.scale,this.playBreakSound())},s.dropHead=function(t,e){if(void 0===e&&(e=this.zombieHeight),this.throwAllArmors(t),this.haveHead&&this.zombieHead){this.playBreakSound();var i=this.drop(this.zombieHead,e*Math.abs(this.scale),new f(this.headDropPoint?this.headDropPoint.worldPosition.x:this.shadeSocket.worldPosition.x,this._worldPositionY,0),t,this.node.parent);return i.scale=this.scale,this.haveHead=!1,i}},s.defaultDirection=function(){return new m(Math.pow(-1,Math.round(Math.random()))*Math.round(10*Math.random()),15)},s.armorParent=function(t){return this._armorSocket},s.addArmor=function(t){var e;if(!this._armorSocket&&(this._armorSocket=null==(e=this.node.getChildByName("Body"))?void 0:e.getChildByName("ArmorSocket"),!this._armorSocket))return;var i=T.instantiatePooly(W.getArmor(t));i.parent=this.armorParent(t);var n=i.getComponent(L);return n.initialize(t,this),this.armors.unshift(n),this.onArmorAdded(t),n},s.onArmorDamaged=function(t,e){},s.onArmorAdded=function(t){},s.haveArmor=function(t){var e=!1;return this.armors.forEach((function(i){e||i.ID==t&&(e=!0)})),e},s.allowPlantInSquare=function(t){return!0},s.copyBuff=function(t){this.setChill(t.chill),this.setFreeze(t.freeze),this.stun(t.stunned),this.setPoison(t.poison.DPS,t.poison.duration),this.setButter(t.butterStun)},s.setGlittering=function(t){this.dead||(this.glittering=t>this.glittering?t:this.glittering,this.butterStun=0,this.chill=0,this.freeze=0,this.stunned=0,this.chiliStun=0,this.poison=new ie(0,0))},s.dealGlittering=function(t){this.glittering>0?this.glittering-=t:this.glittering=0},s.onChill=function(t){},s.setChill=function(t){return!this.invincible&&(this.dead||(this.chill=t>this.chill?t:this.chill),this.chill>0&&this.onChill(this.chill),!0)},s.onFrozen=function(t){},s.setFreeze=function(t,e){return void 0===e&&(e=!0),!this.invincible&&(this.dead||(this.objdataOwn.ChillInsteadOfFreeze||e&&this.flying?this.chill=t>this.chill?t:this.chill:this.freeze=t>this.freeze?t:this.freeze),this.freeze>0&&(this.onChill(this.chill),this.onFrozen(this.freeze),this._onStunned(this.freeze)),!0)},s.dropSuns=function(t){var e=0,i=N.produceSun(t,this.worldPosition,this.zombieHeight/2,!0);2==i.length?e=-k/12:i.length>2&&(e=-k/6);var n=-2*e;i.concat().forEach((function(t){t.linearVelocity=new m(10*Math.sin(e),0),t.bodyLinearVelocity=10*Math.cos(e),t.gravity=0,i.length>=2&&(e+=n/(i.length-1)),y(t).to(.6,{bodyLinearVelocity:0}).start(),y(t).to(.6,{linearVelocity:new m(0,0)}).start()}))},s.deathCauseReader=function(t,e){void 0===e&&(e=oe.physicle)},s.throwPlantFoodAndSun=function(){this.havePlantfood&&(this.havePlantfood=!1,N.producePlantFood(this.worldPosition)),this.haveSun>0&&this.dropSuns(this.haveSun),this.haveSun=0},s.beforeSpecialZombieDieForced=function(t,e,i,n,o,a,s){void 0===n&&(n=oe.physicle)},s.playDie=function(t,e,i,n,o,a,s){var r,h,l=this;if(void 0===t&&(t=!1),void 0===e&&(e=null),void 0===i&&(i=!0),void 0===n&&(n=oe.physicle),void 0===o&&(o=!0),void 0===a&&(a=!1),void 0===s&&(s=!0),!this.dead){if(this.beforeSpecialZombieDieForced(t,e,i,n,o,a,s),this.pushSunBeanHealth(this.totalHealth()),this.sunbeanSunPerHitpoint=0,this.endSandStorm(),this.iceblock&&this.iceblock.die(),o&&this._setHurtingOnDamaged(),this.isRealZombie&&s&&!this.hypno&&U.uiingame.calculateLevelTask(J.ZombieKillCountDown,{}),this.throwPlantFoodAndSun(),this.deathCauseReader(e,n),this.BlueBerryCloud=null,this.isRealZombie&&!this.displayed&&s){var d=Math.random();d<.005?N.dropOneGem(this.worldPosition):d<.01?N.dropOneCoin(this.worldPosition,1):d<.025&&N.dropOneCoin(this.worldPosition,0)}if(this.isRhythm){var c,u=null==(c=M.component)?void 0:c.rhythmZombies.find((function(t){return t.zombie==l}));u&&(u.dead=!0),this.isRhythm=!1}this.sunBeanParticleCD=0,this.chiliStun=0,this.eating=!1,this.isIdle=!1,this.dead=!0,z.deleteZombie(this),null==(r=this.inLane)||r.deleteZombie(this),this.displayed||null==(h=M.component)||h.dealFightAlonePlantProgress(this.WPC_wave),this.clearBuff(),this.armors.length&&(this.armors.concat().forEach((function(t){l.displayed||l.throwArmor(t,e),T.destroyPooly(t.node)})),this.armors=[]),t||(i&&this.playOnHeadThrownSound(),this.haveHead&&o&&this.dropHead(e),o&&this.body.showHead(!1),this.playSpecialZombieDie(e),a&&this.judgeDeath(),this.CarriedSporeShroom&&this.turnIntoSporeShroom()),this.displayed||this.playSpecialZombieDieForced(),this.dirtSpawning&&this.endDirtSpawn(),this.hypno=!1,this.setBodyRec(!0)}},s.playSpecialZombieDie=function(t){},s.playSpecialZombieDieForced=function(){},s.replayAnimation=function(){var t=this.body.body.armature().animation.lastAnimationState,e=t.currentTime/t.totalTime;this.walking?(this.walking=!1,this.playWalk(0,e)):this.eating?(this.eating=!1,this.playEat(0,e)):this.isIdle&&(this.isIdle=!1,this.playIdle(0,e))},s.playEat=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.isIdle=!1,this.walking=!1,this.dead||(this.eatSoundCoolDown>0?this.eatSoundCoolDown-=t:(this.chewSoundWhenEat&&E.playZombieChew(this.chewSound),this.eatSoundCoolDown=1),this.eating||(this.eatSoundCoolDown=0,this.body.playAnimation(this.body.EatAnm,1/0,i,e),this.setSpeed(0,!1),this.correctShadeWP(),this.eating=!0),this.body.currentAnimationName!=this.body.EatAnm&&this.body.playAnimation(this.body.EatAnm,1/0,i,e))},s.playIdle=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=!0),this.isIdle&&!i||(this.walking=!1,this.isIdle=!0,this.eating=!1,this.body.playAnimation(this.body.IdleAnm,1/0,t,e),this.setSpeed(0,!1))},s.onWalkStart=function(){},s.playWalk=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.defaultPlayWalk(t,e)},s.defaultPlayWalk=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.isIdle=!1,this.eating=!1,this.walking||(this.body.playAnimation(this.body.WalkAnm,1/0,t,e),this.walking=!0,this.setSpeed(this.shouldSpeedScale()),this.onWalkStart())},s.specialZombieOnLoad=function(){},s.onHypnoed=function(){},s.additionalZombies=function(){return[]},s.onPutDirectly=function(t){},s.animationOnLPComplete=function(){},s.playOneShot=function(t,e,i,n){return void 0===e&&(e=1),void 0===i&&(i=!1),void 0===n&&(n=(null==t?void 0:t.getDuration())/2),t&&e>0&&(i?E.play(t,e,NaN,.1):E.play(t,e,n)),!0},s.characterOnLoadForced=function(){var t;this._armorSocket=null==(t=this.node.getChildByName("Body"))?void 0:t.getChildByName("ArmorSocket")},s.characterOnLoad=function(){var t=this;this.body.body=this.body.getComponent(d.ArmatureDisplay),this.body.body.addEventListener(d.EventObject.FRAME_EVENT,this.animationListener,this),this.body.body.addEventListener(d.EventObject.SOUND_EVENT,this.soundEventListener,this),this.body.body.addEventListener(d.EventObject.LOOP_COMPLETE,(function(){t.blew||t.fallingInSky||(t.animationOnLPComplete(),t.judgeFade(),t.judgeDeath())}),this),this.db=this.body.body,this.getComponent(w)||this.addComponent(w),this.audioSource=this.getComponent(w),this.specialZombieOnLoad();var e=new S;e.initialize({effectAsset:F.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=e},s.specialZombieOnSquareChange=function(t,e){},s.specialZombieOnSquareChangeForce=function(t,e){},s.CanbeSweetPotatoReversed=function(){return!0},s.characterOnSquareChange=function(t,e){var i=e.getTileType(),n=this.inWater;this.inWater=i==I.water,!n&&this.inWater&&this.enterWater(),n&&!this.inWater&&this.exitWater(),this.isAlive()&&!this.sandStormTween&&this.specialZombieOnSquareChange(t,e),this.specialZombieOnSquareChangeForce(t,e)},s.enterWater=function(){this.onEnterWater()},s.onEnterWater=function(){},s.exitWater=function(){this.onExitWater()},s.onExitWater=function(){},s.moveFromLaneToLane=function(t,e){null==t||t.deleteZombie(this),null==e||e.addZombie(this)},s.specialZombieOnLaneChange=function(t,e){},s.specialZombieSetLaneChangeParent=function(t,e){var i=e.zombieLayer;this.iceblock?i=this.iceblock.node.parent:this.hypno&&(i=e.hypnoZombieLayer),this.node.setParent(i,!0),this.iceblock&&this.node.setSiblingIndex(0),-2!=t.LaneIndex&&(null==t?void 0:t.LaneIndex)<(null==e?void 0:e.LaneIndex)&&!this.displayed&&this.node.setSiblingIndex(0)},s.characterOnLaneChange=function(t,e){var i,n;!t&&e&&(this._hypno=!1),this.fallingInSky||(this.specialZombieSetLaneChangeParent(t,e),this.isAlive()&&this.moveFromLaneToLane(t,e)),this.zombieWave&&(this.zombieWave.node.setParent(this.node.parent,!0),this.zombieWave.node.setSiblingIndex(this.node.getSiblingIndex()+1)),null==(i=this.icetrapParticle)||null==(i=i.node)||i.setParent(this.node.parent),null==(n=this.icetrapParticle)||null==(n=n.node)||n.setSiblingIndex(this.node.getSiblingIndex()+1),this.perfumeParticle&&this.perfumeParticle.node.setParent(this.inLane.prjLayer,!0),this.hypnoPar&&this.hypnoPar.node.setParent(this.inLane.prjLayer,!0),this.poisonPar&&this.poisonPar.node.setParent(this.inLane.prjLayer,!0),this.chiliStunParticle&&this.chiliStunParticle.node.setParent(this.inLane.prjLayer,!0),this.sunBeanParticle&&this.sunBeanParticle.node.setParent(this.inLane.prjLayer,!0),this.sandStormPar&&(this.sandStormPar.node.setParent(this.node.parent,!0),this.sandStormPar.node.setSiblingIndex(this.node.getSiblingIndex()+1)),this.specialZombieOnLaneChange(t,e)},s.setPlantDetectorRec=function(){M.gameStarted&&this.bodyRecHiddenCD<=0&&this.isAlive()?this.plantDetectorRec=B.createRectangleCenter(new m(this.shadeSocket.worldPosition.x+this.plantDetectorRecOffset.x*(this.reversed?-1:1),this._worldPosition.y+this.height_depth+this.plantDetectorRecOffset.y),this.plantDetectorRecSize.width,this.plantDetectorRecSize.height):this.plantDetectorRec=B.createRectangleCenter(new m(1e4,1e4),1,1)},s.potionInvisibleInvalid=function(){return this.eating&&!this.hypno||this.sunBeanParticleCD>0||this.specialPotionInvisibleInvalid()},s.specialPotionInvisibleInvalid=function(){return!1},s.plantEatExtraAllowed=function(t){return!1},s.plantEatAllowed=function(t){switch(t.ID){case V.PotionSpeed:var e=t.objdataOwn.MaxEnchantLevel;return this.potionSpeedLevel<e;case V.PotionToughness:var i=t.objdataOwn.MaxEnchantLevel;return this.potionToughnessLevel<i;case V.PotionInvisibility:return!this._potionInvisible}return this.specialPlantEatAllowed(t)},s.specialPlantEatAllowed=function(t){return!0},s.detectPlantOn=function(){return!this.switching&&!M.component.gameLost&&!this.dead},s.ignorePlants=function(){return!1},s.defaultDetectPlant=function(t){var e=this;if(0!=t)if(this.inLane){if(this.detectPlantOn()){var i=this.plantDetectorRec,n=null,o=null,a=null;if(!this.ignorePlants())if(this.hypno){var s=1/0;this.inLane.zombiePool().forEach((function(t){var e=t.bodyRec.prjX().x;e<s&&i.judgeCrossRec(t.bodyRec)&&(s=e,o=t)})),s=1/0,this.inLane.tombPool().forEach((function(t){var e=t.bodyRec.prjX().x;e<s&&t.bodyRec.judgeCrossRec(i)&&(s=e,a=t)}))}else{var r,h;null==(r=this.inLane)||r.plantPool().forEach((function(t){(t.eaterDetectable&&e.plantEatAllowed(t)||e.plantEatExtraAllowed(t))&&i.judgeCrossRec(t.bodyRec)&&(n&&t.plantType!=j.vine&&t.plantType!=j.plant&&t.plantType!=j.lilyPad&&t.plantType!=j.pot||(n=t))}));var l=-1/0;null==(h=this.inLane)||h.hypnoZombiePool().forEach((function(t){var n=t.bodyRec.prjX().y;n>l&&t!=e&&i.judgeCrossRec(t.bodyRec)&&(l=n,o=t)}))}var d=new ne(this.dps*t,!0,!1,!1,null);o?this.whenZombieDetected(o,d,t):a?(a.dealDamage(d.damage),this.playEat(t)):n?this.whenPlantDetected(n,d,t):this.allowWalk()?this.playWalk():(this.walking||this.eating)&&this.playIdle()}}else this.playWalk()},s.allowWalk=function(){return!0},s.detectPlant=function(t){this.defaultDetectPlant(t)},s.whenPlantDetected=function(t,e,i){this.defaultWhenPlantDetected(t,e,i)},s.defaultWhenPlantDetected=function(t,e,i){t.eat(e.damage,this),this.playEat(i)},s.whenZombieDetected=function(t,e,i){this.defaultWhenZombieDetected(t,e,i)},s.defaultWhenZombieDetected=function(t,e,i){t.eatByZombie(e,this),this.playEat(i)},s.specialZombieOnEnable=function(){},s.characterOnEnable=function(){var t,e,i,n,o,a;(this.CarriedSporeShroom=!1,this.iceblock=null,this.spawnedWave=-1,this.isRhythm=!1,this.isIdle=!1,this.walkDir=new m(-1,0),this.walkRouteBufferDistance=NaN,this.walkRoute=[],this.tangled=!1,this.sunbeanSunPerHitpoint=0,this.canBeKilledByRule=!0,this._hypno=!1,this.coloredWhenHypnoed=!0,this._usedToBeHypno=!1,this.tallNutBlock=!1,this.dirtSpawning=!1,null==(t=this.knockBackTween)||t.stop(),this.knockBackTween=null,null==(e=this.changeLaneTween)||e.stop(),this.changeLaneTween=null,null==(i=this.leapHeightTween)||i.stop(),this.leapHeightTween=null,this.lieEnded=!1,this.chiliStun=0,this.chiliStunParticle=null,this.sunBeanParticle=null,this.perfume=0,this.perfumeParticle=null,this.teleporting=!1,this.sapflingCD=0,this.dealDamageScale=[],this._potionSpeedLevel=0,this._potionToughnessLevel=0,this._potionInvisible=!1,this.bodyRecHiddenCD=.06,this.hurting=0,this.haveHead=!0,null==(n=this.chilibeanFartTween)||n.stop(),this.chilibeanFartTween=null,this.chilibeanPoisoning=!1,this.displayed=!1,this.enteredLawn=!1,this.node.angle=0,this.body.node.angle=0,this.inLane=null,this.inLnC=null,this.currentFlyZombie=this.flyZombie,this.flying=this.flyZombie,this.zombieAshParticle_=this.zombieAshParticle,z.registerZombie(this),this.chompable_=!this.objdataOwnOrg.CannotBeSwallowedByChomper,this.easyToChomp_=this.objdataOwnOrg.CanBeEasilySwallowedByChomper,this.oldTileType=I.floor,this.zombieWave&&(T.destroyPooly(this.zombieWave.node),this.zombieWave=null),this.eating=!1,this.dead=!1,this.blew=!1,this.fallingInSky=!1,this.haveArm=!0,this.walking=!1,this.inWater=!1,this.body.node.angle=0,this.body.showHead(!0),this.body.showArm(),this.clearBuff(),this.setRandomSpeed(),this.health=this.toughness,this.body.node.scale=new f(1,1,1),this.walking=!1,this.playWalk(0,Math.random()),this.detectPlant(.01),this.switching=!1,this._reverseCD=0,this.reversed=!1,this.setBodyRec(!0),this.specialZombieOnEnable(),this.pfParCD=5,null==(o=this.audioSource)||o.stop(),this.BlueBerryCloud=null,this.displayed)||(null==M||null==(a=M.component)||a.meetZombie(this))},s.setRandomSpeed=function(t){void 0===t&&(t=.012),this.randomSpeedRate=t*(1-2*Math.random())},s.playSpecialZombieDeath=function(){},s.judgeDeath=function(t){void 0===t&&(t=this.deathAnmFadeInTime),this.blew||this.dead&&this.body.currentAnimationName!=this.body.DeathAnm&&(this.playDeathSound(),this.walking=!1,this.body.playAnimation(this.body.DeathAnm,1,t),this.body.body.timeScale=1,this.setSpeed(0,!1),this.playSpecialZombieDeath())},s.judgeFade=function(){this.lieEnded&&!this.fadingAway&&(P.Color.set(this.body.body.color,255,255,255,255),this.fadeAway())},s.specialSoundEventListener=function(t){},s.soundEventListener=function(t){"fall"==t.name&&(this.isRhythm||this.inLnC.getTileType()==I.sky||(this.lieSound.length?E.playArray(this.lieSound):E.playZombieLie())),this.specialSoundEventListener(t)},s.specialSetBodyRec=function(){this.bodyRec=B.createRectangleCenter(new m(this.shadeSocket.worldPosition.x+this.bodyRecOffset.x*(this.reversed?-1:1),this._worldPositionY+this.bodyRecOffset.y+this.height_depth),this.bodyRecSize.width,this.bodyRecSize.height)},s.currentFarBodyRec=function(){return!1},s.setBodyRec=function(t){void 0===t&&(t=this.currentFarBodyRec()),t||this.bodyRecHiddenCD>0?this.bodyRec=new B:this.specialSetBodyRec()},s.meetMower=function(t){var e=this;if(void 0===t&&(t=!0),!this.blew&&(this.playDie(!1,null,!0,oe.physicle,!0,!0,!1),!this.objdataOwn.NormalDeathWhenMowed)){this.blew=!0;var i=y(this.node).to(.5,{scale:new f(this.node.scale.x,.01,1)},{easing:"quadIn"}).start(),n=y(this.body.node).to(.5,{angle:t?-90:90,scale:new f(1,1.5,1)},{easing:"quadOut"}).call((function(){T.destroyPooly(e.node)})).start();this.blowAwayTweens.push(i,n)}},s.prevDistance=function(){return R.SquareDisW},s.isInLawn=function(){return this.inLnC&&this.inLnC.lIndex>=0&&this.inLnC.lIndex<=4&&this.inLnC.cIndex>=0&&this.inLnC.cIndex<=8},s.isAlive=function(){return!(this.dead||this.fallingInSky||this.blew||this.displayed)},s.additionalSatuation=function(){return 0},s.shouldMaterial=function(){var t=this,e=new b(0,0,0,255),i=0;this.teleporting&&(e.r+=this.addColor.r,e.g+=this.addColor.g,e.b+=this.addColor.b,this.armors.forEach((function(e){e.hurting=t.addColor.b/10}))),this.CarriedSporeShroom&&(e.r+=F.zombieSporeShroomCarrier.r,e.g+=F.zombieSporeShroomCarrier.g,e.b+=F.zombieSporeShroomCarrier.b);var n=0;this.hurting>0&&(e.r+=8*this.hurting,e.g+=8*this.hurting,e.b+=8*this.hurting,i+=this.hurting/20);var o=0;i+=this.additionalSatuation(),this.dead||this.fallingInSky||((this.chill>0||this.freeze>0||this.iceblocked)&&(n=1),this.havePlantfood&&(e.r+=F.zombiePF.r,e.g+=F.zombiePF.g,e.b+=F.zombiePF.b),this.haveSun>0&&(e.r+=F.zombieSunAdd.r,e.g+=F.zombieSunAdd.g,e.b+=F.zombieSunAdd.b),this.potionInvisible&&(o=.5,e.r+=F.zombieInvisiblilityPotion.r,e.g+=F.zombieInvisiblilityPotion.g,e.b+=F.zombieInvisiblilityPotion.b)),this.glittering>0&&(e.r=194,e.g=0,e.b=178);var a=this.material.passes[0].getHandle("chillColor"),s=this.material.passes[0].getHandle("addColor"),r=this.material.passes[0].getHandle("saturation"),h=this.material.passes[0].getHandle("holo");this.material.passes[0].setUniform(a,n),this.material.passes[0].setUniform(s,e),this.material.passes[0].setUniform(r,i),this.material.passes[0].setUniform(h,o),this.body.body.customMaterial=this.material},s.shouldColor=function(){var t=new b(255,255,255,255);this.displayed||!(this.worldPositionX>1200||this.worldPositionX<-200)?(this.poison.isValid()?(t.r-=255-F.zombiePoisonColor.r,t.g-=255-F.zombiePoisonColor.g,t.b-=255-F.zombiePoisonColor.b):this.perfume>0&&(t.r-=255-F.zombiePerfumeColor.r,t.g-=255-F.zombiePerfumeColor.g,t.b-=255-F.zombiePerfumeColor.b),this.coloredWhenHypnoed&&this.hypno&&(t.r-=255-F.zombieHypno.r,t.g-=255-F.zombieHypno.g,t.b-=255-F.zombieHypno.b),this.potionSpeedLevel>0&&(t.r-=255-F.zombieSpeedPotion.r,t.g-=255-F.zombieSpeedPotion.g,t.b-=255-F.zombieSpeedPotion.b),this.potionToughnessLevel>0&&(t.r-=255-F.zombieToughnessPotion.r,t.g-=255-F.zombieToughnessPotion.g,t.b-=255-F.zombieToughnessPotion.b),this.dead&&(t=new b(255,255,255,255)),0==t.r&&0==t.g&&0==t.b&&(t=new b(255,255,255,255)),this.body.body.color=t):this.body.body.color=new b(255,255,255,0)},s.onLaneSpawnSettled=function(t,e){},s.almanac=function(t){var e,i,n,o;this.body.body=null==(e=this.body)?void 0:e.getComponent(d.ArmatureDisplay),this.butterFace&&(this.butterFace.node.active=!1),null==(i=this.body)||null==(i=i.body)||i.playAnimation(this.body.IdleAnm,1/0),null==(n=this.body)||n.showArm(!0),null==(o=this.body)||o.showHead(!0),this.specialAlmanac(t)},s.specialAlmanac=function(t){},s.animationListener=function(t){M.component.gameOver&&!this.isGameLoseTriggerer||this.blew||this.fallingInSky||U.willDestroySceneNextTick||("die"==t.name?this.lieEnded=!0:"land"==t.name?(this.flying=!1,this.currentFlyZombie=!1):"leapEnd"==t.name?this.blew||this.onLeapEnd():"switchingFalse"==t.name&&this.switchingFalse(),this.specialAnimationListener(t))},s.switchingFalse=function(){this.switching=!1,this.isAlive()&&!M.component.gameOver?this.detectPlantOn()?(this.playWalk(),this.specialZombieUpdateBeforePlantDetect(.001,.001,1),this.detectPlant(.001)):this.playWalk():this.judgeDeath(0)},s.specialAnimationListener=function(t){},s.dropSea=function(){this.blew||(x.spawnSeaSplash(this.inLnC.lIndex,this.node.worldPosition),this.playDie(!0),T.destroyPooly(this.node))},s.clearBuff=function(){var t,e;this.glittering=0,this.chill=0,this.freeze=0,this.stunned=0,this.chiliStun=0,this.perfume=0,null==(t=this.icetrapParticle)||t.playAnimation("Die",1),this.icetrapParticle=null,this.poison=new ie(0,0),null==(e=this.body.body.armature().getSlot("POISONFACE"))||e._setDisplayIndex(-1),this.butterStun=0,this.butterFace&&(this.butterFace.node.active=!1),this.shouldColor(),this.shouldMaterial()},s.playFall=function(){var t=this;if(!this.fallingInSky&&!this.blew&&!this.teleporting){this.knockBackTween&&(this.knockBackTween.stop(),this.knockBackTween=null),this.leapHeightTween&&(this.leapHeightTween.stop(),this.leapHeightTween=null),this.body.body.timeScale=0,this.walking=!1,this.armors.forEach((function(e){t.throwArmor(e,null),T.destroyPooly(e.node)})),this.armors=[],this.setPlantDetectorRec();var e=this.hurting;this.dead||this.playDie(!0),this.hurting=e,this.fallInSky(!0),this.setSpeed(0)}},s.onSkyFallEnd=function(){this.reversed=!1,this.destroyWhenFallEnd?this.node.destroy():T.destroyPooly(this.node)},s.endSandStorm=function(){var t,e;this.sandStormTween&&(this.playWalk(),this.detectPlant(.01),null==(t=this.sandStormPar)||t.end(),this.sandStormPar=null,null==(e=this.sandStormTween)||e.stop(),this.sandStormTween=null)},s.onSandStormStart=function(){},s.playSandStorm=function(t,e){var i=this;if(void 0===e&&(e=0),!this.sandStormTween){this.onSandStormStart(),this.playIdle(),this.worldPositionX=this.inLane.toRight.worldPosition.x;var n=x.sandStorm();1==e&&(n=x.snowStorm());var o=D(n);o.parent=this.node.parent,o.worldPosition=this.node.worldPosition,o.setSiblingIndex(this.node.getSiblingIndex()+1),this.sandStormPar=o.getComponent(q),this.sandStormPar.onSettled(),this.sandStormTween=y(this).to(3,{worldPositionX:t},{easing:"quadOut"}).to(1,{}).call((function(){i.endSandStorm()})).start()}},s.specialZombieUpdate=function(t,e,i){},s.specialZombieUpdateBeforePlantDetect=function(t,e,i){},s.specialZombieUpdateForced=function(t,e,i,n){},s.onTileTypeChange=function(t,e){this.displayed||(this.flying||this.blew||(e==I.sky&&this.playFall(),e==I.sea&&this.dropSea()),t!=I.water&&e==I.water&&(this.inWater=!0,this.enterWater()),t==I.water&&e!=I.water&&(this.inWater=!1,this.exitWater()),this.oldTileType=e,this.specialOnTileTypeChange(t,e))},s.specialOnTileTypeChange=function(t,e){},s.onWaveAdded=function(t){},s.addZombieWave=function(t){if(!this.flying&&t==I.water&&!this.zombieWave&&this.height_depth<0){var e=T.instantiatePooly(x.zombieWaterWave());e.parent=this.node.parent,e.setSiblingIndex(this.node.getSiblingIndex()+1),this.zombieWave=e.getComponent(G),this.zombieWave&&this.onWaveAdded(this.zombieWave)}this.zombieWave&&(this.zombieWave.node.worldPosition=new f(this.shadeSocket.worldPosition.x,this.worldPositionYFoot),this.shade&&(this.zombieWave.node.worldScale=new f(this.originalShadeScale.width,this.originalShadeScale.height,1).multiplyScalar(2*Math.abs(this.scale))),(t!=I.water||this.height_depth>=0)&&(this.zombieWave.db.playAnimation("Fade",1),this.zombieWave.willBeKilled=!0,this.zombieWave=null))},s.specialDisblowable=function(t){return!1},s.blowAway=function(t,e,i,n){var o=this;if(void 0===t&&(t="quadIn"),void 0===e&&(e=1),void 0===i&&(i=!1),void 0===n&&(n=!1),!this.blew&&!this.specialDisblowable(i)){var a=this.hurting;this.playDie(!0,null,!1),this.hurting=a,this.blew=!0;var s=y(this).by(e,{worldPositionX:2e3*(n?-1:1)},{easing:t}).call((function(){o.armors.concat().forEach((function(t){T.destroyPooly(t.node)})),o.armors=[],o.clearBuff(),s.stop(),T.destroyPooly(o.node)})).start();this.blowAwayTweens.push(s)}},s.tossAway=function(t,e){var i=this;if(void 0===t&&(t=1.5),void 0===e&&(e=null),!this.blew&&!this.specialDisblowable(!0)){e||(e=new m(1,.3+.15*Math.random())),e.y<=0&&(e.y=0),0==e.x&&(e.x=.01),this.depth=0;var n=y(this).by(t,{height:2e3*e.y/e.x}).start(),o=y(this.node).by(t,{angle:90+90*Math.random()}).call((function(){null==n||n.stop(),null==o||o.stop(),i.node.angle=0})).start();this.blowAway("linear",t,!0),this.blowAwayTweens.push(n,o)}},s.turnIntoSporeShroom=function(){var t=this;if(this.CarriedSporeShroom=!1,!this.blew){this.playDie(!0,null,!1),this.blew=!0;var e=y(this).to(.3,{scale:.01}).call((function(){var i,n=D(x.sporeShroomSpawn());n.parent=t.inLane.tombLayer,n.worldPosition=t.worldPosition.toVec3(),null==e||e.stop();var o=null==(i=t.inLnC)?void 0:i.spawnPlantByPlantEnum(V.SporeShroom,!0,!0,!1,!0);o&&(o.foodEnd(),o.anmControl.playAnimation("Spawn",1,0,1),o.shovelDropSun=!1),T.destroyPooly(t.node)})).start();this.blowAwayTweens.push(e)}},s.plantFoodPar=function(t){if(this.pfParCD>0&&(this.pfParCD-=t),this.pfParCD<=0){var e;this.pfParCD=3+3*Math.random();var i=T.instantiatePooly(x.PFLightning());if(i.parent=null==(e=this.inLane)?void 0:e.prjLayer,i.active){var n=Math.random()>.5,o=new f(n?this._bodyRec.prjX().x:this._bodyRec.prjX().y,this.worldPositionY+this.height_depth,0);isNaN(o.x)&&(o.x=this.worldPositionX),i.worldPosition=o,i.getComponent(d.ArmatureDisplay).playAnimation("");var a=this.zombieHeight/96;i.scale=new f(a,a,a)}}},s.bossOnPriceCollected=function(){return 0},s.dropPoint=function(t){return x.playPointShower(t.toString(),new m(this.worldPositionX,this.worldPositionY+this.height_depth+this.zombieHeight),new m(0,50),new m(.4,.4),new m(255,0),new m(0,.7),new b(255,255,255,255),!1)},s.specialTriggerGameLose=function(){},s.triggerGameLose=function(){this.switching=!0,this.playEat(0),this.specialTriggerGameLose()},s.lockedTimeScale=function(){return NaN},s.laneBinder=function(t){if(!this.displayed&&!this.knockBackTween&&!this.leapHeightTween&&!this.changeLaneTween&&this.bindsToLane&&this.inLane&&!this.walkRouteBufferDistance){var e=this.inLane.floorY-this.worldPositionY;if(!e)return;var i=t*R.SquareDisH*(e>0?1:-1)/2;i/e>1?this.worldPositionY=this.inLane.floorY:this.worldPositionY+=i}},s.walkDisScale=function(t){return 1},s.setWalkRoute=function(t,e,i){var n=this;null!=t&&t.length&&(this.walkRoute=[],t.forEach((function(t,e){n.walkRoute.push(new m(t.x,t.y))})),this.worldPositionX=t[0].x,this.worldPositionY=t[0].y,this.walkRouteBufferDistance=R.transFrom_ow_To_gw(e),this.walkSPSAtRoute=R.transFrom_ow_To_gw(i)/R.SquareDisW)},s.setWalkDir=function(t){if(this.walkRoute.length&&t&&this.walkRouteBufferDistance){var e=this.walkRoute[0].clone().subtract(this.worldPosition),i=this.walkDir.signAngle(e),n=Math.pow(this.walkSPSAtRoute,2)*Math.sign(i)*v/2*t;!n||i/n<=1?this.walkDir=e.clone().normalize():this.walkDir.rotate(n),e.length()<=this.walkRouteBufferDistance&&this.walkRoute.shift()}},s.walkSpeedScaleEnteringLawn=function(){return 2},s.defaultWalkTimeScale=function(t,e,i){return t/e/Math.abs(this.scale)},s.walkTimeScale=function(t,e,i){return this.defaultWalkTimeScale(t,e,i)},s.walkSpeedScaleExtra=function(){return 1},s.characterUpdate=function(t){var e,i,n=null==(e=this.inLnC)?void 0:e.getTileType();this.bodyRecHiddenCD-=t,this.setPlantDetectorRec(),this.setBodyRec(!this.isAlive()),this.havePlantfood&&this.plantFoodPar(t),!this.enteredLawn&&this._bodyRec.judgeCrossRec(R.lawnRec)&&(this.enteredLawn=!0),null==(i=this.icetrapParticle)||null==(i=i.node)||i.setWorldPosition(new f(this._worldPositionX,this._worldPositionY));var o=this.shouldSpeedScale();this.setWalkDir(t*o);var a=this.walkSpeedScaleExtra()*(this.walkRouteBufferDistance?this.walkSPSAtRoute:this.randomSpeed)*R.SquareDisW/60*o*(this.enteredLawn?1:this.walkSpeedScaleEnteringLawn());if(!this.fallingInSky&&this.walking?(this.body.body.timeScale=this.walkTimeScale(a,this.anmSpeed,o),this.worldPositionX+=this.walkDir.x*a*t*60*(this.reversed?-1:1)*this.walkDisScale(n),this.worldPositionY+=this.walkDir.y*a*t*60*(this.reversed?-1:1)*this.walkDisScale(n)):this.lockedTimeScale()>=0?this.body.body.timeScale=this.lockedTimeScale():this.eating||this.switching?this.body.body.timeScale=o:this.dead?this.body.body.timeScale=1:this.body.body.timeScale=o*this.randomSpeed/this.squarePerSec,this.hypnoPar&&(this.hypnoPar.node.worldPosition=new f(this.shadeWorldPosition.x,this.worldPositionY+this.height+this.zombieHeight)),this.poisonPar&&(this.poisonPar.node.worldPosition=new f(this.shadeWorldPosition.x,this.worldPositionY+this.height+this.zombieHeight)),this.isAlive()?(this.worldPositionX<R.zombieWinX&&!this.reversed&&!this.walkRouteBufferDistance?M.sandBoxModeOn?this.worldPositionX=R.zombieSpawnX:this.reversed||this.hypno||this.isRhythm||!this.brainEater||!this.isRealZombie||(R.zombieDieInsteadOfWinning?this.playDie(!1,null,!0,oe.physicle,!0,!1,!1):U.uiingame.loseDarken(this)):this.worldPositionX>R.zombieSpawnX&&this.reversed&&!this.walkRouteBufferDistance&&M.sandBoxModeOn&&(this.worldPositionX=R.zombieWinX),(this.worldPositionX>R.zombieSpawnX+R.SquareDisW&&(this.reversed&&this.walkDir.x<0||!this.reversed&&this.walkDir.x>0)||this.worldPositionX<=Math.max(R.zombieWinX-R.SquareDisW,0)&&(!this.reversed&&this.walkDir.x<0||this.reversed&&this.walkDir.x>0)||this.worldPositionY<=-100||this.worldPositionY>=800)&&(this.playDie(!0,null,!1,oe.physicle,!1,!1,!1),T.destroyPooly(this.node)),this.inLane&&!this.dirtSpawning&&!this.sandStormTween&&M.gaming&&(this.specialZombieUpdateBeforePlantDetect(t*o,t,o),this.detectPlant(t*o),this.specialZombieUpdate(t*o,t,o)),this.iceblock&&(this.worldPosition=this.iceblock.worldPosition),this.dealPoison(t),this.dealButter(t),this.dealChiliStun(t),this.dealGlittering(t),this.dealSunBeanPar(t),this.dealPerfume(t),this.dealHurrikale(t)):this.havePlantfood&&(this.havePlantfood=!1,N.producePlantFood(this.worldPosition)),this.specialZombieUpdateForced(t*o,t,o,n),this.reverseCD>0&&(this.reverseCD-=t),n!=this.oldTileType?this.onTileTypeChange(this.oldTileType,n):this.flying||this.fallingInSky||this.teleporting||this.blew||this.displayed||(n==I.sky?this.playFall():n==I.sea&&this.dropSea()),this.laneBinder(t*o),this.correctDepth(t),this.hurting>0&&(this.hurting-=60*t),this.stunned>0&&(this.stunned-=t),this.chill>0&&this.freeze<=0&&(this.chill-=t),this.sapflingCD>0&&(this.sapflingCD-=1),this.freeze>0){if(this.freeze-=t,!this.icetrapParticle){var s=T.instantiatePooly(x.zombieIceTrap());this.inLane&&(s.parent=this.node.parent,s.worldPosition=this.node.worldPosition,s.setSiblingIndex(this.node.getSiblingIndex()+1),this.icetrapParticle=s.getComponent(d.ArmatureDisplay),this.icetrapParticle.playAnimation("Idle",1/0))}}else this.icetrapParticle&&(this.icetrapParticle.playAnimation("Die",1),this.icetrapParticle=null);this.shouldMaterial(),this.dead||this.shouldColor(),this.addZombieWave(n),this.tallNutBlock&&this.tallNutListen(),this.sandStormPar&&(this.sandStormPar.node.worldPosition=new f(this._worldPositionX,this._worldPositionY)),M.component.gameWon&&!this.dirtSpawning&&this.canBeKilledByRule&&this.playDie(),this.isGameLoseTriggerer&&this.playEat(t)},s.shouldDepth=function(){return this.flying?-.01:H.depth(this._worldPositionX,this.inLnC)*this.depthScale},s.getDDepth=function(t,e){return e*t*4},s.correctDepth=function(t){if(!this.dirtSpawning&&!this.leapHeightTween&&!this.blew){var e,i=-this.shouldDepth();i<0&&null!=(e=this.inLnC)&&e.deepwater&&!this.iceblocked&&!this.objdataOwn.LivesInDeepWater&&(i=3*-this.zombieHeight);var n=i-this.height_depth,o=this.getDDepth(n,t);o>0&&(o*=2),n/o<1||Math.abs(n)<.5?this.height_depth=i:this.height_depth+=o,this.height_depth<-2*this.zombieHeight&&(this.chomp(),x.spawnWaterSplash(this.lIndex,new f(this._worldPositionX,this._worldPositionY,0)))}},s.chomp=function(){this.playDie(!0,null,!1,oe.physicle,!1,!1,!0),T.destroyPooly(this.node)},i(e,[{key:"reverseCD",get:function(){return this._reverseCD},set:function(t){if(this._reverseCD<=0&&t>0||this.reverseCD>0&&t<=0){var e=t>0;this.reverseSetScale(e||this._reversed),this._reversed!=e&&this.onReversedSet(e),this._reverseCD=t,this.setBodyRec(),this.setPlantDetectorRec()}this._reverseCD=t}},{key:"iceblock",get:function(){return this._iceblock},set:function(t){this._iceblock=t,t?(this.node.setParent(t.node.parent,!0),this.node.setSiblingIndex(0)):this.inLane&&this.characterOnLaneChange(this.inLane,this.inLane)}},{key:"iceblocked",get:function(){var t;return null!=(t=this.iceblock)&&t.dead&&(this.iceblock=null),!!this.iceblock}},{key:"ZombieSort",get:function(){var t=re[this.objdataOwnOrg.ZombieSort];return isNaN(t)&&(t=re.Other),t}},{key:"reversed",get:function(){return this._reversed||this._reverseCD>0},set:function(t){this.reverseSetScale(t||this.reverseCD>0),t!=this._reversed&&this.onReversedSet(t),this._reversed=t,this.setBodyRec(),this.setPlantDetectorRec()}},{key:"chiliStun",get:function(){return this._chiliStun},set:function(t){if(this.chiliStun<=0&&t>0&&!this.invincible){var e=D(x.zombieChiliBeanStun());e.parent=this.node.parent,e.setSiblingIndex(this.node.getSiblingIndex()+1),e.worldPosition=new f(this.shade.node.worldPosition.x,this._worldPositionY),this.chiliStunParticle=e.getComponent(G),this.chiliStunParticle.db.playAnimation("Start",1)}else(this.invincible||this._chiliStun>0&&t<=0)&&this.chiliStunParticle&&(this.chiliStunParticle.db.playAnimation("Die",2),this.chiliStunParticle=null);this._chiliStun=t}},{key:"poison",get:function(){return this._poison},set:function(t){if(t.isValid()&&t.infective&&!this.poisonPar){var e=D(x.zombiePoisonBubble());e.parent=this.node.parent;var i=e.getComponent(G);this.poisonPar=i,i.db.playAnimation("Idle",1/0),e.worldPosition=new f(this.shadeWorldPosition.x,this.worldPositionY+this.height+this.zombieHeight)}else t.isValid()&&t.infective||!this.poisonPar||(this.poisonPar.db.playAnimation("Die"),this.poisonPar=null);this._poison=t}},{key:"perfume",get:function(){return this._perfume},set:function(t){if(t>0&&this._perfume<=0){var e=D(x.zombiePerfumeSlow());e.parent=this.inLane.prjLayer,e.worldPosition=this.node.worldPosition.clone(),e.worldScale=this.node.worldScale.clone(),this.perfumeParticle=e.getComponent(G),this.perfumeParticle.db.playAnimation("Idle",1/0)}else if(t<=0&&this._perfume>0){var i;null==(i=this.perfumeParticle)||null==(i=i.db)||i.playAnimation("Die",1)}this._perfume=t}},{key:"flying",get:function(){return this._flying},set:function(t){!t&&this._flying&&(this.blew||this.onLanding()),this._flying=t}},{key:"toughness",get:function(){return this.objdataOwn.Toughness}},{key:"sunBeanParticleCD",get:function(){return this._sunBeanParticleCD},set:function(t){if(this._sunBeanParticleCD<=0&&t>0){var e=D(x.zombieSunBean());e.parent=this.node.parent,e.setSiblingIndex(this.node.getSiblingIndex()+1),e.worldPosition=new f(this.shade.node.worldPosition.x,this._worldPositionY+this.zombieHeight/2),this.sunBeanParticle=e.getComponent(G),this.sunBeanParticle.db.playAnimation("Idle",2)}else this._sunBeanParticleCD>0&&t<=0&&this.sunBeanParticle&&(this.sunBeanParticle.db.playAnimation("Die",2),this.sunBeanParticle.willBeKilled=!0,this.sunBeanParticle=null);this._sunBeanParticleCD=t}},{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"squarePerSec",get:function(){return this.objdataOwnOrg.WalkSPS}},{key:"randomSpeed",get:function(){return this.squarePerSec+this.randomSpeedRate}},{key:"anmSpeed",get:function(){return.32}},{key:"invincible",get:function(){return this.glittering>0||this.teleporting}},{key:"hypno",get:function(){return this._hypno},set:function(t){if(t&&this.coloredWhenHypnoed&&!this.hypnoPar){var e=D(x.zombieHypnoBubble());e.parent=this.node.parent;var i=e.getComponent(G);this.hypnoPar=i,i.db.playAnimation("Idle",1/0),e.worldPosition=new f(this.shadeWorldPosition.x,this.worldPositionY+this.height+this.zombieHeight)}else t&&this.coloredWhenHypnoed||!this.hypnoPar||(this.hypnoPar.db.playAnimation("Die"),this.hypnoPar=null);var n=this._hypno!=t;this._hypno=t,t&&(this._usedToBeHypno=!0,this.reversed=!0,this.throwPlantFoodAndSun()),n&&(t&&U.uiingame.calculateLevelTask(J.ZombieKillCountDown,{}),this.inLane&&this.characterOnLaneChange(this.inLane,this.inLane),z.deleteZombie(this),z.registerZombie(this),t&&this.onHypnoed())}},{key:"plantDetectorRec",get:function(){return!this.isAlive()||this.dirtSpawning?new B:this._plantDetectorRec},set:function(t){this._plantDetectorRec=t}},{key:"dps",get:function(){return this.objdataOwnOrg.EatDPS}},{key:"potionInvisible",get:function(){return this._potionInvisible&&!this.potionInvisibleInvalid()},set:function(t){this._potionInvisible=t}},{key:"potionSpeedLevel",get:function(){return this._potionSpeedLevel},set:function(t){var e=t-this._potionSpeedLevel,i=this.scale*Math.pow(this.potionSpeedDeltaScalePerLevel,e);y(this).to(.2,{scale:i}).start(),this._potionSpeedLevel=t}},{key:"potionToughnessLevel",get:function(){return this._potionToughnessLevel},set:function(t){var e=t-this._potionToughnessLevel,i=this.scale*Math.pow(this.potionToughnessDeltaScalePerLevel,e);y(this).to(.2,{scale:i}).start(),this._potionToughnessLevel=t}},{key:"siblingIndexInLane",get:function(){return this.node.getSiblingIndex()}},{key:"bodyRecReal",get:function(){return!M.gameStarted||!this.isAlive()||this.iceblocked||this.dirtSpawning||this.chilibeanFartTween||this.teleporting?new B:this._bodyRec}},{key:"bodyRecForShooter",get:function(){return this.bodyRec}},{key:"bodyRec",get:function(){return this.potionInvisible?new B:this.bodyRecReal},set:function(t){this._bodyRec=t}},{key:"addColor",get:function(){return this._addColor},set:function(t){this._addColor=t}},{key:"ImmuneToSporeShroom",get:function(){return this.objdataOwn.ImmuneToSporeShroom}}]),e}(_)).prototype,"butterFace",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rt=e(zt.prototype,"zombieGroanSoundGroup",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.modern}}),It=e(zt.prototype,"flyZombie",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wt=e(zt.prototype,"breakSound",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Et=e(zt.prototype,"hurtSound",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xt=e(zt.prototype,"hurtSoundVolume",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ht=e(zt.prototype,"deathSound",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zt=e(zt.prototype,"onHeadThrownSound",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ft=e(zt.prototype,"lieSound",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),jt=e(zt.prototype,"chewSound",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Mt=e(zt.prototype,"groanSound",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Nt=e(zt.prototype,"zombieAshParticle",[wt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xt=e(zt.prototype,"body",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yt=e(zt.prototype,"zombieHead",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kt=e(zt.prototype,"zombieArm",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qt=e(zt.prototype,"zombieHeight",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),Gt=e(zt.prototype,"headDropPoint",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vt=e(zt.prototype,"plantDetectorRecOffset",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m(0,38)}}),Ut=e(zt.prototype,"plantDetectorRecSize",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g(32,96)}}),Jt=e(zt.prototype,"bodyRecOffset",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m(0,38)}}),Qt=e(zt.prototype,"bodyRecSize",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g(48,96)}}),$t=e(zt.prototype,"depthScale",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 25}}),Bt=zt))||Bt));s._RF.pop()}}}));

System.register("chunks:///_virtual/ZombieAshParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./LnC.ts","./Character.ts"],(function(t){var e,i,n,o,r,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){o=t.ParticleSelfdestroy},function(t){r=t.TileType},function(t){a=t.Character}],execute:function(){var s;i._RF.push({},"5fe0cRIBMdG9a1Hu7mi2SL6","ZombieAshParticle",void 0);var c=n.ccclass;n.property,t("ZombieAshParticle",c("ZombieAshParticle")(s=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).characterComponent=void 0,e.sky=!1,e.inLnC=void 0,e.height=0,e}e(i,t);var n=i.prototype;return n.zombieAshDBListener=function(t){},n.animationListener=function(t){"ash"==t.name&&this.playAsh(),this.zombieAshDBListener(t)},n.specialOnLoad=function(){this.characterComponent=this.getComponent(a),this.characterComponent.depthStartingZ=10},n.playAsh=function(){var t,e="PlayFloor",i=null==(t=this.inLnC)?void 0:t.getTileType();(this.height>5||i==r.sea||i==r.water||i==r.sky)&&(e="PlaySky"),this.db.playAnimation(e)},i}(o))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/zombieDrop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts"],(function(t){var i,o,e,n,a,r;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,n=t.Vec2,a=t.Size},function(t){r=t.commonShot}],execute:function(){var h;o._RF.push({},"45bb9Yr+sNB1ZuCJPlM2PYm","zombieDrop",void 0);var c=e.ccclass;e.property,t("zombieDrop",c("zombieDrop")(h=function(t){function o(){for(var i,o=arguments.length,e=new Array(o),n=0;n<o;n++)e[n]=arguments[n];return(i=t.call.apply(t,[this].concat(e))||this).popWhenStatic=!1,i}i(o,t);var e=o.prototype;return e.hitFloor=function(t){this.detectEnemyOn=!1,this.height=0;var i=this.linearVelocity.clone(),o=this.bodyLinearVelocity,e=new n(i.x/2,i.y/2),a=o/-2-.55*t*60*this.gravity;Math.pow(a,2)+Math.pow(e.x,2)+Math.pow(e.y,2)<=9&&!this.fadingAway&&(e=new n(0,0),a=0,this.fallingInSky||(this.bodyOmega=0),this.gravity=0,this.fadeAway()),this.linearVelocity=e,this.bodyLinearVelocity=a},e.characterOnEnable=function(){this.initialize(),this.size_=new a(30,30)},e.pop=function(){this.playPopSound(),this.detectEnemyOn=!1,this.bodyLinearVelocity*=-1*(Math.random()+.5),this.bodyLinearVelocity+=5*(Math.random()+.5),this.bodyOmega*=Math.random()+.5,this.linearVelocity.multiplyScalar(-.4*(Math.random()+.5)),0==this.gravity&&(this.gravity=3)},o}(r))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/Zombies.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Zombie.ts","./Armors.ts","./Square.ts","./SoundRescourses.ts","./EgyptCamelZombie.ts","./FrontYard.ts","./levelController.ts","./EgyptCamelTouchZombie.ts","./JSONs.ts","./MultiLanguage.ts"],(function(e){var a,i,o,r,t,b,l,n,c,u,m,s,g,p,_,y,k,h,Z,f,d,w,z,C,v;return{setters:[function(e){a=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){t=e.cclegacy,b=e._decorator,l=e.JsonAsset,n=e.AudioClip,c=e.Prefab,u=e.Vec2,m=e.Component,s=e.instantiate},function(e){g=e.ArrayGet,p=e.NodePools},function(e){_=e.Zombie,y=e.ZombieGroanSoundGroupEnum},function(e){k=e.armorEnum},function(e){h=e.Square},function(e){Z=e.sounds},function(e){f=e.EgyptCamelZombie},function(e){d=e.FrontYard},function(e){w=e.LevelPlay},function(e){z=e.EgyptCamelTouchZombie},function(e){C=e.PvZ2Object},function(e){v=e.MultiLanguage}],execute:function(){var R,G,P,B,S,F,I,T,M,D,W,O,E,A,L,N,j,x,J,H,V,K,q,X,Y,U,Q,$,ee,ae,ie,oe,re,te,be,le,ne,ce,ue,me,se,ge,pe,_e,ye,ke,he,Ze,fe,de,we,ze,Ce,ve,Re,Ge,Pe,Be,Se,Fe,Ie,Te,Me,De,We,Oe,Ee,Ae,Le,Ne,je,xe,Je,He,Ve,Ke,qe,Xe,Ye,Ue,Qe,$e,ea,aa,ia,oa,ra,ta,ba,la,na,ca,ua,ma,sa,ga,pa,_a,ya,ka,ha,Za,fa,da,wa,za,Ca,va,Ra,Ga,Pa,Ba,Sa,Fa,Ia,Ta,Ma,Da,Wa,Oa,Ea,Aa,La,Na,ja,xa,Ja,Ha,Va,Ka,qa,Xa,Ya,Ua,Qa,$a,ei,ai,ii,oi,ri,ti,bi,li,ni,ci,ui,mi,si,gi,pi,_i,yi,ki,hi,Zi,fi,di,wi,zi,Ci,vi,Ri,Gi,Pi,Bi,Si,Fi,Ii,Ti,Mi,Di,Wi,Oi,Ei,Ai,Li,Ni,ji,xi,Ji,Hi,Vi,Ki,qi,Xi,Yi,Ui,Qi,$i,eo,ao,io,oo,ro,to,bo,lo,no,co,uo,mo,so,go,po,_o,yo,ko,ho,Zo,fo,wo,zo,Co,vo,Ro,Go,Po,Bo,So,Fo,Io,To,Mo,Do,Wo,Oo,Eo,Ao,Lo,No,jo,xo,Jo,Ho,Vo,Ko,qo,Xo,Yo,Uo,Qo,$o,er,ar,ir,or,rr,tr,br,lr,nr,cr,ur,mr,sr,gr,pr,_r,yr,kr,hr,Zr,fr,dr,wr,zr,Cr,vr,Rr,Gr,Pr,Br,Sr,Fr,Ir,Tr,Mr,Dr,Wr,Or,Er,Ar,Lr,Nr,jr,xr,Jr,Hr,Vr,Kr,qr,Xr,Yr,Ur,Qr,$r,et,at,it,ot,rt,tt,bt,lt,nt,ct,ut,mt,st,gt,pt,_t,yt,kt,ht,Zt,ft,dt,wt,zt,Ct,vt,Rt,Gt,Pt,Bt,St,Ft,It,Tt,Mt,Dt,Wt,Ot;t._RF.push({},"3127d1KIzhGIqdUCpakDMry","Zombies",void 0);var Et=b.ccclass,At=b.property,Lt=(e("ZombieFeature",(function(){this.NAME=new v,this._CARDSPRITENAME="",this.CODENAME="",this.SUNCOST=0,this.WAVEPOINTCOST=100,this.WEIGHT=100,this.OBTAINWORLD="egypt",this.PROPS="",this.ALMANAC=""})),e("ZombieEnum",function(e){return e[e.modern_basic=0]="modern_basic",e[e.modern_cone=1]="modern_cone",e[e.modern_bucket=2]="modern_bucket",e[e.modern_bricks=3]="modern_bricks",e[e.modern_flag=4]="modern_flag",e[e.modern_rally=5]="modern_rally",e[e.modern_duckytube_basic=6]="modern_duckytube_basic",e[e.modern_duckytube_cone=7]="modern_duckytube_cone",e[e.modern_duckytube_bucket=8]="modern_duckytube_bucket",e[e.modern_duckytube_bricks=9]="modern_duckytube_bricks",e[e.modern_duckytube_flag=10]="modern_duckytube_flag",e[e.modern_duckytube_rally=11]="modern_duckytube_rally",e[e.modern_imp=12]="modern_imp",e[e.modern_gargantuar=13]="modern_gargantuar",e[e.vase_gargantuar=14]="vase_gargantuar",e[e.modern_bobSled=15]="modern_bobSled",e[e.modern_bobSled_team=16]="modern_bobSled_team",e[e.modern_balloon=17]="modern_balloon",e[e.modern_allstar=18]="modern_allstar",e[e.modern_sleighCart=19]="modern_sleighCart",e[e.modern_catapult=20]="modern_catapult",e[e.egypt_basic=21]="egypt_basic",e[e.egypt_cone=22]="egypt_cone",e[e.egypt_bucket=23]="egypt_bucket",e[e.egypt_bricks=24]="egypt_bricks",e[e.egypt_flag=25]="egypt_flag",e[e.egypt_rally=26]="egypt_rally",e[e.egypt_ra=27]="egypt_ra",e[e.egypt_camel=28]="egypt_camel",e[e.egypt_camel_onehump=29]="egypt_camel_onehump",e[e.egypt_camel_twohump=30]="egypt_camel_twohump",e[e.egypt_camel_threehump=31]="egypt_camel_threehump",e[e.egypt_camel_manyhump=32]="egypt_camel_manyhump",e[e.egypt_camel_touch=33]="egypt_camel_touch",e[e.egypt_camel_onehump_touch=34]="egypt_camel_onehump_touch",e[e.egypt_camel_twohump_touch=35]="egypt_camel_twohump_touch",e[e.egypt_camel_threehump_touch=36]="egypt_camel_threehump_touch",e[e.egypt_camel_manyhump_touch=37]="egypt_camel_manyhump_touch",e[e.egypt_explorer=38]="egypt_explorer",e[e.egypt_torchlight=39]="egypt_torchlight",e[e.egypt_tombraiser=40]="egypt_tombraiser",e[e.egypt_pharaoh_inner=41]="egypt_pharaoh_inner",e[e.egypt_pharaoh_weak=42]="egypt_pharaoh_weak",e[e.egypt_pharaoh=43]="egypt_pharaoh",e[e.egypt_imp=44]="egypt_imp",e[e.egypt_gargantuar=45]="egypt_gargantuar",e[e.egypt_zomboss=46]="egypt_zomboss",e[e.egypt_zomboss2=47]="egypt_zomboss2",e[e.pirate_basic=48]="pirate_basic",e[e.pirate_cone=49]="pirate_cone",e[e.pirate_bucket=50]="pirate_bucket",e[e.pirate_bricks=51]="pirate_bricks",e[e.pirate_flag=52]="pirate_flag",e[e.pirate_rally=53]="pirate_rally",e[e.pirate_swashbuckler=54]="pirate_swashbuckler",e[e.pirate_seagull=55]="pirate_seagull",e[e.pirate_pelican=56]="pirate_pelican",e[e.pirate_barrel_pusher=57]="pirate_barrel_pusher",e[e.pirate_barrel=58]="pirate_barrel",e[e.pirate_cannon=59]="pirate_cannon",e[e.pirate_captain=60]="pirate_captain",e[e.pirate_parrot=61]="pirate_parrot",e[e.pirate_imp=62]="pirate_imp",e[e.pirate_gargantuar=63]="pirate_gargantuar",e[e.pirate_zomboss=64]="pirate_zomboss",e[e.pirate_zomboss2=65]="pirate_zomboss2",e[e.cowboy_basic=66]="cowboy_basic",e[e.cowboy_cone=67]="cowboy_cone",e[e.cowboy_bucket=68]="cowboy_bucket",e[e.cowboy_bricks=69]="cowboy_bricks",e[e.cowboy_flag=70]="cowboy_flag",e[e.cowboy_rally=71]="cowboy_rally",e[e.cowboy_prospector=72]="cowboy_prospector",e[e.cowboy_piano=73]="cowboy_piano",e[e.cowboy_poncho=74]="cowboy_poncho",e[e.cowboy_poncho_no_plate=75]="cowboy_poncho_no_plate",e[e.cowboy_poncho_plate=76]="cowboy_poncho_plate",e[e.cowboy_chicken_farmer=77]="cowboy_chicken_farmer",e[e.cowboy_chicken=78]="cowboy_chicken",e[e.cowboy_chicken_pumpkin=79]="cowboy_chicken_pumpkin",e[e.cowboy_bull=80]="cowboy_bull",e[e.cowboy_bull_black=81]="cowboy_bull_black",e[e.cowboy_imp=82]="cowboy_imp",e[e.cowboy_gargantuar=83]="cowboy_gargantuar",e[e.cowboy_zomboss=84]="cowboy_zomboss",e[e.cowboy_zomboss2=85]="cowboy_zomboss2",e[e.kongfu_basic=86]="kongfu_basic",e[e.kongfu_cone=87]="kongfu_cone",e[e.kongfu_bucket=88]="kongfu_bucket",e[e.kongfu_helmet=89]="kongfu_helmet",e[e.kongfu_flag=90]="kongfu_flag",e[e.kongfu_rally=91]="kongfu_rally",e[e.kongfu_hammer=92]="kongfu_hammer",e[e.kongfu_torch=93]="kongfu_torch",e[e.kongfu_chi=94]="kongfu_chi",e[e.monk_basic=95]="monk_basic",e[e.monk_cone=96]="monk_cone",e[e.monk_bucket=97]="monk_bucket",e[e.monk_helmet=98]="monk_helmet",e[e.monk_flag=99]="monk_flag",e[e.monk_rally=100]="monk_rally",e[e.monk_blade=101]="monk_blade",e[e.monk_nunchaku=102]="monk_nunchaku",e[e.monk_torch=103]="monk_torch",e[e.future_basic=104]="future_basic",e[e.future_cone=105]="future_cone",e[e.future_bucket=106]="future_bucket",e[e.future_bricks=107]="future_bricks",e[e.future_flag=108]="future_flag",e[e.future_rally=109]="future_rally",e[e.future_jetpack=110]="future_jetpack",e[e.future_jetpack_veteran=111]="future_jetpack_veteran",e[e.future_jetpack_disco=112]="future_jetpack_disco",e[e.future_protector=113]="future_protector",e[e.future_protector_shield=114]="future_protector_shield",e[e.future_infinut_shield=115]="future_infinut_shield",e[e.modern_moonflower_shield=116]="modern_moonflower_shield",e[e.future_mech_cone=117]="future_mech_cone",e[e.future_mech_football=118]="future_mech_football",e[e.future_mech_disco=119]="future_mech_disco",e[e.future_imp=120]="future_imp",e[e.future_gargantuar=121]="future_gargantuar",e[e.future_zomboss=122]="future_zomboss",e[e.future_zomboss2=123]="future_zomboss2",e[e.dark_basic=124]="dark_basic",e[e.dark_cone=125]="dark_cone",e[e.dark_bucket=126]="dark_bucket",e[e.dark_helmet=127]="dark_helmet",e[e.dark_bricks=128]="dark_bricks",e[e.dark_flag=129]="dark_flag",e[e.dark_rally=130]="dark_rally",e[e.dark_jester=131]="dark_jester",e[e.dark_wizard=132]="dark_wizard",e[e.dark_wizard_veteran=133]="dark_wizard_veteran",e[e.dark_king=134]="dark_king",e[e.dark_king_veteran=135]="dark_king_veteran",e[e.dark_imp_dragon=136]="dark_imp_dragon",e[e.dark_imp=137]="dark_imp",e[e.dark_gargantuar=138]="dark_gargantuar",e[e.dark_zomboss=139]="dark_zomboss",e[e.dark_zomboss2=140]="dark_zomboss2",e[e.beach_basic=141]="beach_basic",e[e.beach_cone=142]="beach_cone",e[e.beach_bucket=143]="beach_bucket",e[e.beach_bricks=144]="beach_bricks",e[e.beach_female_basic=145]="beach_female_basic",e[e.beach_female_cone=146]="beach_female_cone",e[e.beach_female_bucket=147]="beach_female_bucket",e[e.beach_female_bricks=148]="beach_female_bricks",e[e.beach_flag=149]="beach_flag",e[e.beach_rally=150]="beach_rally",e[e.beach_snorkel=151]="beach_snorkel",e[e.beach_surfer=152]="beach_surfer",e[e.beach_octopus=153]="beach_octopus",e[e.beach_fisher=154]="beach_fisher",e[e.beach_imp=155]="beach_imp",e[e.beach_gargantuar=156]="beach_gargantuar",e[e.beach_zomboss=157]="beach_zomboss",e[e.iceage_basic=158]="iceage_basic",e[e.iceage_cone=159]="iceage_cone",e[e.iceage_bucket=160]="iceage_bucket",e[e.iceage_helmet=161]="iceage_helmet",e[e.iceage_bricks=162]="iceage_bricks",e[e.iceage_flag=163]="iceage_flag",e[e.iceage_rally=164]="iceage_rally",e[e.iceage_hunter=165]="iceage_hunter",e[e.iceage_hunter_veteran=166]="iceage_hunter_veteran",e[e.iceage_dodo=167]="iceage_dodo",e[e.iceage_troglobite=168]="iceage_troglobite",e[e.iceage_troglobite_1block=169]="iceage_troglobite_1block",e[e.iceage_troglobite_2block=170]="iceage_troglobite_2block",e[e.iceage_troglobite_veteran=171]="iceage_troglobite_veteran",e[e.iceage_weaselhoarder=172]="iceage_weaselhoarder",e[e.iceage_weasel=173]="iceage_weasel",e[e.iceage_imp=174]="iceage_imp",e[e.iceage_gargantuar=175]="iceage_gargantuar",e[e.iceage_zomboss=176]="iceage_zomboss",e[e.iceage_zomboss2=177]="iceage_zomboss2",e[e.lostcity_basic=178]="lostcity_basic",e[e.lostcity_cone=179]="lostcity_cone",e[e.lostcity_bucket=180]="lostcity_bucket",e[e.lostcity_flag=181]="lostcity_flag",e[e.lostcity_lostpilot=182]="lostcity_lostpilot",e[e.lostcity_excavator=183]="lostcity_excavator",e[e.lostcity_jane=184]="lostcity_jane",e[e.lostcity_bug_basic=185]="lostcity_bug_basic",e[e.lostcity_bug_cone=186]="lostcity_bug_cone",e[e.lostcity_bug_bucket=187]="lostcity_bug_bucket",e[e.lostcity_relichunter=188]="lostcity_relichunter",e[e.lostcity_imp_porter=189]="lostcity_imp_porter",e[e.lostcity_crystalskull=190]="lostcity_crystalskull",e[e.lostcity_imp=191]="lostcity_imp",e[e.lostcity_gargantuar=192]="lostcity_gargantuar",e[e.lostcity_zomboss=193]="lostcity_zomboss",e[e.sky_basic=194]="sky_basic",e[e.sky_cone=195]="sky_cone",e[e.sky_bucket=196]="sky_bucket",e[e.sky_flag=197]="sky_flag",e[e.eighties_basic=198]="eighties_basic",e[e.eighties_cone=199]="eighties_cone",e[e.eighties_bucket=200]="eighties_bucket",e[e.eighties_flag=201]="eighties_flag",e[e.eighties_punk=202]="eighties_punk",e[e.eighties_glitter=203]="eighties_glitter",e[e.eighties_mc=204]="eighties_mc",e[e.eighties_breakdancer=205]="eighties_breakdancer",e[e.eighties_arcade=206]="eighties_arcade",e[e.eighties_8bit_basic=207]="eighties_8bit_basic",e[e.eighties_8bit_cone=208]="eighties_8bit_cone",e[e.eighties_8bit_bucket=209]="eighties_8bit_bucket",e[e.eighties_boombox=210]="eighties_boombox",e[e.eighties_imp=211]="eighties_imp",e[e.eighties_gargantuar=212]="eighties_gargantuar",e[e.dino_basic=213]="dino_basic",e[e.dino_cone=214]="dino_cone",e[e.dino_bucket=215]="dino_bucket",e[e.dino_helmet=216]="dino_helmet",e[e.dino_bricks=217]="dino_bricks",e[e.dino_flag=218]="dino_flag",e[e.dino_rally=219]="dino_rally",e[e.dino_imp=220]="dino_imp",e[e.dino_gargantuar=221]="dino_gargantuar",e[e.zombieAmount=222]="zombieAmount",e}({}))),Nt=e("zombies",function(){function e(){}return e.playGroan=function(e,a){void 0===a&&(a=1),this.zombieRes.playZombieGroan(e,a)},e.getLessZombieLane=function(e,a){if(void 0===e&&(e=[0,1,2,3,4]),void 0===a&&(a=Lt.modern_basic),e.length){var i=1/0,o=g.randomize(e),r=Math.floor(5*Math.random()),t=!1;switch(a){case Lt.beach_fisher:case Lt.dark_king_veteran:case Lt.dark_king:t=!0}return t&&(o.concat().forEach((function(e){var a=h.getLaneComponent(e),i=!1;if(a.zombiePool().forEach((function(e){-1!=[Lt.dark_king_veteran,Lt.dark_king,Lt.beach_fisher].indexOf(e.ID)&&(i=!0)})),i){var r=o.indexOf(e);-1!=r&&o.splice(r,1)}})),o.length||(o=g.randomize(e))),o.forEach((function(e){var a=0;h.getLaneComponent(e).zombiePool().forEach((function(e){e.countHealthToThisLane&&(a+=e.totalHealth())})),a<i&&(r=e,i=a)})),r}return Math.floor(5*Math.random())},e.getZombieProps=function(e){var a;return null==(a=C.getObjectsByRTID(this.getZombieFeature(e).PROPS)[0])?void 0:a.objdata},e.getZombieAlmanac=function(e){var a;return null==(a=C.getObjectsByRTID(this.getZombieFeature(e).ALMANAC)[0])?void 0:a.objdata},e.getZombieSpawnL=function(e,a){if(isNaN(e)||null==e){var i,o=d.currentLawn;if(null!=o&&null!=(i=o.PlankRows)&&i.length)e=a.objdataOwn.ChooseToSpawnOnNonDeckRows?this.getLessZombieLane(o.SeaRows):this.getLessZombieLane(o.PlankRows);else{var r,t=a.objdataOwn.ChooseToSpawnOnDeepWaterRows?d.lanesWithDeepWater():[0,1,2,3,4],b=(t=a.objdataOwn.LivesInDeepWater||a.objdataOwn.ChooseToSpawnOnNonDeckRows||a.objdataOwn.ChooseToSpawnOnDeepWaterRows?t:d.lanesWithoutDeepWater()).filter((function(e){var a;return-1!=(null==w||null==(a=w.component)?void 0:a.onlyLanesForRandomSpawn.indexOf(e))}));null!=(r=b)&&r.length||(b=[0,1,2,3,4]),e=this.getLessZombieLane(b)}}return e},e.createZombie=function(a,i,o,r,t,b){void 0===o&&(o=null),void 0===r&&(r=!0),void 0===t&&(t=!1),void 0===b&&(b=!1);var l=e.getZombie(i,!1,o),n=l.getComponent(_);a=this.getZombieSpawnL(a,n);var c=h.getLaneComponent(a);l.parent=c.zombieLayer,n.spawnLane=c;var m=c.JitterSpawnZombieRoute;if(n.worldPosition=new u(h.zombieSpawnX+c.zombieSpawnOffset,c.floorY),c.zombieSpawnOffset+=h.SquareDisW,m&&(n.setWalkRoute(m.SplinePoints,m.BufferDistance,m.BaseMovementRate),n.worldPositionX+=c.zombieSpawnOffset),t){var s=h.getSquareWorldPosition(0,4).x;n.reversed=!0,n.worldPositionX=2*s-n.worldPositionX}if(b){var g=h.getSquareWorldPosition(0,4).x;n.hypno=!0,n.worldPositionX=2*g-n.worldPositionX}return n.correctDepth(1e3),n.onLaneSpawnSettled(c,r),n},e.createZombieByRTID=function(e,a){var i=this.getZombieEnumByRTID(a);return this.createZombie(e,i)},e.getZombiesWithNamesAndPoint=function(a,i,o){void 0===o&&(o=!0);var r=[],t=a.concat(),b=1/0;for(t.concat().forEach((function(a){var o=e.getZombieWavePointCost(a);o>i&&t.splice(t.indexOf(a),1),o<b&&(b=o)}));i>=b;){var l=o?e.pickZombieByWeight(t):g.getRandom(t),n=e.getZombieWavePointCost(l);if(n<=i)r.push(l),i-=n;else{var c=t.indexOf(l);-1!=c&&t.splice(c,1)}}return r},e.getZombie=function(e,a,i){var o;void 0===a&&(a=!1),void 0===i&&(i=null);var r=this.zombieRes,t=a?s:p.instantiatePooly,b=t(r.basicZombie),l=e+0;switch(e){case Lt.modern_sleighCart:b=t(r.sleighCartZombie);break;case Lt.modern_basic:case Lt.modern_cone:case Lt.modern_bucket:case Lt.modern_bricks:b=t(r.basicZombie),l=Lt.modern_basic;break;case Lt.modern_flag:b=t(r.basicFlagZombie);break;case Lt.modern_rally:b=t(r.basicRallyZombie);break;case Lt.modern_duckytube_basic:case Lt.modern_duckytube_cone:case Lt.modern_duckytube_bucket:case Lt.modern_duckytube_bricks:b=t(r.duckytubeZombie),l=Lt.modern_duckytube_basic;break;case Lt.modern_duckytube_flag:b=t(r.duckytubeFlagZombie);break;case Lt.modern_duckytube_rally:b=t(r.duckytubeRallyZombie);break;case Lt.modern_imp:b=t(r.modernImpZombie);break;case Lt.modern_gargantuar:b=t(r.modernGargantuarZombie);break;case Lt.vase_gargantuar:b=t(r.vaseGargantuarZombie);break;case Lt.modern_bobSled:b=t(r.bobSledZombie);break;case Lt.modern_allstar:b=t(r.allstarZombie);break;case Lt.modern_balloon:b=t(r.balloonZombie);break;case Lt.future_basic:case Lt.future_cone:case Lt.future_bucket:case Lt.future_bricks:b=t(r.futureBasicZombie),l=Lt.future_basic;break;case Lt.future_flag:b=t(r.futureFlagZombie);break;case Lt.future_rally:b=t(r.futureRallyZombie);break;case Lt.future_jetpack:b=t(r.futureJetpackZombie);break;case Lt.future_jetpack_veteran:b=t(r.futureJetpackVeteranZombie);break;case Lt.future_jetpack_disco:b=t(r.futureJetpackDiscoZombie);break;case Lt.future_protector:b=t(r.futureProtectorZombie);break;case Lt.future_protector_shield:b=t(r.futureProtectorShieldZombie);break;case Lt.future_infinut_shield:b=t(r.futureInfiNutShieldZombie);break;case Lt.modern_moonflower_shield:b=t(r.modernMoonflowerShieldZombie);break;case Lt.future_mech_cone:b=t(r.futureMechConeZombie);break;case Lt.future_mech_football:b=t(r.futureMechFootballZombie);break;case Lt.future_mech_disco:b=t(r.futureMechDiscoZombie);break;case Lt.future_imp:b=t(r.futureImpZombie);break;case Lt.future_gargantuar:b=t(r.futureGargantuarZombie);break;case Lt.future_zomboss:(b=t(r.futureZombossMech)).getComponent(_).mechToChoose=0;break;case Lt.future_zomboss2:(b=t(r.futureZombossMech)).getComponent(_).mechToChoose=1;break;case Lt.modern_bobSled_team:b=t(r.bobSledZombieTeam);break;case Lt.modern_catapult:b=t(r.catapultZombie);break;case Lt.egypt_basic:case Lt.egypt_cone:case Lt.egypt_bucket:case Lt.egypt_bricks:b=t(r.egyptBasicZombie),l=Lt.egypt_basic;break;case Lt.egypt_flag:b=t(r.egyptFlagZombie);break;case Lt.egypt_rally:b=t(r.egyptRallyZombie);break;case Lt.egypt_ra:b=t(r.egyptRaZombie);break;case Lt.egypt_camel:(b=t(r.egyptCamelZombie)).getComponent(f).defaultShowSlot=0;break;case Lt.egypt_camel_onehump:case Lt.egypt_camel_twohump:case Lt.egypt_camel_threehump:case Lt.egypt_camel_manyhump:(b=t(r.egyptCamelZombie)).getComponent(f).defaultShowSlot=0,l=Lt.egypt_camel;break;case Lt.egypt_camel_touch:var n,c=(b=t(r.egyptCamelTouchZombie)).getComponent(z);if(null!=(n=i)&&null!=(n=n.PresetCamelTouchID)&&n.length){var u=i.PresetCamelTouchID;c.presetCamelIDs=u,c.teamAmount=u.length}else c.teamAmount=0;c.defaultShowSlot=0;break;case Lt.egypt_camel_onehump_touch:case Lt.egypt_camel_twohump_touch:case Lt.egypt_camel_threehump_touch:case Lt.egypt_camel_manyhump_touch:(b=t(r.egyptCamelTouchZombie)).getComponent(z).defaultShowSlot=0,l=Lt.egypt_camel_touch;break;case Lt.egypt_explorer:b=t(r.egyptExplorerZombie);break;case Lt.egypt_torchlight:b=t(r.egyptTorchlightZombie);break;case Lt.egypt_tombraiser:b=t(r.egyptTombRaiserZombie);break;case Lt.egypt_pharaoh_weak:b=t(r.egyptPharaohWeakZombie);break;case Lt.egypt_pharaoh:b=t(r.egyptPharaohZombie);break;case Lt.egypt_gargantuar:b=t(r.egyptGargantuarZombie);break;case Lt.egypt_zomboss:(b=t(r.egyptZombossMech)).getComponent(_).mechToChoose=0;break;case Lt.egypt_zomboss2:(b=t(r.egyptZombossMech)).getComponent(_).mechToChoose=1;break;case Lt.egypt_pharaoh_inner:b=t(r.egyptPharaohInnerZombie);break;case Lt.egypt_imp:b=t(r.egyptImpZombie);break;case Lt.pirate_basic:case Lt.pirate_cone:case Lt.pirate_bucket:case Lt.pirate_bricks:b=t(r.pirateBasicZombie),l=Lt.pirate_basic;break;case Lt.pirate_flag:b=t(r.pirateFlagZombie);break;case Lt.pirate_rally:b=t(r.pirateRallyZombie);break;case Lt.pirate_swashbuckler:b=t(r.pirateSwashbucklerZombie);break;case Lt.pirate_seagull:b=t(r.pirateSeagullZombie);break;case Lt.pirate_pelican:b=t(r.piratePelicanZombie);break;case Lt.pirate_barrel_pusher:b=t(r.pirateBarrelPusherZombie);break;case Lt.pirate_barrel:b=t(r.pirateBarrel);break;case Lt.pirate_cannon:b=t(r.pirateImpCannonZombie);break;case Lt.pirate_captain:b=t(r.pirateCaptainZombie);break;case Lt.pirate_parrot:b=t(r.pirateParrotZombie);break;case Lt.pirate_imp:b=t(r.pirateImpZombie);break;case Lt.pirate_gargantuar:b=t(r.pirateGargantuarZombie);break;case Lt.pirate_zomboss:(b=t(r.pirateZombossMech)).getComponent(_).mechToChoose=0;break;case Lt.pirate_zomboss2:(b=t(r.pirateZombossMech)).getComponent(_).mechToChoose=1;break;case Lt.cowboy_basic:case Lt.cowboy_cone:case Lt.cowboy_bucket:case Lt.cowboy_bricks:b=t(r.cowboyBasicZombie),l=Lt.cowboy_basic;break;case Lt.cowboy_flag:b=t(r.cowboyFlagZombie);break;case Lt.cowboy_rally:b=t(r.cowboyRallyZombie);break;case Lt.cowboy_prospector:b=t(r.cowboyProspectorZombie);break;case Lt.cowboy_piano:b=t(r.cowboyPianoZombie);break;case Lt.cowboy_poncho:case Lt.cowboy_poncho_no_plate:case Lt.cowboy_poncho_plate:b=t(r.cowboyPonchoZombie),l=Lt.cowboy_poncho;break;case Lt.cowboy_chicken_farmer:b=t(r.cowboyChickenFarmerZombie);break;case Lt.cowboy_chicken:b=t(r.cowboyChickenZombie);break;case Lt.cowboy_chicken_pumpkin:b=t(r.cowboyChickenPumpkinZombie);break;case Lt.cowboy_bull:b=t(r.cowboyBullZombie);break;case Lt.cowboy_bull_black:b=t(r.cowboyBlackBullZombie);break;case Lt.cowboy_imp:b=t(r.cowboyImpZombie);break;case Lt.cowboy_gargantuar:b=t(r.cowboyGargantuarZombie);break;case Lt.cowboy_zomboss:(b=t(r.cowboyZombossMech)).getComponent(_).mechToChoose=0;break;case Lt.cowboy_zomboss2:(b=t(r.cowboyZombossMech)).getComponent(_).mechToChoose=1;break;case Lt.kongfu_basic:case Lt.kongfu_cone:case Lt.kongfu_bucket:case Lt.kongfu_helmet:b=t(r.kongfuBasicZombie),l=Lt.kongfu_basic;break;case Lt.kongfu_flag:b=t(r.kongfuFlagZombie);break;case Lt.kongfu_rally:b=t(r.kongfuRallyZombie);break;case Lt.kongfu_hammer:b=t(r.kongfuHammerZombie);break;case Lt.kongfu_torch:b=t(r.kongfuTorchZombie);break;case Lt.kongfu_chi:b=t(r.kongfuChiZombie);break;case Lt.monk_basic:case Lt.monk_cone:case Lt.monk_bucket:case Lt.monk_helmet:b=t(r.monkBasicZombie),l=Lt.monk_basic;break;case Lt.monk_flag:b=t(r.monkFlagZombie);break;case Lt.monk_rally:b=t(r.monkRallyZombie);break;case Lt.monk_blade:b=t(r.monkBladeZombie);break;case Lt.monk_nunchaku:b=t(r.monkNunchakuZombie);break;case Lt.monk_torch:b=t(r.monkTorchZombie);break;case Lt.dark_basic:case Lt.dark_cone:case Lt.dark_bucket:case Lt.dark_helmet:case Lt.dark_bricks:b=t(r.darkBasicZombie),l=Lt.dark_basic;break;case Lt.dark_flag:b=t(r.darkFlagZombie);break;case Lt.dark_rally:b=t(r.darkRallyZombie);break;case Lt.dark_jester:b=t(r.darkJesterZombie);break;case Lt.dark_wizard:b=t(r.darkWizardZombie);break;case Lt.dark_wizard_veteran:b=t(r.darkWizardVeteranZombie);break;case Lt.dark_king:b=t(r.darkKingZombie);break;case Lt.dark_king_veteran:b=t(r.darkKingVeteranZombie);break;case Lt.dark_imp_dragon:b=t(r.darkImpDragonZombie);break;case Lt.dark_imp:b=t(r.darkImpZombie);break;case Lt.dark_gargantuar:b=t(r.darkGargantuarZombie);break;case Lt.dark_zomboss:(b=t(r.darkZombossMech)).getComponent(_).mechToChoose=0;break;case Lt.dark_zomboss2:(b=t(r.darkZombossMech)).getComponent(_).mechToChoose=1;break;case Lt.beach_basic:case Lt.beach_cone:case Lt.beach_bucket:case Lt.beach_bricks:b=t(r.beachBasicZombie),l=Lt.beach_basic;break;case Lt.beach_female_basic:case Lt.beach_female_cone:case Lt.beach_female_bucket:case Lt.beach_female_bricks:b=t(r.beachFemaleZombie),l=Lt.beach_female_basic;break;case Lt.beach_flag:b=t(r.beachFlagZombie);break;case Lt.beach_rally:b=t(r.beachRallyZombie);break;case Lt.beach_snorkel:b=t(r.beachSnorkelZombie);break;case Lt.beach_surfer:b=t(r.beachSurferZombie);break;case Lt.beach_octopus:b=t(r.beachOctopusZombie);break;case Lt.beach_fisher:b=t(r.beachFisherZombie);break;case Lt.beach_imp:b=t(r.beachImpZombie);break;case Lt.beach_gargantuar:b=t(r.beachGargantuarZombie);break;case Lt.beach_zomboss:(b=t(r.beachZombossMech)).getComponent(_).mechToChoose=0;break;case Lt.iceage_basic:case Lt.iceage_cone:case Lt.iceage_bucket:case Lt.iceage_helmet:case Lt.iceage_bricks:b=t(r.iceageBasicZombie),l=Lt.iceage_basic;break;case Lt.iceage_flag:b=t(r.iceageFlagZombie);break;case Lt.iceage_rally:b=t(r.iceageRallyZombie);break;case Lt.iceage_hunter:b=t(r.iceageHunterZombie);break;case Lt.iceage_hunter_veteran:b=t(r.iceageHunterVeteranZombie);break;case Lt.iceage_dodo:b=t(r.iceageDodoZombie);break;case Lt.iceage_troglobite:case Lt.iceage_troglobite_1block:case Lt.iceage_troglobite_2block:b=t(r.iceageTroglobiteZombie);break;case Lt.iceage_troglobite_veteran:b=t(r.iceageTroglobiteVeteranZombie);break;case Lt.iceage_weaselhoarder:b=t(r.iceageWeaselHoarderZombie);break;case Lt.iceage_weasel:b=t(r.iceageWeaselZombie);break;case Lt.iceage_imp:b=t(r.iceageImpZombie);break;case Lt.iceage_gargantuar:b=t(r.iceageGargantuarZombie);break;case Lt.iceage_zomboss:(b=t(r.iceageZombossMech)).getComponent(_).mechToChoose=0;break;case Lt.iceage_zomboss2:(b=t(r.iceageZombossMech)).getComponent(_).mechToChoose=1;break;case Lt.lostcity_basic:case Lt.lostcity_cone:case Lt.lostcity_bucket:b=t(r.lostcityBasicZombie),l=Lt.lostcity_basic;break;case Lt.lostcity_bug_basic:case Lt.lostcity_bug_cone:case Lt.lostcity_bug_bucket:b=t(r.lostcityBasicZombie),l=Lt.lostcity_bug_basic;break;case Lt.lostcity_flag:b=t(r.lostcityFlagZombie);break;case Lt.lostcity_lostpilot:b=t(r.lostcityLostPilotZombie);break;case Lt.lostcity_excavator:b=t(r.lostcityExcavatorZombie);break;case Lt.lostcity_jane:b=t(r.lostcityJaneZombie);break;case Lt.lostcity_relichunter:b=t(r.lostcityRelicHunterZombie);break;case Lt.lostcity_imp_porter:b=t(r.lostcityImpPorterZombie);break;case Lt.lostcity_crystalskull:b=t(r.lostcityCrystalSkullZombie);break;case Lt.lostcity_imp:b=t(r.lostcityImpZombie);break;case Lt.lostcity_gargantuar:b=t(r.lostcityGargantuarZombie);break;case Lt.lostcity_zomboss:(b=t(r.lostcityZombossMech)).getComponent(_).mechToChoose=0;break;case Lt.sky_basic:case Lt.sky_cone:case Lt.sky_bucket:b=t(r.skyBasicZombie),l=Lt.sky_basic;break;case Lt.sky_flag:b=t(r.skyFlagZombie);break;case Lt.eighties_basic:case Lt.eighties_cone:case Lt.eighties_bucket:b=t(r.eightiesBasicZombie),l=Lt.eighties_basic;break;case Lt.eighties_flag:b=t(r.eightiesFlagZombie);break;case Lt.eighties_punk:b=t(r.eightiesPunkZombie);break;case Lt.eighties_glitter:b=t(r.eightiesGlitterZombie);break;case Lt.eighties_mc:b=t(r.eightiesMCZombie);break;case Lt.eighties_breakdancer:b=t(r.eightiesBreakDancerZombie);break;case Lt.eighties_arcade:b=t(r.eightiesArcadeZombie);break;case Lt.eighties_boombox:b=t(r.eightiesBoomBoxZombie);break;case Lt.eighties_8bit_basic:case Lt.eighties_8bit_cone:case Lt.eighties_8bit_bucket:b=t(r.eighties8BitZombie),l=Lt.eighties_8bit_basic;break;case Lt.eighties_imp:b=t(r.eightiesImpZombie);break;case Lt.eighties_gargantuar:b=t(r.eightiesGargantuarZombie);break;case Lt.dino_basic:case Lt.dino_cone:case Lt.dino_bucket:case Lt.dino_helmet:case Lt.dino_bricks:b=t(r.dinoBasicZombie),l=Lt.dino_basic;break;case Lt.dino_flag:b=t(r.dinoFlagZombie);break;case Lt.dino_rally:b=t(r.dinoRallyZombie);break;case Lt.dino_imp:b=t(r.dinoImpZombie);break;case Lt.dino_gargantuar:b=t(r.dinoGargantuarZombie);break;default:l=Lt.modern_basic,b=t(r.basicZombie)}var m=b.getComponent(_);m.ID=l,m.OID=e;var g=this.getZombieFeature(e),y=this.getZombieProps(l),h=this.getZombieProps(e);null==(o=h.StartingArmors)||o.forEach((function(e){var a=k[e];m.addArmor(a)}));var Z=this.getZombieFeature(l);return m.setObjdata(y,h),Z&&(m.WPC_real=Z.WAVEPOINTCOST),g&&(m.WPC_wave=g.WAVEPOINTCOST),b},e.getZombieEnumByString=function(e,a){void 0===a&&(a=!0);var i=NaN;return this.zombieRes.ZombieFeatures.forEach((function(a,o){isNaN(i)&&a.CODENAME==e&&(i=o)})),isNaN(i)&&a&&(i=Lt.modern_basic,console.warn("Can't find '"+e+"' as a Zombie Codename.")),i},e.getZombieEnumByRTID=function(e){var a=null==e?void 0:e.replace("RTID(","").replace("@ZombieTypes)","");return this.getZombieEnumByString(a)},e.zombossList=function(){return[Lt.egypt_zomboss,Lt.egypt_zomboss2,Lt.pirate_zomboss,Lt.pirate_zomboss2,Lt.cowboy_zomboss,Lt.cowboy_zomboss2,Lt.future_zomboss,Lt.future_zomboss2,Lt.dark_zomboss,Lt.dark_zomboss2,Lt.beach_zomboss,Lt.iceage_zomboss,Lt.iceage_zomboss2,Lt.lostcity_zomboss]},e.getZombieWavePointCost=function(e){return this.zombieRes.ZombieFeatures[e].WAVEPOINTCOST},e.getZombieWeight=function(e){return this.zombieRes.ZombieFeatures[e].WEIGHT},e.pickZombieByWeight=function(e){var a=this,i=[],o=0;e.forEach((function(e){var r=a.getZombieWeight(e);i.push(o+r),o+=r}));for(var r=Math.random()*o,t=0;t<i.length;t++)if(r<i[t])return e[t];return g.getRandom(e)},e.getZombieFeature=function(e){return this.zombieRes.ZombieFeatures[e]},e}());Nt.zombieRes=null,Nt.AlmanacList=[];e("Zombies",(R=Et("Zombies"),G=At(l),P=At([n]),B=At([n]),S=At([n]),F=At([n]),I=At([n]),T=At([n]),M=At([n]),D=At([n]),W=At([n]),O=At([n]),E=At([n]),A=At([n]),L=At([n]),N=At([n]),j=At(c),x=At(c),J=At(c),H=At(c),V=At(c),K=At(c),q=At(c),X=At(c),Y=At(c),U=At(c),Q=At(c),$=At(c),ee=At(c),ae=At(c),ie=At(c),oe=At(c),re=At(c),te=At(c),be=At(c),le=At(c),ne=At(c),ce=At(c),ue=At(c),me=At(c),se=At(c),ge=At(c),pe=At(c),_e=At(c),ye=At(c),ke=At(c),he=At(c),Ze=At(c),fe=At(c),de=At(c),we=At(c),ze=At(c),Ce=At(c),ve=At(c),Re=At(c),Ge=At(c),Pe=At(c),Be=At(c),Se=At(c),Fe=At(c),Ie=At(c),Te=At(c),Me=At(c),De=At(c),We=At(c),Oe=At(c),Ee=At(c),Ae=At(c),Le=At(c),Ne=At(c),je=At(c),xe=At(c),Je=At(c),He=At(c),Ve=At(c),Ke=At(c),qe=At(c),Xe=At(c),Ye=At(c),Ue=At(c),Qe=At(c),$e=At(c),ea=At(c),aa=At(c),ia=At(c),oa=At(c),ra=At(c),ta=At(c),ba=At(c),la=At(c),na=At(c),ca=At(c),ua=At(c),ma=At(c),sa=At(c),ga=At(c),pa=At(c),_a=At(c),ya=At(c),ka=At(c),ha=At(c),Za=At(c),fa=At(c),da=At(c),wa=At(c),za=At(c),Ca=At(c),va=At(c),Ra=At(c),Ga=At(c),Pa=At(c),Ba=At(c),Sa=At(c),Fa=At(c),Ia=At(c),Ta=At(c),Ma=At(c),Da=At(c),Wa=At(c),Oa=At(c),Ea=At(c),Aa=At(c),La=At(c),Na=At(c),ja=At(c),xa=At(c),Ja=At(c),Ha=At(c),Va=At(c),Ka=At(c),qa=At(c),Xa=At(c),Ya=At(c),Ua=At(c),Qa=At(c),$a=At(c),ei=At(c),ai=At(c),ii=At(c),oi=At(c),ri=At(c),ti=At(c),bi=At(c),li=At(c),ni=At(c),ci=At(c),ui=At(c),mi=At(c),si=At(c),gi=At(c),pi=At(c),_i=At(c),yi=At(c),ki=At(c),hi=At(c),Zi=At(c),fi=At(c),di=At(c),wi=At(c),zi=At(c),Ci=At(c),vi=At(c),Ri=At(c),Gi=At(c),Pi=At(c),Bi=At(c),Si=At(c),R((Ti=a((Ii=function(e){function a(){for(var a,i=arguments.length,t=new Array(i),b=0;b<i;b++)t[b]=arguments[b];return a=e.call.apply(e,[this].concat(t))||this,o(a,"zombieFeaturesJson",Ti,r(a)),a.ZombieFeatures=[],o(a,"modernZombieGroan",Mi,r(a)),o(a,"egyptZombieGroan",Di,r(a)),o(a,"pirateZombieGroan",Wi,r(a)),o(a,"cowboyZombieGroan",Oi,r(a)),o(a,"futureZombieGroan",Ei,r(a)),o(a,"darkZombieGroan",Ai,r(a)),o(a,"beachZombieGroan",Li,r(a)),o(a,"iceZombieGroan",Ni,r(a)),o(a,"lostZombieGroan",ji,r(a)),o(a,"eightiesZombieGroan",xi,r(a)),o(a,"dinoZombieGroan",Ji,r(a)),o(a,"kongfuZombieGroan",Hi,r(a)),o(a,"impGroan",Vi,r(a)),o(a,"gargantuarGroan",Ki,r(a)),o(a,"basicZombie",qi,r(a)),o(a,"basicFlagZombie",Xi,r(a)),o(a,"basicRallyZombie",Yi,r(a)),o(a,"duckytubeZombie",Ui,r(a)),o(a,"duckytubeFlagZombie",Qi,r(a)),o(a,"duckytubeRallyZombie",$i,r(a)),o(a,"modernImpZombie",eo,r(a)),o(a,"modernGargantuarZombie",ao,r(a)),o(a,"vaseGargantuarZombie",io,r(a)),o(a,"bobSledZombie",oo,r(a)),o(a,"bobSledZombieTeam",ro,r(a)),o(a,"balloonZombie",to,r(a)),o(a,"allstarZombie",bo,r(a)),o(a,"sleighCartZombie",lo,r(a)),o(a,"futureBasicZombie",no,r(a)),o(a,"futureFlagZombie",co,r(a)),o(a,"futureRallyZombie",uo,r(a)),o(a,"futureJetpackZombie",mo,r(a)),o(a,"futureJetpackVeteranZombie",so,r(a)),o(a,"futureJetpackDiscoZombie",go,r(a)),o(a,"futureProtectorZombie",po,r(a)),o(a,"futureProtectorShieldZombie",_o,r(a)),o(a,"futureInfiNutShieldZombie",yo,r(a)),o(a,"modernMoonflowerShieldZombie",ko,r(a)),o(a,"futureMechConeZombie",ho,r(a)),o(a,"futureMechFootballZombie",Zo,r(a)),o(a,"futureMechDiscoZombie",fo,r(a)),o(a,"futureImpZombie",wo,r(a)),o(a,"futureGargantuarZombie",zo,r(a)),o(a,"futureZombossMech",Co,r(a)),o(a,"catapultZombie",vo,r(a)),o(a,"egyptBasicZombie",Ro,r(a)),o(a,"egyptFlagZombie",Go,r(a)),o(a,"egyptRallyZombie",Po,r(a)),o(a,"egyptRaZombie",Bo,r(a)),o(a,"egyptCamelZombie",So,r(a)),o(a,"egyptCamelTouchZombie",Fo,r(a)),o(a,"egyptExplorerZombie",Io,r(a)),o(a,"egyptTorchlightZombie",To,r(a)),o(a,"egyptTombRaiserZombie",Mo,r(a)),o(a,"egyptPharaohWeakZombie",Do,r(a)),o(a,"egyptPharaohZombie",Wo,r(a)),o(a,"egyptPharaohInnerZombie",Oo,r(a)),o(a,"egyptImpZombie",Eo,r(a)),o(a,"egyptGargantuarZombie",Ao,r(a)),o(a,"egyptZombossMech",Lo,r(a)),o(a,"pirateBasicZombie",No,r(a)),o(a,"pirateFlagZombie",jo,r(a)),o(a,"pirateRallyZombie",xo,r(a)),o(a,"pirateSwashbucklerZombie",Jo,r(a)),o(a,"pirateSeagullZombie",Ho,r(a)),o(a,"piratePelicanZombie",Vo,r(a)),o(a,"pirateBarrelPusherZombie",Ko,r(a)),o(a,"pirateBarrel",qo,r(a)),o(a,"pirateImpCannonZombie",Xo,r(a)),o(a,"pirateCaptainZombie",Yo,r(a)),o(a,"pirateParrotZombie",Uo,r(a)),o(a,"pirateImpZombie",Qo,r(a)),o(a,"pirateGargantuarZombie",$o,r(a)),o(a,"pirateZombossMech",er,r(a)),o(a,"cowboyBasicZombie",ar,r(a)),o(a,"cowboyFlagZombie",ir,r(a)),o(a,"cowboyRallyZombie",or,r(a)),o(a,"cowboyProspectorZombie",rr,r(a)),o(a,"cowboyPianoZombie",tr,r(a)),o(a,"cowboyChickenFarmerZombie",br,r(a)),o(a,"cowboyChickenZombie",lr,r(a)),o(a,"cowboyChickenPumpkinZombie",nr,r(a)),o(a,"cowboyBullZombie",cr,r(a)),o(a,"cowboyBlackBullZombie",ur,r(a)),o(a,"cowboyImpZombie",mr,r(a)),o(a,"cowboyGargantuarZombie",sr,r(a)),o(a,"cowboyZombossMech",gr,r(a)),o(a,"cowboyPonchoZombie",pr,r(a)),o(a,"kongfuBasicZombie",_r,r(a)),o(a,"kongfuFlagZombie",yr,r(a)),o(a,"kongfuRallyZombie",kr,r(a)),o(a,"kongfuHammerZombie",hr,r(a)),o(a,"kongfuTorchZombie",Zr,r(a)),o(a,"kongfuChiZombie",fr,r(a)),o(a,"monkBasicZombie",dr,r(a)),o(a,"monkFlagZombie",wr,r(a)),o(a,"monkRallyZombie",zr,r(a)),o(a,"monkBladeZombie",Cr,r(a)),o(a,"monkNunchakuZombie",vr,r(a)),o(a,"monkTorchZombie",Rr,r(a)),o(a,"darkBasicZombie",Gr,r(a)),o(a,"darkFlagZombie",Pr,r(a)),o(a,"darkRallyZombie",Br,r(a)),o(a,"darkJesterZombie",Sr,r(a)),o(a,"darkWizardZombie",Fr,r(a)),o(a,"darkWizardVeteranZombie",Ir,r(a)),o(a,"darkKingZombie",Tr,r(a)),o(a,"darkKingVeteranZombie",Mr,r(a)),o(a,"darkImpDragonZombie",Dr,r(a)),o(a,"darkImpZombie",Wr,r(a)),o(a,"darkGargantuarZombie",Or,r(a)),o(a,"darkZombossMech",Er,r(a)),o(a,"beachBasicZombie",Ar,r(a)),o(a,"beachFemaleZombie",Lr,r(a)),o(a,"beachFlagZombie",Nr,r(a)),o(a,"beachRallyZombie",jr,r(a)),o(a,"beachSnorkelZombie",xr,r(a)),o(a,"beachSurferZombie",Jr,r(a)),o(a,"beachOctopusZombie",Hr,r(a)),o(a,"beachFisherZombie",Vr,r(a)),o(a,"beachImpZombie",Kr,r(a)),o(a,"beachGargantuarZombie",qr,r(a)),o(a,"beachZombossMech",Xr,r(a)),o(a,"iceageBasicZombie",Yr,r(a)),o(a,"iceageFlagZombie",Ur,r(a)),o(a,"iceageRallyZombie",Qr,r(a)),o(a,"iceageHunterZombie",$r,r(a)),o(a,"iceageHunterVeteranZombie",et,r(a)),o(a,"iceageDodoZombie",at,r(a)),o(a,"iceageTroglobiteZombie",it,r(a)),o(a,"iceageTroglobiteVeteranZombie",ot,r(a)),o(a,"iceageWeaselHoarderZombie",rt,r(a)),o(a,"iceageWeaselZombie",tt,r(a)),o(a,"iceageImpZombie",bt,r(a)),o(a,"iceageGargantuarZombie",lt,r(a)),o(a,"iceageZombossMech",nt,r(a)),o(a,"lostcityBasicZombie",ct,r(a)),o(a,"lostcityFlagZombie",ut,r(a)),o(a,"lostcityLostPilotZombie",mt,r(a)),o(a,"lostcityExcavatorZombie",st,r(a)),o(a,"lostcityJaneZombie",gt,r(a)),o(a,"lostcityRelicHunterZombie",pt,r(a)),o(a,"lostcityImpPorterZombie",_t,r(a)),o(a,"lostcityCrystalSkullZombie",yt,r(a)),o(a,"lostcityImpZombie",kt,r(a)),o(a,"lostcityGargantuarZombie",ht,r(a)),o(a,"lostcityZombossMech",Zt,r(a)),o(a,"skyBasicZombie",ft,r(a)),o(a,"skyFlagZombie",dt,r(a)),o(a,"eightiesBasicZombie",wt,r(a)),o(a,"eightiesFlagZombie",zt,r(a)),o(a,"eightiesPunkZombie",Ct,r(a)),o(a,"eightiesGlitterZombie",vt,r(a)),o(a,"eightiesMCZombie",Rt,r(a)),o(a,"eightiesBreakDancerZombie",Gt,r(a)),o(a,"eightiesArcadeZombie",Pt,r(a)),o(a,"eightiesBoomBoxZombie",Bt,r(a)),o(a,"eighties8BitZombie",St,r(a)),o(a,"eightiesImpZombie",Ft,r(a)),o(a,"eightiesGargantuarZombie",It,r(a)),o(a,"dinoBasicZombie",Tt,r(a)),o(a,"dinoFlagZombie",Mt,r(a)),o(a,"dinoRallyZombie",Dt,r(a)),o(a,"dinoImpZombie",Wt,r(a)),o(a,"dinoGargantuarZombie",Ot,r(a)),a}i(a,e);var t=a.prototype;return t.playZombieGroan=function(e,a){switch(void 0===a&&(a=1),e){case y.modern:Z.play(g.getRandom(this.modernZombieGroan),a);break;case y.egypt:Z.play(g.getRandom(this.egyptZombieGroan),a);break;case y.pirate:Z.play(g.getRandom(this.pirateZombieGroan),a);break;case y.cowboy:Z.play(g.getRandom(this.cowboyZombieGroan),a);break;case y.future:Z.play(g.getRandom(this.futureZombieGroan),a);break;case y.dark:Z.play(g.getRandom(this.darkZombieGroan),a);break;case y.beach:Z.play(g.getRandom(this.beachZombieGroan),a);break;case y.ice:Z.play(g.getRandom(this.iceZombieGroan),a);break;case y.lost:Z.play(g.getRandom(this.lostZombieGroan),a);break;case y.eighties:Z.play(g.getRandom(this.eightiesZombieGroan),a);break;case y.dino:Z.play(g.getRandom(this.dinoZombieGroan),a);break;case y.kongfu:Z.play(g.getRandom(this.kongfuZombieGroan),a);break;case y.imp:Z.play(g.getRandom(this.impGroan),a);break;case y.gargantuar:Z.play(g.getRandom(this.gargantuarGroan),a)}},t.onLoad=function(){var e;Nt.zombieRes=this,this.ZombieFeatures=this.zombieFeaturesJson.json.ZOMBIES;var a=null==(e=this.zombieFeaturesJson.json.ALMANAC)?void 0:e.map((function(e){return Nt.getZombieEnumByString(e)}));Nt.AlmanacList=a},a}(m)).prototype,"zombieFeaturesJson",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mi=a(Ii.prototype,"modernZombieGroan",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Di=a(Ii.prototype,"egyptZombieGroan",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wi=a(Ii.prototype,"pirateZombieGroan",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Oi=a(Ii.prototype,"cowboyZombieGroan",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ei=a(Ii.prototype,"futureZombieGroan",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ai=a(Ii.prototype,"darkZombieGroan",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Li=a(Ii.prototype,"beachZombieGroan",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ni=a(Ii.prototype,"iceZombieGroan",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ji=a(Ii.prototype,"lostZombieGroan",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xi=a(Ii.prototype,"eightiesZombieGroan",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ji=a(Ii.prototype,"dinoZombieGroan",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Hi=a(Ii.prototype,"kongfuZombieGroan",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vi=a(Ii.prototype,"impGroan",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ki=a(Ii.prototype,"gargantuarGroan",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qi=a(Ii.prototype,"basicZombie",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xi=a(Ii.prototype,"basicFlagZombie",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yi=a(Ii.prototype,"basicRallyZombie",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ui=a(Ii.prototype,"duckytubeZombie",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qi=a(Ii.prototype,"duckytubeFlagZombie",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$i=a(Ii.prototype,"duckytubeRallyZombie",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eo=a(Ii.prototype,"modernImpZombie",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ao=a(Ii.prototype,"modernGargantuarZombie",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),io=a(Ii.prototype,"vaseGargantuarZombie",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oo=a(Ii.prototype,"bobSledZombie",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ro=a(Ii.prototype,"bobSledZombieTeam",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),to=a(Ii.prototype,"balloonZombie",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bo=a(Ii.prototype,"allstarZombie",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lo=a(Ii.prototype,"sleighCartZombie",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),no=a(Ii.prototype,"futureBasicZombie",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),co=a(Ii.prototype,"futureFlagZombie",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uo=a(Ii.prototype,"futureRallyZombie",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mo=a(Ii.prototype,"futureJetpackZombie",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),so=a(Ii.prototype,"futureJetpackVeteranZombie",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),go=a(Ii.prototype,"futureJetpackDiscoZombie",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),po=a(Ii.prototype,"futureProtectorZombie",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_o=a(Ii.prototype,"futureProtectorShieldZombie",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yo=a(Ii.prototype,"futureInfiNutShieldZombie",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ko=a(Ii.prototype,"modernMoonflowerShieldZombie",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ho=a(Ii.prototype,"futureMechConeZombie",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zo=a(Ii.prototype,"futureMechFootballZombie",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fo=a(Ii.prototype,"futureMechDiscoZombie",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wo=a(Ii.prototype,"futureImpZombie",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zo=a(Ii.prototype,"futureGargantuarZombie",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Co=a(Ii.prototype,"futureZombossMech",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vo=a(Ii.prototype,"catapultZombie",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ro=a(Ii.prototype,"egyptBasicZombie",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Go=a(Ii.prototype,"egyptFlagZombie",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Po=a(Ii.prototype,"egyptRallyZombie",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bo=a(Ii.prototype,"egyptRaZombie",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),So=a(Ii.prototype,"egyptCamelZombie",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fo=a(Ii.prototype,"egyptCamelTouchZombie",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Io=a(Ii.prototype,"egyptExplorerZombie",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),To=a(Ii.prototype,"egyptTorchlightZombie",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mo=a(Ii.prototype,"egyptTombRaiserZombie",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Do=a(Ii.prototype,"egyptPharaohWeakZombie",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wo=a(Ii.prototype,"egyptPharaohZombie",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oo=a(Ii.prototype,"egyptPharaohInnerZombie",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eo=a(Ii.prototype,"egyptImpZombie",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ao=a(Ii.prototype,"egyptGargantuarZombie",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lo=a(Ii.prototype,"egyptZombossMech",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),No=a(Ii.prototype,"pirateBasicZombie",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jo=a(Ii.prototype,"pirateFlagZombie",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xo=a(Ii.prototype,"pirateRallyZombie",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jo=a(Ii.prototype,"pirateSwashbucklerZombie",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ho=a(Ii.prototype,"pirateSeagullZombie",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vo=a(Ii.prototype,"piratePelicanZombie",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ko=a(Ii.prototype,"pirateBarrelPusherZombie",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qo=a(Ii.prototype,"pirateBarrel",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xo=a(Ii.prototype,"pirateImpCannonZombie",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yo=a(Ii.prototype,"pirateCaptainZombie",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uo=a(Ii.prototype,"pirateParrotZombie",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qo=a(Ii.prototype,"pirateImpZombie",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$o=a(Ii.prototype,"pirateGargantuarZombie",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),er=a(Ii.prototype,"pirateZombossMech",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ar=a(Ii.prototype,"cowboyBasicZombie",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ir=a(Ii.prototype,"cowboyFlagZombie",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),or=a(Ii.prototype,"cowboyRallyZombie",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rr=a(Ii.prototype,"cowboyProspectorZombie",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tr=a(Ii.prototype,"cowboyPianoZombie",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),br=a(Ii.prototype,"cowboyChickenFarmerZombie",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lr=a(Ii.prototype,"cowboyChickenZombie",[ea],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nr=a(Ii.prototype,"cowboyChickenPumpkinZombie",[aa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cr=a(Ii.prototype,"cowboyBullZombie",[ia],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ur=a(Ii.prototype,"cowboyBlackBullZombie",[oa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mr=a(Ii.prototype,"cowboyImpZombie",[ra],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sr=a(Ii.prototype,"cowboyGargantuarZombie",[ta],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gr=a(Ii.prototype,"cowboyZombossMech",[ba],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pr=a(Ii.prototype,"cowboyPonchoZombie",[la],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_r=a(Ii.prototype,"kongfuBasicZombie",[na],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yr=a(Ii.prototype,"kongfuFlagZombie",[ca],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kr=a(Ii.prototype,"kongfuRallyZombie",[ua],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hr=a(Ii.prototype,"kongfuHammerZombie",[ma],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zr=a(Ii.prototype,"kongfuTorchZombie",[sa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fr=a(Ii.prototype,"kongfuChiZombie",[ga],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dr=a(Ii.prototype,"monkBasicZombie",[pa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wr=a(Ii.prototype,"monkFlagZombie",[_a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zr=a(Ii.prototype,"monkRallyZombie",[ya],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cr=a(Ii.prototype,"monkBladeZombie",[ka],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vr=a(Ii.prototype,"monkNunchakuZombie",[ha],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rr=a(Ii.prototype,"monkTorchZombie",[Za],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gr=a(Ii.prototype,"darkBasicZombie",[fa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pr=a(Ii.prototype,"darkFlagZombie",[da],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Br=a(Ii.prototype,"darkRallyZombie",[wa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sr=a(Ii.prototype,"darkJesterZombie",[za],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fr=a(Ii.prototype,"darkWizardZombie",[Ca],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ir=a(Ii.prototype,"darkWizardVeteranZombie",[va],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tr=a(Ii.prototype,"darkKingZombie",[Ra],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mr=a(Ii.prototype,"darkKingVeteranZombie",[Ga],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dr=a(Ii.prototype,"darkImpDragonZombie",[Pa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wr=a(Ii.prototype,"darkImpZombie",[Ba],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Or=a(Ii.prototype,"darkGargantuarZombie",[Sa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Er=a(Ii.prototype,"darkZombossMech",[Fa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ar=a(Ii.prototype,"beachBasicZombie",[Ia],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lr=a(Ii.prototype,"beachFemaleZombie",[Ta],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nr=a(Ii.prototype,"beachFlagZombie",[Ma],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jr=a(Ii.prototype,"beachRallyZombie",[Da],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xr=a(Ii.prototype,"beachSnorkelZombie",[Wa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jr=a(Ii.prototype,"beachSurferZombie",[Oa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hr=a(Ii.prototype,"beachOctopusZombie",[Ea],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vr=a(Ii.prototype,"beachFisherZombie",[Aa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kr=a(Ii.prototype,"beachImpZombie",[La],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qr=a(Ii.prototype,"beachGargantuarZombie",[Na],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xr=a(Ii.prototype,"beachZombossMech",[ja],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yr=a(Ii.prototype,"iceageBasicZombie",[xa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ur=a(Ii.prototype,"iceageFlagZombie",[Ja],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qr=a(Ii.prototype,"iceageRallyZombie",[Ha],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$r=a(Ii.prototype,"iceageHunterZombie",[Va],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=a(Ii.prototype,"iceageHunterVeteranZombie",[Ka],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=a(Ii.prototype,"iceageDodoZombie",[qa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=a(Ii.prototype,"iceageTroglobiteZombie",[Xa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=a(Ii.prototype,"iceageTroglobiteVeteranZombie",[Ya],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=a(Ii.prototype,"iceageWeaselHoarderZombie",[Ua],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=a(Ii.prototype,"iceageWeaselZombie",[Qa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=a(Ii.prototype,"iceageImpZombie",[$a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=a(Ii.prototype,"iceageGargantuarZombie",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=a(Ii.prototype,"iceageZombossMech",[ai],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=a(Ii.prototype,"lostcityBasicZombie",[ii],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=a(Ii.prototype,"lostcityFlagZombie",[oi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=a(Ii.prototype,"lostcityLostPilotZombie",[ri],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=a(Ii.prototype,"lostcityExcavatorZombie",[ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=a(Ii.prototype,"lostcityJaneZombie",[bi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=a(Ii.prototype,"lostcityRelicHunterZombie",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t=a(Ii.prototype,"lostcityImpPorterZombie",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=a(Ii.prototype,"lostcityCrystalSkullZombie",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=a(Ii.prototype,"lostcityImpZombie",[ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=a(Ii.prototype,"lostcityGargantuarZombie",[mi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zt=a(Ii.prototype,"lostcityZombossMech",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=a(Ii.prototype,"skyBasicZombie",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=a(Ii.prototype,"skyFlagZombie",[pi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=a(Ii.prototype,"eightiesBasicZombie",[_i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt=a(Ii.prototype,"eightiesFlagZombie",[yi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=a(Ii.prototype,"eightiesPunkZombie",[ki],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=a(Ii.prototype,"eightiesGlitterZombie",[hi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rt=a(Ii.prototype,"eightiesMCZombie",[Zi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gt=a(Ii.prototype,"eightiesBreakDancerZombie",[fi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=a(Ii.prototype,"eightiesArcadeZombie",[di],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt=a(Ii.prototype,"eightiesBoomBoxZombie",[wi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=a(Ii.prototype,"eighties8BitZombie",[zi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=a(Ii.prototype,"eightiesImpZombie",[Ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=a(Ii.prototype,"eightiesGargantuarZombie",[vi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=a(Ii.prototype,"dinoBasicZombie",[Ri],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=a(Ii.prototype,"dinoFlagZombie",[Gi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=a(Ii.prototype,"dinoRallyZombie",[Pi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=a(Ii.prototype,"dinoImpZombie",[Bi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot=a(Ii.prototype,"dinoGargantuarZombie",[Si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fi=Ii))||Fi));t._RF.pop()}}}));

System.register("chunks:///_virtual/ZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./Square.ts","./SoundsController.ts","./levelController.ts","./BananaLauncher.ts","./LnC.ts","./Character.ts","./CharacterManager.ts","./zombossMissileLocator.ts","./Droppings.ts","./Zombies.ts","./SoundManager.ts","./Tiles.ts"],(function(t){var e,o,i,n,s,a,r,u,l,h,m,c,d,p,b,S,f,g,w,y,Z,M,v,L,C,P,T,A,D,E,I,R,z,O,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty,i=t.inheritsLoose,n=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,r=t._decorator,u=t.CCInteger,l=t.CCFloat,h=t.AudioClip,m=t.Prefab,c=t.Vec2,d=t.assetManager,p=t.tween},function(t){b=t.ZombieDamageDetails,S=t.zombieDamageType,f=t.Zombie},function(t){g=t.ArrayGet,w=t.instantiatePooly,y=t.NodePools},function(t){Z=t.Square},function(t){M=t.MusicController,v=t.SoundFXController},function(t){L=t.LevelPlay,C=t.ValueRange},function(t){P=t.banana},function(t){T=t.LnCSpawnZombieStyleEnum},function(t){A=t.CharacterType},function(t){D=t.ZombiePool,E=t.PlantPool},function(t){I=t.zombossMissileLocator},function(t){R=t.droppings},function(t){z=t.zombies},function(t){O=t.MusicSortEnum},function(t){x=t.TileEnum}],execute:function(){var k,j,B,H,F,N,W,_,U,q,J,G,X,V,Y,K,Q,$,tt,et,ot,it,nt,st,at,rt,ut,lt,ht,mt,ct,dt,pt,bt,St,ft,gt,wt,yt,Zt,Mt,vt,Lt,Ct,Pt,Tt,At,Dt,Et,It,Rt,zt,Ot,xt,kt,jt,Bt,Ht,Ft,Nt,Wt,_t,Ut,qt,Jt,Gt,Xt,Vt,Yt,Kt,Qt,$t,te,ee,oe,ie,ne,se,ae,re,ue,le,he,me,ce,de,pe,be,Se,fe,ge,we,ye,Ze,Me,ve,Le,Ce,Pe,Te,Ae,De,Ee,Ie,Re,ze,Oe,xe,ke,je,Be,He,Fe,Ne,We,_e,Ue,qe,Je,Ge,Xe,Ve,Ye,Ke,Qe,$e,to,eo,oo,io;a._RF.push({},"d5220I98W9Gyr6uwY6Kq0xa","ZombossMechZombie",void 0);var no=r.ccclass,so=r.property,ao=t("ZombossSummonZombieActionDefinition",(k=no("ZombossSummonZombieActionDefinition"),j=so([String]),B=so(Number),H=so(Number),k((W=e((N=function(){o(this,"zombieList",W,this),o(this,"pointMin",_,this),o(this,"pointMax",U,this)}).prototype,"zombieList",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=e(N.prototype,"pointMin",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),U=e(N.prototype,"pointMax",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2e3}}),F=N))||F)),ro=t("ZombossAction",(q=no("ZombossAction"),J=so(String),G=so({type:ao,visible:function(){return"summon"==this.actionName}}),X=so(Number),V=so(u),Y=so(u),q(($=e((Q=function(){o(this,"actionName",$,this),o(this,"summonProps",tt,this),o(this,"weight",et,this),o(this,"repeatMax",ot,this),o(this,"repeatMin",it,this)}).prototype,"actionName",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),tt=e(Q.prototype,"summonProps",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ao}}),et=e(Q.prototype,"weight",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 12}}),ot=e(Q.prototype,"repeatMax",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),it=e(Q.prototype,"repeatMin",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),K=Q))||K)),uo=t("ZombossStage",(nt=no("ZombossStage"),st=so([ro]),at=so(l),rt=so(l),ut=so(l),lt=so(l),ht=so(l),mt=so(l),ct=so(l),dt=so(l),pt=so(l),bt=so(l),St=so(l),nt((wt=e((gt=function(){function t(){o(this,"Actions",wt,this),o(this,"AnimRateModifier",yt,this),o(this,"ChilledDurationFromFrozen",Zt,this),o(this,"DamageIndexFull",Mt,this),o(this,"DamageIndexHalf",vt,this),o(this,"HitPoints",Lt,this),o(this,"MaxIdleTime",Ct,this),o(this,"MinIdleTime",Pt,this),o(this,"StunDamageScale",Tt,this),o(this,"StunStaggerBackMovement",At,this),o(this,"StunStaggerBackTime",Dt,this),o(this,"StunTime",Et,this),this.StartPoint=300,this.EndPoint=1600,this.zombies=["tutorial"],this.zombieEnums=[]}return t.prototype.setZombiePool=function(){var t=this;this.zombieEnums=[],this.zombies.forEach((function(e){t.zombieEnums.push(z.getZombieEnumByString(e))}))},t}()).prototype,"Actions",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[new ro,new ro,new ro,new ro,new ro]}}),yt=e(gt.prototype,"AnimRateModifier",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Zt=e(gt.prototype,"ChilledDurationFromFrozen",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),Mt=e(gt.prototype,"DamageIndexFull",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vt=e(gt.prototype,"DamageIndexHalf",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Lt=e(gt.prototype,"HitPoints",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4e3}}),Ct=e(gt.prototype,"MaxIdleTime",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Pt=e(gt.prototype,"MinIdleTime",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),Tt=e(gt.prototype,"StunDamageScale",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),At=e(gt.prototype,"StunStaggerBackMovement",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Dt=e(gt.prototype,"StunStaggerBackTime",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.4}}),Et=e(gt.prototype,"StunTime",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),ft=gt))||ft));t("ZombossMechZombie",(It=no("ZombossMechZombie"),Rt=so(uo),zt=so(uo),Ot=so(h),xt=so(h),kt=so(h),jt=so(h),Bt=so(h),Ht=so(h),Ft=so(h),Nt=so(h),Wt=so(h),_t=so([h]),Ut=so([h]),qt=so([h]),Jt=so([h]),Gt=so([h]),Xt=so([h]),Vt=so([h]),Yt=so([h]),Kt=so([h]),Qt=so([h]),$t=so([h]),te=so([h]),ee=so([h]),oe=so([h]),ie=so([h]),ne=so([h]),se=so([h]),ae=so([h]),re=so([h]),ue=so(h),le=so(h),he=so(h),me=so(h),ce=so(h),de=so(l),pe=so(u),be=so(m),Se=so(m),It((we=e((ge=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,o(e,"mechStages",we,n(e)),o(e,"mech2Stages",ye,n(e)),e.mechToChoose=0,e.currentMechStages=[],e.hitPointHealths=[],e._bpStage=0,e._currentStage=0,e.willChangeStage=-1,e.rushInteruptDMG=400,o(e,"worldZombossStunStartSound",Ze,n(e)),o(e,"worldZombossStunLoopSound",Me,n(e)),e._currentStunLoopSound=void 0,o(e,"worldZombossStunEndSound",ve,n(e)),o(e,"worldZombossSummonLoopSound",Le,n(e)),o(e,"worldZombossSummonEndSound",Ce,n(e)),o(e,"worldZombossEscapeTriggerSound",Pe,n(e)),o(e,"worldZombossEscapePortalStartSound",Te,n(e)),o(e,"worldZombossEscapePortalSound",Ae,n(e)),o(e,"worldZombossMechDeathExplodeSound",De,n(e)),o(e,"worldZombossRushSaySounds",Ee,n(e)),o(e,"worldZombossStabSaySounds",Ie,n(e)),o(e,"worldZombossSpawnSaySounds",Re,n(e)),o(e,"worldZombossAngrySaySounds",ze,n(e)),o(e,"worldZombossEscapeSaySounds",Oe,n(e)),o(e,"worldZombossShootSaySounds",xe,n(e)),o(e,"worldZombossLeapSaySounds",ke,n(e)),o(e,"worldZombossMechMoveSounds",je,n(e)),o(e,"worldZombossMechStepSounds",Be,n(e)),o(e,"worldZombossMechStabSounds",He,n(e)),o(e,"worldZombossMechMouthOpenBodySounds",Fe,n(e)),o(e,"worldZombossMechMouthOpenBodyImpactSounds",Ne,n(e)),o(e,"worldZombossMechMouthOpenSounds",We,n(e)),o(e,"worldZombossMechMouthCloseBodySounds",_e,n(e)),o(e,"worldZombossMechMouthCloseSounds",Ue,n(e)),o(e,"worldZombossMechMouthCloseImpactSounds",qe,n(e)),o(e,"worldZombossMechLeapStartSounds",Je,n(e)),o(e,"worldZombossMechLeapEndSounds",Ge,n(e)),o(e,"worldZombossMechDeathFallSounds",Xe,n(e)),o(e,"worldZombossAimStartSound",Ve,n(e)),o(e,"worldZombossMechAimLoopSounds",Ye,n(e)),o(e,"worldZombossMechPRJDropSounds",Ke,n(e)),o(e,"worldZombossMechShootRiseSounds",Qe,n(e)),o(e,"worldZombossMechShootSounds",$e,n(e)),e.bp0Slots=[],e.bp1Slots=[],e.bp2Slots=[],e.bp3Slots=[],e.walkEasing="linear",e.rushDMGcount=0,e.mechStunningCD=0,e.StunStartAnmName="StunStart",e.StunEndAnmName="StunEnd",e.bindsToLane=!1,e.potatoMineDisappear=!1,e.idling=!1,e.actionCD=0,o(e,"actionDuration",to,n(e)),e.laughterRate=.5,e.exploded=!1,e.rushing=!1,e.walksWhenRushing=!0,e.deathPos=new c(5,3),e.countHealthToThisLane=!1,e.willJump=!1,e.willLandPos=new c(7,1),e.jumpTargetPoses=[new c(7,1),new c(7,2),new c(7,3),new c(7,4)],e.jumpHeightTween=null,e.willRush=!1,e.rushTween=null,e.lastAction="jump",e.actionLeftTime=0,e.WalksLeftOrRight=!0,e.knockBackable=!1,e.moveTween=null,e.destroyWhenFallEnd=!0,e.summonCD=.5,e.summonning=!1,e.summonZombieList=[],e.pfSent=!1,e.willSummon=!1,e.leapable=!1,o(e,"maxTargetPlantCount",eo,n(e)),o(e,"missile",oo,n(e)),o(e,"targetLocatorPrefab",io,n(e)),e.targetLocators=[],e.shooting=!0,e}i(e,t);var a=e.prototype;return a.plantRushWhiteList=function(){return[]},a.playSandStorm=function(t,e){},a.playDirtSpawn=function(t){},a.onDamaged=function(t,e,o){if(this.willChangeStage>=0)this.health=t;else{for(var i=0,n=0,s=0;s<this.hitPointHealths.length;s++)if(e<this.hitPointHealths[s]){i=2-s,n=this.hitPointHealths[s];break}this.currentStage!=i&&(this.willChangeStage=i,this.health=n,(!this.busy||this.shooting||this.rushing||this.summonning)&&this.changeStageStun()),e<=0&&(this.currentStage=2,this.willChangeStage=-1,this.willRush=!1,this.bpStage=3),this.rushing&&(this.rushDMGcount+=t-e,(this.rushDMGcount>=this.rushInteruptDMG||e<0)&&this.rushInterupt())}},a.setButter=function(t,e){return!1},a.setChiliStun=function(t){return!1},a.chilibeanFart=function(){},a.getProgress=function(){for(var t=1/this.currentMechStages.length,e=0,o=0,i=0;i<this.hitPointHealths.length;i++){if(!(this.health>=this.hitPointHealths[i])){e+=t*(this.health-o)/(this.hitPointHealths[i]-o);break}e+=t,o=this.hitPointHealths[i]}return e},a.bossOnPriceCollected=function(){return this.escapeStart(),4},a.detectRushEnemies=function(){var t=this;return[this.inLane,this.inLane.UpperLane].some((function(e){return e&&(t.hypno?e.zombiePool().some((function(e){return-1==t.basicWhiteList.indexOf(e.ID)})):e.hypnoZombiePool().some((function(e){return-1==t.basicWhiteList.indexOf(e.ID)}))||!t.hypno&&e.plantPool().some((function(e){return-1==t.plantRushWhiteList().indexOf(e.ID)})))}))},a.getZombieEnumsToSummon=function(){for(var t=this.currentMechStages[this.currentStage],e=t.StartPoint,o=0,i=this.hitPointHealths[0],n=0;n<this.hitPointHealths.length-1;n++)this.health>this.hitPointHealths[n]&&(o=this.hitPointHealths[n],i=this.hitPointHealths[n+1]);return e+=(1-(this.health-o)/(i-o))*(t.EndPoint-t.StartPoint),z.getZombiesWithNamesAndPoint(t.zombieEnums,e,!1)},a.specialZombieOnLoad=function(){var t=this;this.body.body.armature().getSlots().forEach((function(e){e.name.includes("_BP0")?t.bp0Slots.push(e):e.name.includes("_BP1")?t.bp1Slots.push(e):e.name.includes("_BP2")?t.bp2Slots.push(e):e.name.includes("_BP3")&&t.bp3Slots.push(e)})),this.worldZombossStunLoopSound&&d.loadRemote(this.worldZombossStunLoopSound.nativeUrl,{audioLoadMode:h.AudioType.DOM_AUDIO},(function(e,o){o&&(t.worldZombossStunLoopSound=o)})),this.worldZombossSummonLoopSound&&d.loadRemote(this.worldZombossSummonLoopSound.nativeUrl,{audioLoadMode:h.AudioType.DOM_AUDIO},(function(e,o){o&&(t.worldZombossSummonLoopSound=o)})),this.worldZombossMechAimLoopSounds&&d.loadRemote(this.worldZombossMechAimLoopSounds.nativeUrl,{audioLoadMode:h.AudioType.DOM_AUDIO},(function(e,o){o&&(t.worldZombossMechAimLoopSounds=o)})),this.specialZombossOnLoad()},a.specialZombossOnLoad=function(){},a.changeStageStun=function(){this.currentStage=this.willChangeStage,this.willChangeStage=-1,this.isBoss&&(1==this.currentStage?M.switchMusicSort(O.ZombossStage1,!1,!0):2==this.currentStage&&M.switchMusicSort(O.ZombossStage2_start,!1,!0));var t=this.currentMechStages[this.currentStage].StunTime;L.shakeScreen(t),this.specialZombossMechBeforeChangeStageStun(),this.stunStart(t,1)},a.specialZombossMechBeforeChangeStageStun=function(){},a.specialZombossMechBeforeRushInteruptStun=function(){},a.empStun=function(t){this.stunStart()},a.stunStart=function(t,e,o){var i;void 0===t&&(t=this.currentMechStages[this.currentStage].StunTime),void 0===e&&(e=1),void 0===o&&(o=1),this.jumpHeightTween||(null==(i=this.moveTween)||i.stop(),this.moveTween=null,this.rushInterupt(),this.shootInterupt(),this.summonInterupt(),this.audioSource.clip=this._currentStunLoopSound,this.stunRollBack(o),this.audioSource.play(),this.audioSource.loop=!0,this.playOneShot(this.worldZombossStunStartSound),this.mechStunningCD=this.dead?.1:t,this.body.playAnimation(this.StunStartAnmName,e))},a.stunRollBack=function(t){t>0&&p(this).by(this.currentMechStages[this.currentStage].StunStaggerBackTime,{worldPositionX:this.currentMechStages[this.currentStage].StunStaggerBackMovement*t*Z.SquareDisW*(this.reversed?-1:1)},{easing:"quadOut"}).start()},a.defaultZombossStunEnd=function(){var t,e,o;null==(t=this.jumpHeightTween)||t.stop(),this.jumpHeightTween=null,this.correctDepth(1e3),this.willRush=!1,this.willSummon=!1,null==(e=this.rushTween)||e.stop(),this.rushTween=null,null==(o=this.moveTween)||o.stop(),this.moveTween=null,this.idling=!1,this.actionCD=0,this.mechStunningCD=0,this.audioSource.stop(),this.playOneShot(this.worldZombossStunEndSound),this.body.playAnimation(this.StunEndAnmName,1),this.specialZombossMechStunEnd()},a.stunEnd=function(){this.defaultZombossStunEnd()},a.specialZombossMechStunEnd=function(){},a.playSpecialZombieDie=function(t){this.currentStage=2,this.onDamaged(this.health,0,new b),this.health=0;for(var e=0;e<5;e++)Z.getLaneComponent(e).deleteZombie(this);this.rushInterupt(!1),this.summonInterupt(!1),this.shootInterupt(!1),this.deathJump(),this.stunEnd()},a.specialZombieOnDisable=function(){this.specialZombossOnDisable()},a.specialZombossOnDisable=function(){},a.killInRange=function(){var t=this;[this.inLane,this.inLane.UpperLane].forEach((function(e){e.plantPool().forEach((function(e){t.bodyRec.judgeCrossRec(e.bodyRec)&&(e.kill(),e.dead||t.rushInterupt())})),e.zombiePool().concat(e.hypnoZombiePool()).forEach((function(e){e!=t&&-1==t.basicWhiteList.indexOf(e.ID)&&t.bodyRec.judgeCrossRec(e.bodyRec)&&e.playDie(!1,null,!0,S.physicle,!0,!0,!0)})),t.flying||e.tombPool().forEach((function(e){t.bodyRec.judgeCrossRec(e.bodyRec)&&e.die()}))}))},a.explodeAnimation=function(){this.exploded=!0,this.body.playAnimation("DeathStart",1),this.playOneShot(this.worldZombossMechDeathExplodeSound,1,!0),this.idling=!1,L.shakeScreen(2),this.isBoss&&D.pool().concat().forEach((function(t){t.dealDamage(new b(t.health+1,!1,!1,!1,null,S.ray))})),this.isBoss&&M.switchMusicSort(O.Victory)},a.specialZombossUpdate=function(t,e,o){},a.specialZombossUpdateForce=function(t,e,o,i){},a.setLnCsOccupied=function(){var t,e,o,i,n,s,a,r,u,l;this.jumpHeightTween||(this.reversed?[this.inLnC,null==(t=this.inLnC)?void 0:t.upper,null==(e=this.inLnC)?void 0:e.lefter,null==(o=this.inLnC)||null==(o=o.lefter)?void 0:o.upper,null==(i=this.inLnC)||null==(i=i.lefter)?void 0:i.righter,null==(n=this.inLnC)||null==(n=n.lefter)||null==(n=n.lefter)?void 0:n.upper].forEach((function(t){null==t||t.setOccupied(.1)})):[this.inLnC,null==(s=this.inLnC)?void 0:s.upper,null==(a=this.inLnC)?void 0:a.righter,null==(r=this.inLnC)||null==(r=r.righter)?void 0:r.upper,null==(u=this.inLnC)||null==(u=u.righter)?void 0:u.righter,null==(l=this.inLnC)||null==(l=l.righter)||null==(l=l.righter)?void 0:l.upper].forEach((function(t){null==t||t.setOccupied(.1)})))},a.specialZombieUpdateForced=function(t,e,o,i){if(this.setLnCsOccupied(),L.gameStarted&&(L.component.bossHealthProgress=this.getProgress()),!this.busy||this.rushing||this.shooting||this.summonning){if(this.willChangeStage>=0)this.changeStageStun();else if(this.health<=0){var n=this.reversed?8-this.deathPos.x:this.deathPos.x;this.cIndex==n&&this.lIndex==this.deathPos.y?this.explodeAnimation():this.deathJump()}}else this.mechStunningCD>0&&(this.mechStunningCD-=t,this.mechStunningCD<=0&&this.stunEnd());this.rushing&&!this.isAlive()&&this.deathJump(),this.specialZombossUpdateForce(t,e,o,i)},a.specialZombieUpdate=function(t,e,o){if(this.audioSource.volume=v.SoundFXVolume,this.moveTween&&!this.jumpHeightTween&&this.killInRange(),!this.busy&&this.willChangeStage<0&&(this.actionCD>0&&(this.actionCD-=t),this.actionCD<=0)){this.randomAction(this.currentMechStages[this.currentStage].Actions);var i=this.currentMechStages[this.currentStage];this.actionCD=i.MinIdleTime+(i.MaxIdleTime-i.MinIdleTime)*Math.random()}this.summonning&&(this.summonCD>0&&(this.summonCD-=t),this.summonCD<=0&&(this.summonAZombie(),this.summonCD=.75)),this.specialZombossUpdate(t,e,o)},a.lockedTimeScale=function(){return L.component.bossZombie!=this||L.component.bossMovable?this.rushing&&this.walksWhenRushing?2.7:this.currentMechStages[this.currentStage].AnimRateModifier:0},a.deathJump=function(){var t;null==(t=this.rushTween)||t.stop(),this.mechStunningCD=0,this.rushInterupt(),this.shootInterupt(),this.summonInterupt(),this.jumpStart(this.deathPos)},a.getJumpTarget=function(){var t=this;return g.randomize(this.jumpTargetPoses).find((function(e){return e.x!=(t.reversed?8-t.cIndex:t.cIndex)||e.y!=t.lIndex}))},a.jumpStart=function(t){void 0===t&&(t=this.getJumpTarget()),this.jumpHeightTween||(this.idling=!1,t||(t=g.getRandom(this.jumpTargetPoses)),this.willLandPos=t,this.body.playAnimation("LeapStart",1),Math.random()<this.laughterRate&&this.playOneShot(g.getRandom(this.worldZombossLeapSaySounds),1,!0))},a.jump=function(t){var e=this;void 0===t&&(t=g.getRandom(this.jumpTargetPoses));var o=t.clone();this.reversed&&(o.x=8-o.x);var i=Z.getLnC(o.y,o.x),n=this;this.jumpHeightTween=p(n).to(.4,{height:160},{easing:"quadOut"}).to(.4,{height:0},{easing:"quadIn"}).call((function(){e.flying=e.currentFlyZombie})).start(),this.flying=!0,this.moveTween=p(n).to(.8,{worldPositionX:i.node.worldPosition.x,worldPositionY:i.node.worldPosition.y}).call((function(){n.moveTween=null,n.jumpHeightTween=null,n.body.playAnimation("LeapEnd",1),n.killInRange()})).start()},a.stabAnimation=function(){this.idling=!1,Math.random()<this.laughterRate&&this.playOneShot(g.getRandom(this.worldZombossAngrySaySounds),1,!0),this.body.playAnimation("Stomp",1)},a.rush=function(){var t=this;this.willRush=!1,this.isAlive()&&(this.rushDMGcount=0,this.body.playAnimation("WalkR",2),this.rushTween=this.moveTween=p(this).by(7/6,{worldPositionX:Z.SquareDisW*(this.reversed?-1:1)}).call((function(){t.body.playAnimation("WalkL",1/0),t.rushing=!0,Math.random()<t.laughterRate&&t.playOneShot(g.getRandom(t.worldZombossRushSaySounds),1,!0)})).to(1.7,{worldPositionX:Z.getLnC(0,this.reversed?8:0).node.worldPosition.x},{easing:"quadIn"}).call((function(){t.jumpStart(g.getRandom(t.jumpTargetPoses))})).to(.1,{}).call((function(){t.moveTween=null,t.rushing=!1})).start())},a.rushInterupt=function(t){var e,o;void 0===t&&(t=!0),this.willRush=!1,null==(e=this.rushTween)||e.stop(),this.rushTween=null,this.rushing&&(this.audioSource.stop(),this.rushing=!1,null==(o=this.moveTween)||o.stop(),this.moveTween=null,t&&(this.specialZombossMechBeforeRushInteruptStun(),this.stunStart(this.currentMechStages[this.currentStage].StunTime)))},a.columeSummon=function(t){var e=this,o=this.getZombieEnumsToSummon(),i=Math.random()<.3;o.forEach((function(o){var n=Z.getLnC(Math.floor(5*Math.random()),t),s=i;s&&(i=!1),n.scheduleOnce((function(){var t=z.getZombieProps(o).ZombossLaneSummon?T.fromLane:T.dirtSpawn,i=n.spawnZombie(o,t,!0,Math.random(),0);s&&i[0]&&(s=!1,i[0].havePlantfood=!0),i.forEach((function(t){t.judgeInLnC(),t.hypno=e.hypno,t.reversed=e.reversed}))}),Math.random())}))},a.getIdleC=function(){return this.reversed?1:7},a.getWalkFunArr=function(t){var e=this,o=[];return this.WalksLeftOrRight&&this.cIndex==t&&o.push((function(){e.walkL()})),this.WalksLeftOrRight&&this.cIndex==t+(this.reversed?1:-1)&&o.push((function(){e.walkR()})),this.lIndex<=3&&this.cIndex==t&&o.push((function(){e.walkD()})),this.lIndex>=2&&this.cIndex==t&&o.push((function(){e.walkU()})),o},a.randomAction=function(t){var e=this,o=this.getIdleC(),i=[];t.forEach((function(t){if(!(e.actionLeftTime>0&&e.lastAction!=t.actionName||e.actionLeftTime<=0&&e.lastAction==t.actionName))for(var o=0;o<t.weight;o++)i.push(t)}));var n=[],s=[];i.find((function(t){return"walk"==t.actionName}))&&(s=this.getWalkFunArr(o)),s.length&&i.forEach((function(t){"walk"==t.actionName&&n.push(t)}));var a=[];i.find((function(t){return"jump"==t.actionName}))&&this.jumpTargetPoses.forEach((function(t){var o=t.clone();e.reversed&&(o.x=8-o.x),o.x==e.cIndex&&o.y==e.lIndex||a.push((function(){e.jumpStart(t)}))})),a.length&&i.forEach((function(t){"jump"==t.actionName&&n.push(t)}));var r=[];this.detectRushEnemies()&&this.cIndex==o&&i.find((function(t){return"rush"==t.actionName}))&&r.push((function(){e.willRush=!0,e.stabAnimation()})),r.length&&i.forEach((function(t){"rush"==t.actionName&&n.push(t)}));var u=[];this.cIndex==o&&i.filter((function(t){return"summon"==t.actionName})).forEach((function(t){for(var o=0;o<t.weight;o++)u.push((function(){var o=e.currentMechStages[e.currentStage];o&&(o.StartPoint=t.summonProps.pointMin,o.EndPoint=t.summonProps.pointMax,o.zombies=t.summonProps.zombieList,o.setZombiePool()),e.summonAnimation()}))})),u.length&&i.forEach((function(t){"summon"==t.actionName&&n.push(t)}));var l=[];if(this.detectShootEnemy()&&this.cIndex==o&&i.find((function(t){return"shoot"==t.actionName}))&&l.push((function(){e.shootAnimation()})),l.length&&i.forEach((function(t){"shoot"==t.actionName&&n.push(t)})),n.length){var h=g.getRandom(n);switch(h.actionName){case"walk":g.getRandom(s)();break;case"jump":g.getRandom(a)();break;case"shoot":g.getRandom(l)();break;case"summon":g.getRandom(u)();break;case"rush":g.getRandom(r)()}if(this.actionLeftTime<=0){this.lastAction=h.actionName;var m=t.find((function(t){return t.actionName==h.actionName}));m&&(this.actionLeftTime=C.getRandomIntegerFromRange(new C(m.repeatMax,m.repeatMin)))}this.actionLeftTime--}else this.jumpStart(),this.actionLeftTime=0},a.detectShootEnemy=function(){return!0},a.specialZombieLeapable=function(){return!1},a.specialZombieKnockbackable=function(){return!1},a.blowAway=function(){},a.turnIntoSporeShroom=function(){},a.setFreeze=function(t,e){return t>0&&this.setChill(this.currentMechStages[this.currentStage].ChilledDurationFromFrozen),!0},a.walkU=function(){if(this.isAlive()){this.body.playAnimation("WalkU",1);var t=this;this.moveTween=p(t).by(35/30/this.lockedTimeScale(),{worldPositionY:Z.SquareDisH}).call((function(){t.moveTween=null,t.body.playAnimation("Idle",1/0)})).start()}},a.walkD=function(){if(this.isAlive()){this.body.playAnimation("WalkD",1);var t=this;this.moveTween=p(t).by(35/30/this.lockedTimeScale(),{worldPositionY:-Z.SquareDisH}).call((function(){t.moveTween=null,t.body.playAnimation("Idle",1/0)})).start()}},a.walkL=function(){if(this.isAlive()){this.body.playAnimation("WalkL",1);var t=this;this.moveTween=p(t).by(35/30/this.lockedTimeScale(),{worldPositionX:-Z.SquareDisW*(this.reversed?-1:1)}).call((function(){t.moveTween=null,t.body.playAnimation("Idle",1/0)})).start()}},a.walkR=function(){if(this.isAlive()){this.body.playAnimation("WalkR",1);var t=this;this.moveTween=p(this).by(35/30/this.lockedTimeScale(),{worldPositionX:Z.SquareDisW*(this.reversed?-1:1)}).call((function(){t.moveTween=null,t.body.playAnimation("Idle",1/0)})).start()}},a.moveFromLaneToLane=function(t,e){var o;if(this.isAlive()){for(var i=0;i<5;i++)Z.getLaneComponent(i).deleteZombie(this);null==e||e.addZombie(this),null==e||null==(o=e.UpperLane)||o.addZombie(this),this.node.setSiblingIndex(0)}},a.summonAZombie=function(){var t,e=this,o=this.summonZombieList.shift(),i=this.inLnC[this.reversed?"righter":"lefter"];if(Math.random()>=.5&&i.lIndex>=1&&(i=null==(t=i)?void 0:t.upper),i){var n=i.spawnZombie(o,T.directPut);!this.pfSent&&Math.random()<.3&&(n[0].havePlantfood=!0,this.pfSent=!0),n.forEach((function(t){t.reversed=e.reversed,t.hypno=e.hypno,t.playTeleportSpawn(i.node.worldPosition.x),t.walking=!1,t.playWalk()})),this.summonZombieList.length<=0&&this.summonEnd()}},a.summonAnimation=function(){this.isAlive()&&(this.jumpStart(),this.willSummon=!0)},a._summonOpenMouth=function(){this.body.playAnimation("SummonStart",1),this.idling=!1,this.willSummon=!1},a.summonStart=function(){this.summonning=!0,this.summonCD=.5,this.summonZombieList=this.getZombieEnumsToSummon(),this.pfSent=!1,this.summonAudioActive()},a.summonAudioActive=function(){this.audioSource.clip=this.worldZombossSummonLoopSound,this.audioSource.play(),this.audioSource.loop=!0},a.summonEnd=function(){this.summonning=!1,this.audioSource.stop(),this.audioSource.clip=null,this.body.playAnimation("SummonEnd",1),this.playOneShot(this.worldZombossSummonEndSound,1,!0)},a.summonInterupt=function(t){void 0===t&&(t=!0),this.summonning&&(this.summonning=!1,this.willSummon=!1,this.audioSource.stop(),this.audioSource.clip=null,t&&this.stunStart())},a.playSpecialZombieDieForced=function(){this.shootInterupt(!1),this.specialZombossDieForce()},a.specialZombossDieForce=function(){},a.dealDamage=function(t){return this.defaultZombossDealdamage(t)},a.defaultZombossDealdamage=function(t){return this.currentStage-this.willChangeStage>1&&this.willChangeStage>0?this.health:this.dealNormalDamage(t)},a.specialZombossMechAnimationListener=function(t){},a.escapeStart=function(){this.body.playAnimation("Escape",1),this.playOneShot(g.getRandom(this.worldZombossEscapeSaySounds),1,!0)},a.specialAnimationListener=function(t){if("Idle"==t.name){if(this.willRush)this.rush();else if(this.isAlive()||this.jumpHeightTween)this.willSummon?this._summonOpenMouth():this.willJump&&!this.jumpHeightTween?(this.willJump=!1,this.jumpStart()):(this.body.playAnimation("Idle",1/0),this.idling=!0);else{var e=this.reversed?8-this.deathPos.x:this.deathPos.x;this.cIndex==e&&this.lIndex==this.deathPos.y?this.explodeAnimation():this.deathJump()}if(this.isBoss&&!L.gameStarted)L.component.fillBossHealthProgressBar(this.currentMechStages.length).barSprite.customMaterial=this.body.body.customMaterial;this.shooting=!1,this.summonning=!1,this.audioSource.stop()}else if("stepSound"==t.name)this.playOneShot(g.getRandom(this.worldZombossMechStepSounds),1,!0);else if("mouthCloseSound"==t.name)this.playOneShot(g.getRandom(this.worldZombossMechMouthCloseSounds),1,!0);else if("mouthCloseImpactSound"==t.name)this.playOneShot(g.getRandom(this.worldZombossMechMouthCloseImpactSounds),1,!0);else if("mouthCloseBodyCallSound"==t.name)this.playOneShot(g.getRandom(this.worldZombossMechMouthCloseBodySounds),1,!0);else if("mouthOpenSound"==t.name)this.summonStart(),this.playOneShot(g.getRandom(this.worldZombossMechMouthOpenSounds),1,!0);else if("summonFallSound"==t.name)this.playOneShot(g.getRandom(this.worldZombossMechMouthOpenBodySounds),1,!0);else if("summonFallImpactSound"==t.name)this.playOneShot(g.getRandom(this.worldZombossMechMouthOpenBodyImpactSounds),1,!0);else if("stabSaySound"==t.name)Math.random()<this.laughterRate&&this.playOneShot(g.getRandom(this.worldZombossStabSaySounds),1,!0);else if("moveSound"==t.name)this.playOneShot(g.getRandom(this.worldZombossMechMoveSounds),1,!0);else if("landSound"==t.name)this.playOneShot(g.getRandom(this.worldZombossMechLeapEndSounds),1,!0);else if("leapSound"==t.name)this.playOneShot(g.getRandom(this.worldZombossMechLeapStartSounds),1,!0);else if("deathFallSound"==t.name)this.playOneShot(g.getRandom(this.worldZombossMechDeathFallSounds),1,!0);else if("shootReadySound"==t.name)this.playOneShot(this.worldZombossMechShootRiseSounds,1,!0),Math.random()<this.laughterRate&&this.playOneShot(g.getRandom(this.worldZombossSpawnSaySounds),1,!0);else if("shootStart"==t.name)this.playOneShot(this.worldZombossMechShootSounds,1,!0);else if("shoot"==t.name)this.dropMissile();else if("leap"==t.name)this.jump(this.willLandPos);else if("stabU"==t.name){var o,i;null==(o=this.inLnC[this.reversed?"righter":"lefter"])||null==(o=o.upper)||null==(o=o.getAllPlants())||o.forEach((function(t){t.kill()})),null==(i=this.inLnC[this.reversed?"righter":"lefter"])||null==(i=i.upper)||null==(i=i.tombStone)||i.die(),this.playOneShot(g.getRandom(this.worldZombossMechStabSounds),1,!0)}else if("stabD"==t.name){var n,s;null==(n=this.inLnC[this.reversed?"righter":"lefter"])||null==(n=n.getAllPlants())||n.forEach((function(t){t.kill()})),null==(s=this.inLnC[this.reversed?"righter":"lefter"])||null==(s=s.tombStone)||s.die(),this.playOneShot(g.getRandom(this.worldZombossMechStabSounds),1,!0)}else"judgeEscape"==t.name?this.isBoss?L.component.victory(this._worldPosition,!1):this.escapeStart():"escape_trigger"==t.name&&(this.playOneShot(this.worldZombossEscapeTriggerSound,1,!0),this.playOneShot(this.worldZombossEscapePortalStartSound,1,!0),this.playOneShot(this.worldZombossEscapePortalSound,1,!0));this.specialZombossMechAnimationListener(t)},a.specialZombieOnLaneChange=function(t,e){this.specialZombossOnLaneChange(t,e)},a.specialZombossOnLaneChange=function(t,e){},a.specialZombieOnEnable=function(){var t=this;this.walking=!1,this.willJump=!1,this.switching=!0,this.body.playAnimation("Spawn",1),this.leapable=!1,this.idling=!1,this.exploded=!1,this.lastAction="jump",this.actionLeftTime=0,this.StunStartAnmName="StunStart",this.StunEndAnmName="StunEnd",this._currentStunLoopSound=this.worldZombossStunLoopSound;for(var e=0;e<5;e++)Z.getLaneComponent(e).deleteZombie(this);switch(this.targetLocators=[],this.rushDMGcount=0,this.willRush=!1,this.willChangeStage=-1,this.moveTween=null,this.jumpHeightTween=null,this.mechToChoose){case 1:this.currentMechStages=this.mech2Stages;break;default:this.currentMechStages=this.mechStages}this.currentStage=0,this.rushing=!1,this.shooting=!1,this.summonning=!1,this.mechStunningCD=0;var o=0;this.hitPointHealths=[],this.currentMechStages.concat().reverse().forEach((function(e){o+=e.HitPoints,t.hitPointHealths.push(o),e.setZombiePool()})),this.objdataOwn.Toughness=o,this.health=this.toughness,this.audioSource.stop(),this.audioSource.clip=null,this.specialZombossMechOnEnable()},a.specialZombossMechOnEnable=function(){},a.defaultGetShootTargetLnCs=function(t){var e=this;void 0===t&&(t=.5);var o=[],i=g.randomize(Z.getAllLnC()),n=[];E.pool().forEach((function(t){t.inLnC&&-1==n.indexOf(t.inLnC)&&n.push(t.inLnC)})),n=g.randomize(n);for(var s=0;s<this.maxTargetPlantCount&&s<n.length&&o.length<this.maxTargetPlantCount;s++)Math.random()>t&&o.push(n[s]);if(o.length<this.maxTargetPlantCount)for(var a=0;a<i.length&&o.length<this.maxTargetPlantCount;a++)-1==o.indexOf(i[a])&&(!this.reversed&&i[a].cIndex<=5||this.reversed&&i[a].cIndex>=3)&&o.push(i[a]);return o.forEach((function(t){t.tilesInSquare.forEach((function(t){t.tileID==x.foodLinker&&(t.locatingZomboss=e)}))})),o},a.getShootTargetLnCs=function(){return this.defaultGetShootTargetLnCs()},a.tossAway=function(t){},a.meetMower=function(t){},a.playWalk=function(t,e){},a.shootAnimation=function(){var t=this;if(this.isAlive()){this.targetLocators=[],this.idling=!1,this.body.playAnimation("Shoot",1),Math.random()<this.laughterRate&&this.playOneShot(g.getRandom(this.worldZombossShootSaySounds),1,!0),this.playOneShot(this.worldZombossAimStartSound,1,!0),this.audioSource.clip=this.worldZombossMechAimLoopSounds,this.audioSource.play(),this.audioSource.loop=!0;var e=this.getShootTargetLnCs();null==e||e.forEach((function(e){if(e){var o=w(t.targetLocatorPrefab);o.parent=R.layer,o.worldPosition=e.node.worldPosition;var i=o.getComponent(I);i.inLnC=e,t.targetLocators.push(i)}})),this.shooting=!0}},a.shootInterupt=function(t){void 0===t&&(t=!0),this.shooting&&(this.shooting=!1,this.targetLocators.forEach((function(t){t.db.playAnimation("Die",1)})),this.targetLocators=[],this.audioSource.stop(),t&&this.stunStart())},a.foodLinkerShootInterupt=function(){},a.dropMissileOnLnC=function(t){return P.throwOneBananaOnNode(y.instantiatePooly(this.missile),t.plantPoint,1e3,t.inLane.prjLayer,30,this.hypno?A.zombie:A.plant)},a.dropMissile=function(){var t=this;this.playOneShot(this.worldZombossMechPRJDropSounds,1,!0),this.targetLocators.forEach((function(e){var o=t.dropMissileOnLnC(e.inLnC);o.locator=e,o.gravity=1,t.missileMeasure(o)})),this.targetLocators=[]},a.missileMeasure=function(t){},s(e,[{key:"basicWhiteList",get:function(){return z.zombossList()}},{key:"bpStage",set:function(t){this.bp0Slots.forEach((function(e){e._setDisplayIndex(t>0?0:-1)})),this.bp1Slots.forEach((function(e){e._setDisplayIndex(t>0?0:-1)})),this.bp2Slots.forEach((function(e){e._setDisplayIndex(t>1?0:-1)})),this.bp3Slots.forEach((function(e){e._setDisplayIndex(t>2?0:-1)})),this._bpStage=t}},{key:"currentStage",get:function(){return this._currentStage},set:function(t){this.bpStage=t,this._currentStage=t}},{key:"busy",get:function(){return!!this.moveTween||!!this.jumpHeightTween||!this.idling||this.mechStunningCD>0}},{key:"ImmuneToSporeShroom",get:function(){return!0}},{key:"siblingIndexInLane",get:function(){return-1/0}}]),e}(f)).prototype,"mechStages",[Rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ye=e(ge.prototype,"mech2Stages",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ze=e(ge.prototype,"worldZombossStunStartSound",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=e(ge.prototype,"worldZombossStunLoopSound",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=e(ge.prototype,"worldZombossStunEndSound",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=e(ge.prototype,"worldZombossSummonLoopSound",[jt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=e(ge.prototype,"worldZombossSummonEndSound",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=e(ge.prototype,"worldZombossEscapeTriggerSound",[Ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=e(ge.prototype,"worldZombossEscapePortalStartSound",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=e(ge.prototype,"worldZombossEscapePortalSound",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=e(ge.prototype,"worldZombossMechDeathExplodeSound",[Wt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=e(ge.prototype,"worldZombossRushSaySounds",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ie=e(ge.prototype,"worldZombossStabSaySounds",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Re=e(ge.prototype,"worldZombossSpawnSaySounds",[qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ze=e(ge.prototype,"worldZombossAngrySaySounds",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Oe=e(ge.prototype,"worldZombossEscapeSaySounds",[Gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xe=e(ge.prototype,"worldZombossShootSaySounds",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ke=e(ge.prototype,"worldZombossLeapSaySounds",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),je=e(ge.prototype,"worldZombossMechMoveSounds",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Be=e(ge.prototype,"worldZombossMechStepSounds",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),He=e(ge.prototype,"worldZombossMechStabSounds",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Fe=e(ge.prototype,"worldZombossMechMouthOpenBodySounds",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ne=e(ge.prototype,"worldZombossMechMouthOpenBodyImpactSounds",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),We=e(ge.prototype,"worldZombossMechMouthOpenSounds",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_e=e(ge.prototype,"worldZombossMechMouthCloseBodySounds",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ue=e(ge.prototype,"worldZombossMechMouthCloseSounds",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qe=e(ge.prototype,"worldZombossMechMouthCloseImpactSounds",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Je=e(ge.prototype,"worldZombossMechLeapStartSounds",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ge=e(ge.prototype,"worldZombossMechLeapEndSounds",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xe=e(ge.prototype,"worldZombossMechDeathFallSounds",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ve=e(ge.prototype,"worldZombossAimStartSound",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye=e(ge.prototype,"worldZombossMechAimLoopSounds",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=e(ge.prototype,"worldZombossMechPRJDropSounds",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=e(ge.prototype,"worldZombossMechShootRiseSounds",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=e(ge.prototype,"worldZombossMechShootSounds",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),to=e(ge.prototype,"actionDuration",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),eo=e(ge.prototype,"maxTargetPlantCount",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),oo=e(ge.prototype,"missile",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),io=e(ge.prototype,"targetLocatorPrefab",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=ge))||fe));a._RF.pop()}}}));

System.register("chunks:///_virtual/zombossMissile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./LnC.ts","./Tiles.ts","./Character.ts"],(function(n){var i,l,t,e,o,s,r,a,u,c;return{setters:[function(n){i=n.applyDecoratedDescriptor,l=n.inheritsLoose,t=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){o=n.cclegacy,s=n._decorator},function(n){r=n.commonShot},function(n){a=n.TileType},function(n){u=n.TileEnum},function(n){c=n.CharacterType}],execute:function(){var p,f,h,b,d,y,m;o._RF.push({},"328dfCpogVF4pqNHmByBuzw","zombossMissile",void 0);var v=s.ccclass,P=s.property;n("zombossMissile",(p=v("zombossMissile"),f=P(Boolean),h=P(Boolean),p((y=i((d=function(n){function i(){for(var i,l=arguments.length,o=new Array(l),s=0;s<l;s++)o[s]=arguments[s];return i=n.call.apply(n,[this].concat(o))||this,t(i,"burnsPlants",y,e(i)),t(i,"tileDestroyer",m,e(i)),i.locator=null,i}l(i,n);var o=i.prototype;return o.specialOnGroundHit=function(n){var i,l,t,e,o=this,s=null==n?void 0:n.getAllPlants(),r=null==n?void 0:n.getTileType();return null==n||null==(i=n.tombStone)||i.die(),this.specialZombossMissileOnGroundHit(n),null!=s&&s.length?(null==s||s.forEach((function(n){o.burnsPlants?n.burn():(n.kill(),n.isAlive()||n.node.destroy())})),null==(t=this.locator)||null==(t=t.db)||t.playAnimation("Die",1),!0):r==a.floor||r==a.deck?(null==(e=this.locator)||null==(e=e.db)||e.playAnimation("Die",1),!0):(null==(l=this.locator)||null==(l=l.db)||l.playAnimation("Die",1),!1)},o.specialZombossMissileOnGroundHit=function(n){},o.specialMissileOnPop=function(){},o.onPlantHit=function(n){this.burnsPlants?n.burn():(n.kill(),n.isAlive()||n.node.destroy())},o.onPop=function(){var n,i,l=this;this.tileDestroyer&&(null==(i=this.inLnC)||null==(i=i.tilesInSquare)||i.forEach((function(n){n.tileID==u.foodLinker&&(n.inLnC=null)})));if(this.enemyType!=c.zombie){var t,e=null==(t=this.inLnC)?void 0:t.getAllPlants();null==e||e.forEach((function(n){l.burnsPlants?n.burn():(n.kill(),n.isAlive()||n.node.destroy())}))}null==(n=this.inLnC)||null==(n=n.tombStone)||n.die(),this.specialMissileOnPop()},o.characterOnDisable=function(){var n;null==(n=this.locator)||null==(n=n.db)||n.playAnimation("Die",1)},o.characterOnEnable=function(){this.initialize(),this.locator=null},i}(r)).prototype,"burnsPlants",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m=i(d.prototype,"tileDestroyer",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=d))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/zombossMissileLocator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts"],(function(o){var t,s,e,i;return{setters:[function(o){t=o.inheritsLoose},function(o){s=o.cclegacy,e=o._decorator},function(o){i=o.ParticleSelfdestroy}],execute:function(){var n;s._RF.push({},"53c69zH+RZGBJTVpfcWCg4g","zombossMissileLocator",void 0);var r=e.ccclass;e.property,o("zombossMissileLocator",r("zombossMissileLocator")(n=function(o){function s(){for(var t,s=arguments.length,e=new Array(s),i=0;i<s;i++)e[i]=arguments[i];return(t=o.call.apply(o,[this].concat(e))||this).inLnC=void 0,t}t(s,o);var e=s.prototype;return e.specialOnEnable=function(){this.db.playAnimation("Start",1),this.specialMissileLocatorOnEnable()},e.specialMissileLocatorOnEnable=function(){},s}(i))||n);s._RF.pop()}}}));

System.register("chunks:///_virtual/zombossMissileLocatorFree.ts",["./rollupPluginModLoBabelHelpers.js","cc","./zombossMissileLocator.ts","./SoundRescourses.ts","./Projectiles.ts","./BananaLauncher.ts","./Character.ts"],(function(t){var o,i,e,n,s,r,a,l,c,u,p,h;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.AudioClip},function(t){l=t.zombossMissileLocator},function(t){c=t.sounds},function(t){u=t.projectileRes},function(t){p=t.banana},function(t){h=t.CharacterType}],execute:function(){var d,f,b,y,L,w,g,m,z;s._RF.push({},"f0929weHopN06bwo4XJyn1/","zombossMissileLocatorFree",void 0);var S=r.ccclass,v=r.property;t("zombossMissileLocatorFree",(d=S("zombossMissileLocatorFree"),f=v(a),b=v(a),y=v(a),d((g=o((w=function(t){function o(){for(var o,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return o=t.call.apply(t,[this].concat(s))||this,e(o,"startSound",g,n(o)),e(o,"loopSound",m,n(o)),e(o,"throwSound",z,n(o)),o.countdown=1/0,o.prjID=0,o.targetType=h.zombie,o.dead=!1,o.shot=!1,o}i(o,t);var s=o.prototype;return s.die=function(){this.dead=!0,this.db.playAnimation("Die")},s.specialUpdate=function(t){var o,i=this;if(!this.dead)if(null!=(o=this.inLnC)&&o.isInLawn()){if(this.countdown>0)this.countdown-=t,c.play(this.loopSound,1,this.loopSound.getDuration());else if(!this.shot){this.shot=!0;var e=u.getProjectile(this.prjID);c.play(this.throwSound,1,.1);var n=p.throwOneBananaOnNode(e,this.inLnC.plantPoint,800,this.inLnC.inLane.prjLayer,15,this.targetType);this.scheduleOnce((function(){i.die()}),.5),n.gravity=1}}else this.die()},s.specialMissileLocatorOnEnable=function(){this.dead=!1,this.shot=!1,c.play(this.startSound,1,.1)},o}(l)).prototype,"startSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=o(w.prototype,"loopSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=o(w.prototype,"throwSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=w))||L));s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});